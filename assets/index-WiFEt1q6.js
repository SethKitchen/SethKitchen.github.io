(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=t(l);fetch(l.href,u)}})();var vg={exports:{}},Ic={};var gv;function V1(){if(gv)return Ic;gv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Ic.Fragment=e,Ic.jsx=t,Ic.jsxs=t,Ic}var pv;function U1(){return pv||(pv=1,vg.exports=V1()),vg.exports}var a=U1(),_g={exports:{}},qe={};var yv;function z1(){if(yv)return qe;yv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),j=Symbol.iterator;function M(V){return V===null||typeof V!="object"?null:(V=j&&V[j]||V["@@iterator"],typeof V=="function"?V:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,q={};function Y(V,le,ge){this.props=V,this.context=le,this.refs=q,this.updater=ge||W}Y.prototype.isReactComponent={},Y.prototype.setState=function(V,le){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,le,"setState")},Y.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function re(){}re.prototype=Y.prototype;function ee(V,le,ge){this.props=V,this.context=le,this.refs=q,this.updater=ge||W}var $=ee.prototype=new re;$.constructor=ee,H($,Y.prototype),$.isPureReactComponent=!0;var fe=Array.isArray;function xe(){}var S={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(V,le,ge){var je=ge.ref;return{$$typeof:s,type:V,key:le,ref:je!==void 0?je:null,props:ge}}function R(V,le){return C(V.type,le,V.props)}function k(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function B(V){var le={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ge){return le[ge]})}var N=/\/+/g;function I(V,le){return typeof V=="object"&&V!==null&&V.key!=null?B(""+V.key):le.toString(36)}function K(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(xe,xe):(V.status="pending",V.then(function(le){V.status==="pending"&&(V.status="fulfilled",V.value=le)},function(le){V.status==="pending"&&(V.status="rejected",V.reason=le)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,le,ge,je,D){var P=typeof V;(P==="undefined"||P==="boolean")&&(V=null);var te=!1;if(V===null)te=!0;else switch(P){case"bigint":case"string":case"number":te=!0;break;case"object":switch(V.$$typeof){case s:case e:te=!0;break;case _:return te=V._init,F(te(V._payload),le,ge,je,D)}}if(te)return D=D(V),te=je===""?"."+I(V,0):je,fe(D)?(ge="",te!=null&&(ge=te.replace(N,"$&/")+"/"),F(D,le,ge,"",function(lt){return lt})):D!=null&&(k(D)&&(D=R(D,ge+(D.key==null||V&&V.key===D.key?"":(""+D.key).replace(N,"$&/")+"/")+te)),le.push(D)),1;te=0;var ve=je===""?".":je+":";if(fe(V))for(var pe=0;pe<V.length;pe++)je=V[pe],P=ve+I(je,pe),te+=F(je,le,ge,P,D);else if(pe=M(V),typeof pe=="function")for(V=pe.call(V),pe=0;!(je=V.next()).done;)je=je.value,P=ve+I(je,pe++),te+=F(je,le,ge,P,D);else if(P==="object"){if(typeof V.then=="function")return F(K(V),le,ge,je,D);throw le=String(V),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return te}function ne(V,le,ge){if(V==null)return V;var je=[],D=0;return F(V,je,"","",function(P){return le.call(ge,P,D++)}),je}function me(V){if(V._status===-1){var le=V._result;le=le(),le.then(function(ge){(V._status===0||V._status===-1)&&(V._status=1,V._result=ge)},function(ge){(V._status===0||V._status===-1)&&(V._status=2,V._result=ge)}),V._status===-1&&(V._status=0,V._result=le)}if(V._status===1)return V._result.default;throw V._result}var Ne=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ve={map:ne,forEach:function(V,le,ge){ne(V,function(){le.apply(this,arguments)},ge)},count:function(V){var le=0;return ne(V,function(){le++}),le},toArray:function(V){return ne(V,function(le){return le})||[]},only:function(V){if(!k(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return qe.Activity=E,qe.Children=Ve,qe.Component=Y,qe.Fragment=t,qe.Profiler=l,qe.PureComponent=ee,qe.StrictMode=r,qe.Suspense=y,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,qe.__COMPILER_RUNTIME={__proto__:null,c:function(V){return S.H.useMemoCache(V)}},qe.cache=function(V){return function(){return V.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(V,le,ge){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var je=H({},V.props),D=V.key;if(le!=null)for(P in le.key!==void 0&&(D=""+le.key),le)!A.call(le,P)||P==="key"||P==="__self"||P==="__source"||P==="ref"&&le.ref===void 0||(je[P]=le[P]);var P=arguments.length-2;if(P===1)je.children=ge;else if(1<P){for(var te=Array(P),ve=0;ve<P;ve++)te[ve]=arguments[ve+2];je.children=te}return C(V.type,D,je)},qe.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},qe.createElement=function(V,le,ge){var je,D={},P=null;if(le!=null)for(je in le.key!==void 0&&(P=""+le.key),le)A.call(le,je)&&je!=="key"&&je!=="__self"&&je!=="__source"&&(D[je]=le[je]);var te=arguments.length-2;if(te===1)D.children=ge;else if(1<te){for(var ve=Array(te),pe=0;pe<te;pe++)ve[pe]=arguments[pe+2];D.children=ve}if(V&&V.defaultProps)for(je in te=V.defaultProps,te)D[je]===void 0&&(D[je]=te[je]);return C(V,P,D)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(V){return{$$typeof:g,render:V}},qe.isValidElement=k,qe.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:me}},qe.memo=function(V,le){return{$$typeof:p,type:V,compare:le===void 0?null:le}},qe.startTransition=function(V){var le=S.T,ge={};S.T=ge;try{var je=V(),D=S.S;D!==null&&D(ge,je),typeof je=="object"&&je!==null&&typeof je.then=="function"&&je.then(xe,Ne)}catch(P){Ne(P)}finally{le!==null&&ge.types!==null&&(le.types=ge.types),S.T=le}},qe.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},qe.use=function(V){return S.H.use(V)},qe.useActionState=function(V,le,ge){return S.H.useActionState(V,le,ge)},qe.useCallback=function(V,le){return S.H.useCallback(V,le)},qe.useContext=function(V){return S.H.useContext(V)},qe.useDebugValue=function(){},qe.useDeferredValue=function(V,le){return S.H.useDeferredValue(V,le)},qe.useEffect=function(V,le){return S.H.useEffect(V,le)},qe.useEffectEvent=function(V){return S.H.useEffectEvent(V)},qe.useId=function(){return S.H.useId()},qe.useImperativeHandle=function(V,le,ge){return S.H.useImperativeHandle(V,le,ge)},qe.useInsertionEffect=function(V,le){return S.H.useInsertionEffect(V,le)},qe.useLayoutEffect=function(V,le){return S.H.useLayoutEffect(V,le)},qe.useMemo=function(V,le){return S.H.useMemo(V,le)},qe.useOptimistic=function(V,le){return S.H.useOptimistic(V,le)},qe.useReducer=function(V,le,ge){return S.H.useReducer(V,le,ge)},qe.useRef=function(V){return S.H.useRef(V)},qe.useState=function(V){return S.H.useState(V)},qe.useSyncExternalStore=function(V,le,ge){return S.H.useSyncExternalStore(V,le,ge)},qe.useTransition=function(){return S.H.useTransition()},qe.version="19.2.3",qe}var xv;function Dp(){return xv||(xv=1,_g.exports=z1()),_g.exports}var O=Dp();var bv="popstate";function q1(s={}){function e(r,l){let{pathname:u,search:d,hash:g}=r.location;return Wg("",{pathname:u,search:d,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(r,l){return typeof l=="string"?l:Jc(l)}return B1(e,t,null,s)}function Ut(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Ws(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F1(){return Math.random().toString(36).substring(2,10)}function vv(s,e){return{usr:s.state,key:s.key,idx:e}}function Wg(s,e,t=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?bl(e):e,state:t,key:e&&e.key||r||F1()}}function Jc({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function bl(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function B1(s,e,t,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,d=l.history,g="POP",y=null,p=_();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function _(){return(d.state||{idx:null}).idx}function E(){g="POP";let q=_(),Y=q==null?null:q-p;p=q,y&&y({action:g,location:H.location,delta:Y})}function j(q,Y){g="PUSH";let re=Wg(H.location,q,Y);p=_()+1;let ee=vv(re,p),$=H.createHref(re);try{d.pushState(ee,"",$)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;l.location.assign($)}u&&y&&y({action:g,location:H.location,delta:1})}function M(q,Y){g="REPLACE";let re=Wg(H.location,q,Y);p=_();let ee=vv(re,p),$=H.createHref(re);d.replaceState(ee,"",$),u&&y&&y({action:g,location:H.location,delta:0})}function W(q){return H1(q)}let H={get action(){return g},get location(){return s(l,d)},listen(q){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(bv,E),y=q,()=>{l.removeEventListener(bv,E),y=null}},createHref(q){return e(l,q)},createURL:W,encodeLocation(q){let Y=W(q);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:j,replace:M,go(q){return d.go(q)}};return H}function H1(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(t,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Jc(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function ON(s,e,t="/"){return $1(s,e,t,!1)}function $1(s,e,t,r){let l=typeof e=="string"?bl(e):e,u=rr(l.pathname||"/",t);if(u==null)return null;let d=kN(s);G1(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let p=s2(u);g=t2(d[y],p,r)}return g}function kN(s,e=[],t=[],r="",l=!1){let u=(d,g,y=l,p)=>{let _={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&y)return;Ut(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let E=sr([r,_.relativePath]),j=t.concat(_);d.children&&d.children.length>0&&(Ut(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),kN(d.children,e,j,E,y)),!(d.path==null&&!d.index)&&e.push({path:E,score:Z1(E,d.index),routesMeta:j})};return s.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))u(d,g);else for(let y of LN(d.path))u(d,g,!0,y)}),e}function LN(s){let e=s.split("/");if(e.length===0)return[];let[t,...r]=e,l=t.endsWith("?"),u=t.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let d=LN(r.join("/")),g=[];return g.push(...d.map(y=>y===""?u:[u,y].join("/"))),l&&g.push(...d),g.map(y=>s.startsWith("/")&&y===""?"/":y)}function G1(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:e2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Y1=/^:[\w-]+$/,K1=3,W1=2,Q1=1,X1=10,J1=-2,_v=s=>s==="*";function Z1(s,e){let t=s.split("/"),r=t.length;return t.some(_v)&&(r+=J1),e&&(r+=W1),t.filter(l=>!_v(l)).reduce((l,u)=>l+(Y1.test(u)?K1:u===""?Q1:X1),r)}function e2(s,e){return s.length===e.length&&s.slice(0,-1).every((r,l)=>r===e[l])?s[s.length-1]-e[e.length-1]:0}function t2(s,e,t=!1){let{routesMeta:r}=s,l={},u="/",d=[];for(let g=0;g<r.length;++g){let y=r[g],p=g===r.length-1,_=u==="/"?e:e.slice(u.length)||"/",E=Rh({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},_),j=y.route;if(!E&&p&&t&&!r[r.length-1].route.index&&(E=Rh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},_)),!E)return null;Object.assign(l,E.params),d.push({params:l,pathname:sr([u,E.pathname]),pathnameBase:o2(sr([u,E.pathnameBase])),route:j}),E.pathnameBase!=="/"&&(u=sr([u,E.pathnameBase]))}return d}function Rh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,r]=n2(s.path,s.caseSensitive,s.end),l=e.match(t);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:r.reduce((p,{paramName:_,isOptional:E},j)=>{if(_==="*"){let W=g[j]||"";d=u.slice(0,u.length-W.length).replace(/(.)\/+$/,"$1")}const M=g[j];return E&&!M?p[_]=void 0:p[_]=(M||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:s}}function n2(s,e=!1,t=!0){Ws(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(r.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function s2(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ws(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function rr(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=s.charAt(t);return r&&r!=="/"?null:s.slice(t)||"/"}var VN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i2=s=>VN.test(s);function r2(s,e="/"){let{pathname:t,search:r="",hash:l=""}=typeof s=="string"?bl(s):s,u;if(t)if(i2(t))u=t;else{if(t.includes("//")){let d=t;t=t.replace(/\/\/+/g,"/"),Ws(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${t}`)}t.startsWith("/")?u=Nv(t.substring(1),"/"):u=Nv(t,e)}else u=e;return{pathname:u,search:l2(r),hash:c2(l)}}function Nv(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function Ng(s,e,t,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function a2(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function UN(s){let e=a2(s);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function zN(s,e,t,r=!1){let l;typeof s=="string"?l=bl(s):(l={...s},Ut(!l.pathname||!l.pathname.includes("?"),Ng("?","pathname","search",l)),Ut(!l.pathname||!l.pathname.includes("#"),Ng("#","pathname","hash",l)),Ut(!l.search||!l.search.includes("#"),Ng("#","search","hash",l)));let u=s===""||l.pathname==="",d=u?"/":l.pathname,g;if(d==null)g=t;else{let E=e.length-1;if(!r&&d.startsWith("..")){let j=d.split("/");for(;j[0]==="..";)j.shift(),E-=1;l.pathname=j.join("/")}g=E>=0?e[E]:"/"}let y=r2(l,g),p=d&&d!=="/"&&d.endsWith("/"),_=(u||d===".")&&t.endsWith("/");return!y.pathname.endsWith("/")&&(p||_)&&(y.pathname+="/"),y}var sr=s=>s.join("/").replace(/\/\/+/g,"/"),o2=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),l2=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,c2=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,u2=class{constructor(s,e,t,r=!1){this.status=s,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function d2(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function h2(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var qN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function FN(s,e){let t=s;if(typeof t!="string"||!VN.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,l=!1;if(qN)try{let u=new URL(window.location.href),d=t.startsWith("//")?new URL(u.protocol+t):new URL(t),g=rr(d.pathname,e);d.origin===u.origin&&g!=null?t=g+d.search+d.hash:l=!0}catch{Ws(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:l,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BN=["POST","PUT","PATCH","DELETE"];new Set(BN);var f2=["GET",...BN];new Set(f2);var vl=O.createContext(null);vl.displayName="DataRouter";var Zh=O.createContext(null);Zh.displayName="DataRouterState";var m2=O.createContext(!1),HN=O.createContext({isTransitioning:!1});HN.displayName="ViewTransition";var g2=O.createContext(new Map);g2.displayName="Fetchers";var p2=O.createContext(null);p2.displayName="Await";var Ds=O.createContext(null);Ds.displayName="Navigation";var yu=O.createContext(null);yu.displayName="Location";var ur=O.createContext({outlet:null,matches:[],isDataRoute:!1});ur.displayName="Route";var Pp=O.createContext(null);Pp.displayName="RouteError";var $N="REACT_ROUTER_ERROR",y2="REDIRECT",x2="ROUTE_ERROR_RESPONSE";function b2(s){if(s.startsWith(`${$N}:${y2}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function v2(s){if(s.startsWith(`${$N}:${x2}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new u2(e.status,e.statusText,e.data)}catch{}}function _2(s,{relative:e}={}){Ut(xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=O.useContext(Ds),{hash:l,pathname:u,search:d}=bu(s,{relative:e}),g=u;return t!=="/"&&(g=u==="/"?t:sr([t,u])),r.createHref({pathname:g,search:d,hash:l})}function xu(){return O.useContext(yu)!=null}function fa(){return Ut(xu(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(yu).location}var GN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YN(s){O.useContext(Ds).static||O.useLayoutEffect(s)}function N2(){let{isDataRoute:s}=O.useContext(ur);return s?O2():E2()}function E2(){Ut(xu(),"useNavigate() may be used only in the context of a <Router> component.");let s=O.useContext(vl),{basename:e,navigator:t}=O.useContext(Ds),{matches:r}=O.useContext(ur),{pathname:l}=fa(),u=JSON.stringify(UN(r)),d=O.useRef(!1);return YN(()=>{d.current=!0}),O.useCallback((y,p={})=>{if(Ws(d.current,GN),!d.current)return;if(typeof y=="number"){t.go(y);return}let _=zN(y,JSON.parse(u),l,p.relative==="path");s==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:sr([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,u,l,s])}O.createContext(null);function bu(s,{relative:e}={}){let{matches:t}=O.useContext(ur),{pathname:r}=fa(),l=JSON.stringify(UN(t));return O.useMemo(()=>zN(s,JSON.parse(l),r,e==="path"),[s,l,r,e])}function T2(s,e){return KN(s,e)}function KN(s,e,t,r,l){Ut(xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=O.useContext(Ds),{matches:d}=O.useContext(ur),g=d[d.length-1],y=g?g.params:{},p=g?g.pathname:"/",_=g?g.pathnameBase:"/",E=g&&g.route;{let re=E&&E.path||"";QN(p,!E||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let j=fa(),M;if(e){let re=typeof e=="string"?bl(e):e;Ut(_==="/"||re.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${re.pathname}" was given in the \`location\` prop.`),M=re}else M=j;let W=M.pathname||"/",H=W;if(_!=="/"){let re=_.replace(/^\//,"").split("/");H="/"+W.replace(/^\//,"").split("/").slice(re.length).join("/")}let q=ON(s,{pathname:H});Ws(E||q!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Ws(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=I2(q&&q.map(re=>Object.assign({},re,{params:Object.assign({},y,re.params),pathname:sr([_,u.encodeLocation?u.encodeLocation(re.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?_:sr([_,u.encodeLocation?u.encodeLocation(re.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathnameBase])})),d,t,r,l);return e&&Y?O.createElement(yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Y):Y}function w2(){let s=P2(),e=d2(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=O.createElement(O.Fragment,null,O.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:l},t):null,d)}var j2=O.createElement(w2,null),WN=class extends O.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const t=v2(s.digest);t&&(s=t)}let e=s!==void 0?O.createElement(ur.Provider,{value:this.props.routeContext},O.createElement(Pp.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?O.createElement(A2,{error:s},e):e}};WN.contextType=m2;var Eg=new WeakMap;function A2({children:s,error:e}){let{basename:t}=O.useContext(Ds);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=b2(e.digest);if(r){let l=Eg.get(e);if(l)throw l;let u=FN(r.location,t);if(qN&&!Eg.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw Eg.set(e,d),d}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function S2({routeContext:s,match:e,children:t}){let r=O.useContext(vl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(ur.Provider,{value:s},t)}function I2(s,e=[],t=null,r=null,l=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let u=s,d=t?.errors;if(d!=null){let _=u.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);Ut(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let g=!1,y=-1;if(t)for(let _=0;_<u.length;_++){let E=u[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=_),E.route.id){let{loaderData:j,errors:M}=t,W=E.route.loader&&!j.hasOwnProperty(E.route.id)&&(!M||M[E.route.id]===void 0);if(E.route.lazy||W){g=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}let p=t&&r?(_,E)=>{r(_,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:h2(t.matches),errorInfo:E})}:void 0;return u.reduceRight((_,E,j)=>{let M,W=!1,H=null,q=null;t&&(M=d&&E.route.id?d[E.route.id]:void 0,H=E.route.errorElement||j2,g&&(y<0&&j===0?(QN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),W=!0,q=null):y===j&&(W=!0,q=E.route.hydrateFallbackElement||null)));let Y=e.concat(u.slice(0,j+1)),re=()=>{let ee;return M?ee=H:W?ee=q:E.route.Component?ee=O.createElement(E.route.Component,null):E.route.element?ee=E.route.element:ee=_,O.createElement(S2,{match:E,routeContext:{outlet:_,matches:Y,isDataRoute:t!=null},children:ee})};return t&&(E.route.ErrorBoundary||E.route.errorElement||j===0)?O.createElement(WN,{location:t.location,revalidation:t.revalidation,component:H,error:M,children:re(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:p}):re()},null)}function Op(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C2(s){let e=O.useContext(vl);return Ut(e,Op(s)),e}function R2(s){let e=O.useContext(Zh);return Ut(e,Op(s)),e}function M2(s){let e=O.useContext(ur);return Ut(e,Op(s)),e}function kp(s){let e=M2(s),t=e.matches[e.matches.length-1];return Ut(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function D2(){return kp("useRouteId")}function P2(){let s=O.useContext(Pp),e=R2("useRouteError"),t=kp("useRouteError");return s!==void 0?s:e.errors?.[t]}function O2(){let{router:s}=C2("useNavigate"),e=kp("useNavigate"),t=O.useRef(!1);return YN(()=>{t.current=!0}),O.useCallback(async(l,u={})=>{Ws(t.current,GN),t.current&&(typeof l=="number"?await s.navigate(l):await s.navigate(l,{fromRouteId:e,...u}))},[s,e])}var Ev={};function QN(s,e,t){!e&&!Ev[s]&&(Ev[s]=!0,Ws(!1,t))}O.memo(k2);function k2({routes:s,future:e,state:t,onError:r}){return KN(s,void 0,t,r,e)}function At(s){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function L2({basename:s="/",children:e=null,location:t,navigationType:r="POP",navigator:l,static:u=!1,unstable_useTransitions:d}){Ut(!xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=s.replace(/^\/*/,"/"),y=O.useMemo(()=>({basename:g,navigator:l,static:u,unstable_useTransitions:d,future:{}}),[g,l,u,d]);typeof t=="string"&&(t=bl(t));let{pathname:p="/",search:_="",hash:E="",state:j=null,key:M="default"}=t,W=O.useMemo(()=>{let H=rr(p,g);return H==null?null:{location:{pathname:H,search:_,hash:E,state:j,key:M},navigationType:r}},[g,p,_,E,j,M,r]);return Ws(W!=null,`<Router basename="${g}"> is not able to match the URL "${p}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),W==null?null:O.createElement(Ds.Provider,{value:y},O.createElement(yu.Provider,{children:e,value:W}))}function V2({children:s,location:e}){return T2(Qg(s),e)}function Qg(s,e=[]){let t=[];return O.Children.forEach(s,(r,l)=>{if(!O.isValidElement(r))return;let u=[...e,l];if(r.type===O.Fragment){t.push.apply(t,Qg(r.props.children,u));return}Ut(r.type===At,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Qg(r.props.children,u)),t.push(d)}),t}var gh="get",ph="application/x-www-form-urlencoded";function ef(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function U2(s){return ef(s)&&s.tagName.toLowerCase()==="button"}function z2(s){return ef(s)&&s.tagName.toLowerCase()==="form"}function q2(s){return ef(s)&&s.tagName.toLowerCase()==="input"}function F2(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function B2(s,e){return s.button===0&&(!e||e==="_self")&&!F2(s)}var ih=null;function H2(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var $2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tg(s){return s!=null&&!$2.has(s)?(Ws(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ph}"`),null):s}function G2(s,e){let t,r,l,u,d;if(z2(s)){let g=s.getAttribute("action");r=g?rr(g,e):null,t=s.getAttribute("method")||gh,l=Tg(s.getAttribute("enctype"))||ph,u=new FormData(s)}else if(U2(s)||q2(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||g.getAttribute("action");if(r=y?rr(y,e):null,t=s.getAttribute("formmethod")||g.getAttribute("method")||gh,l=Tg(s.getAttribute("formenctype"))||Tg(g.getAttribute("enctype"))||ph,u=new FormData(g,s),!H2()){let{name:p,type:_,value:E}=s;if(_==="image"){let j=p?`${p}.`:"";u.append(`${j}x`,"0"),u.append(`${j}y`,"0")}else p&&u.append(p,E)}}else{if(ef(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=gh,r=null,l=ph,d=s}return u&&l==="text/plain"&&(d=u,u=void 0),{action:r,method:t.toLowerCase(),encType:l,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Y2(s,e,t,r){let l=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return t?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${r}`:l.pathname=`${l.pathname}.${r}`:l.pathname==="/"?l.pathname=`_root.${r}`:e&&rr(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function K2(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function W2(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Q2(s,e,t){let r=await Promise.all(s.map(async l=>{let u=e.routes[l.route.id];if(u){let d=await K2(u,t);return d.links?d.links():[]}return[]}));return eA(r.flat(1).filter(W2).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Tv(s,e,t,r,l,u){let d=(y,p)=>t[p]?y.route.id!==t[p].route.id:!0,g=(y,p)=>t[p].pathname!==y.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,p)=>d(y,p)||g(y,p)):u==="data"?e.filter((y,p)=>{let _=r.routes[y.route.id];if(!_||!_.hasLoader)return!1;if(d(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let E=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function X2(s,e,{includeHydrateFallback:t}={}){return J2(s.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function J2(s){return[...new Set(s)]}function Z2(s){let e={},t=Object.keys(s).sort();for(let r of t)e[r]=s[r];return e}function eA(s,e){let t=new Set;return new Set(e),s.reduce((r,l)=>{let u=JSON.stringify(Z2(l));return t.has(u)||(t.add(u),r.push({key:u,link:l})),r},[])}function XN(){let s=O.useContext(vl);return Lp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function tA(){let s=O.useContext(Zh);return Lp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Vp=O.createContext(void 0);Vp.displayName="FrameworkContext";function JN(){let s=O.useContext(Vp);return Lp(s,"You must render this element inside a <HydratedRouter> element"),s}function nA(s,e){let t=O.useContext(Vp),[r,l]=O.useState(!1),[u,d]=O.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:_,onTouchStart:E}=e,j=O.useRef(null);O.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let H=Y=>{Y.forEach(re=>{d(re.isIntersecting)})},q=new IntersectionObserver(H,{threshold:.5});return j.current&&q.observe(j.current),()=>{q.disconnect()}}},[s]),O.useEffect(()=>{if(r){let H=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(H)}}},[r]);let M=()=>{l(!0)},W=()=>{l(!1),d(!1)};return t?s!=="intent"?[u,j,{}]:[u,j,{onFocus:Cc(g,M),onBlur:Cc(y,W),onMouseEnter:Cc(p,M),onMouseLeave:Cc(_,W),onTouchStart:Cc(E,M)}]:[!1,j,{}]}function Cc(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function sA({page:s,...e}){let{router:t}=XN(),r=O.useMemo(()=>ON(t.routes,s,t.basename),[t.routes,s,t.basename]);return r?O.createElement(rA,{page:s,matches:r,...e}):null}function iA(s){let{manifest:e,routeModules:t}=JN(),[r,l]=O.useState([]);return O.useEffect(()=>{let u=!1;return Q2(s,e,t).then(d=>{u||l(d)}),()=>{u=!0}},[s,e,t]),r}function rA({page:s,matches:e,...t}){let r=fa(),{future:l,manifest:u,routeModules:d}=JN(),{basename:g}=XN(),{loaderData:y,matches:p}=tA(),_=O.useMemo(()=>Tv(s,e,p,u,r,"data"),[s,e,p,u,r]),E=O.useMemo(()=>Tv(s,e,p,u,r,"assets"),[s,e,p,u,r]),j=O.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let H=new Set,q=!1;if(e.forEach(re=>{let ee=u.routes[re.route.id];!ee||!ee.hasLoader||(!_.some($=>$.route.id===re.route.id)&&re.route.id in y&&d[re.route.id]?.shouldRevalidate||ee.hasClientLoader?q=!0:H.add(re.route.id))}),H.size===0)return[];let Y=Y2(s,g,l.unstable_trailingSlashAwareDataRequests,"data");return q&&H.size>0&&Y.searchParams.set("_routes",e.filter(re=>H.has(re.route.id)).map(re=>re.route.id).join(",")),[Y.pathname+Y.search]},[g,l.unstable_trailingSlashAwareDataRequests,y,r,u,_,e,s,d]),M=O.useMemo(()=>X2(E,u),[E,u]),W=iA(E);return O.createElement(O.Fragment,null,j.map(H=>O.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...t})),M.map(H=>O.createElement("link",{key:H,rel:"modulepreload",href:H,...t})),W.map(({key:H,link:q})=>O.createElement("link",{key:H,nonce:t.nonce,...q})))}function aA(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var oA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oA&&(window.__reactRouterVersion="7.12.0")}catch{}function lA({basename:s,children:e,unstable_useTransitions:t,window:r}){let l=O.useRef();l.current==null&&(l.current=q1({window:r,v5Compat:!0}));let u=l.current,[d,g]=O.useState({action:u.action,location:u.location}),y=O.useCallback(p=>{t===!1?g(p):O.startTransition(()=>g(p))},[t]);return O.useLayoutEffect(()=>u.listen(y),[u,y]),O.createElement(L2,{basename:s,children:e,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:t})}var ZN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=O.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:l,reloadDocument:u,replace:d,state:g,target:y,to:p,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:j,...M},W){let{basename:H,unstable_useTransitions:q}=O.useContext(Ds),Y=typeof p=="string"&&ZN.test(p),re=FN(p,H);p=re.to;let ee=_2(p,{relative:l}),[$,fe,xe]=nA(r,M),S=hA(p,{replace:d,state:g,target:y,preventScrollReset:_,relative:l,viewTransition:E,unstable_defaultShouldRevalidate:j,unstable_useTransitions:q});function A(R){e&&e(R),R.defaultPrevented||S(R)}let C=O.createElement("a",{...M,...xe,href:re.absoluteURL||ee,onClick:re.isExternal||u?e:A,ref:aA(W,fe),target:y,"data-discover":!Y&&t==="render"?"true":void 0});return $&&!Y?O.createElement(O.Fragment,null,C,O.createElement(sA,{page:ee})):C});_e.displayName="Link";var cA=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:l=!1,style:u,to:d,viewTransition:g,children:y,...p},_){let E=bu(d,{relative:p.relative}),j=fa(),M=O.useContext(Zh),{navigator:W,basename:H}=O.useContext(Ds),q=M!=null&&yA(E)&&g===!0,Y=W.encodeLocation?W.encodeLocation(E).pathname:E.pathname,re=j.pathname,ee=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;t||(re=re.toLowerCase(),ee=ee?ee.toLowerCase():null,Y=Y.toLowerCase()),ee&&H&&(ee=rr(ee,H)||ee);const $=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let fe=re===Y||!l&&re.startsWith(Y)&&re.charAt($)==="/",xe=ee!=null&&(ee===Y||!l&&ee.startsWith(Y)&&ee.charAt(Y.length)==="/"),S={isActive:fe,isPending:xe,isTransitioning:q},A=fe?e:void 0,C;typeof r=="function"?C=r(S):C=[r,fe?"active":null,xe?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let R=typeof u=="function"?u(S):u;return O.createElement(_e,{...p,"aria-current":A,className:C,ref:_,style:R,to:d,viewTransition:g},typeof y=="function"?y(S):y)});cA.displayName="NavLink";var uA=O.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:l,state:u,method:d=gh,action:g,onSubmit:y,relative:p,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:j,...M},W)=>{let{unstable_useTransitions:H}=O.useContext(Ds),q=gA(),Y=pA(g,{relative:p}),re=d.toLowerCase()==="get"?"get":"post",ee=typeof g=="string"&&ZN.test(g),$=fe=>{if(y&&y(fe),fe.defaultPrevented)return;fe.preventDefault();let xe=fe.nativeEvent.submitter,S=xe?.getAttribute("formmethod")||d,A=()=>q(xe||fe.currentTarget,{fetcherKey:e,method:S,navigate:t,replace:l,state:u,relative:p,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:j});H&&t!==!1?O.startTransition(()=>A()):A()};return O.createElement("form",{ref:W,method:re,action:Y,onSubmit:r?y:$,...M,"data-discover":!ee&&s==="render"?"true":void 0})});uA.displayName="Form";function dA(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eE(s){let e=O.useContext(vl);return Ut(e,dA(s)),e}function hA(s,{target:e,replace:t,state:r,preventScrollReset:l,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:g,unstable_useTransitions:y}={}){let p=N2(),_=fa(),E=bu(s,{relative:u});return O.useCallback(j=>{if(B2(j,e)){j.preventDefault();let M=t!==void 0?t:Jc(_)===Jc(E),W=()=>p(s,{replace:M,state:r,preventScrollReset:l,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:g});y?O.startTransition(()=>W()):W()}},[_,p,E,t,r,e,s,l,u,d,g,y])}var fA=0,mA=()=>`__${String(++fA)}__`;function gA(){let{router:s}=eE("useSubmit"),{basename:e}=O.useContext(Ds),t=D2(),r=s.fetch,l=s.navigate;return O.useCallback(async(u,d={})=>{let{action:g,method:y,encType:p,formData:_,body:E}=G2(u,e);if(d.navigate===!1){let j=d.fetcherKey||mA();await r(j,t,d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:_,body:E,formMethod:d.method||y,formEncType:d.encType||p,flushSync:d.flushSync})}else await l(d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:_,body:E,formMethod:d.method||y,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:t,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,l,e,t])}function pA(s,{relative:e}={}){let{basename:t}=O.useContext(Ds),r=O.useContext(ur);Ut(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...bu(s||".",{relative:e})},d=fa();if(s==null){u.search=d.search;let g=new URLSearchParams(u.search),y=g.getAll("index");if(y.some(_=>_==="")){g.delete("index"),y.filter(E=>E).forEach(E=>g.append("index",E));let _=g.toString();u.search=_?`?${_}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:sr([t,u.pathname])),Jc(u)}function yA(s,{relative:e}={}){let t=O.useContext(HN);Ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=eE("useViewTransitionState"),l=bu(s,{relative:e});if(!t.isTransitioning)return!1;let u=rr(t.currentLocation.pathname,r)||t.currentLocation.pathname,d=rr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Rh(l.pathname,d)!=null||Rh(l.pathname,u)!=null}var wg={exports:{}},Dn={};var wv;function xA(){if(wv)return Dn;wv=1;var s=Dp();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,p,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:y,containerInfo:p,implementation:_}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Dn.createPortal=function(y,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,_)},Dn.flushSync=function(y){var p=d.T,_=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=p,r.p=_,r.d.f()}},Dn.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},Dn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Dn.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var _=p.as,E=g(_,p.crossOrigin),j=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:j,fetchPriority:M}):_==="script"&&r.d.X(y,{crossOrigin:E,integrity:j,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Dn.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=g(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},Dn.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,E=g(_,p.crossOrigin);r.d.L(y,_,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Dn.preloadModule=function(y,p){if(typeof y=="string")if(p){var _=g(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},Dn.requestFormReset=function(y){r.d.r(y)},Dn.unstable_batchedUpdates=function(y,p){return y(p)},Dn.useFormState=function(y,p,_){return d.H.useFormState(y,p,_)},Dn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Dn.version="19.2.3",Dn}var jv;function bA(){if(jv)return wg.exports;jv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),wg.exports=xA(),wg.exports}var jg={exports:{}},Rc={},Ag={exports:{}},Sg={};var Av;function vA(){return Av||(Av=1,(function(s){function e(F,ne){var me=F.length;F.push(ne);e:for(;0<me;){var Ne=me-1>>>1,Ve=F[Ne];if(0<l(Ve,ne))F[Ne]=ne,F[me]=Ve,me=Ne;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var ne=F[0],me=F.pop();if(me!==ne){F[0]=me;e:for(var Ne=0,Ve=F.length,V=Ve>>>1;Ne<V;){var le=2*(Ne+1)-1,ge=F[le],je=le+1,D=F[je];if(0>l(ge,me))je<Ve&&0>l(D,ge)?(F[Ne]=D,F[je]=me,Ne=je):(F[Ne]=ge,F[le]=me,Ne=le);else if(je<Ve&&0>l(D,me))F[Ne]=D,F[je]=me,Ne=je;else break e}}return ne}function l(F,ne){var me=F.sortIndex-ne.sortIndex;return me!==0?me:F.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],p=[],_=1,E=null,j=3,M=!1,W=!1,H=!1,q=!1,Y=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function $(F){for(var ne=t(p);ne!==null;){if(ne.callback===null)r(p);else if(ne.startTime<=F)r(p),ne.sortIndex=ne.expirationTime,e(y,ne);else break;ne=t(p)}}function fe(F){if(H=!1,$(F),!W)if(t(y)!==null)W=!0,xe||(xe=!0,B());else{var ne=t(p);ne!==null&&K(fe,ne.startTime-F)}}var xe=!1,S=-1,A=5,C=-1;function R(){return q?!0:!(s.unstable_now()-C<A)}function k(){if(q=!1,xe){var F=s.unstable_now();C=F;var ne=!0;try{e:{W=!1,H&&(H=!1,re(S),S=-1),M=!0;var me=j;try{t:{for($(F),E=t(y);E!==null&&!(E.expirationTime>F&&R());){var Ne=E.callback;if(typeof Ne=="function"){E.callback=null,j=E.priorityLevel;var Ve=Ne(E.expirationTime<=F);if(F=s.unstable_now(),typeof Ve=="function"){E.callback=Ve,$(F),ne=!0;break t}E===t(y)&&r(y),$(F)}else r(y);E=t(y)}if(E!==null)ne=!0;else{var V=t(p);V!==null&&K(fe,V.startTime-F),ne=!1}}break e}finally{E=null,j=me,M=!1}ne=void 0}}finally{ne?B():xe=!1}}}var B;if(typeof ee=="function")B=function(){ee(k)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,I=N.port2;N.port1.onmessage=k,B=function(){I.postMessage(null)}}else B=function(){Y(k,0)};function K(F,ne){S=Y(function(){F(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return j},s.unstable_next=function(F){switch(j){case 1:case 2:case 3:var ne=3;break;default:ne=j}var me=j;j=ne;try{return F()}finally{j=me}},s.unstable_requestPaint=function(){q=!0},s.unstable_runWithPriority=function(F,ne){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var me=j;j=F;try{return ne()}finally{j=me}},s.unstable_scheduleCallback=function(F,ne,me){var Ne=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ne+me:Ne):me=Ne,F){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=me+Ve,F={id:_++,callback:ne,priorityLevel:F,startTime:me,expirationTime:Ve,sortIndex:-1},me>Ne?(F.sortIndex=me,e(p,F),t(y)===null&&F===t(p)&&(H?(re(S),S=-1):H=!0,K(fe,me-Ne))):(F.sortIndex=Ve,e(y,F),W||M||(W=!0,xe||(xe=!0,B()))),F},s.unstable_shouldYield=R,s.unstable_wrapCallback=function(F){var ne=j;return function(){var me=j;j=ne;try{return F.apply(this,arguments)}finally{j=me}}}})(Sg)),Sg}var Sv;function _A(){return Sv||(Sv=1,Ag.exports=vA()),Ag.exports}var Iv;function NA(){if(Iv)return Rc;Iv=1;var s=_A(),e=Dp(),t=bA();function r(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function d(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function g(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function y(n){if(u(n)!==n)throw Error(r(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(r(188));return i!==n?null:n}for(var o=n,c=i;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return y(f),n;if(m===c)return y(f),i;m=m.sibling}throw Error(r(188))}if(o.return!==c.return)o=f,c=m;else{for(var b=!1,T=f.child;T;){if(T===o){b=!0,o=f,c=m;break}if(T===c){b=!0,c=f,o=m;break}T=T.sibling}if(!b){for(T=m.child;T;){if(T===o){b=!0,o=m,c=f;break}if(T===c){b=!0,c=m,o=f;break}T=T.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:i}function _(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=_(n),i!==null)return i;n=n.sibling}return null}var E=Object.assign,j=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function I(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case H:return"Fragment";case Y:return"Profiler";case q:return"StrictMode";case fe:return"Suspense";case xe:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case W:return"Portal";case ee:return n.displayName||"Context";case re:return(n._context.displayName||"Context")+".Consumer";case $:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case S:return i=n.displayName||null,i!==null?i:I(n.type)||"Memo";case A:i=n._payload,n=n._init;try{return I(n(i))}catch{}}return null}var K=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ne=[],Ve=-1;function V(n){return{current:n}}function le(n){0>Ve||(n.current=Ne[Ve],Ne[Ve]=null,Ve--)}function ge(n,i){Ve++,Ne[Ve]=n.current,n.current=i}var je=V(null),D=V(null),P=V(null),te=V(null);function ve(n,i){switch(ge(P,i),ge(D,n),ge(je,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Vb(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Vb(i),n=Ub(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}le(je),ge(je,n)}function pe(){le(je),le(D),le(P)}function lt(n){n.memoizedState!==null&&ge(te,n);var i=je.current,o=Ub(i,n.type);i!==o&&(ge(D,n),ge(je,o))}function _n(n){D.current===n&&(le(je),le(D)),te.current===n&&(le(te),wc._currentValue=me)}var Mn,U;function ce(n){if(Mn===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Mn=i&&i[1]||"",U=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mn+n+U}var be=!1;function we(n,i){if(!n||be)return"";be=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ie){var Z=ie}Reflect.construct(n,[],ue)}else{try{ue.call()}catch(ie){Z=ie}n.call(ue.prototype)}}else{try{throw Error()}catch(ie){Z=ie}(ue=n())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ie){if(ie&&Z&&typeof ie.stack=="string")return[ie.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),b=m[0],T=m[1];if(b&&T){var L=b.split(`
`),J=T.split(`
`);for(f=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;f<J.length&&!J[f].includes("DetermineComponentFrameRoot");)f++;if(c===L.length||f===J.length)for(c=L.length-1,f=J.length-1;1<=c&&0<=f&&L[c]!==J[f];)f--;for(;1<=c&&0<=f;c--,f--)if(L[c]!==J[f]){if(c!==1||f!==1)do if(c--,f--,0>f||L[c]!==J[f]){var ae=`
`+L[c].replace(" at new "," at ");return n.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",n.displayName)),ae}while(1<=c&&0<=f);break}}}finally{be=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?ce(o):""}function Te(n,i){switch(n.tag){case 26:case 27:case 5:return ce(n.type);case 16:return ce("Lazy");case 13:return n.child!==i&&i!==null?ce("Suspense Fallback"):ce("Suspense");case 19:return ce("SuspenseList");case 0:case 15:return we(n.type,!1);case 11:return we(n.type.render,!1);case 1:return we(n.type,!0);case 31:return ce("Activity");default:return""}}function De(n){try{var i="",o=null;do i+=Te(n,o),o=n,n=n.return;while(n);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Ee=Object.prototype.hasOwnProperty,Ge=s.unstable_scheduleCallback,St=s.unstable_cancelCallback,hs=s.unstable_shouldYield,fo=s.unstable_requestPaint,Xt=s.unstable_now,fs=s.unstable_getCurrentPriorityLevel,dr=s.unstable_ImmediatePriority,hr=s.unstable_UserBlockingPriority,Zs=s.unstable_NormalPriority,Il=s.unstable_LowPriority,st=s.unstable_IdlePriority,bt=s.log,gn=s.unstable_setDisableYieldValue,Vt=null,Qe=null;function gt(n){if(typeof bt=="function"&&gn(n),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Vt,n)}catch{}}var it=Math.clz32?Math.clz32:mr,fr=Math.log,ei=Math.LN2;function mr(n){return n>>>=0,n===0?32:31-(fr(n)/ei|0)|0}var ms=256,Ri=262144,qt=4194304;function gs(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ti(n,i,o){var c=n.pendingLanes;if(c===0)return 0;var f=0,m=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var T=c&134217727;return T!==0?(c=T&~m,c!==0?f=gs(c):(b&=T,b!==0?f=gs(b):o||(o=T&~n,o!==0&&(f=gs(o))))):(T=c&~m,T!==0?f=gs(T):b!==0?f=gs(b):o||(o=c&~n,o!==0&&(f=gs(o)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:f}function Ps(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Tf(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ou(){var n=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),n}function ni(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function ba(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function wf(n,i,o,c,f,m){var b=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var T=n.entanglements,L=n.expirationTimes,J=n.hiddenUpdates;for(o=b&~o;0<o;){var ae=31-it(o),ue=1<<ae;T[ae]=0,L[ae]=-1;var Z=J[ae];if(Z!==null)for(J[ae]=null,ae=0;ae<Z.length;ae++){var ie=Z[ae];ie!==null&&(ie.lane&=-536870913)}o&=~ue}c!==0&&va(n,c,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(b&~i))}function va(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-it(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|o&261930}function Cl(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var c=31-it(o),f=1<<c;f&i|n[c]&i&&(n[c]|=i),o&=~f}}function Rl(n,i){var o=i&-i;return o=(o&42)!==0?1:_a(o),(o&(n.suspendedLanes|i))!==0?0:o}function _a(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Mi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ku(){var n=ne.p;return n!==0?n:(n=window.event,n===void 0?32:lv(n.type))}function Os(n,i){var o=ne.p;try{return ne.p=n,i()}finally{ne.p=o}}var ks=Math.random().toString(36).slice(2),Jt="__reactFiber$"+ks,pn="__reactProps$"+ks,si="__reactContainer$"+ks,mo="__reactEvents$"+ks,jf="__reactListeners$"+ks,Lu="__reactHandles$"+ks,Vu="__reactResources$"+ks,ii="__reactMarker$"+ks;function go(n){delete n[Jt],delete n[pn],delete n[mo],delete n[jf],delete n[Lu]}function ri(n){var i=n[Jt];if(i)return i;for(var o=n.parentNode;o;){if(i=o[si]||o[Jt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=Gb(n);n!==null;){if(o=n[Jt])return o;n=Gb(n)}return i}n=o,o=n.parentNode}return null}function ps(n){if(n=n[Jt]||n[si]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function Jn(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(r(33))}function ai(n){var i=n[Vu];return i||(i=n[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Zt(n){n[ii]=!0}var Ml=new Set,Dl={};function oi(n,i){li(n,i),li(n+"Capture",i)}function li(n,i){for(Dl[n]=i,n=0;n<i.length;n++)Ml.add(i[n])}var Pl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},kl={};function Uu(n){return Ee.call(kl,n)?!0:Ee.call(Ol,n)?!1:Pl.test(n)?kl[n]=!0:(Ol[n]=!0,!1)}function po(n,i,o){if(Uu(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function Zn(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function en(n,i,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+c)}}function yn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function gr(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ll(n,i,o){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(b){o=""+b,m.call(this,b)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function pt(n){if(!n._valueTracker){var i=gr(n)?"checked":"value";n._valueTracker=Ll(n,i,""+n[i])}}function Na(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return n&&(c=gr(n)?n.checked?"true":"false":n.value),n=c,n!==o?(i.setValue(n),!0):!1}function ci(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ea=/[\n"\\]/g;function Fn(n){return n.replace(Ea,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function yo(n,i,o,c,f,m,b,T){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),i!=null?b==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+yn(i)):n.value!==""+yn(i)&&(n.value=""+yn(i)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),i!=null?Vl(n,b,yn(i)):o!=null?Vl(n,b,yn(o)):c!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+yn(T):n.removeAttribute("name")}function zu(n,i,o,c,f,m,b,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){pt(n);return}o=o!=null?""+yn(o):"",i=i!=null?""+yn(i):o,T||i===n.value||(n.value=i),n.defaultValue=i}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=T?n.checked:!!c,n.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b),pt(n)}function Vl(n,i,o){i==="number"&&ci(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function pr(n,i,o,c){if(n=n.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=i.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&c&&(n[o].defaultSelected=!0)}else{for(o=""+yn(o),i=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function qu(n,i,o){if(i!=null&&(i=""+yn(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+yn(o):""}function yr(n,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(r(92));if(K(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=yn(i),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c),pt(n)}function Bn(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var Fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(n,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,o):typeof o!="number"||o===0||Fu.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function zl(n,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var f in i)c=i[f],i.hasOwnProperty(f)&&o[f]!==c&&Ul(n,f,c)}else for(var m in i)i.hasOwnProperty(m)&&Ul(n,m,i[m])}function xo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bo(n){return xr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ls(){}var ql=null;function ys(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var br=null,ui=null;function Ta(n){var i=ps(n);if(i&&(n=i.stateNode)){var o=n[pn]||null;e:switch(n=i.stateNode,i.type){case"input":if(yo(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Fn(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==n&&c.form===n.form){var f=c[pn]||null;if(!f)throw Error(r(90));yo(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===n.form&&Na(c)}break e;case"textarea":qu(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&pr(n,!!o.multiple,i,!1)}}}var vo=!1;function vr(n,i,o){if(vo)return n(i,o);vo=!0;try{var c=n(i);return c}finally{if(vo=!1,(br!==null||ui!==null)&&(kd(),br&&(i=br,n=ui,ui=br=null,Ta(i),n)))for(i=0;i<n.length;i++)Ta(n[i])}}function Vs(n,i){var o=n.stateNode;if(o===null)return null;var c=o[pn]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wa=!1;if(xs)try{var vt={};Object.defineProperty(vt,"passive",{get:function(){wa=!0}}),window.addEventListener("test",vt,vt),window.removeEventListener("test",vt,vt)}catch{wa=!1}var di=null,Fl=null,ja=null;function Bl(){if(ja)return ja;var n,i=Fl,o=i.length,c,f="value"in di?di.value:di.textContent,m=f.length;for(n=0;n<o&&i[n]===f[n];n++);var b=o-n;for(c=1;c<=b&&i[o-c]===f[m-c];c++);return ja=f.slice(n,1<c?1-c:void 0)}function Aa(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Di(){return!0}function Us(){return!1}function Nn(n){function i(o,c,f,m,b){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(o=n[T],this[T]=o?o(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Di:Us,this.isPropagationStopped=Us,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=Nn(Pi),_r=E({},Pi,{view:0,detail:0}),Hl=Nn(_r),Nr,_o,fi,No=E({},_r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==fi&&(fi&&n.type==="mousemove"?(Nr=n.screenX-fi.screenX,_o=n.screenY-fi.screenY):_o=Nr=0,fi=n),Nr)},movementY:function(n){return"movementY"in n?n.movementY:_o}}),$l=Nn(No),Sa=E({},No,{dataTransfer:0}),Hu=Nn(Sa),$u=E({},_r,{relatedTarget:0}),Ia=Nn($u),Gl=E({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Gu=Nn(Gl),Eo=E({},Pi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Yu=Nn(Eo),Ku=E({},Pi,{data:0}),mi=Nn(Ku),Wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Xu[n])?!!i[n]:!1}function Er(){return Ju}var Un=E({},_r,{key:function(n){if(n.key){var i=Wu[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Aa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Qu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(n){return n.type==="keypress"?Aa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Aa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Zu=Nn(Un),ed=E({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Nn(ed),h=E({},_r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),x=Nn(h),v=E({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Nn(v),Q=E({},No,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),se=Nn(Q),ye=E({},Pi,{newState:0,oldState:0}),Be=Nn(ye),Yt=[9,13,27,32],dt=xs&&"CompositionEvent"in window,kt=null;xs&&"documentMode"in document&&(kt=document.documentMode);var bs=xs&&"TextEvent"in window&&!kt,gi=xs&&(!dt||kt&&8<kt&&11>=kt),zs=" ",qs=!1;function Ca(n,i){switch(n){case"keyup":return Yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function To(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wo=!1;function lj(n,i){switch(n){case"compositionend":return To(i);case"keypress":return i.which!==32?null:(qs=!0,zs);case"textInput":return n=i.data,n===zs&&qs?null:n;default:return null}}function cj(n,i){if(wo)return n==="compositionend"||!dt&&Ca(n,i)?(n=Bl(),ja=Fl=di=null,wo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return gi&&i.locale!=="ko"?null:i.data;default:return null}}var uj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wy(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!uj[n.type]:i==="textarea"}function Qy(n,i,o,c){br?ui?ui.push(c):ui=[c]:br=c,i=Bd(i,"onChange"),0<i.length&&(o=new hi("onChange","change",null,o,c),n.push({event:o,listeners:i}))}var Yl=null,Kl=null;function dj(n){Mb(n,0)}function td(n){var i=Jn(n);if(Na(i))return n}function Xy(n,i){if(n==="change")return i}var Jy=!1;if(xs){var Af;if(xs){var Sf="oninput"in document;if(!Sf){var Zy=document.createElement("div");Zy.setAttribute("oninput","return;"),Sf=typeof Zy.oninput=="function"}Af=Sf}else Af=!1;Jy=Af&&(!document.documentMode||9<document.documentMode)}function ex(){Yl&&(Yl.detachEvent("onpropertychange",tx),Kl=Yl=null)}function tx(n){if(n.propertyName==="value"&&td(Kl)){var i=[];Qy(i,Kl,n,ys(n)),vr(dj,i)}}function hj(n,i,o){n==="focusin"?(ex(),Yl=i,Kl=o,Yl.attachEvent("onpropertychange",tx)):n==="focusout"&&ex()}function fj(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return td(Kl)}function mj(n,i){if(n==="click")return td(i)}function gj(n,i){if(n==="input"||n==="change")return td(i)}function pj(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var es=typeof Object.is=="function"?Object.is:pj;function Wl(n,i){if(es(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Ee.call(i,f)||!es(n[f],i[f]))return!1}return!0}function nx(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function sx(n,i){var o=nx(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=i&&c>=i)return{node:o,offset:i-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=nx(o)}}function ix(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?ix(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function rx(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=ci(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=ci(n.document)}return i}function If(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var yj=xs&&"documentMode"in document&&11>=document.documentMode,jo=null,Cf=null,Ql=null,Rf=!1;function ax(n,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Rf||jo==null||jo!==ci(c)||(c=jo,"selectionStart"in c&&If(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ql&&Wl(Ql,c)||(Ql=c,c=Bd(Cf,"onSelect"),0<c.length&&(i=new hi("onSelect","select",null,i,o),n.push({event:i,listeners:c}),i.target=jo)))}function Ra(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Ao={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},Mf={},ox={};xs&&(ox=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function Ma(n){if(Mf[n])return Mf[n];if(!Ao[n])return n;var i=Ao[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in ox)return Mf[n]=i[o];return n}var lx=Ma("animationend"),cx=Ma("animationiteration"),ux=Ma("animationstart"),xj=Ma("transitionrun"),bj=Ma("transitionstart"),vj=Ma("transitioncancel"),dx=Ma("transitionend"),hx=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function Fs(n,i){hx.set(n,i),oi(i,[n])}var nd=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},vs=[],So=0,Pf=0;function sd(){for(var n=So,i=Pf=So=0;i<n;){var o=vs[i];vs[i++]=null;var c=vs[i];vs[i++]=null;var f=vs[i];vs[i++]=null;var m=vs[i];if(vs[i++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}m!==0&&fx(o,f,m)}}function id(n,i,o,c){vs[So++]=n,vs[So++]=i,vs[So++]=o,vs[So++]=c,Pf|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Of(n,i,o,c){return id(n,i,o,c),rd(n)}function Da(n,i){return id(n,null,null,i),rd(n)}function fx(n,i,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,c=m.alternate,c!==null&&(c.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&i!==null&&(f=31-it(o),n=m.hiddenUpdates,c=n[f],c===null?n[f]=[i]:c.push(i),i.lane=o|536870912),m):null}function rd(n){if(50<xc)throw xc=0,Hm=null,Error(r(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Io={};function _j(n,i,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ts(n,i,o,c){return new _j(n,i,o,c)}function kf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ki(n,i){var o=n.alternate;return o===null?(o=ts(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function mx(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function ad(n,i,o,c,f,m){var b=0;if(c=n,typeof n=="function")kf(n)&&(b=1);else if(typeof n=="string")b=j1(n,o,je.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=ts(31,o,i,f),n.elementType=C,n.lanes=m,n;case H:return Pa(o.children,f,m,i);case q:b=8,f|=24;break;case Y:return n=ts(12,o,i,f|2),n.elementType=Y,n.lanes=m,n;case fe:return n=ts(13,o,i,f),n.elementType=fe,n.lanes=m,n;case xe:return n=ts(19,o,i,f),n.elementType=xe,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ee:b=10;break e;case re:b=9;break e;case $:b=11;break e;case S:b=14;break e;case A:b=16,c=null;break e}b=29,o=Error(r(130,n===null?"null":typeof n,"")),c=null}return i=ts(b,o,i,f),i.elementType=n,i.type=c,i.lanes=m,i}function Pa(n,i,o,c){return n=ts(7,n,c,i),n.lanes=o,n}function Lf(n,i,o){return n=ts(6,n,null,i),n.lanes=o,n}function gx(n){var i=ts(18,null,null,0);return i.stateNode=n,i}function Vf(n,i,o){return i=ts(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var px=new WeakMap;function _s(n,i){if(typeof n=="object"&&n!==null){var o=px.get(n);return o!==void 0?o:(i={value:n,source:i,stack:De(i)},px.set(n,i),i)}return{value:n,source:i,stack:De(i)}}var Co=[],Ro=0,od=null,Xl=0,Ns=[],Es=0,Tr=null,pi=1,yi="";function Li(n,i){Co[Ro++]=Xl,Co[Ro++]=od,od=n,Xl=i}function yx(n,i,o){Ns[Es++]=pi,Ns[Es++]=yi,Ns[Es++]=Tr,Tr=n;var c=pi;n=yi;var f=32-it(c)-1;c&=~(1<<f),o+=1;var m=32-it(i)+f;if(30<m){var b=f-f%5;m=(c&(1<<b)-1).toString(32),c>>=b,f-=b,pi=1<<32-it(i)+f|o<<f|c,yi=m+n}else pi=1<<m|o<<f|c,yi=n}function Uf(n){n.return!==null&&(Li(n,1),yx(n,1,0))}function zf(n){for(;n===od;)od=Co[--Ro],Co[Ro]=null,Xl=Co[--Ro],Co[Ro]=null;for(;n===Tr;)Tr=Ns[--Es],Ns[Es]=null,yi=Ns[--Es],Ns[Es]=null,pi=Ns[--Es],Ns[Es]=null}function xx(n,i){Ns[Es++]=pi,Ns[Es++]=yi,Ns[Es++]=Tr,pi=i.id,yi=i.overflow,Tr=n}var En=null,Mt=null,rt=!1,wr=null,Ts=!1,qf=Error(r(519));function jr(n){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(_s(i,n)),qf}function bx(n){var i=n.stateNode,o=n.type,c=n.memoizedProps;switch(i[Jt]=n,i[pn]=c,o){case"dialog":We("cancel",i),We("close",i);break;case"iframe":case"object":case"embed":We("load",i);break;case"video":case"audio":for(o=0;o<vc.length;o++)We(vc[o],i);break;case"source":We("error",i);break;case"img":case"image":case"link":We("error",i),We("load",i);break;case"details":We("toggle",i);break;case"input":We("invalid",i),zu(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":We("invalid",i);break;case"textarea":We("invalid",i),yr(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||kb(i.textContent,o)?(c.popover!=null&&(We("beforetoggle",i),We("toggle",i)),c.onScroll!=null&&We("scroll",i),c.onScrollEnd!=null&&We("scrollend",i),c.onClick!=null&&(i.onclick=Ls),i=!0):i=!1,i||jr(n,!0)}function vx(n){for(En=n.return;En;)switch(En.tag){case 5:case 31:case 13:Ts=!1;return;case 27:case 3:Ts=!0;return;default:En=En.return}}function Mo(n){if(n!==En)return!1;if(!rt)return vx(n),rt=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||rg(n.type,n.memoizedProps)),o=!o),o&&Mt&&jr(n),vx(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Mt=$b(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Mt=$b(n)}else i===27?(i=Mt,zr(n.type)?(n=ug,ug=null,Mt=n):Mt=i):Mt=En?js(n.stateNode.nextSibling):null;return!0}function Oa(){Mt=En=null,rt=!1}function Ff(){var n=wr;return n!==null&&(Yn===null?Yn=n:Yn.push.apply(Yn,n),wr=null),n}function Jl(n){wr===null?wr=[n]:wr.push(n)}var Bf=V(null),ka=null,Vi=null;function Ar(n,i,o){ge(Bf,i._currentValue),i._currentValue=o}function Ui(n){n._currentValue=Bf.current,le(Bf)}function Hf(n,i,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===o)break;n=n.return}}function $f(n,i,o,c){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var L=0;L<i.length;L++)if(T.context===i[L]){m.lanes|=o,T=m.alternate,T!==null&&(T.lanes|=o),Hf(m.return,o,n),c||(b=null);break e}m=T.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=o,m=b.alternate,m!==null&&(m.lanes|=o),Hf(b,o,n),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===n){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Do(n,i,o,c){n=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var T=f.type;es(f.pendingProps.value,b.value)||(n!==null?n.push(T):n=[T])}}else if(f===te.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(wc):n=[wc])}f=f.return}n!==null&&$f(i,n,o,c),i.flags|=262144}function ld(n){for(n=n.firstContext;n!==null;){if(!es(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function La(n){ka=n,Vi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Tn(n){return _x(ka,n)}function cd(n,i){return ka===null&&La(n),_x(n,i)}function _x(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Vi===null){if(n===null)throw Error(r(308));Vi=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Vi=Vi.next=i;return o}var Nj=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},Ej=s.unstable_scheduleCallback,Tj=s.unstable_NormalPriority,tn={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gf(){return{controller:new Nj,data:new Map,refCount:0}}function Zl(n){n.refCount--,n.refCount===0&&Ej(Tj,function(){n.controller.abort()})}var ec=null,Yf=0,Po=0,Oo=null;function wj(n,i){if(ec===null){var o=ec=[];Yf=0,Po=Qm(),Oo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Yf++,i.then(Nx,Nx),i}function Nx(){if(--Yf===0&&ec!==null){Oo!==null&&(Oo.status="fulfilled");var n=ec;ec=null,Po=0,Oo=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function jj(n,i){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Ex=F.S;F.S=function(n,i){ab=Xt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&wj(n,i),Ex!==null&&Ex(n,i)};var Va=V(null);function Kf(){var n=Va.current;return n!==null?n:jt.pooledCache}function ud(n,i){i===null?ge(Va,Va.current):ge(Va,i.pool)}function Tx(){var n=Kf();return n===null?null:{parent:tn._currentValue,pool:n}}var ko=Error(r(460)),Wf=Error(r(474)),dd=Error(r(542)),hd={then:function(){}};function wx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function jx(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(Ls,Ls),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Sx(n),n;default:if(typeof i.status=="string")i.then(Ls,Ls);else{if(n=jt,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=c}},function(c){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Sx(n),n}throw za=i,ko}}function Ua(n){try{var i=n._init;return i(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(za=o,ko):o}}var za=null;function Ax(){if(za===null)throw Error(r(459));var n=za;return za=null,n}function Sx(n){if(n===ko||n===dd)throw Error(r(483))}var Lo=null,tc=0;function fd(n){var i=tc;return tc+=1,Lo===null&&(Lo=[]),jx(Lo,n,i)}function nc(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function md(n,i){throw i.$$typeof===j?Error(r(525)):(n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Ix(n){function i(G,z){if(n){var X=G.deletions;X===null?(G.deletions=[z],G.flags|=16):X.push(z)}}function o(G,z){if(!n)return null;for(;z!==null;)i(G,z),z=z.sibling;return null}function c(G){for(var z=new Map;G!==null;)G.key!==null?z.set(G.key,G):z.set(G.index,G),G=G.sibling;return z}function f(G,z){return G=ki(G,z),G.index=0,G.sibling=null,G}function m(G,z,X){return G.index=X,n?(X=G.alternate,X!==null?(X=X.index,X<z?(G.flags|=67108866,z):X):(G.flags|=67108866,z)):(G.flags|=1048576,z)}function b(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function T(G,z,X,oe){return z===null||z.tag!==6?(z=Lf(X,G.mode,oe),z.return=G,z):(z=f(z,X),z.return=G,z)}function L(G,z,X,oe){var Re=X.type;return Re===H?ae(G,z,X.props.children,oe,X.key):z!==null&&(z.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===A&&Ua(Re)===z.type)?(z=f(z,X.props),nc(z,X),z.return=G,z):(z=ad(X.type,X.key,X.props,null,G.mode,oe),nc(z,X),z.return=G,z)}function J(G,z,X,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==X.containerInfo||z.stateNode.implementation!==X.implementation?(z=Vf(X,G.mode,oe),z.return=G,z):(z=f(z,X.children||[]),z.return=G,z)}function ae(G,z,X,oe,Re){return z===null||z.tag!==7?(z=Pa(X,G.mode,oe,Re),z.return=G,z):(z=f(z,X),z.return=G,z)}function ue(G,z,X){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Lf(""+z,G.mode,X),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return X=ad(z.type,z.key,z.props,null,G.mode,X),nc(X,z),X.return=G,X;case W:return z=Vf(z,G.mode,X),z.return=G,z;case A:return z=Ua(z),ue(G,z,X)}if(K(z)||B(z))return z=Pa(z,G.mode,X,null),z.return=G,z;if(typeof z.then=="function")return ue(G,fd(z),X);if(z.$$typeof===ee)return ue(G,cd(G,z),X);md(G,z)}return null}function Z(G,z,X,oe){var Re=z!==null?z.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Re!==null?null:T(G,z,""+X,oe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case M:return X.key===Re?L(G,z,X,oe):null;case W:return X.key===Re?J(G,z,X,oe):null;case A:return X=Ua(X),Z(G,z,X,oe)}if(K(X)||B(X))return Re!==null?null:ae(G,z,X,oe,null);if(typeof X.then=="function")return Z(G,z,fd(X),oe);if(X.$$typeof===ee)return Z(G,z,cd(G,X),oe);md(G,X)}return null}function ie(G,z,X,oe,Re){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return G=G.get(X)||null,T(z,G,""+oe,Re);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case M:return G=G.get(oe.key===null?X:oe.key)||null,L(z,G,oe,Re);case W:return G=G.get(oe.key===null?X:oe.key)||null,J(z,G,oe,Re);case A:return oe=Ua(oe),ie(G,z,X,oe,Re)}if(K(oe)||B(oe))return G=G.get(X)||null,ae(z,G,oe,Re,null);if(typeof oe.then=="function")return ie(G,z,X,fd(oe),Re);if(oe.$$typeof===ee)return ie(G,z,X,cd(z,oe),Re);md(z,oe)}return null}function Ie(G,z,X,oe){for(var Re=null,ct=null,Ce=z,Ye=z=0,Je=null;Ce!==null&&Ye<X.length;Ye++){Ce.index>Ye?(Je=Ce,Ce=null):Je=Ce.sibling;var ut=Z(G,Ce,X[Ye],oe);if(ut===null){Ce===null&&(Ce=Je);break}n&&Ce&&ut.alternate===null&&i(G,Ce),z=m(ut,z,Ye),ct===null?Re=ut:ct.sibling=ut,ct=ut,Ce=Je}if(Ye===X.length)return o(G,Ce),rt&&Li(G,Ye),Re;if(Ce===null){for(;Ye<X.length;Ye++)Ce=ue(G,X[Ye],oe),Ce!==null&&(z=m(Ce,z,Ye),ct===null?Re=Ce:ct.sibling=Ce,ct=Ce);return rt&&Li(G,Ye),Re}for(Ce=c(Ce);Ye<X.length;Ye++)Je=ie(Ce,G,Ye,X[Ye],oe),Je!==null&&(n&&Je.alternate!==null&&Ce.delete(Je.key===null?Ye:Je.key),z=m(Je,z,Ye),ct===null?Re=Je:ct.sibling=Je,ct=Je);return n&&Ce.forEach(function($r){return i(G,$r)}),rt&&Li(G,Ye),Re}function Pe(G,z,X,oe){if(X==null)throw Error(r(151));for(var Re=null,ct=null,Ce=z,Ye=z=0,Je=null,ut=X.next();Ce!==null&&!ut.done;Ye++,ut=X.next()){Ce.index>Ye?(Je=Ce,Ce=null):Je=Ce.sibling;var $r=Z(G,Ce,ut.value,oe);if($r===null){Ce===null&&(Ce=Je);break}n&&Ce&&$r.alternate===null&&i(G,Ce),z=m($r,z,Ye),ct===null?Re=$r:ct.sibling=$r,ct=$r,Ce=Je}if(ut.done)return o(G,Ce),rt&&Li(G,Ye),Re;if(Ce===null){for(;!ut.done;Ye++,ut=X.next())ut=ue(G,ut.value,oe),ut!==null&&(z=m(ut,z,Ye),ct===null?Re=ut:ct.sibling=ut,ct=ut);return rt&&Li(G,Ye),Re}for(Ce=c(Ce);!ut.done;Ye++,ut=X.next())ut=ie(Ce,G,Ye,ut.value,oe),ut!==null&&(n&&ut.alternate!==null&&Ce.delete(ut.key===null?Ye:ut.key),z=m(ut,z,Ye),ct===null?Re=ut:ct.sibling=ut,ct=ut);return n&&Ce.forEach(function(L1){return i(G,L1)}),rt&&Li(G,Ye),Re}function Et(G,z,X,oe){if(typeof X=="object"&&X!==null&&X.type===H&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case M:e:{for(var Re=X.key;z!==null;){if(z.key===Re){if(Re=X.type,Re===H){if(z.tag===7){o(G,z.sibling),oe=f(z,X.props.children),oe.return=G,G=oe;break e}}else if(z.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===A&&Ua(Re)===z.type){o(G,z.sibling),oe=f(z,X.props),nc(oe,X),oe.return=G,G=oe;break e}o(G,z);break}else i(G,z);z=z.sibling}X.type===H?(oe=Pa(X.props.children,G.mode,oe,X.key),oe.return=G,G=oe):(oe=ad(X.type,X.key,X.props,null,G.mode,oe),nc(oe,X),oe.return=G,G=oe)}return b(G);case W:e:{for(Re=X.key;z!==null;){if(z.key===Re)if(z.tag===4&&z.stateNode.containerInfo===X.containerInfo&&z.stateNode.implementation===X.implementation){o(G,z.sibling),oe=f(z,X.children||[]),oe.return=G,G=oe;break e}else{o(G,z);break}else i(G,z);z=z.sibling}oe=Vf(X,G.mode,oe),oe.return=G,G=oe}return b(G);case A:return X=Ua(X),Et(G,z,X,oe)}if(K(X))return Ie(G,z,X,oe);if(B(X)){if(Re=B(X),typeof Re!="function")throw Error(r(150));return X=Re.call(X),Pe(G,z,X,oe)}if(typeof X.then=="function")return Et(G,z,fd(X),oe);if(X.$$typeof===ee)return Et(G,z,cd(G,X),oe);md(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,z!==null&&z.tag===6?(o(G,z.sibling),oe=f(z,X),oe.return=G,G=oe):(o(G,z),oe=Lf(X,G.mode,oe),oe.return=G,G=oe),b(G)):o(G,z)}return function(G,z,X,oe){try{tc=0;var Re=Et(G,z,X,oe);return Lo=null,Re}catch(Ce){if(Ce===ko||Ce===dd)throw Ce;var ct=ts(29,Ce,null,G.mode);return ct.lanes=oe,ct.return=G,ct}}}var qa=Ix(!0),Cx=Ix(!1),Sr=!1;function Qf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ir(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Cr(n,i,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(ht&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,i=rd(n),fx(n,null,o),i}return id(n,c,i,o),rd(n)}function sc(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,Cl(n,o)}}function Jf(n,i){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,o=o.next}while(o!==null);m===null?f=m=i:m=m.next=i}else f=m=i;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var Zf=!1;function ic(){if(Zf){var n=Oo;if(n!==null)throw n}}function rc(n,i,o,c){Zf=!1;var f=n.updateQueue;Sr=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var L=T,J=L.next;L.next=null,b===null?m=J:b.next=J,b=L;var ae=n.alternate;ae!==null&&(ae=ae.updateQueue,T=ae.lastBaseUpdate,T!==b&&(T===null?ae.firstBaseUpdate=J:T.next=J,ae.lastBaseUpdate=L))}if(m!==null){var ue=f.baseState;b=0,ae=J=L=null,T=m;do{var Z=T.lane&-536870913,ie=Z!==T.lane;if(ie?(Xe&Z)===Z:(c&Z)===Z){Z!==0&&Z===Po&&(Zf=!0),ae!==null&&(ae=ae.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ie=n,Pe=T;Z=i;var Et=o;switch(Pe.tag){case 1:if(Ie=Pe.payload,typeof Ie=="function"){ue=Ie.call(Et,ue,Z);break e}ue=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Pe.payload,Z=typeof Ie=="function"?Ie.call(Et,ue,Z):Ie,Z==null)break e;ue=E({},ue,Z);break e;case 2:Sr=!0}}Z=T.callback,Z!==null&&(n.flags|=64,ie&&(n.flags|=8192),ie=f.callbacks,ie===null?f.callbacks=[Z]:ie.push(Z))}else ie={lane:Z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ae===null?(J=ae=ie,L=ue):ae=ae.next=ie,b|=Z;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;ie=T,T=ie.next,ie.next=null,f.lastBaseUpdate=ie,f.shared.pending=null}}while(!0);ae===null&&(L=ue),f.baseState=L,f.firstBaseUpdate=J,f.lastBaseUpdate=ae,m===null&&(f.shared.lanes=0),Or|=b,n.lanes=b,n.memoizedState=ue}}function Rx(n,i){if(typeof n!="function")throw Error(r(191,n));n.call(i)}function Mx(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Rx(o[n],i)}var Vo=V(null),gd=V(0);function Dx(n,i){n=Ki,ge(gd,n),ge(Vo,i),Ki=n|i.baseLanes}function em(){ge(gd,Ki),ge(Vo,Vo.current)}function tm(){Ki=gd.current,le(Vo),le(gd)}var ns=V(null),ws=null;function Rr(n){var i=n.alternate;ge(Kt,Kt.current&1),ge(ns,n),ws===null&&(i===null||Vo.current!==null||i.memoizedState!==null)&&(ws=n)}function nm(n){ge(Kt,Kt.current),ge(ns,n),ws===null&&(ws=n)}function Px(n){n.tag===22?(ge(Kt,Kt.current),ge(ns,n),ws===null&&(ws=n)):Mr()}function Mr(){ge(Kt,Kt.current),ge(ns,ns.current)}function ss(n){le(ns),ws===n&&(ws=null),le(Kt)}var Kt=V(0);function pd(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||lg(o)||cg(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var zi=0,He=null,_t=null,nn=null,yd=!1,Uo=!1,Fa=!1,xd=0,ac=0,zo=null,Aj=0;function Ft(){throw Error(r(321))}function sm(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!es(n[o],i[o]))return!1;return!0}function im(n,i,o,c,f,m){return zi=m,He=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=n===null||n.memoizedState===null?y0:bm,Fa=!1,m=o(c,f),Fa=!1,Uo&&(m=kx(i,o,c,f)),Ox(n),m}function Ox(n){F.H=cc;var i=_t!==null&&_t.next!==null;if(zi=0,nn=_t=He=null,yd=!1,ac=0,zo=null,i)throw Error(r(300));n===null||sn||(n=n.dependencies,n!==null&&ld(n)&&(sn=!0))}function kx(n,i,o,c){He=n;var f=0;do{if(Uo&&(zo=null),ac=0,Uo=!1,25<=f)throw Error(r(301));if(f+=1,nn=_t=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}F.H=x0,m=i(o,c)}while(Uo);return m}function Sj(){var n=F.H,i=n.useState()[0];return i=typeof i.then=="function"?oc(i):i,n=n.useState()[0],(_t!==null?_t.memoizedState:null)!==n&&(He.flags|=1024),i}function rm(){var n=xd!==0;return xd=0,n}function am(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function om(n){if(yd){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}yd=!1}zi=0,nn=_t=He=null,Uo=!1,ac=xd=0,zo=null}function zn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?He.memoizedState=nn=n:nn=nn.next=n,nn}function Wt(){if(_t===null){var n=He.alternate;n=n!==null?n.memoizedState:null}else n=_t.next;var i=nn===null?He.memoizedState:nn.next;if(i!==null)nn=i,_t=n;else{if(n===null)throw He.alternate===null?Error(r(467)):Error(r(310));_t=n,n={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},nn===null?He.memoizedState=nn=n:nn=nn.next=n}return nn}function bd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oc(n){var i=ac;return ac+=1,zo===null&&(zo=[]),n=jx(zo,n,i),i=He,(nn===null?i.memoizedState:nn.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?y0:bm),n}function vd(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return oc(n);if(n.$$typeof===ee)return Tn(n)}throw Error(r(438,String(n)))}function lm(n){var i=null,o=He.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=He.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=bd(),He.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),c=0;c<n;c++)o[c]=R;return i.index++,o}function qi(n,i){return typeof i=="function"?i(n):i}function _d(n){var i=Wt();return cm(i,_t,n)}function cm(n,i,o){var c=n.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var f=n.baseQueue,m=c.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}i.baseQueue=f=m,c.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{i=f.next;var T=b=null,L=null,J=i,ae=!1;do{var ue=J.lane&-536870913;if(ue!==J.lane?(Xe&ue)===ue:(zi&ue)===ue){var Z=J.revertLane;if(Z===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ue===Po&&(ae=!0);else if((zi&Z)===Z){J=J.next,Z===Po&&(ae=!0);continue}else ue={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},L===null?(T=L=ue,b=m):L=L.next=ue,He.lanes|=Z,Or|=Z;ue=J.action,Fa&&o(m,ue),m=J.hasEagerState?J.eagerState:o(m,ue)}else Z={lane:ue,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},L===null?(T=L=Z,b=m):L=L.next=Z,He.lanes|=ue,Or|=ue;J=J.next}while(J!==null&&J!==i);if(L===null?b=m:L.next=T,!es(m,n.memoizedState)&&(sn=!0,ae&&(o=Oo,o!==null)))throw o;n.memoizedState=m,n.baseState=b,n.baseQueue=L,c.lastRenderedState=m}return f===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function um(n){var i=Wt(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var c=o.dispatch,f=o.pending,m=i.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do m=n(m,b.action),b=b.next;while(b!==f);es(m,i.memoizedState)||(sn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,c]}function Lx(n,i,o){var c=He,f=Wt(),m=rt;if(m){if(o===void 0)throw Error(r(407));o=o()}else o=i();var b=!es((_t||f).memoizedState,o);if(b&&(f.memoizedState=o,sn=!0),f=f.queue,fm(zx.bind(null,c,f,n),[n]),f.getSnapshot!==i||b||nn!==null&&nn.memoizedState.tag&1){if(c.flags|=2048,qo(9,{destroy:void 0},Ux.bind(null,c,f,o,i),null),jt===null)throw Error(r(349));m||(zi&127)!==0||Vx(c,i,o)}return o}function Vx(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=He.updateQueue,i===null?(i=bd(),He.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function Ux(n,i,o,c){i.value=o,i.getSnapshot=c,qx(i)&&Fx(n)}function zx(n,i,o){return o(function(){qx(i)&&Fx(n)})}function qx(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!es(n,o)}catch{return!0}}function Fx(n){var i=Da(n,2);i!==null&&Kn(i,n,2)}function dm(n){var i=zn();if(typeof n=="function"){var o=n;if(n=o(),Fa){gt(!0);try{o()}finally{gt(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:n},i}function Bx(n,i,o,c){return n.baseState=o,cm(n,_t,typeof c=="function"?c:qi)}function Ij(n,i,o,c,f){if(Td(n))throw Error(r(485));if(n=i.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};F.T!==null?o(!0):m.isTransition=!1,c(m),o=i.pending,o===null?(m.next=i.pending=m,Hx(i,m)):(m.next=o.next,i.pending=o.next=m)}}function Hx(n,i){var o=i.action,c=i.payload,f=n.state;if(i.isTransition){var m=F.T,b={};F.T=b;try{var T=o(f,c),L=F.S;L!==null&&L(b,T),$x(n,i,T)}catch(J){hm(n,i,J)}finally{m!==null&&b.types!==null&&(m.types=b.types),F.T=m}}else try{m=o(f,c),$x(n,i,m)}catch(J){hm(n,i,J)}}function $x(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Gx(n,i,c)},function(c){return hm(n,i,c)}):Gx(n,i,o)}function Gx(n,i,o){i.status="fulfilled",i.value=o,Yx(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,Hx(n,o)))}function hm(n,i,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,Yx(i),i=i.next;while(i!==c)}n.action=null}function Yx(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Kx(n,i){return i}function Wx(n,i){if(rt){var o=jt.formState;if(o!==null){e:{var c=He;if(rt){if(Mt){t:{for(var f=Mt,m=Ts;f.nodeType!==8;){if(!m){f=null;break t}if(f=js(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Mt=js(f.nextSibling),c=f.data==="F!";break e}}jr(c)}c=!1}c&&(i=o[0])}}return o=zn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kx,lastRenderedState:i},o.queue=c,o=m0.bind(null,He,c),c.dispatch=o,c=dm(!1),m=xm.bind(null,He,!1,c.queue),c=zn(),f={state:i,dispatch:null,action:n,pending:null},c.queue=f,o=Ij.bind(null,He,f,m,o),f.dispatch=o,c.memoizedState=n,[i,o,!1]}function Qx(n){var i=Wt();return Xx(i,_t,n)}function Xx(n,i,o){if(i=cm(n,i,Kx)[0],n=_d(qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=oc(i)}catch(b){throw b===ko?dd:b}else c=i;i=Wt();var f=i.queue,m=f.dispatch;return o!==i.memoizedState&&(He.flags|=2048,qo(9,{destroy:void 0},Cj.bind(null,f,o),null)),[c,m,n]}function Cj(n,i){n.action=i}function Jx(n){var i=Wt(),o=_t;if(o!==null)return Xx(i,o,n);Wt(),i=i.memoizedState,o=Wt();var c=o.queue.dispatch;return o.memoizedState=n,[i,c,!1]}function qo(n,i,o,c){return n={tag:n,create:o,deps:c,inst:i,next:null},i=He.updateQueue,i===null&&(i=bd(),He.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,i.lastEffect=n),n}function Zx(){return Wt().memoizedState}function Nd(n,i,o,c){var f=zn();He.flags|=n,f.memoizedState=qo(1|i,{destroy:void 0},o,c===void 0?null:c)}function Ed(n,i,o,c){var f=Wt();c=c===void 0?null:c;var m=f.memoizedState.inst;_t!==null&&c!==null&&sm(c,_t.memoizedState.deps)?f.memoizedState=qo(i,m,o,c):(He.flags|=n,f.memoizedState=qo(1|i,m,o,c))}function e0(n,i){Nd(8390656,8,n,i)}function fm(n,i){Ed(2048,8,n,i)}function Rj(n){He.flags|=4;var i=He.updateQueue;if(i===null)i=bd(),He.updateQueue=i,i.events=[n];else{var o=i.events;o===null?i.events=[n]:o.push(n)}}function t0(n){var i=Wt().memoizedState;return Rj({ref:i,nextImpl:n}),function(){if((ht&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function n0(n,i){return Ed(4,2,n,i)}function s0(n,i){return Ed(4,4,n,i)}function i0(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function r0(n,i,o){o=o!=null?o.concat([n]):null,Ed(4,4,i0.bind(null,i,n),o)}function mm(){}function a0(n,i){var o=Wt();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&sm(i,c[1])?c[0]:(o.memoizedState=[n,i],n)}function o0(n,i){var o=Wt();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&sm(i,c[1]))return c[0];if(c=n(),Fa){gt(!0);try{n()}finally{gt(!1)}}return o.memoizedState=[c,i],c}function gm(n,i,o){return o===void 0||(zi&1073741824)!==0&&(Xe&261930)===0?n.memoizedState=i:(n.memoizedState=o,n=lb(),He.lanes|=n,Or|=n,o)}function l0(n,i,o,c){return es(o,i)?o:Vo.current!==null?(n=gm(n,o,c),es(n,i)||(sn=!0),n):(zi&42)===0||(zi&1073741824)!==0&&(Xe&261930)===0?(sn=!0,n.memoizedState=o):(n=lb(),He.lanes|=n,Or|=n,i)}function c0(n,i,o,c,f){var m=ne.p;ne.p=m!==0&&8>m?m:8;var b=F.T,T={};F.T=T,xm(n,!1,i,o);try{var L=f(),J=F.S;if(J!==null&&J(T,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ae=jj(L,c);lc(n,i,ae,as(n))}else lc(n,i,c,as(n))}catch(ue){lc(n,i,{then:function(){},status:"rejected",reason:ue},as())}finally{ne.p=m,b!==null&&T.types!==null&&(b.types=T.types),F.T=b}}function Mj(){}function pm(n,i,o,c){if(n.tag!==5)throw Error(r(476));var f=u0(n).queue;c0(n,f,i,me,o===null?Mj:function(){return d0(n),o(c)})}function u0(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:me},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function d0(n){var i=u0(n);i.next===null&&(i=n.alternate.memoizedState),lc(n,i.next.queue,{},as())}function ym(){return Tn(wc)}function h0(){return Wt().memoizedState}function f0(){return Wt().memoizedState}function Dj(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=as();n=Ir(o);var c=Cr(i,n,o);c!==null&&(Kn(c,i,o),sc(c,i,o)),i={cache:Gf()},n.payload=i;return}i=i.return}}function Pj(n,i,o){var c=as();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Td(n)?g0(i,o):(o=Of(n,i,o,c),o!==null&&(Kn(o,n,c),p0(o,i,c)))}function m0(n,i,o){var c=as();lc(n,i,o,c)}function lc(n,i,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Td(n))g0(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var b=i.lastRenderedState,T=m(b,o);if(f.hasEagerState=!0,f.eagerState=T,es(T,b))return id(n,i,f,0),jt===null&&sd(),!1}catch{}if(o=Of(n,i,f,c),o!==null)return Kn(o,n,c),p0(o,i,c),!0}return!1}function xm(n,i,o,c){if(c={lane:2,revertLane:Qm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Td(n)){if(i)throw Error(r(479))}else i=Of(n,o,c,2),i!==null&&Kn(i,n,2)}function Td(n){var i=n.alternate;return n===He||i!==null&&i===He}function g0(n,i){Uo=yd=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function p0(n,i,o){if((o&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,Cl(n,o)}}var cc={readContext:Tn,use:vd,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};cc.useEffectEvent=Ft;var y0={readContext:Tn,use:vd,useCallback:function(n,i){return zn().memoizedState=[n,i===void 0?null:i],n},useContext:Tn,useEffect:e0,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,Nd(4194308,4,i0.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Nd(4194308,4,n,i)},useInsertionEffect:function(n,i){Nd(4,2,n,i)},useMemo:function(n,i){var o=zn();i=i===void 0?null:i;var c=n();if(Fa){gt(!0);try{n()}finally{gt(!1)}}return o.memoizedState=[c,i],c},useReducer:function(n,i,o){var c=zn();if(o!==void 0){var f=o(i);if(Fa){gt(!0);try{o(i)}finally{gt(!1)}}}else f=i;return c.memoizedState=c.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},c.queue=n,n=n.dispatch=Pj.bind(null,He,n),[c.memoizedState,n]},useRef:function(n){var i=zn();return n={current:n},i.memoizedState=n},useState:function(n){n=dm(n);var i=n.queue,o=m0.bind(null,He,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:mm,useDeferredValue:function(n,i){var o=zn();return gm(o,n,i)},useTransition:function(){var n=dm(!1);return n=c0.bind(null,He,n.queue,!0,!1),zn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var c=He,f=zn();if(rt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),jt===null)throw Error(r(349));(Xe&127)!==0||Vx(c,i,o)}f.memoizedState=o;var m={value:o,getSnapshot:i};return f.queue=m,e0(zx.bind(null,c,m,n),[n]),c.flags|=2048,qo(9,{destroy:void 0},Ux.bind(null,c,m,o,i),null),o},useId:function(){var n=zn(),i=jt.identifierPrefix;if(rt){var o=yi,c=pi;o=(c&~(1<<32-it(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=xd++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=Aj++,i="_"+i+"r_"+o.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:ym,useFormState:Wx,useActionState:Wx,useOptimistic:function(n){var i=zn();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=xm.bind(null,He,!0,o),o.dispatch=i,[n,i]},useMemoCache:lm,useCacheRefresh:function(){return zn().memoizedState=Dj.bind(null,He)},useEffectEvent:function(n){var i=zn(),o={impl:n};return i.memoizedState=o,function(){if((ht&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},bm={readContext:Tn,use:vd,useCallback:a0,useContext:Tn,useEffect:fm,useImperativeHandle:r0,useInsertionEffect:n0,useLayoutEffect:s0,useMemo:o0,useReducer:_d,useRef:Zx,useState:function(){return _d(qi)},useDebugValue:mm,useDeferredValue:function(n,i){var o=Wt();return l0(o,_t.memoizedState,n,i)},useTransition:function(){var n=_d(qi)[0],i=Wt().memoizedState;return[typeof n=="boolean"?n:oc(n),i]},useSyncExternalStore:Lx,useId:h0,useHostTransitionStatus:ym,useFormState:Qx,useActionState:Qx,useOptimistic:function(n,i){var o=Wt();return Bx(o,_t,n,i)},useMemoCache:lm,useCacheRefresh:f0};bm.useEffectEvent=t0;var x0={readContext:Tn,use:vd,useCallback:a0,useContext:Tn,useEffect:fm,useImperativeHandle:r0,useInsertionEffect:n0,useLayoutEffect:s0,useMemo:o0,useReducer:um,useRef:Zx,useState:function(){return um(qi)},useDebugValue:mm,useDeferredValue:function(n,i){var o=Wt();return _t===null?gm(o,n,i):l0(o,_t.memoizedState,n,i)},useTransition:function(){var n=um(qi)[0],i=Wt().memoizedState;return[typeof n=="boolean"?n:oc(n),i]},useSyncExternalStore:Lx,useId:h0,useHostTransitionStatus:ym,useFormState:Jx,useActionState:Jx,useOptimistic:function(n,i){var o=Wt();return _t!==null?Bx(o,_t,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:lm,useCacheRefresh:f0};x0.useEffectEvent=t0;function vm(n,i,o,c){i=n.memoizedState,o=o(c,i),o=o==null?i:E({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var _m={enqueueSetState:function(n,i,o){n=n._reactInternals;var c=as(),f=Ir(c);f.payload=i,o!=null&&(f.callback=o),i=Cr(n,f,c),i!==null&&(Kn(i,n,c),sc(i,n,c))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var c=as(),f=Ir(c);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=Cr(n,f,c),i!==null&&(Kn(i,n,c),sc(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=as(),c=Ir(o);c.tag=2,i!=null&&(c.callback=i),i=Cr(n,c,o),i!==null&&(Kn(i,n,o),sc(i,n,o))}};function b0(n,i,o,c,f,m,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,b):i.prototype&&i.prototype.isPureReactComponent?!Wl(o,c)||!Wl(f,m):!0}function v0(n,i,o,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==n&&_m.enqueueReplaceState(i,i.state,null)}function Ba(n,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(n=n.defaultProps){o===i&&(o=E({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function _0(n){nd(n)}function N0(n){console.error(n)}function E0(n){nd(n)}function wd(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function T0(n,i,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Nm(n,i,o){return o=Ir(o),o.tag=3,o.payload={element:null},o.callback=function(){wd(n,i)},o}function w0(n){return n=Ir(n),n.tag=3,n}function j0(n,i,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;n.payload=function(){return f(m)},n.callback=function(){T0(i,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){T0(i,o,c),typeof f!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function Oj(n,i,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Do(i,o,f,!0),o=ns.current,o!==null){switch(o.tag){case 31:case 13:return ws===null?Ld():o.alternate===null&&Bt===0&&(Bt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===hd?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Ym(n,c,f)),!1;case 22:return o.flags|=65536,c===hd?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Ym(n,c,f)),!1}throw Error(r(435,o.tag))}return Ym(n,c,f),Ld(),!1}if(rt)return i=ns.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,c!==qf&&(n=Error(r(422),{cause:c}),Jl(_s(n,o)))):(c!==qf&&(i=Error(r(423),{cause:c}),Jl(_s(i,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,c=_s(c,o),f=Nm(n.stateNode,c,f),Jf(n,f),Bt!==4&&(Bt=2)),!1;var m=Error(r(520),{cause:c});if(m=_s(m,o),yc===null?yc=[m]:yc.push(m),Bt!==4&&(Bt=2),i===null)return!0;c=_s(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Nm(o.stateNode,c,n),Jf(o,n),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(kr===null||!kr.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=w0(f),j0(f,n,o,c),Jf(o,f),!1}o=o.return}while(o!==null);return!1}var Em=Error(r(461)),sn=!1;function wn(n,i,o,c){i.child=n===null?Cx(i,null,o,c):qa(i,n.child,o,c)}function A0(n,i,o,c,f){o=o.render;var m=i.ref;if("ref"in c){var b={};for(var T in c)T!=="ref"&&(b[T]=c[T])}else b=c;return La(i),c=im(n,i,o,b,m,f),T=rm(),n!==null&&!sn?(am(n,i,f),Fi(n,i,f)):(rt&&T&&Uf(i),i.flags|=1,wn(n,i,c,f),i.child)}function S0(n,i,o,c,f){if(n===null){var m=o.type;return typeof m=="function"&&!kf(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,I0(n,i,m,c,f)):(n=ad(o.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Rm(n,f)){var b=m.memoizedProps;if(o=o.compare,o=o!==null?o:Wl,o(b,c)&&n.ref===i.ref)return Fi(n,i,f)}return i.flags|=1,n=ki(m,c),n.ref=i.ref,n.return=i,i.child=n}function I0(n,i,o,c,f){if(n!==null){var m=n.memoizedProps;if(Wl(m,c)&&n.ref===i.ref)if(sn=!1,i.pendingProps=c=m,Rm(n,f))(n.flags&131072)!==0&&(sn=!0);else return i.lanes=n.lanes,Fi(n,i,f)}return Tm(n,i,o,c,f)}function C0(n,i,o,c){var f=c.children,m=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,n!==null){for(c=i.child=n.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,i.child=null;return R0(n,i,m,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&ud(i,m!==null?m.cachePool:null),m!==null?Dx(i,m):em(),Px(i);else return c=i.lanes=536870912,R0(n,i,m!==null?m.baseLanes|o:o,o,c)}else m!==null?(ud(i,m.cachePool),Dx(i,m),Mr(),i.memoizedState=null):(n!==null&&ud(i,null),em(),Mr());return wn(n,i,f,o),i.child}function uc(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function R0(n,i,o,c,f){var m=Kf();return m=m===null?null:{parent:tn._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},n!==null&&ud(i,null),em(),Px(i),n!==null&&Do(n,i,c,!0),i.childLanes=f,null}function jd(n,i){return i=Sd({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function M0(n,i,o){return qa(i,n.child,null,o),n=jd(i,i.pendingProps),n.flags|=2,ss(i),i.memoizedState=null,n}function kj(n,i,o){var c=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(rt){if(c.mode==="hidden")return n=jd(i,c),i.lanes=536870912,uc(null,n);if(nm(i),(n=Mt)?(n=Hb(n,Ts),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Tr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},o=gx(n),o.return=i,i.child=o,En=i,Mt=null)):n=null,n===null)throw jr(i);return i.lanes=536870912,null}return jd(i,c)}var m=n.memoizedState;if(m!==null){var b=m.dehydrated;if(nm(i),f)if(i.flags&256)i.flags&=-257,i=M0(n,i,o);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(r(558));else if(sn||Do(n,i,o,!1),f=(o&n.childLanes)!==0,sn||f){if(c=jt,c!==null&&(b=Rl(c,o),b!==0&&b!==m.retryLane))throw m.retryLane=b,Da(n,b),Kn(c,n,b),Em;Ld(),i=M0(n,i,o)}else n=m.treeContext,Mt=js(b.nextSibling),En=i,rt=!0,wr=null,Ts=!1,n!==null&&xx(i,n),i=jd(i,c),i.flags|=4096;return i}return n=ki(n.child,{mode:c.mode,children:c.children}),n.ref=i.ref,i.child=n,n.return=i,n}function Ad(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function Tm(n,i,o,c,f){return La(i),o=im(n,i,o,c,void 0,f),c=rm(),n!==null&&!sn?(am(n,i,f),Fi(n,i,f)):(rt&&c&&Uf(i),i.flags|=1,wn(n,i,o,f),i.child)}function D0(n,i,o,c,f,m){return La(i),i.updateQueue=null,o=kx(i,c,o,f),Ox(n),c=rm(),n!==null&&!sn?(am(n,i,m),Fi(n,i,m)):(rt&&c&&Uf(i),i.flags|=1,wn(n,i,o,m),i.child)}function P0(n,i,o,c,f){if(La(i),i.stateNode===null){var m=Io,b=o.contextType;typeof b=="object"&&b!==null&&(m=Tn(b)),m=new o(c,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=_m,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=c,m.state=i.memoizedState,m.refs={},Qf(i),b=o.contextType,m.context=typeof b=="object"&&b!==null?Tn(b):Io,m.state=i.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(vm(i,o,b,c),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&_m.enqueueReplaceState(m,m.state,null),rc(i,c,m,f),ic(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){m=i.stateNode;var T=i.memoizedProps,L=Ba(o,T);m.props=L;var J=m.context,ae=o.contextType;b=Io,typeof ae=="object"&&ae!==null&&(b=Tn(ae));var ue=o.getDerivedStateFromProps;ae=typeof ue=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,ae||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||J!==b)&&v0(i,m,c,b),Sr=!1;var Z=i.memoizedState;m.state=Z,rc(i,c,m,f),ic(),J=i.memoizedState,T||Z!==J||Sr?(typeof ue=="function"&&(vm(i,o,ue,c),J=i.memoizedState),(L=Sr||b0(i,o,L,c,Z,J,b))?(ae||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=J),m.props=c,m.state=J,m.context=b,c=L):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{m=i.stateNode,Xf(n,i),b=i.memoizedProps,ae=Ba(o,b),m.props=ae,ue=i.pendingProps,Z=m.context,J=o.contextType,L=Io,typeof J=="object"&&J!==null&&(L=Tn(J)),T=o.getDerivedStateFromProps,(J=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ue||Z!==L)&&v0(i,m,c,L),Sr=!1,Z=i.memoizedState,m.state=Z,rc(i,c,m,f),ic();var ie=i.memoizedState;b!==ue||Z!==ie||Sr||n!==null&&n.dependencies!==null&&ld(n.dependencies)?(typeof T=="function"&&(vm(i,o,T,c),ie=i.memoizedState),(ae=Sr||b0(i,o,ae,c,Z,ie,L)||n!==null&&n.dependencies!==null&&ld(n.dependencies))?(J||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,ie,L),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,ie,L)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&Z===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&Z===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ie),m.props=c,m.state=ie,m.context=L,c=ae):(typeof m.componentDidUpdate!="function"||b===n.memoizedProps&&Z===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&Z===n.memoizedState||(i.flags|=1024),c=!1)}return m=c,Ad(n,i),c=(i.flags&128)!==0,m||c?(m=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&c?(i.child=qa(i,n.child,null,f),i.child=qa(i,null,o,f)):wn(n,i,o,f),i.memoizedState=m.state,n=i.child):n=Fi(n,i,f),n}function O0(n,i,o,c){return Oa(),i.flags|=256,wn(n,i,o,c),i.child}var wm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jm(n){return{baseLanes:n,cachePool:Tx()}}function Am(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=rs),n}function k0(n,i,o){var c=i.pendingProps,f=!1,m=(i.flags&128)!==0,b;if((b=m)||(b=n!==null&&n.memoizedState===null?!1:(Kt.current&2)!==0),b&&(f=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,n===null){if(rt){if(f?Rr(i):Mr(),(n=Mt)?(n=Hb(n,Ts),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Tr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},o=gx(n),o.return=i,i.child=o,En=i,Mt=null)):n=null,n===null)throw jr(i);return cg(n)?i.lanes=32:i.lanes=536870912,null}var T=c.children;return c=c.fallback,f?(Mr(),f=i.mode,T=Sd({mode:"hidden",children:T},f),c=Pa(c,f,o,null),T.return=i,c.return=i,T.sibling=c,i.child=T,c=i.child,c.memoizedState=jm(o),c.childLanes=Am(n,b,o),i.memoizedState=wm,uc(null,c)):(Rr(i),Sm(i,T))}var L=n.memoizedState;if(L!==null&&(T=L.dehydrated,T!==null)){if(m)i.flags&256?(Rr(i),i.flags&=-257,i=Im(n,i,o)):i.memoizedState!==null?(Mr(),i.child=n.child,i.flags|=128,i=null):(Mr(),T=c.fallback,f=i.mode,c=Sd({mode:"visible",children:c.children},f),T=Pa(T,f,o,null),T.flags|=2,c.return=i,T.return=i,c.sibling=T,i.child=c,qa(i,n.child,null,o),c=i.child,c.memoizedState=jm(o),c.childLanes=Am(n,b,o),i.memoizedState=wm,i=uc(null,c));else if(Rr(i),cg(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var J=b.dgst;b=J,c=Error(r(419)),c.stack="",c.digest=b,Jl({value:c,source:null,stack:null}),i=Im(n,i,o)}else if(sn||Do(n,i,o,!1),b=(o&n.childLanes)!==0,sn||b){if(b=jt,b!==null&&(c=Rl(b,o),c!==0&&c!==L.retryLane))throw L.retryLane=c,Da(n,c),Kn(b,n,c),Em;lg(T)||Ld(),i=Im(n,i,o)}else lg(T)?(i.flags|=192,i.child=n.child,i=null):(n=L.treeContext,Mt=js(T.nextSibling),En=i,rt=!0,wr=null,Ts=!1,n!==null&&xx(i,n),i=Sm(i,c.children),i.flags|=4096);return i}return f?(Mr(),T=c.fallback,f=i.mode,L=n.child,J=L.sibling,c=ki(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,J!==null?T=ki(J,T):(T=Pa(T,f,o,null),T.flags|=2),T.return=i,c.return=i,c.sibling=T,i.child=c,uc(null,c),c=i.child,T=n.child.memoizedState,T===null?T=jm(o):(f=T.cachePool,f!==null?(L=tn._currentValue,f=f.parent!==L?{parent:L,pool:L}:f):f=Tx(),T={baseLanes:T.baseLanes|o,cachePool:f}),c.memoizedState=T,c.childLanes=Am(n,b,o),i.memoizedState=wm,uc(n.child,c)):(Rr(i),o=n.child,n=o.sibling,o=ki(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,n!==null&&(b=i.deletions,b===null?(i.deletions=[n],i.flags|=16):b.push(n)),i.child=o,i.memoizedState=null,o)}function Sm(n,i){return i=Sd({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Sd(n,i){return n=ts(22,n,null,i),n.lanes=0,n}function Im(n,i,o){return qa(i,n.child,null,o),n=Sm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function L0(n,i,o){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),Hf(n.return,i,o)}function Cm(n,i,o,c,f,m){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:m}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=f,b.treeForkCount=m)}function V0(n,i,o){var c=i.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var b=Kt.current,T=(b&2)!==0;if(T?(b=b&1|2,i.flags|=128):b&=1,ge(Kt,b),wn(n,i,c,o),c=rt?Xl:0,!T&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&L0(n,o,i);else if(n.tag===19)L0(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=i.child,f=null;o!==null;)n=o.alternate,n!==null&&pd(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),Cm(i,!1,f,o,m,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&pd(n)===null){i.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Cm(i,!0,o,null,m,c);break;case"together":Cm(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Fi(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),Or|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(Do(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,o=ki(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=ki(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function Rm(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&ld(n)))}function Lj(n,i,o){switch(i.tag){case 3:ve(i,i.stateNode.containerInfo),Ar(i,tn,n.memoizedState.cache),Oa();break;case 27:case 5:lt(i);break;case 4:ve(i,i.stateNode.containerInfo);break;case 10:Ar(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,nm(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Rr(i),i.flags|=128,null):(o&i.child.childLanes)!==0?k0(n,i,o):(Rr(i),n=Fi(n,i,o),n!==null?n.sibling:null);Rr(i);break;case 19:var f=(n.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Do(n,i,o,!1),c=(o&i.childLanes)!==0),f){if(c)return V0(n,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ge(Kt,Kt.current),c)break;return null;case 22:return i.lanes=0,C0(n,i,o,i.pendingProps);case 24:Ar(i,tn,n.memoizedState.cache)}return Fi(n,i,o)}function U0(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)sn=!0;else{if(!Rm(n,o)&&(i.flags&128)===0)return sn=!1,Lj(n,i,o);sn=(n.flags&131072)!==0}else sn=!1,rt&&(i.flags&1048576)!==0&&yx(i,Xl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(n=Ua(i.elementType),i.type=n,typeof n=="function")kf(n)?(c=Ba(n,c),i.tag=1,i=P0(null,i,n,c,o)):(i.tag=0,i=Tm(null,i,n,c,o));else{if(n!=null){var f=n.$$typeof;if(f===$){i.tag=11,i=A0(null,i,n,c,o);break e}else if(f===S){i.tag=14,i=S0(null,i,n,c,o);break e}}throw i=I(n)||n,Error(r(306,i,""))}}return i;case 0:return Tm(n,i,i.type,i.pendingProps,o);case 1:return c=i.type,f=Ba(c,i.pendingProps),P0(n,i,c,f,o);case 3:e:{if(ve(i,i.stateNode.containerInfo),n===null)throw Error(r(387));c=i.pendingProps;var m=i.memoizedState;f=m.element,Xf(n,i),rc(i,c,null,o);var b=i.memoizedState;if(c=b.cache,Ar(i,tn,c),c!==m.cache&&$f(i,[tn],o,!0),ic(),c=b.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=O0(n,i,c,o);break e}else if(c!==f){f=_s(Error(r(424)),i),Jl(f),i=O0(n,i,c,o);break e}else for(n=i.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Mt=js(n.firstChild),En=i,rt=!0,wr=null,Ts=!0,o=Cx(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Oa(),c===f){i=Fi(n,i,o);break e}wn(n,i,c,o)}i=i.child}return i;case 26:return Ad(n,i),n===null?(o=Qb(i.type,null,i.pendingProps,null))?i.memoizedState=o:rt||(o=i.type,n=i.pendingProps,c=Hd(P.current).createElement(o),c[Jt]=i,c[pn]=n,jn(c,o,n),Zt(c),i.stateNode=c):i.memoizedState=Qb(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return lt(i),n===null&&rt&&(c=i.stateNode=Yb(i.type,i.pendingProps,P.current),En=i,Ts=!0,f=Mt,zr(i.type)?(ug=f,Mt=js(c.firstChild)):Mt=f),wn(n,i,i.pendingProps.children,o),Ad(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&rt&&((f=c=Mt)&&(c=f1(c,i.type,i.pendingProps,Ts),c!==null?(i.stateNode=c,En=i,Mt=js(c.firstChild),Ts=!1,f=!0):f=!1),f||jr(i)),lt(i),f=i.type,m=i.pendingProps,b=n!==null?n.memoizedProps:null,c=m.children,rg(f,m)?c=null:b!==null&&rg(f,b)&&(i.flags|=32),i.memoizedState!==null&&(f=im(n,i,Sj,null,null,o),wc._currentValue=f),Ad(n,i),wn(n,i,c,o),i.child;case 6:return n===null&&rt&&((n=o=Mt)&&(o=m1(o,i.pendingProps,Ts),o!==null?(i.stateNode=o,En=i,Mt=null,n=!0):n=!1),n||jr(i)),null;case 13:return k0(n,i,o);case 4:return ve(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=qa(i,null,c,o):wn(n,i,c,o),i.child;case 11:return A0(n,i,i.type,i.pendingProps,o);case 7:return wn(n,i,i.pendingProps,o),i.child;case 8:return wn(n,i,i.pendingProps.children,o),i.child;case 12:return wn(n,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Ar(i,i.type,c.value),wn(n,i,c.children,o),i.child;case 9:return f=i.type._context,c=i.pendingProps.children,La(i),f=Tn(f),c=c(f),i.flags|=1,wn(n,i,c,o),i.child;case 14:return S0(n,i,i.type,i.pendingProps,o);case 15:return I0(n,i,i.type,i.pendingProps,o);case 19:return V0(n,i,o);case 31:return kj(n,i,o);case 22:return C0(n,i,o,i.pendingProps);case 24:return La(i),c=Tn(tn),n===null?(f=Kf(),f===null&&(f=jt,m=Gf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),i.memoizedState={parent:c,cache:f},Qf(i),Ar(i,tn,f)):((n.lanes&o)!==0&&(Xf(n,i),rc(i,null,null,o),ic()),f=n.memoizedState,m=i.memoizedState,f.parent!==c?(f={parent:c,cache:c},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ar(i,tn,c)):(c=m.cache,Ar(i,tn,c),c!==f.cache&&$f(i,[tn],o,!0))),wn(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Bi(n){n.flags|=4}function Mm(n,i,o,c,f){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(hb())n.flags|=8192;else throw za=hd,Wf}else n.flags&=-16777217}function z0(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!tv(i))if(hb())n.flags|=8192;else throw za=hd,Wf}function Id(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Ou():536870912,n.lanes|=i,$o|=i)}function dc(n,i){if(!rt)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Dt(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(i)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=o,i}function Vj(n,i,o){var c=i.pendingProps;switch(zf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(i),null;case 1:return Dt(i),null;case 3:return o=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Ui(tn),pe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Mo(i)?Bi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ff())),Dt(i),null;case 26:var f=i.type,m=i.memoizedState;return n===null?(Bi(i),m!==null?(Dt(i),z0(i,m)):(Dt(i),Mm(i,f,null,c,o))):m?m!==n.memoizedState?(Bi(i),Dt(i),z0(i,m)):(Dt(i),i.flags&=-16777217):(n=n.memoizedProps,n!==c&&Bi(i),Dt(i),Mm(i,f,n,c,o)),null;case 27:if(_n(i),o=P.current,f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Bi(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Dt(i),null}n=je.current,Mo(i)?bx(i):(n=Yb(f,c,o),i.stateNode=n,Bi(i))}return Dt(i),null;case 5:if(_n(i),f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&Bi(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Dt(i),null}if(m=je.current,Mo(i))bx(i);else{var b=Hd(P.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?b.createElement(f,{is:c.is}):b.createElement(f)}}m[Jt]=i,m[pn]=c;e:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break e;for(;b.sibling===null;){if(b.return===null||b.return===i)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=m;e:switch(jn(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Bi(i)}}return Dt(i),Mm(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,o),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&Bi(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(n=P.current,Mo(i)){if(n=i.stateNode,o=i.memoizedProps,c=null,f=En,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}n[Jt]=i,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||kb(n.nodeValue,o)),n||jr(i,!0)}else n=Hd(n).createTextNode(c),n[Jt]=i,i.stateNode=n}return Dt(i),null;case 31:if(o=i.memoizedState,n===null||n.memoizedState!==null){if(c=Mo(i),o!==null){if(n===null){if(!c)throw Error(r(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Jt]=i}else Oa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Dt(i),n=!1}else o=Ff(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return i.flags&256?(ss(i),i):(ss(i),null);if((i.flags&128)!==0)throw Error(r(558))}return Dt(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Mo(i),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Jt]=i}else Oa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Dt(i),f=!1}else f=Ff(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(ss(i),i):(ss(i),null)}return ss(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,n=n!==null&&n.memoizedState!==null,o&&(c=i.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),o!==n&&o&&(i.child.flags|=8192),Id(i,i.updateQueue),Dt(i),null);case 4:return pe(),n===null&&eg(i.stateNode.containerInfo),Dt(i),null;case 10:return Ui(i.type),Dt(i),null;case 19:if(le(Kt),c=i.memoizedState,c===null)return Dt(i),null;if(f=(i.flags&128)!==0,m=c.rendering,m===null)if(f)dc(c,!1);else{if(Bt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=pd(n),m!==null){for(i.flags|=128,dc(c,!1),n=m.updateQueue,i.updateQueue=n,Id(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)mx(o,n),o=o.sibling;return ge(Kt,Kt.current&1|2),rt&&Li(i,c.treeForkCount),i.child}n=n.sibling}c.tail!==null&&Xt()>Pd&&(i.flags|=128,f=!0,dc(c,!1),i.lanes=4194304)}else{if(!f)if(n=pd(m),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,Id(i,n),dc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!rt)return Dt(i),null}else 2*Xt()-c.renderingStartTime>Pd&&o!==536870912&&(i.flags|=128,f=!0,dc(c,!1),i.lanes=4194304);c.isBackwards?(m.sibling=i.child,i.child=m):(n=c.last,n!==null?n.sibling=m:i.child=m,c.last=m)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Xt(),n.sibling=null,o=Kt.current,ge(Kt,f?o&1|2:o&1),rt&&Li(i,c.treeForkCount),n):(Dt(i),null);case 22:case 23:return ss(i),tm(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Dt(i),i.subtreeFlags&6&&(i.flags|=8192)):Dt(i),o=i.updateQueue,o!==null&&Id(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),n!==null&&le(Va),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ui(tn),Dt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Uj(n,i){switch(zf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ui(tn),pe(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return _n(i),null;case 31:if(i.memoizedState!==null){if(ss(i),i.alternate===null)throw Error(r(340));Oa()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(ss(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Oa()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return le(Kt),null;case 4:return pe(),null;case 10:return Ui(i.type),null;case 22:case 23:return ss(i),tm(),n!==null&&le(Va),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Ui(tn),null;case 25:return null;default:return null}}function q0(n,i){switch(zf(i),i.tag){case 3:Ui(tn),pe();break;case 26:case 27:case 5:_n(i);break;case 4:pe();break;case 31:i.memoizedState!==null&&ss(i);break;case 13:ss(i);break;case 19:le(Kt);break;case 10:Ui(i.type);break;case 22:case 23:ss(i),tm(),n!==null&&le(Va);break;case 24:Ui(tn)}}function hc(n,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&n)===n){c=void 0;var m=o.create,b=o.inst;c=m(),b.destroy=c}o=o.next}while(o!==f)}}catch(T){xt(i,i.return,T)}}function Dr(n,i,o){try{var c=i.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&n)===n){var b=c.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,f=i;var L=o,J=T;try{J()}catch(ae){xt(f,L,ae)}}}c=c.next}while(c!==m)}}catch(ae){xt(i,i.return,ae)}}function F0(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{Mx(i,o)}catch(c){xt(n,n.return,c)}}}function B0(n,i,o){o.props=Ba(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){xt(n,i,c)}}function fc(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(f){xt(n,i,f)}}function xi(n,i){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){xt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){xt(n,i,f)}else o.current=null}function H0(n){var i=n.type,o=n.memoizedProps,c=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){xt(n,n.return,f)}}function Dm(n,i,o){try{var c=n.stateNode;o1(c,n.type,o,i),c[pn]=i}catch(f){xt(n,n.return,f)}}function $0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&zr(n.type)||n.tag===4}function Pm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||$0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&zr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Om(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Ls));else if(c!==4&&(c===27&&zr(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(Om(n,i,o),n=n.sibling;n!==null;)Om(n,i,o),n=n.sibling}function Cd(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(c!==4&&(c===27&&zr(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Cd(n,i,o),n=n.sibling;n!==null;)Cd(n,i,o),n=n.sibling}function G0(n){var i=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);jn(i,c,o),i[Jt]=n,i[pn]=o}catch(m){xt(n,n.return,m)}}var Hi=!1,rn=!1,km=!1,Y0=typeof WeakSet=="function"?WeakSet:Set,xn=null;function zj(n,i){if(n=n.containerInfo,sg=Xd,n=rx(n),If(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var b=0,T=-1,L=-1,J=0,ae=0,ue=n,Z=null;t:for(;;){for(var ie;ue!==o||f!==0&&ue.nodeType!==3||(T=b+f),ue!==m||c!==0&&ue.nodeType!==3||(L=b+c),ue.nodeType===3&&(b+=ue.nodeValue.length),(ie=ue.firstChild)!==null;)Z=ue,ue=ie;for(;;){if(ue===n)break t;if(Z===o&&++J===f&&(T=b),Z===m&&++ae===c&&(L=b),(ie=ue.nextSibling)!==null)break;ue=Z,Z=ue.parentNode}ue=ie}o=T===-1||L===-1?null:{start:T,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(ig={focusedElem:n,selectionRange:o},Xd=!1,xn=i;xn!==null;)if(i=xn,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,xn=n;else for(;xn!==null;){switch(i=xn,m=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=i,f=m.memoizedProps,m=m.memoizedState,c=o.stateNode;try{var Ie=Ba(o.type,f);n=c.getSnapshotBeforeUpdate(Ie,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(Pe){xt(o,o.return,Pe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)og(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":og(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=i.sibling,n!==null){n.return=i.return,xn=n;break}xn=i.return}}function K0(n,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Gi(n,o),c&4&&hc(5,o);break;case 1:if(Gi(n,o),c&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(b){xt(o,o.return,b)}else{var f=Ba(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(b){xt(o,o.return,b)}}c&64&&F0(o),c&512&&fc(o,o.return);break;case 3:if(Gi(n,o),c&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Mx(n,i)}catch(b){xt(o,o.return,b)}}break;case 27:i===null&&c&4&&G0(o);case 26:case 5:Gi(n,o),i===null&&c&4&&H0(o),c&512&&fc(o,o.return);break;case 12:Gi(n,o);break;case 31:Gi(n,o),c&4&&X0(n,o);break;case 13:Gi(n,o),c&4&&J0(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=Wj.bind(null,o),g1(n,o))));break;case 22:if(c=o.memoizedState!==null||Hi,!c){i=i!==null&&i.memoizedState!==null||rn,f=Hi;var m=rn;Hi=c,(rn=i)&&!m?Yi(n,o,(o.subtreeFlags&8772)!==0):Gi(n,o),Hi=f,rn=m}break;case 30:break;default:Gi(n,o)}}function W0(n){var i=n.alternate;i!==null&&(n.alternate=null,W0(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&go(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Lt=null,Hn=!1;function $i(n,i,o){for(o=o.child;o!==null;)Q0(n,i,o),o=o.sibling}function Q0(n,i,o){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Vt,o)}catch{}switch(o.tag){case 26:rn||xi(o,i),$i(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:rn||xi(o,i);var c=Lt,f=Hn;zr(o.type)&&(Lt=o.stateNode,Hn=!1),$i(n,i,o),Nc(o.stateNode),Lt=c,Hn=f;break;case 5:rn||xi(o,i);case 6:if(c=Lt,f=Hn,Lt=null,$i(n,i,o),Lt=c,Hn=f,Lt!==null)if(Hn)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(o.stateNode)}catch(m){xt(o,i,m)}else try{Lt.removeChild(o.stateNode)}catch(m){xt(o,i,m)}break;case 18:Lt!==null&&(Hn?(n=Lt,Fb(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Zo(n)):Fb(Lt,o.stateNode));break;case 4:c=Lt,f=Hn,Lt=o.stateNode.containerInfo,Hn=!0,$i(n,i,o),Lt=c,Hn=f;break;case 0:case 11:case 14:case 15:Dr(2,o,i),rn||Dr(4,o,i),$i(n,i,o);break;case 1:rn||(xi(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&B0(o,i,c)),$i(n,i,o);break;case 21:$i(n,i,o);break;case 22:rn=(c=rn)||o.memoizedState!==null,$i(n,i,o),rn=c;break;default:$i(n,i,o)}}function X0(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Zo(n)}catch(o){xt(i,i.return,o)}}}function J0(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Zo(n)}catch(o){xt(i,i.return,o)}}function qj(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Y0),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Y0),i;default:throw Error(r(435,n.tag))}}function Rd(n,i){var o=qj(n);i.forEach(function(c){if(!o.has(c)){o.add(c);var f=Qj.bind(null,n,c);c.then(f,f)}})}function $n(n,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],m=n,b=i,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(zr(T.type)){Lt=T.stateNode,Hn=!1;break e}break;case 5:Lt=T.stateNode,Hn=!1;break e;case 3:case 4:Lt=T.stateNode.containerInfo,Hn=!0;break e}T=T.return}if(Lt===null)throw Error(r(160));Q0(m,b,f),Lt=null,Hn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Z0(i,n),i=i.sibling}var Bs=null;function Z0(n,i){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:$n(i,n),Gn(n),c&4&&(Dr(3,n,n.return),hc(3,n),Dr(5,n,n.return));break;case 1:$n(i,n),Gn(n),c&512&&(rn||o===null||xi(o,o.return)),c&64&&Hi&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=Bs;if($n(i,n),Gn(n),c&512&&(rn||o===null||xi(o,o.return)),c&4){var m=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){e:{c=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ii]||m[Jt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),jn(m,c,o),m[Jt]=n,Zt(m),c=m;break e;case"link":var b=Zb("link","href",f).get(c+(o.href||""));if(b){for(var T=0;T<b.length;T++)if(m=b[T],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(T,1);break t}}m=f.createElement(c),jn(m,c,o),f.head.appendChild(m);break;case"meta":if(b=Zb("meta","content",f).get(c+(o.content||""))){for(T=0;T<b.length;T++)if(m=b[T],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(T,1);break t}}m=f.createElement(c),jn(m,c,o),f.head.appendChild(m);break;default:throw Error(r(468,c))}m[Jt]=n,Zt(m),c=m}n.stateNode=c}else ev(f,n.type,n.stateNode);else n.stateNode=Jb(f,c,n.memoizedProps);else m!==c?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,c===null?ev(f,n.type,n.stateNode):Jb(f,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Dm(n,n.memoizedProps,o.memoizedProps)}break;case 27:$n(i,n),Gn(n),c&512&&(rn||o===null||xi(o,o.return)),o!==null&&c&4&&Dm(n,n.memoizedProps,o.memoizedProps);break;case 5:if($n(i,n),Gn(n),c&512&&(rn||o===null||xi(o,o.return)),n.flags&32){f=n.stateNode;try{Bn(f,"")}catch(Ie){xt(n,n.return,Ie)}}c&4&&n.stateNode!=null&&(f=n.memoizedProps,Dm(n,f,o!==null?o.memoizedProps:f)),c&1024&&(km=!0);break;case 6:if($n(i,n),Gn(n),c&4){if(n.stateNode===null)throw Error(r(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(Ie){xt(n,n.return,Ie)}}break;case 3:if(Yd=null,f=Bs,Bs=$d(i.containerInfo),$n(i,n),Bs=f,Gn(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Zo(i.containerInfo)}catch(Ie){xt(n,n.return,Ie)}km&&(km=!1,eb(n));break;case 4:c=Bs,Bs=$d(n.stateNode.containerInfo),$n(i,n),Gn(n),Bs=c;break;case 12:$n(i,n),Gn(n);break;case 31:$n(i,n),Gn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Rd(n,c)));break;case 13:$n(i,n),Gn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Dd=Xt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Rd(n,c)));break;case 22:f=n.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,J=Hi,ae=rn;if(Hi=J||f,rn=ae||L,$n(i,n),rn=ae,Hi=J,Gn(n),c&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||L||Hi||rn||Ha(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){L=o=i;try{if(m=L.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=L.stateNode;var ue=L.memoizedProps.style,Z=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;T.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Ie){xt(L,L.return,Ie)}}}else if(i.tag===6){if(o===null){L=i;try{L.stateNode.nodeValue=f?"":L.memoizedProps}catch(Ie){xt(L,L.return,Ie)}}}else if(i.tag===18){if(o===null){L=i;try{var ie=L.stateNode;f?Bb(ie,!0):Bb(L.stateNode,!1)}catch(Ie){xt(L,L.return,Ie)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Rd(n,o))));break;case 19:$n(i,n),Gn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Rd(n,c)));break;case 30:break;case 21:break;default:$n(i,n),Gn(n)}}function Gn(n){var i=n.flags;if(i&2){try{for(var o,c=n.return;c!==null;){if($0(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,m=Pm(n);Cd(n,m,f);break;case 5:var b=o.stateNode;o.flags&32&&(Bn(b,""),o.flags&=-33);var T=Pm(n);Cd(n,T,b);break;case 3:case 4:var L=o.stateNode.containerInfo,J=Pm(n);Om(n,J,L);break;default:throw Error(r(161))}}catch(ae){xt(n,n.return,ae)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function eb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;eb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Gi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)K0(n,i.alternate,i),i=i.sibling}function Ha(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Dr(4,i,i.return),Ha(i);break;case 1:xi(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&B0(i,i.return,o),Ha(i);break;case 27:Nc(i.stateNode);case 26:case 5:xi(i,i.return),Ha(i);break;case 22:i.memoizedState===null&&Ha(i);break;case 30:Ha(i);break;default:Ha(i)}n=n.sibling}}function Yi(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,f=n,m=i,b=m.flags;switch(m.tag){case 0:case 11:case 15:Yi(f,m,o),hc(4,m);break;case 1:if(Yi(f,m,o),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(J){xt(c,c.return,J)}if(c=m,f=c.updateQueue,f!==null){var T=c.stateNode;try{var L=f.shared.hiddenCallbacks;if(L!==null)for(f.shared.hiddenCallbacks=null,f=0;f<L.length;f++)Rx(L[f],T)}catch(J){xt(c,c.return,J)}}o&&b&64&&F0(m),fc(m,m.return);break;case 27:G0(m);case 26:case 5:Yi(f,m,o),o&&c===null&&b&4&&H0(m),fc(m,m.return);break;case 12:Yi(f,m,o);break;case 31:Yi(f,m,o),o&&b&4&&X0(f,m);break;case 13:Yi(f,m,o),o&&b&4&&J0(f,m);break;case 22:m.memoizedState===null&&Yi(f,m,o),fc(m,m.return);break;case 30:break;default:Yi(f,m,o)}i=i.sibling}}function Lm(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Zl(o))}function Vm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Zl(n))}function Hs(n,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)tb(n,i,o,c),i=i.sibling}function tb(n,i,o,c){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Hs(n,i,o,c),f&2048&&hc(9,i);break;case 1:Hs(n,i,o,c);break;case 3:Hs(n,i,o,c),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Zl(n)));break;case 12:if(f&2048){Hs(n,i,o,c),n=i.stateNode;try{var m=i.memoizedProps,b=m.id,T=m.onPostCommit;typeof T=="function"&&T(b,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(L){xt(i,i.return,L)}}else Hs(n,i,o,c);break;case 31:Hs(n,i,o,c);break;case 13:Hs(n,i,o,c);break;case 23:break;case 22:m=i.stateNode,b=i.alternate,i.memoizedState!==null?m._visibility&2?Hs(n,i,o,c):mc(n,i):m._visibility&2?Hs(n,i,o,c):(m._visibility|=2,Fo(n,i,o,c,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Lm(b,i);break;case 24:Hs(n,i,o,c),f&2048&&Vm(i.alternate,i);break;default:Hs(n,i,o,c)}}function Fo(n,i,o,c,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=n,b=i,T=o,L=c,J=b.flags;switch(b.tag){case 0:case 11:case 15:Fo(m,b,T,L,f),hc(8,b);break;case 23:break;case 22:var ae=b.stateNode;b.memoizedState!==null?ae._visibility&2?Fo(m,b,T,L,f):mc(m,b):(ae._visibility|=2,Fo(m,b,T,L,f)),f&&J&2048&&Lm(b.alternate,b);break;case 24:Fo(m,b,T,L,f),f&&J&2048&&Vm(b.alternate,b);break;default:Fo(m,b,T,L,f)}i=i.sibling}}function mc(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,c=i,f=c.flags;switch(c.tag){case 22:mc(o,c),f&2048&&Lm(c.alternate,c);break;case 24:mc(o,c),f&2048&&Vm(c.alternate,c);break;default:mc(o,c)}i=i.sibling}}var gc=8192;function Bo(n,i,o){if(n.subtreeFlags&gc)for(n=n.child;n!==null;)nb(n,i,o),n=n.sibling}function nb(n,i,o){switch(n.tag){case 26:Bo(n,i,o),n.flags&gc&&n.memoizedState!==null&&A1(o,Bs,n.memoizedState,n.memoizedProps);break;case 5:Bo(n,i,o);break;case 3:case 4:var c=Bs;Bs=$d(n.stateNode.containerInfo),Bo(n,i,o),Bs=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=gc,gc=16777216,Bo(n,i,o),gc=c):Bo(n,i,o));break;default:Bo(n,i,o)}}function sb(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function pc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];xn=c,rb(c,n)}sb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ib(n),n=n.sibling}function ib(n){switch(n.tag){case 0:case 11:case 15:pc(n),n.flags&2048&&Dr(9,n,n.return);break;case 3:pc(n);break;case 12:pc(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Md(n)):pc(n);break;default:pc(n)}}function Md(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];xn=c,rb(c,n)}sb(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Dr(8,i,i.return),Md(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Md(i));break;default:Md(i)}n=n.sibling}}function rb(n,i){for(;xn!==null;){var o=xn;switch(o.tag){case 0:case 11:case 15:Dr(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Zl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,xn=c;else e:for(o=n;xn!==null;){c=xn;var f=c.sibling,m=c.return;if(W0(c),c===o){xn=null;break e}if(f!==null){f.return=m,xn=f;break e}xn=m}}}var Fj={getCacheForType:function(n){var i=Tn(tn),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o},cacheSignal:function(){return Tn(tn).controller.signal}},Bj=typeof WeakMap=="function"?WeakMap:Map,ht=0,jt=null,Ke=null,Xe=0,yt=0,is=null,Pr=!1,Ho=!1,Um=!1,Ki=0,Bt=0,Or=0,$a=0,zm=0,rs=0,$o=0,yc=null,Yn=null,qm=!1,Dd=0,ab=0,Pd=1/0,Od=null,kr=null,dn=0,Lr=null,Go=null,Wi=0,Fm=0,Bm=null,ob=null,xc=0,Hm=null;function as(){return(ht&2)!==0&&Xe!==0?Xe&-Xe:F.T!==null?Qm():ku()}function lb(){if(rs===0)if((Xe&536870912)===0||rt){var n=Ri;Ri<<=1,(Ri&3932160)===0&&(Ri=262144),rs=n}else rs=536870912;return n=ns.current,n!==null&&(n.flags|=32),rs}function Kn(n,i,o){(n===jt&&(yt===2||yt===9)||n.cancelPendingCommit!==null)&&(Yo(n,0),Vr(n,Xe,rs,!1)),ba(n,o),((ht&2)===0||n!==jt)&&(n===jt&&((ht&2)===0&&($a|=o),Bt===4&&Vr(n,Xe,rs,!1)),bi(n))}function cb(n,i,o){if((ht&6)!==0)throw Error(r(327));var c=!o&&(i&127)===0&&(i&n.expiredLanes)===0||Ps(n,i),f=c?Gj(n,i):Gm(n,i,!0),m=c;do{if(f===0){Ho&&!c&&Vr(n,i,0,!1);break}else{if(o=n.current.alternate,m&&!Hj(o)){f=Gm(n,i,!1),m=!1;continue}if(f===2){if(m=i,n.errorRecoveryDisabledLanes&m)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var T=n;f=yc;var L=T.current.memoizedState.isDehydrated;if(L&&(Yo(T,b).flags|=256),b=Gm(T,b,!1),b!==2){if(Um&&!L){T.errorRecoveryDisabledLanes|=m,$a|=m,f=4;break e}m=Yn,Yn=f,m!==null&&(Yn===null?Yn=m:Yn.push.apply(Yn,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){Yo(n,0),Vr(n,i,0,!0);break}e:{switch(c=n,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Vr(c,i,rs,!Pr);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=Dd+300-Xt(),10<f)){if(Vr(c,i,rs,!Pr),ti(c,0,!0)!==0)break e;Wi=i,c.timeoutHandle=zb(ub.bind(null,c,o,Yn,Od,qm,i,rs,$a,$o,Pr,m,"Throttled",-0,0),f);break e}ub(c,o,Yn,Od,qm,i,rs,$a,$o,Pr,m,null,-0,0)}}break}while(!0);bi(n)}function ub(n,i,o,c,f,m,b,T,L,J,ae,ue,Z,ie){if(n.timeoutHandle=-1,ue=i.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ls},nb(i,m,ue);var Ie=(m&62914560)===m?Dd-Xt():(m&4194048)===m?ab-Xt():0;if(Ie=S1(ue,Ie),Ie!==null){Wi=m,n.cancelPendingCommit=Ie(xb.bind(null,n,i,m,o,c,f,b,T,L,ae,ue,null,Z,ie)),Vr(n,m,b,!J);return}}xb(n,i,m,o,c,f,b,T,L)}function Hj(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],m=f.getSnapshot;f=f.value;try{if(!es(m(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vr(n,i,o,c){i&=~zm,i&=~$a,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var f=i;0<f;){var m=31-it(f),b=1<<m;c[m]=-1,f&=~b}o!==0&&va(n,o,i)}function kd(){return(ht&6)===0?(bc(0),!1):!0}function $m(){if(Ke!==null){if(yt===0)var n=Ke.return;else n=Ke,Vi=ka=null,om(n),Lo=null,tc=0,n=Ke;for(;n!==null;)q0(n.alternate,n),n=n.return;Ke=null}}function Yo(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,u1(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Wi=0,$m(),jt=n,Ke=o=ki(n.current,null),Xe=i,yt=0,is=null,Pr=!1,Ho=Ps(n,i),Um=!1,$o=rs=zm=$a=Or=Bt=0,Yn=yc=null,qm=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var f=31-it(c),m=1<<f;i|=n[f],c&=~m}return Ki=i,sd(),o}function db(n,i){He=null,F.H=cc,i===ko||i===dd?(i=Ax(),yt=3):i===Wf?(i=Ax(),yt=4):yt=i===Em?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,is=i,Ke===null&&(Bt=1,wd(n,_s(i,n.current)))}function hb(){var n=ns.current;return n===null?!0:(Xe&4194048)===Xe?ws===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?n===ws:!1}function fb(){var n=F.H;return F.H=cc,n===null?cc:n}function mb(){var n=F.A;return F.A=Fj,n}function Ld(){Bt=4,Pr||(Xe&4194048)!==Xe&&ns.current!==null||(Ho=!0),(Or&134217727)===0&&($a&134217727)===0||jt===null||Vr(jt,Xe,rs,!1)}function Gm(n,i,o){var c=ht;ht|=2;var f=fb(),m=mb();(jt!==n||Xe!==i)&&(Od=null,Yo(n,i)),i=!1;var b=Bt;e:do try{if(yt!==0&&Ke!==null){var T=Ke,L=is;switch(yt){case 8:$m(),b=6;break e;case 3:case 2:case 9:case 6:ns.current===null&&(i=!0);var J=yt;if(yt=0,is=null,Ko(n,T,L,J),o&&Ho){b=0;break e}break;default:J=yt,yt=0,is=null,Ko(n,T,L,J)}}$j(),b=Bt;break}catch(ae){db(n,ae)}while(!0);return i&&n.shellSuspendCounter++,Vi=ka=null,ht=c,F.H=f,F.A=m,Ke===null&&(jt=null,Xe=0,sd()),b}function $j(){for(;Ke!==null;)gb(Ke)}function Gj(n,i){var o=ht;ht|=2;var c=fb(),f=mb();jt!==n||Xe!==i?(Od=null,Pd=Xt()+500,Yo(n,i)):Ho=Ps(n,i);e:do try{if(yt!==0&&Ke!==null){i=Ke;var m=is;t:switch(yt){case 1:yt=0,is=null,Ko(n,i,m,1);break;case 2:case 9:if(wx(m)){yt=0,is=null,pb(i);break}i=function(){yt!==2&&yt!==9||jt!==n||(yt=7),bi(n)},m.then(i,i);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:wx(m)?(yt=0,is=null,pb(i)):(yt=0,is=null,Ko(n,i,m,7));break;case 5:var b=null;switch(Ke.tag){case 26:b=Ke.memoizedState;case 5:case 27:var T=Ke;if(b?tv(b):T.stateNode.complete){yt=0,is=null;var L=T.sibling;if(L!==null)Ke=L;else{var J=T.return;J!==null?(Ke=J,Vd(J)):Ke=null}break t}}yt=0,is=null,Ko(n,i,m,5);break;case 6:yt=0,is=null,Ko(n,i,m,6);break;case 8:$m(),Bt=6;break e;default:throw Error(r(462))}}Yj();break}catch(ae){db(n,ae)}while(!0);return Vi=ka=null,F.H=c,F.A=f,ht=o,Ke!==null?0:(jt=null,Xe=0,sd(),Bt)}function Yj(){for(;Ke!==null&&!hs();)gb(Ke)}function gb(n){var i=U0(n.alternate,n,Ki);n.memoizedProps=n.pendingProps,i===null?Vd(n):Ke=i}function pb(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=D0(o,i,i.pendingProps,i.type,void 0,Xe);break;case 11:i=D0(o,i,i.pendingProps,i.type.render,i.ref,Xe);break;case 5:om(i);default:q0(o,i),i=Ke=mx(i,Ki),i=U0(o,i,Ki)}n.memoizedProps=n.pendingProps,i===null?Vd(n):Ke=i}function Ko(n,i,o,c){Vi=ka=null,om(i),Lo=null,tc=0;var f=i.return;try{if(Oj(n,f,i,o,Xe)){Bt=1,wd(n,_s(o,n.current)),Ke=null;return}}catch(m){if(f!==null)throw Ke=f,m;Bt=1,wd(n,_s(o,n.current)),Ke=null;return}i.flags&32768?(rt||c===1?n=!0:Ho||(Xe&536870912)!==0?n=!1:(Pr=n=!0,(c===2||c===9||c===3||c===6)&&(c=ns.current,c!==null&&c.tag===13&&(c.flags|=16384))),yb(i,n)):Vd(i)}function Vd(n){var i=n;do{if((i.flags&32768)!==0){yb(i,Pr);return}n=i.return;var o=Vj(i.alternate,i,Ki);if(o!==null){Ke=o;return}if(i=i.sibling,i!==null){Ke=i;return}Ke=i=n}while(i!==null);Bt===0&&(Bt=5)}function yb(n,i){do{var o=Uj(n.alternate,n);if(o!==null){o.flags&=32767,Ke=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){Ke=n;return}Ke=n=o}while(n!==null);Bt=6,Ke=null}function xb(n,i,o,c,f,m,b,T,L){n.cancelPendingCommit=null;do Ud();while(dn!==0);if((ht&6)!==0)throw Error(r(327));if(i!==null){if(i===n.current)throw Error(r(177));if(m=i.lanes|i.childLanes,m|=Pf,wf(n,o,m,b,T,L),n===jt&&(Ke=jt=null,Xe=0),Go=i,Lr=n,Wi=o,Fm=m,Bm=f,ob=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Xj(Zs,function(){return Eb(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=F.T,F.T=null,f=ne.p,ne.p=2,b=ht,ht|=4;try{zj(n,i,o)}finally{ht=b,ne.p=f,F.T=c}}dn=1,bb(),vb(),_b()}}function bb(){if(dn===1){dn=0;var n=Lr,i=Go,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=F.T,F.T=null;var c=ne.p;ne.p=2;var f=ht;ht|=4;try{Z0(i,n);var m=ig,b=rx(n.containerInfo),T=m.focusedElem,L=m.selectionRange;if(b!==T&&T&&T.ownerDocument&&ix(T.ownerDocument.documentElement,T)){if(L!==null&&If(T)){var J=L.start,ae=L.end;if(ae===void 0&&(ae=J),"selectionStart"in T)T.selectionStart=J,T.selectionEnd=Math.min(ae,T.value.length);else{var ue=T.ownerDocument||document,Z=ue&&ue.defaultView||window;if(Z.getSelection){var ie=Z.getSelection(),Ie=T.textContent.length,Pe=Math.min(L.start,Ie),Et=L.end===void 0?Pe:Math.min(L.end,Ie);!ie.extend&&Pe>Et&&(b=Et,Et=Pe,Pe=b);var G=sx(T,Pe),z=sx(T,Et);if(G&&z&&(ie.rangeCount!==1||ie.anchorNode!==G.node||ie.anchorOffset!==G.offset||ie.focusNode!==z.node||ie.focusOffset!==z.offset)){var X=ue.createRange();X.setStart(G.node,G.offset),ie.removeAllRanges(),Pe>Et?(ie.addRange(X),ie.extend(z.node,z.offset)):(X.setEnd(z.node,z.offset),ie.addRange(X))}}}}for(ue=[],ie=T;ie=ie.parentNode;)ie.nodeType===1&&ue.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ue.length;T++){var oe=ue[T];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}Xd=!!sg,ig=sg=null}finally{ht=f,ne.p=c,F.T=o}}n.current=i,dn=2}}function vb(){if(dn===2){dn=0;var n=Lr,i=Go,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=F.T,F.T=null;var c=ne.p;ne.p=2;var f=ht;ht|=4;try{K0(n,i.alternate,i)}finally{ht=f,ne.p=c,F.T=o}}dn=3}}function _b(){if(dn===4||dn===3){dn=0,fo();var n=Lr,i=Go,o=Wi,c=ob;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?dn=5:(dn=0,Go=Lr=null,Nb(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(kr=null),Mi(o),i=i.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Vt,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=F.T,f=ne.p,ne.p=2,F.T=null;try{for(var m=n.onRecoverableError,b=0;b<c.length;b++){var T=c[b];m(T.value,{componentStack:T.stack})}}finally{F.T=i,ne.p=f}}(Wi&3)!==0&&Ud(),bi(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===Hm?xc++:(xc=0,Hm=n):xc=0,bc(0)}}function Nb(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Zl(i)))}function Ud(){return bb(),vb(),_b(),Eb()}function Eb(){if(dn!==5)return!1;var n=Lr,i=Fm;Fm=0;var o=Mi(Wi),c=F.T,f=ne.p;try{ne.p=32>o?32:o,F.T=null,o=Bm,Bm=null;var m=Lr,b=Wi;if(dn=0,Go=Lr=null,Wi=0,(ht&6)!==0)throw Error(r(331));var T=ht;if(ht|=4,ib(m.current),tb(m,m.current,b,o),ht=T,bc(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Vt,m)}catch{}return!0}finally{ne.p=f,F.T=c,Nb(n,i)}}function Tb(n,i,o){i=_s(o,i),i=Nm(n.stateNode,i,2),n=Cr(n,i,2),n!==null&&(ba(n,2),bi(n))}function xt(n,i,o){if(n.tag===3)Tb(n,n,o);else for(;i!==null;){if(i.tag===3){Tb(i,n,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(kr===null||!kr.has(c))){n=_s(o,n),o=w0(2),c=Cr(i,o,2),c!==null&&(j0(o,c,i,n),ba(c,2),bi(c));break}}i=i.return}}function Ym(n,i,o){var c=n.pingCache;if(c===null){c=n.pingCache=new Bj;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(o)||(Um=!0,f.add(o),n=Kj.bind(null,n,i,o),i.then(n,n))}function Kj(n,i,o){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,jt===n&&(Xe&o)===o&&(Bt===4||Bt===3&&(Xe&62914560)===Xe&&300>Xt()-Dd?(ht&2)===0&&Yo(n,0):zm|=o,$o===Xe&&($o=0)),bi(n)}function wb(n,i){i===0&&(i=Ou()),n=Da(n,i),n!==null&&(ba(n,i),bi(n))}function Wj(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),wb(n,o)}function Qj(n,i){var o=0;switch(n.tag){case 31:case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),wb(n,o)}function Xj(n,i){return Ge(n,i)}var zd=null,Wo=null,Km=!1,qd=!1,Wm=!1,Ur=0;function bi(n){n!==Wo&&n.next===null&&(Wo===null?zd=Wo=n:Wo=Wo.next=n),qd=!0,Km||(Km=!0,Zj())}function bc(n,i){if(!Wm&&qd){Wm=!0;do for(var o=!1,c=zd;c!==null;){if(n!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var b=c.suspendedLanes,T=c.pingedLanes;m=(1<<31-it(42|n)+1)-1,m&=f&~(b&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,Ib(c,m))}else m=Xe,m=ti(c,c===jt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||Ps(c,m)||(o=!0,Ib(c,m));c=c.next}while(o);Wm=!1}}function Jj(){jb()}function jb(){qd=Km=!1;var n=0;Ur!==0&&c1()&&(n=Ur);for(var i=Xt(),o=null,c=zd;c!==null;){var f=c.next,m=Ab(c,i);m===0?(c.next=null,o===null?zd=f:o.next=f,f===null&&(Wo=o)):(o=c,(n!==0||(m&3)!==0)&&(qd=!0)),c=f}dn!==0&&dn!==5||bc(n),Ur!==0&&(Ur=0)}function Ab(n,i){for(var o=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var b=31-it(m),T=1<<b,L=f[b];L===-1?((T&o)===0||(T&c)!==0)&&(f[b]=Tf(T,i)):L<=i&&(n.expiredLanes|=T),m&=~T}if(i=jt,o=Xe,o=ti(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===i&&(yt===2||yt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&St(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Ps(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(c!==null&&St(c),Mi(o)){case 2:case 8:o=hr;break;case 32:o=Zs;break;case 268435456:o=st;break;default:o=Zs}return c=Sb.bind(null,n),o=Ge(o,c),n.callbackPriority=i,n.callbackNode=o,i}return c!==null&&c!==null&&St(c),n.callbackPriority=2,n.callbackNode=null,2}function Sb(n,i){if(dn!==0&&dn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Ud()&&n.callbackNode!==o)return null;var c=Xe;return c=ti(n,n===jt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(cb(n,c,i),Ab(n,Xt()),n.callbackNode!=null&&n.callbackNode===o?Sb.bind(null,n):null)}function Ib(n,i){if(Ud())return null;cb(n,i,!0)}function Zj(){d1(function(){(ht&6)!==0?Ge(dr,Jj):jb()})}function Qm(){if(Ur===0){var n=Po;n===0&&(n=ms,ms<<=1,(ms&261888)===0&&(ms=256)),Ur=n}return Ur}function Cb(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:bo(""+n)}function Rb(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function e1(n,i,o,c,f){if(i==="submit"&&o&&o.stateNode===f){var m=Cb((f[pn]||null).action),b=c.submitter;b&&(i=(i=b[pn]||null)?Cb(i.formAction):b.getAttribute("formAction"),i!==null&&(m=i,b=null));var T=new hi("action","action",null,c,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ur!==0){var L=b?Rb(f,b):new FormData(f);pm(o,{pending:!0,data:L,method:f.method,action:m},null,L)}}else typeof m=="function"&&(T.preventDefault(),L=b?Rb(f,b):new FormData(f),pm(o,{pending:!0,data:L,method:f.method,action:m},m,L))},currentTarget:f}]})}}for(var Xm=0;Xm<Df.length;Xm++){var Jm=Df[Xm],t1=Jm.toLowerCase(),n1=Jm[0].toUpperCase()+Jm.slice(1);Fs(t1,"on"+n1)}Fs(lx,"onAnimationEnd"),Fs(cx,"onAnimationIteration"),Fs(ux,"onAnimationStart"),Fs("dblclick","onDoubleClick"),Fs("focusin","onFocus"),Fs("focusout","onBlur"),Fs(xj,"onTransitionRun"),Fs(bj,"onTransitionStart"),Fs(vj,"onTransitionCancel"),Fs(dx,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vc));function Mb(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var b=c.length-1;0<=b;b--){var T=c[b],L=T.instance,J=T.currentTarget;if(T=T.listener,L!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=J;try{m(f)}catch(ae){nd(ae)}f.currentTarget=null,m=L}else for(b=0;b<c.length;b++){if(T=c[b],L=T.instance,J=T.currentTarget,T=T.listener,L!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=J;try{m(f)}catch(ae){nd(ae)}f.currentTarget=null,m=L}}}}function We(n,i){var o=i[mo];o===void 0&&(o=i[mo]=new Set);var c=n+"__bubble";o.has(c)||(Db(i,n,2,!1),o.add(c))}function Zm(n,i,o){var c=0;i&&(c|=4),Db(o,n,c,i)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function eg(n){if(!n[Fd]){n[Fd]=!0,Ml.forEach(function(o){o!=="selectionchange"&&(s1.has(o)||Zm(o,!1,n),Zm(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Fd]||(i[Fd]=!0,Zm("selectionchange",!1,i))}}function Db(n,i,o,c){switch(lv(i)){case 2:var f=R1;break;case 8:f=M1;break;default:f=gg}o=f.bind(null,i,o,n),f=void 0,!wa||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,o,{capture:!0,passive:f}):n.addEventListener(i,o,!0):f!==void 0?n.addEventListener(i,o,{passive:f}):n.addEventListener(i,o,!1)}function tg(n,i,o,c,f){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var T=c.stateNode.containerInfo;if(T===f)break;if(b===4)for(b=c.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;T!==null;){if(b=ri(T),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){c=m=b;continue e}T=T.parentNode}}c=c.return}vr(function(){var J=m,ae=ys(o),ue=[];e:{var Z=hx.get(n);if(Z!==void 0){var ie=hi,Ie=n;switch(n){case"keypress":if(Aa(o)===0)break e;case"keydown":case"keyup":ie=Zu;break;case"focusin":Ie="focus",ie=Ia;break;case"focusout":Ie="blur",ie=Ia;break;case"beforeblur":case"afterblur":ie=Ia;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=$l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=x;break;case lx:case cx:case ux:ie=Gu;break;case dx:ie=w;break;case"scroll":case"scrollend":ie=Hl;break;case"wheel":ie=se;break;case"copy":case"cut":case"paste":ie=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Oi;break;case"toggle":case"beforetoggle":ie=Be}var Pe=(i&4)!==0,Et=!Pe&&(n==="scroll"||n==="scrollend"),G=Pe?Z!==null?Z+"Capture":null:Z;Pe=[];for(var z=J,X;z!==null;){var oe=z;if(X=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||X===null||G===null||(oe=Vs(z,G),oe!=null&&Pe.push(_c(z,oe,X))),Et)break;z=z.return}0<Pe.length&&(Z=new ie(Z,Ie,null,o,ae),ue.push({event:Z,listeners:Pe}))}}if((i&7)===0){e:{if(Z=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",Z&&o!==ql&&(Ie=o.relatedTarget||o.fromElement)&&(ri(Ie)||Ie[si]))break e;if((ie||Z)&&(Z=ae.window===ae?ae:(Z=ae.ownerDocument)?Z.defaultView||Z.parentWindow:window,ie?(Ie=o.relatedTarget||o.toElement,ie=J,Ie=Ie?ri(Ie):null,Ie!==null&&(Et=u(Ie),Pe=Ie.tag,Ie!==Et||Pe!==5&&Pe!==27&&Pe!==6)&&(Ie=null)):(ie=null,Ie=J),ie!==Ie)){if(Pe=$l,oe="onMouseLeave",G="onMouseEnter",z="mouse",(n==="pointerout"||n==="pointerover")&&(Pe=Oi,oe="onPointerLeave",G="onPointerEnter",z="pointer"),Et=ie==null?Z:Jn(ie),X=Ie==null?Z:Jn(Ie),Z=new Pe(oe,z+"leave",ie,o,ae),Z.target=Et,Z.relatedTarget=X,oe=null,ri(ae)===J&&(Pe=new Pe(G,z+"enter",Ie,o,ae),Pe.target=X,Pe.relatedTarget=Et,oe=Pe),Et=oe,ie&&Ie)t:{for(Pe=i1,G=ie,z=Ie,X=0,oe=G;oe;oe=Pe(oe))X++;oe=0;for(var Re=z;Re;Re=Pe(Re))oe++;for(;0<X-oe;)G=Pe(G),X--;for(;0<oe-X;)z=Pe(z),oe--;for(;X--;){if(G===z||z!==null&&G===z.alternate){Pe=G;break t}G=Pe(G),z=Pe(z)}Pe=null}else Pe=null;ie!==null&&Pb(ue,Z,ie,Pe,!1),Ie!==null&&Et!==null&&Pb(ue,Et,Ie,Pe,!0)}}e:{if(Z=J?Jn(J):window,ie=Z.nodeName&&Z.nodeName.toLowerCase(),ie==="select"||ie==="input"&&Z.type==="file")var ct=Xy;else if(Wy(Z))if(Jy)ct=gj;else{ct=fj;var Ce=hj}else ie=Z.nodeName,!ie||ie.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?J&&xo(J.elementType)&&(ct=Xy):ct=mj;if(ct&&(ct=ct(n,J))){Qy(ue,ct,o,ae);break e}Ce&&Ce(n,Z,J),n==="focusout"&&J&&Z.type==="number"&&J.memoizedProps.value!=null&&Vl(Z,"number",Z.value)}switch(Ce=J?Jn(J):window,n){case"focusin":(Wy(Ce)||Ce.contentEditable==="true")&&(jo=Ce,Cf=J,Ql=null);break;case"focusout":Ql=Cf=jo=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,ax(ue,o,ae);break;case"selectionchange":if(yj)break;case"keydown":case"keyup":ax(ue,o,ae)}var Ye;if(dt)e:{switch(n){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else wo?Ca(n,o)&&(Je="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Je="onCompositionStart");Je&&(gi&&o.locale!=="ko"&&(wo||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&wo&&(Ye=Bl()):(di=ae,Fl="value"in di?di.value:di.textContent,wo=!0)),Ce=Bd(J,Je),0<Ce.length&&(Je=new mi(Je,n,null,o,ae),ue.push({event:Je,listeners:Ce}),Ye?Je.data=Ye:(Ye=To(o),Ye!==null&&(Je.data=Ye)))),(Ye=bs?lj(n,o):cj(n,o))&&(Je=Bd(J,"onBeforeInput"),0<Je.length&&(Ce=new mi("onBeforeInput","beforeinput",null,o,ae),ue.push({event:Ce,listeners:Je}),Ce.data=Ye)),e1(ue,n,J,o,ae)}Mb(ue,i)})}function _c(n,i,o){return{instance:n,listener:i,currentTarget:o}}function Bd(n,i){for(var o=i+"Capture",c=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Vs(n,o),f!=null&&c.unshift(_c(n,f,m)),f=Vs(n,i),f!=null&&c.push(_c(n,f,m))),n.tag===3)return c;n=n.return}return[]}function i1(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Pb(n,i,o,c,f){for(var m=i._reactName,b=[];o!==null&&o!==c;){var T=o,L=T.alternate,J=T.stateNode;if(T=T.tag,L!==null&&L===c)break;T!==5&&T!==26&&T!==27||J===null||(L=J,f?(J=Vs(o,m),J!=null&&b.unshift(_c(o,J,L))):f||(J=Vs(o,m),J!=null&&b.push(_c(o,J,L)))),o=o.return}b.length!==0&&n.push({event:i,listeners:b})}var r1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function Ob(n){return(typeof n=="string"?n:""+n).replace(r1,`
`).replace(a1,"")}function kb(n,i){return i=Ob(i),Ob(n)===i}function Nt(n,i,o,c,f,m){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Bn(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Bn(n,""+c);break;case"className":Zn(n,"class",c);break;case"tabIndex":Zn(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(n,o,c);break;case"style":zl(n,c,m);break;case"data":if(i!=="object"){Zn(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=bo(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&Nt(n,i,"name",f.name,f,null),Nt(n,i,"formEncType",f.formEncType,f,null),Nt(n,i,"formMethod",f.formMethod,f,null),Nt(n,i,"formTarget",f.formTarget,f,null)):(Nt(n,i,"encType",f.encType,f,null),Nt(n,i,"method",f.method,f,null),Nt(n,i,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=bo(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=Ls);break;case"onScroll":c!=null&&We("scroll",n);break;case"onScrollEnd":c!=null&&We("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=bo(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":We("beforetoggle",n),We("toggle",n),po(n,"popover",c);break;case"xlinkActuate":en(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":en(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":en(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":en(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":en(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":en(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":en(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":en(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":en(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":po(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Bu.get(o)||o,po(n,o,c))}}function ng(n,i,o,c,f,m){switch(o){case"style":zl(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof c=="string"?Bn(n,c):(typeof c=="number"||typeof c=="bigint")&&Bn(n,""+c);break;case"onScroll":c!=null&&We("scroll",n);break;case"onScrollEnd":c!=null&&We("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Ls);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),m=n[pn]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(i,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,c,f);break e}o in n?n[o]=c:c===!0?n.setAttribute(o,""):po(n,o,c)}}}function jn(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",n),We("load",n);var c=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var b=o[m];if(b!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Nt(n,i,m,b,o,null)}}f&&Nt(n,i,"srcSet",o.srcSet,o,null),c&&Nt(n,i,"src",o.src,o,null);return;case"input":We("invalid",n);var T=m=b=f=null,L=null,J=null;for(c in o)if(o.hasOwnProperty(c)){var ae=o[c];if(ae!=null)switch(c){case"name":f=ae;break;case"type":b=ae;break;case"checked":L=ae;break;case"defaultChecked":J=ae;break;case"value":m=ae;break;case"defaultValue":T=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,i));break;default:Nt(n,i,c,ae,o,null)}}zu(n,m,T,L,J,b,f,!1);return;case"select":We("invalid",n),c=b=m=null;for(f in o)if(o.hasOwnProperty(f)&&(T=o[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":b=T;break;case"multiple":c=T;default:Nt(n,i,f,T,o,null)}i=m,o=b,n.multiple=!!c,i!=null?pr(n,!!c,i,!1):o!=null&&pr(n,!!c,o,!0);return;case"textarea":We("invalid",n),m=f=c=null;for(b in o)if(o.hasOwnProperty(b)&&(T=o[b],T!=null))switch(b){case"value":c=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Nt(n,i,b,T,o,null)}yr(n,c,f,m);return;case"option":for(L in o)o.hasOwnProperty(L)&&(c=o[L],c!=null)&&(L==="selected"?n.selected=c&&typeof c!="function"&&typeof c!="symbol":Nt(n,i,L,c,o,null));return;case"dialog":We("beforetoggle",n),We("toggle",n),We("cancel",n),We("close",n);break;case"iframe":case"object":We("load",n);break;case"video":case"audio":for(c=0;c<vc.length;c++)We(vc[c],n);break;case"image":We("error",n),We("load",n);break;case"details":We("toggle",n);break;case"embed":case"source":case"link":We("error",n),We("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(c=o[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Nt(n,i,J,c,o,null)}return;default:if(xo(i)){for(ae in o)o.hasOwnProperty(ae)&&(c=o[ae],c!==void 0&&ng(n,i,ae,c,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(c=o[T],c!=null&&Nt(n,i,T,c,o,null))}function o1(n,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,T=null,L=null,J=null,ae=null;for(ie in o){var ue=o[ie];if(o.hasOwnProperty(ie)&&ue!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":L=ue;default:c.hasOwnProperty(ie)||Nt(n,i,ie,null,c,ue)}}for(var Z in c){var ie=c[Z];if(ue=o[Z],c.hasOwnProperty(Z)&&(ie!=null||ue!=null))switch(Z){case"type":m=ie;break;case"name":f=ie;break;case"checked":J=ie;break;case"defaultChecked":ae=ie;break;case"value":b=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,i));break;default:ie!==ue&&Nt(n,i,Z,ie,c,ue)}}yo(n,b,T,L,J,ae,m,f);return;case"select":ie=b=T=Z=null;for(m in o)if(L=o[m],o.hasOwnProperty(m)&&L!=null)switch(m){case"value":break;case"multiple":ie=L;default:c.hasOwnProperty(m)||Nt(n,i,m,null,c,L)}for(f in c)if(m=c[f],L=o[f],c.hasOwnProperty(f)&&(m!=null||L!=null))switch(f){case"value":Z=m;break;case"defaultValue":T=m;break;case"multiple":b=m;default:m!==L&&Nt(n,i,f,m,c,L)}i=T,o=b,c=ie,Z!=null?pr(n,!!o,Z,!1):!!c!=!!o&&(i!=null?pr(n,!!o,i,!0):pr(n,!!o,o?[]:"",!1));return;case"textarea":ie=Z=null;for(T in o)if(f=o[T],o.hasOwnProperty(T)&&f!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Nt(n,i,T,null,c,f)}for(b in c)if(f=c[b],m=o[b],c.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":Z=f;break;case"defaultValue":ie=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&Nt(n,i,b,f,c,m)}qu(n,Z,ie);return;case"option":for(var Ie in o)Z=o[Ie],o.hasOwnProperty(Ie)&&Z!=null&&!c.hasOwnProperty(Ie)&&(Ie==="selected"?n.selected=!1:Nt(n,i,Ie,null,c,Z));for(L in c)Z=c[L],ie=o[L],c.hasOwnProperty(L)&&Z!==ie&&(Z!=null||ie!=null)&&(L==="selected"?n.selected=Z&&typeof Z!="function"&&typeof Z!="symbol":Nt(n,i,L,Z,c,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in o)Z=o[Pe],o.hasOwnProperty(Pe)&&Z!=null&&!c.hasOwnProperty(Pe)&&Nt(n,i,Pe,null,c,Z);for(J in c)if(Z=c[J],ie=o[J],c.hasOwnProperty(J)&&Z!==ie&&(Z!=null||ie!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,i));break;default:Nt(n,i,J,Z,c,ie)}return;default:if(xo(i)){for(var Et in o)Z=o[Et],o.hasOwnProperty(Et)&&Z!==void 0&&!c.hasOwnProperty(Et)&&ng(n,i,Et,void 0,c,Z);for(ae in c)Z=c[ae],ie=o[ae],!c.hasOwnProperty(ae)||Z===ie||Z===void 0&&ie===void 0||ng(n,i,ae,Z,c,ie);return}}for(var G in o)Z=o[G],o.hasOwnProperty(G)&&Z!=null&&!c.hasOwnProperty(G)&&Nt(n,i,G,null,c,Z);for(ue in c)Z=c[ue],ie=o[ue],!c.hasOwnProperty(ue)||Z===ie||Z==null&&ie==null||Nt(n,i,ue,Z,c,ie)}function Lb(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function l1(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],m=f.transferSize,b=f.initiatorType,T=f.duration;if(m&&T&&Lb(b)){for(b=0,T=f.responseEnd,c+=1;c<o.length;c++){var L=o[c],J=L.startTime;if(J>T)break;var ae=L.transferSize,ue=L.initiatorType;ae&&Lb(ue)&&(L=L.responseEnd,b+=ae*(L<T?1:(T-J)/(L-J)))}if(--c,i+=8*(m+b)/(f.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var sg=null,ig=null;function Hd(n){return n.nodeType===9?n:n.ownerDocument}function Vb(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ub(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function rg(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ag=null;function c1(){var n=window.event;return n&&n.type==="popstate"?n===ag?!1:(ag=n,!0):(ag=null,!1)}var zb=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,qb=typeof Promise=="function"?Promise:void 0,d1=typeof queueMicrotask=="function"?queueMicrotask:typeof qb<"u"?function(n){return qb.resolve(null).then(n).catch(h1)}:zb;function h1(n){setTimeout(function(){throw n})}function zr(n){return n==="head"}function Fb(n,i){var o=i,c=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){n.removeChild(f),Zo(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Nc(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Nc(o);for(var m=o.firstChild;m;){var b=m.nextSibling,T=m.nodeName;m[ii]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=b}}else o==="body"&&Nc(n.ownerDocument.body);o=f}while(o);Zo(i)}function Bb(n,i){var o=n;n=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=c}while(o)}function og(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":og(o),go(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function f1(n,i,o,c){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[ii])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=js(n.nextSibling),n===null)break}return null}function m1(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=js(n.nextSibling),n===null))return null;return n}function Hb(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=js(n.nextSibling),n===null))return null;return n}function lg(n){return n.data==="$?"||n.data==="$~"}function cg(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function g1(n,i){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function js(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var ug=null;function $b(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(i===0)return js(n.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}n=n.nextSibling}return null}function Gb(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return n;i--}else o!=="/$"&&o!=="/&"||i++}n=n.previousSibling}return null}function Yb(n,i,o){switch(i=Hd(o),n){case"html":if(n=i.documentElement,!n)throw Error(r(452));return n;case"head":if(n=i.head,!n)throw Error(r(453));return n;case"body":if(n=i.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Nc(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);go(n)}var As=new Map,Kb=new Set;function $d(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Qi=ne.d;ne.d={f:p1,r:y1,D:x1,C:b1,L:v1,m:_1,X:E1,S:N1,M:T1};function p1(){var n=Qi.f(),i=kd();return n||i}function y1(n){var i=ps(n);i!==null&&i.tag===5&&i.type==="form"?d0(i):Qi.r(n)}var Qo=typeof document>"u"?null:document;function Wb(n,i,o){var c=Qo;if(c&&typeof i=="string"&&i){var f=Fn(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Kb.has(f)||(Kb.add(f),n={rel:n,crossOrigin:o,href:i},c.querySelector(f)===null&&(i=c.createElement("link"),jn(i,"link",n),Zt(i),c.head.appendChild(i)))}}function x1(n){Qi.D(n),Wb("dns-prefetch",n,null)}function b1(n,i){Qi.C(n,i),Wb("preconnect",n,i)}function v1(n,i,o){Qi.L(n,i,o);var c=Qo;if(c&&n&&i){var f='link[rel="preload"][as="'+Fn(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Fn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Fn(o.imageSizes)+'"]')):f+='[href="'+Fn(n)+'"]';var m=f;switch(i){case"style":m=Xo(n);break;case"script":m=Jo(n)}As.has(m)||(n=E({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),As.set(m,n),c.querySelector(f)!==null||i==="style"&&c.querySelector(Ec(m))||i==="script"&&c.querySelector(Tc(m))||(i=c.createElement("link"),jn(i,"link",n),Zt(i),c.head.appendChild(i)))}}function _1(n,i){Qi.m(n,i);var o=Qo;if(o&&n){var c=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Fn(c)+'"][href="'+Fn(n)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Jo(n)}if(!As.has(m)&&(n=E({rel:"modulepreload",href:n},i),As.set(m,n),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Tc(m)))return}c=o.createElement("link"),jn(c,"link",n),Zt(c),o.head.appendChild(c)}}}function N1(n,i,o){Qi.S(n,i,o);var c=Qo;if(c&&n){var f=ai(c).hoistableStyles,m=Xo(n);i=i||"default";var b=f.get(m);if(!b){var T={loading:0,preload:null};if(b=c.querySelector(Ec(m)))T.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":i},o),(o=As.get(m))&&dg(n,o);var L=b=c.createElement("link");Zt(L),jn(L,"link",n),L._p=new Promise(function(J,ae){L.onload=J,L.onerror=ae}),L.addEventListener("load",function(){T.loading|=1}),L.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Gd(b,i,c)}b={type:"stylesheet",instance:b,count:1,state:T},f.set(m,b)}}}function E1(n,i){Qi.X(n,i);var o=Qo;if(o&&n){var c=ai(o).hoistableScripts,f=Jo(n),m=c.get(f);m||(m=o.querySelector(Tc(f)),m||(n=E({src:n,async:!0},i),(i=As.get(f))&&hg(n,i),m=o.createElement("script"),Zt(m),jn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function T1(n,i){Qi.M(n,i);var o=Qo;if(o&&n){var c=ai(o).hoistableScripts,f=Jo(n),m=c.get(f);m||(m=o.querySelector(Tc(f)),m||(n=E({src:n,async:!0,type:"module"},i),(i=As.get(f))&&hg(n,i),m=o.createElement("script"),Zt(m),jn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function Qb(n,i,o,c){var f=(f=P.current)?$d(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Xo(o.href),o=ai(f).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Xo(o.href);var m=ai(f).hoistableStyles,b=m.get(n);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,b),(m=f.querySelector(Ec(n)))&&!m._p&&(b.instance=m,b.state.loading=5),As.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},As.set(n,o),m||w1(f,n,o,b.state))),i&&c===null)throw Error(r(528,""));return b}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Jo(o),o=ai(f).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Xo(n){return'href="'+Fn(n)+'"'}function Ec(n){return'link[rel="stylesheet"]['+n+"]"}function Xb(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function w1(n,i,o,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),jn(i,"link",o),Zt(i),n.head.appendChild(i))}function Jo(n){return'[src="'+Fn(n)+'"]'}function Tc(n){return"script[async]"+n}function Jb(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+Fn(o.href)+'"]');if(c)return i.instance=c,Zt(c),c;var f=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Zt(c),jn(c,"style",f),Gd(c,o.precedence,n),i.instance=c;case"stylesheet":f=Xo(o.href);var m=n.querySelector(Ec(f));if(m)return i.state.loading|=4,i.instance=m,Zt(m),m;c=Xb(o),(f=As.get(f))&&dg(c,f),m=(n.ownerDocument||n).createElement("link"),Zt(m);var b=m;return b._p=new Promise(function(T,L){b.onload=T,b.onerror=L}),jn(m,"link",c),i.state.loading|=4,Gd(m,o.precedence,n),i.instance=m;case"script":return m=Jo(o.src),(f=n.querySelector(Tc(m)))?(i.instance=f,Zt(f),f):(c=o,(f=As.get(m))&&(c=E({},o),hg(c,f)),n=n.ownerDocument||n,f=n.createElement("script"),Zt(f),jn(f,"link",c),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Gd(c,o.precedence,n));return i.instance}function Gd(n,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,b=0;b<c.length;b++){var T=c[b];if(T.dataset.precedence===i)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function dg(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function hg(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Yd=null;function Zb(n,i,o){if(Yd===null){var c=new Map,f=Yd=new Map;f.set(o,c)}else f=Yd,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[ii]||m[Jt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(i)||"";b=n+b;var T=c.get(b);T?T.push(m):c.set(b,[m])}}return c}function ev(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function j1(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(n=i.disabled,typeof i.precedence=="string"&&n==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function tv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function A1(n,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Xo(c.href),m=i.querySelector(Ec(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=Kd.bind(n),i.then(n,n)),o.state.loading|=4,o.instance=m,Zt(m);return}m=i.ownerDocument||i,c=Xb(c),(f=As.get(f))&&dg(c,f),m=m.createElement("link"),Zt(m);var b=m;b._p=new Promise(function(T,L){b.onload=T,b.onerror=L}),jn(m,"link",c),o.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Kd.bind(n),i.addEventListener("load",o),i.addEventListener("error",o))}}var fg=0;function S1(n,i){return n.stylesheets&&n.count===0&&Qd(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var c=setTimeout(function(){if(n.stylesheets&&Qd(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+i);0<n.imgBytes&&fg===0&&(fg=62500*l1());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Qd(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>fg?50:800)+i);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Kd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Wd=null;function Qd(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Wd=new Map,i.forEach(I1,n),Wd=null,Kd.call(n))}function I1(n,i){if(!(i.state.loading&4)){var o=Wd.get(n);if(o)var c=o.get(null);else{o=new Map,Wd.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}f=i.instance,b=f.getAttribute("data-precedence"),m=o.get(b)||c,m===c&&o.set(null,f),o.set(b,f),this.count++,c=Kd.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var wc={$$typeof:ee,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function C1(n,i,o,c,f,m,b,T,L){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function nv(n,i,o,c,f,m,b,T,L,J,ae,ue){return n=new C1(n,i,o,b,L,J,ae,ue,T),i=1,m===!0&&(i|=24),m=ts(3,null,null,i),n.current=m,m.stateNode=n,i=Gf(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:c,isDehydrated:o,cache:i},Qf(m),n}function sv(n){return n?(n=Io,n):Io}function iv(n,i,o,c,f,m){f=sv(f),c.context===null?c.context=f:c.pendingContext=f,c=Ir(i),c.payload={element:o},m=m===void 0?null:m,m!==null&&(c.callback=m),o=Cr(n,c,i),o!==null&&(Kn(o,n,i),sc(o,n,i))}function rv(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function mg(n,i){rv(n,i),(n=n.alternate)&&rv(n,i)}function av(n){if(n.tag===13||n.tag===31){var i=Da(n,67108864);i!==null&&Kn(i,n,67108864),mg(n,67108864)}}function ov(n){if(n.tag===13||n.tag===31){var i=as();i=_a(i);var o=Da(n,i);o!==null&&Kn(o,n,i),mg(n,i)}}var Xd=!0;function R1(n,i,o,c){var f=F.T;F.T=null;var m=ne.p;try{ne.p=2,gg(n,i,o,c)}finally{ne.p=m,F.T=f}}function M1(n,i,o,c){var f=F.T;F.T=null;var m=ne.p;try{ne.p=8,gg(n,i,o,c)}finally{ne.p=m,F.T=f}}function gg(n,i,o,c){if(Xd){var f=pg(c);if(f===null)tg(n,i,c,Jd,o),cv(n,c);else if(P1(f,n,i,o,c))c.stopPropagation();else if(cv(n,c),i&4&&-1<D1.indexOf(n)){for(;f!==null;){var m=ps(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=gs(m.pendingLanes);if(b!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var L=1<<31-it(b);T.entanglements[1]|=L,b&=~L}bi(m),(ht&6)===0&&(Pd=Xt()+500,bc(0))}}break;case 31:case 13:T=Da(m,2),T!==null&&Kn(T,m,2),kd(),mg(m,2)}if(m=pg(c),m===null&&tg(n,i,c,Jd,o),m===f)break;f=m}f!==null&&c.stopPropagation()}else tg(n,i,c,null,o)}}function pg(n){return n=ys(n),yg(n)}var Jd=null;function yg(n){if(Jd=null,n=ri(n),n!==null){var i=u(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=d(i),n!==null)return n;n=null}else if(o===31){if(n=g(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Jd=n,null}function lv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fs()){case dr:return 2;case hr:return 8;case Zs:case Il:return 32;case st:return 268435456;default:return 32}default:return 32}}var xg=!1,qr=null,Fr=null,Br=null,jc=new Map,Ac=new Map,Hr=[],D1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cv(n,i){switch(n){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":jc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(i.pointerId)}}function Sc(n,i,o,c,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=ps(i),i!==null&&av(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function P1(n,i,o,c,f){switch(i){case"focusin":return qr=Sc(qr,n,i,o,c,f),!0;case"dragenter":return Fr=Sc(Fr,n,i,o,c,f),!0;case"mouseover":return Br=Sc(Br,n,i,o,c,f),!0;case"pointerover":var m=f.pointerId;return jc.set(m,Sc(jc.get(m)||null,n,i,o,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Ac.set(m,Sc(Ac.get(m)||null,n,i,o,c,f)),!0}return!1}function uv(n){var i=ri(n.target);if(i!==null){var o=u(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){n.blockedOn=i,Os(n.priority,function(){ov(o)});return}}else if(i===31){if(i=g(o),i!==null){n.blockedOn=i,Os(n.priority,function(){ov(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Zd(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=pg(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);ql=c,o.target.dispatchEvent(c),ql=null}else return i=ps(o),i!==null&&av(i),n.blockedOn=o,!1;i.shift()}return!0}function dv(n,i,o){Zd(n)&&o.delete(i)}function O1(){xg=!1,qr!==null&&Zd(qr)&&(qr=null),Fr!==null&&Zd(Fr)&&(Fr=null),Br!==null&&Zd(Br)&&(Br=null),jc.forEach(dv),Ac.forEach(dv)}function eh(n,i){n.blockedOn===i&&(n.blockedOn=null,xg||(xg=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,O1)))}var th=null;function hv(n){th!==n&&(th=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){th===n&&(th=null);for(var i=0;i<n.length;i+=3){var o=n[i],c=n[i+1],f=n[i+2];if(typeof c!="function"){if(yg(c||o)===null)continue;break}var m=ps(o);m!==null&&(n.splice(i,3),i-=3,pm(m,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Zo(n){function i(L){return eh(L,n)}qr!==null&&eh(qr,n),Fr!==null&&eh(Fr,n),Br!==null&&eh(Br,n),jc.forEach(i),Ac.forEach(i);for(var o=0;o<Hr.length;o++){var c=Hr[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Hr.length&&(o=Hr[0],o.blockedOn===null);)uv(o),o.blockedOn===null&&Hr.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],m=o[c+1],b=f[pn]||null;if(typeof m=="function")b||hv(o);else if(b){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[pn]||null)T=b.formAction;else if(yg(f)!==null)continue}else T=b.action;typeof T=="function"?o[c+1]=T:(o.splice(c,3),c-=3),hv(o)}}}function fv(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function bg(n){this._internalRoot=n}nh.prototype.render=bg.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,c=as();iv(o,c,n,i,null,null)},nh.prototype.unmount=bg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;iv(n.current,2,null,n,null,null),kd(),i[si]=null}};function nh(n){this._internalRoot=n}nh.prototype.unstable_scheduleHydration=function(n){if(n){var i=ku();n={blockedOn:null,target:n,priority:i};for(var o=0;o<Hr.length&&i!==0&&i<Hr[o].priority;o++);Hr.splice(o,0,n),o===0&&uv(n)}};var mv=e.version;if(mv!=="19.2.3")throw Error(r(527,mv,"19.2.3"));ne.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=p(i),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var k1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{Vt=sh.inject(k1),Qe=sh}catch{}}return Rc.createRoot=function(n,i){if(!l(n))throw Error(r(299));var o=!1,c="",f=_0,m=N0,b=E0;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=nv(n,1,!1,null,null,o,c,null,f,m,b,fv),n[si]=i.current,eg(n),new bg(i)},Rc.hydrateRoot=function(n,i,o){if(!l(n))throw Error(r(299));var c=!1,f="",m=_0,b=N0,T=E0,L=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.formState!==void 0&&(L=o.formState)),i=nv(n,1,!0,i,o??null,c,f,L,m,b,T,fv),i.context=sv(null),o=i.current,c=as(),c=_a(c),f=Ir(c),f.callback=null,Cr(o,f,c),o=c,i.current.lanes=o,ba(i,o),bi(i),n[si]=i.current,eg(n),new nh(i)},Rc.version="19.2.3",Rc}var Cv;function EA(){if(Cv)return jg.exports;Cv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jg.exports=NA(),jg.exports}var TA=EA();const wA="/assets/face2-BnorMDId.webp",jA="/assets/face2-B6YhBnC2.png";function Ct(){return a.jsx("footer",{className:"bg-gray-900 text-gray-300 py-8",children:a.jsx("div",{className:"max-w-4xl mx-auto px-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:"Seth Jamison Kitchen"}),a.jsx("p",{children:"Professional Engineer, Missouri"}),a.jsx("p",{className:"text-sm",children:"License No. PE-2026001392"})]}),a.jsxs("nav",{"aria-label":"Footer navigation",className:"flex flex-wrap gap-4 text-sm",children:[a.jsx(_e,{to:"/contact",className:"hover:text-white transition-colors",children:"Contact"}),a.jsx(_e,{to:"/portal",className:"hover:text-white transition-colors",children:"Portal Login"}),a.jsx(_e,{to:"/legal",className:"hover:text-white transition-colors",children:"Legal / Disclaimer"})]})]})})})}const AA=()=>{};var Rv={};const tE=function(s){const e=[];let t=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[t++]=l:l<2048?(e[t++]=l>>6|192,e[t++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[t++]=l>>18|240,e[t++]=l>>12&63|128,e[t++]=l>>6&63|128,e[t++]=l&63|128):(e[t++]=l>>12|224,e[t++]=l>>6&63|128,e[t++]=l&63|128)}return e},SA=function(s){const e=[];let t=0,r=0;for(;t<s.length;){const l=s[t++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[t++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[t++],d=s[t++],g=s[t++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[t++],d=s[t++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},nE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,p=y?s[l+2]:0,_=u>>2,E=(u&3)<<4|g>>4;let j=(g&15)<<2|p>>6,M=p&63;y||(M=64,d||(j=64)),r.push(t[_],t[E],t[j],t[M])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(tE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):SA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=t[s.charAt(l++)],g=l<s.length?t[s.charAt(l)]:0;++l;const p=l<s.length?t[s.charAt(l)]:64;++l;const E=l<s.length?t[s.charAt(l)]:64;if(++l,u==null||g==null||p==null||E==null)throw new IA;const j=u<<2|g>>4;if(r.push(j),p!==64){const M=g<<4&240|p>>2;if(r.push(M),E!==64){const W=p<<6&192|E;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class IA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CA=function(s){const e=tE(s);return nE.encodeByteArray(e,!0)},Mh=function(s){return CA(s).replace(/\./g,"")},sE=function(s){try{return nE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function RA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const MA=()=>RA().__FIREBASE_DEFAULTS__,DA=()=>{if(typeof process>"u"||typeof Rv>"u")return;const s=Rv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},PA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&sE(s[1]);return e&&JSON.parse(e)},tf=()=>{try{return AA()||MA()||DA()||PA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},iE=s=>tf()?.emulatorHosts?.[s],OA=s=>{const e=iE(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},rE=()=>tf()?.config,aE=s=>tf()?.[`_${s}`];class kA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function _l(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oE(s){return(await fetch(s,{credentials:"include"})).ok}function LA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Mh(JSON.stringify(t)),Mh(JSON.stringify(d)),""].join(".")}const Fc={};function VA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Fc))Fc[e]?s.emulator.push(e):s.prod.push(e);return s}function UA(s){let e=document.getElementById(s),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),t=!0),{created:t,element:e}}let Mv=!1;function lE(s,e){if(typeof window>"u"||typeof document>"u"||!_l(window.location.host)||Fc[s]===e||Fc[s]||Mv)return;Fc[s]=e;function t(j){return`__firebase__banner__${j}`}const r="__firebase__banner",u=VA().prod.length>0;function d(){const j=document.getElementById(r);j&&j.remove()}function g(j){j.style.display="flex",j.style.background="#7faaf0",j.style.position="fixed",j.style.bottom="5px",j.style.left="5px",j.style.padding=".5em",j.style.borderRadius="5px",j.style.alignItems="center"}function y(j,M){j.setAttribute("width","24"),j.setAttribute("id",M),j.setAttribute("height","24"),j.setAttribute("viewBox","0 0 24 24"),j.setAttribute("fill","none"),j.style.marginLeft="-6px"}function p(){const j=document.createElement("span");return j.style.cursor="pointer",j.style.marginLeft="16px",j.style.fontSize="24px",j.innerHTML=" &times;",j.onclick=()=>{Mv=!0,d()},j}function _(j,M){j.setAttribute("id",M),j.innerText="Learn more",j.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",j.setAttribute("target","__blank"),j.style.paddingLeft="5px",j.style.textDecoration="underline"}function E(){const j=UA(r),M=t("text"),W=document.getElementById(M)||document.createElement("span"),H=t("learnmore"),q=document.getElementById(H)||document.createElement("a"),Y=t("preprendIcon"),re=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(j.created){const ee=j.element;g(ee),_(q,H);const $=p();y(re,Y),ee.append(re,W,q,$),document.body.appendChild(ee)}u?(W.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function qA(){const s=tf()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Up(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function BA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HA(){const s=Vn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function $A(){return!qA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zp(){try{return typeof indexedDB=="object"}catch{return!1}}function qp(){return new Promise((s,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),t||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{t=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(t){e(t)}})}function cE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const GA="FirebaseError";class Js extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=GA,Object.setPrototypeOf(this,Js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oo.prototype.create)}}class oo{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?YA(u,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Js(l,g,r)}}function YA(s,e){return s.replace(KA,(t,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const KA=/\{\$([^}]+)}/g;function WA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ra(s,e){if(s===e)return!0;const t=Object.keys(s),r=Object.keys(e);for(const l of t){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(Dv(u)&&Dv(d)){if(!ra(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!t.includes(l))return!1;return!0}function Dv(s){return s!==null&&typeof s=="object"}function vu(s){const e=[];for(const[t,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pc(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Oc(s){const e=s.indexOf("?");if(!e)return"";const t=s.indexOf("#",e);return s.substring(e,t>0?t:void 0)}function QA(s,e){const t=new XA(s,e);return t.subscribe.bind(t)}class XA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let l;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");JA(e,["next","error","complete"])?l=e:l={next:e,error:t,complete:r},l.next===void 0&&(l.next=Ig),l.error===void 0&&(l.error=Ig),l.complete===void 0&&(l.complete=Ig);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JA(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function Ig(){}const ZA=1e3,eS=2,tS=14400*1e3,nS=.5;function Pv(s,e=ZA,t=eS){const r=e*Math.pow(t,s),l=Math.round(nS*r*(Math.random()-.5)*2);return Math.min(tS,r+l)}function Gt(s){return s&&s._delegate?s._delegate:s}class Qs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ga="[DEFAULT]";class sS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new kA;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:t});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rS(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&d.resolve(l)}return l}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const l of r)try{l(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iS(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iS(s){return s===Ga?void 0:s}function rS(s){return s.instantiationMode==="EAGER"}class aS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ze||(Ze={}));const oS={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},lS=Ze.INFO,cS={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},uS=(s,e,...t)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=cS[e];if(l)console[l](`[${r}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nf{constructor(e){this.name=e,this._logLevel=lS,this._logHandler=uS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const dS=(s,e)=>e.some(t=>s instanceof t);let Ov,kv;function hS(){return Ov||(Ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fS(){return kv||(kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uE=new WeakMap,Xg=new WeakMap,dE=new WeakMap,Cg=new WeakMap,Fp=new WeakMap;function mS(s){const e=new Promise((t,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{t(ta(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&uE.set(t,s)}).catch(()=>{}),Fp.set(e,s),e}function gS(s){if(Xg.has(s))return;const e=new Promise((t,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{t(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});Xg.set(s,e)}let Jg={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Xg.get(s);if(e==="objectStoreNames")return s.objectStoreNames||dE.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ta(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function pS(s){Jg=s(Jg)}function yS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=s.call(Rg(this),e,...t);return dE.set(r,e.sort?e.sort():[e]),ta(r)}:fS().includes(s)?function(...e){return s.apply(Rg(this),e),ta(uE.get(this))}:function(...e){return ta(s.apply(Rg(this),e))}}function xS(s){return typeof s=="function"?yS(s):(s instanceof IDBTransaction&&gS(s),dS(s,hS())?new Proxy(s,Jg):s)}function ta(s){if(s instanceof IDBRequest)return mS(s);if(Cg.has(s))return Cg.get(s);const e=xS(s);return e!==s&&(Cg.set(s,e),Fp.set(e,s)),e}const Rg=s=>Fp.get(s);function hE(s,e,{blocked:t,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),g=ta(d);return r&&d.addEventListener("upgradeneeded",y=>{r(ta(d.result),y.oldVersion,y.newVersion,ta(d.transaction),y)}),t&&d.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const bS=["get","getKey","getAll","getAllKeys","count"],vS=["put","add","delete","clear"],Mg=new Map;function Lv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Mg.get(e))return Mg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,l=vS.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(l||bS.includes(t)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let p=y.store;return r&&(p=p.index(g.shift())),(await Promise.all([p[t](...g),l&&y.done]))[0]};return Mg.set(e,u),u}pS(s=>({...s,get:(e,t,r)=>Lv(e,t)||s.get(e,t,r),has:(e,t)=>!!Lv(e,t)||s.has(e,t)}));class _S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(NS(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function NS(s){return s.getComponent()?.type==="VERSION"}const Zg="@firebase/app",Vv="0.14.7";const ar=new nf("@firebase/app"),ES="@firebase/app-compat",TS="@firebase/analytics-compat",wS="@firebase/analytics",jS="@firebase/app-check-compat",AS="@firebase/app-check",SS="@firebase/auth",IS="@firebase/auth-compat",CS="@firebase/database",RS="@firebase/data-connect",MS="@firebase/database-compat",DS="@firebase/functions",PS="@firebase/functions-compat",OS="@firebase/installations",kS="@firebase/installations-compat",LS="@firebase/messaging",VS="@firebase/messaging-compat",US="@firebase/performance",zS="@firebase/performance-compat",qS="@firebase/remote-config",FS="@firebase/remote-config-compat",BS="@firebase/storage",HS="@firebase/storage-compat",$S="@firebase/firestore",GS="@firebase/ai",YS="@firebase/firestore-compat",KS="firebase",WS="12.8.0";const ep="[DEFAULT]",QS={[Zg]:"fire-core",[ES]:"fire-core-compat",[wS]:"fire-analytics",[TS]:"fire-analytics-compat",[AS]:"fire-app-check",[jS]:"fire-app-check-compat",[SS]:"fire-auth",[IS]:"fire-auth-compat",[CS]:"fire-rtdb",[RS]:"fire-data-connect",[MS]:"fire-rtdb-compat",[DS]:"fire-fn",[PS]:"fire-fn-compat",[OS]:"fire-iid",[kS]:"fire-iid-compat",[LS]:"fire-fcm",[VS]:"fire-fcm-compat",[US]:"fire-perf",[zS]:"fire-perf-compat",[qS]:"fire-rc",[FS]:"fire-rc-compat",[BS]:"fire-gcs",[HS]:"fire-gcs-compat",[$S]:"fire-fst",[YS]:"fire-fst-compat",[GS]:"fire-vertex","fire-js":"fire-js",[KS]:"fire-js-all"};const Zc=new Map,XS=new Map,tp=new Map;function Uv(s,e){try{s.container.addComponent(e)}catch(t){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function Ii(s){const e=s.name;if(tp.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;tp.set(e,s);for(const t of Zc.values())Uv(t,s);for(const t of XS.values())Uv(t,s);return!0}function lo(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function cs(s){return s==null?!1:s.settings!==void 0}const JS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},na=new oo("app","Firebase",JS);class ZS{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw na.create("app-deleted",{appName:this._name})}}const Nl=WS;function fE(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const r={name:ep,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw na.create("bad-app-name",{appName:String(l)});if(t||(t=rE()),!t)throw na.create("no-options");const u=Zc.get(l);if(u){if(ra(t,u.options)&&ra(r,u.config))return u;throw na.create("duplicate-app",{appName:l})}const d=new aS(l);for(const y of tp.values())d.addComponent(y);const g=new ZS(t,r,d);return Zc.set(l,g),g}function Bp(s=ep){const e=Zc.get(s);if(!e&&s===ep&&rE())return fE();if(!e)throw na.create("no-app",{appName:s});return e}function zv(){return Array.from(Zc.values())}function Rs(s,e,t){let r=QS[s]??s;t&&(r+=`-${t}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(d.join(" "));return}Ii(new Qs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const eI="firebase-heartbeat-database",tI=1,eu="firebase-heartbeat-store";let Dg=null;function mE(){return Dg||(Dg=hE(eI,tI,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(eu)}catch(t){console.warn(t)}}}}).catch(s=>{throw na.create("idb-open",{originalErrorMessage:s.message})})),Dg}async function nI(s){try{const t=(await mE()).transaction(eu),r=await t.objectStore(eu).get(gE(s));return await t.done,r}catch(e){if(e instanceof Js)ar.warn(e.message);else{const t=na.create("idb-get",{originalErrorMessage:e?.message});ar.warn(t.message)}}}async function qv(s,e){try{const r=(await mE()).transaction(eu,"readwrite");await r.objectStore(eu).put(e,gE(s)),await r.done}catch(t){if(t instanceof Js)ar.warn(t.message);else{const r=na.create("idb-set",{originalErrorMessage:t?.message});ar.warn(r.message)}}}function gE(s){return`${s.name}!${s.options.appId}`}const sI=1024,iI=30;class rI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Fv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>iI){const l=lI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ar.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fv(),{heartbeatsToSend:t,unsentEntries:r}=aI(this._heartbeatsCache.heartbeats),l=Mh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ar.warn(e),""}}}function Fv(){return new Date().toISOString().substring(0,10)}function aI(s,e=sI){const t=[];let r=s.slice();for(const l of s){const u=t.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),Bv(t)>e){u.dates.pop();break}}else if(t.push({agent:l.agent,dates:[l.date]}),Bv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class oI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zp()?qp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Bv(s){return Mh(JSON.stringify({version:2,heartbeats:s})).length}function lI(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let r=1;r<s.length;r++)s[r].date<t&&(t=s[r].date,e=r);return e}function cI(s){Ii(new Qs("platform-logger",e=>new _S(e),"PRIVATE")),Ii(new Qs("heartbeat",e=>new rI(e),"PRIVATE")),Rs(Zg,Vv,s),Rs(Zg,Vv,"esm2020"),Rs("fire-js","")}cI("");function pE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uI=pE,yE=new oo("auth","Firebase",pE());const Dh=new nf("@firebase/auth");function dI(s,...e){Dh.logLevel<=Ze.WARN&&Dh.warn(`Auth (${Nl}): ${s}`,...e)}function yh(s,...e){Dh.logLevel<=Ze.ERROR&&Dh.error(`Auth (${Nl}): ${s}`,...e)}function Ms(s,...e){throw $p(s,...e)}function Ys(s,...e){return $p(s,...e)}function Hp(s,e,t){const r={...uI(),[e]:t};return new oo("auth","Firebase",r).create(e,{appName:s.name})}function ir(s){return Hp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hI(s,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ms(s,"argument-error"),Hp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $p(s,...e){if(typeof s!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(t,...r)}return yE.create(s,...e)}function Oe(s,e,...t){if(!s)throw $p(e,...t)}function Zi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw yh(e),new Error(e)}function or(s,e){s||Zi(e)}function np(){return typeof self<"u"&&self.location?.href||""}function fI(){return Hv()==="http:"||Hv()==="https:"}function Hv(){return typeof self<"u"&&self.location?.protocol||null}function mI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fI()||Up()||"connection"in navigator)?navigator.onLine:!0}function gI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class _u{constructor(e,t){this.shortDelay=e,this.longDelay=t,or(t>e,"Short delay should be less than long delay!"),this.isMobile=zA()||BA()}get(){return mI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gp(s,e){or(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class xE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const yI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xI=new _u(3e4,6e4);function ma(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ga(s,e,t,r,l={}){return bE(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const g=vu({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:y,...u};return FA()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&_l(s.emulatorConfig.host)&&(p.credentials="include"),xE.fetch()(await vE(s,s.config.apiHost,t,g),p)})}async function bE(s,e,t){s._canInitEmulator=!1;const r={...pI,...e};try{const l=new vI(s),u=await Promise.race([t(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw rh(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,p]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw rh(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw rh(s,"user-disabled",d);const _=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Hp(s,_,p);Ms(s,_)}}catch(l){if(l instanceof Js)throw l;Ms(s,"network-request-failed",{message:String(l)})}}async function Nu(s,e,t,r,l={}){const u=await ga(s,e,t,r,l);return"mfaPendingCredential"in u&&Ms(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function vE(s,e,t,r){const l=`${e}${t}?${r}`,u=s,d=u.config.emulator?Gp(s.config,l):`${s.config.apiScheme}://${l}`;return yI.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function bI(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ys(this.auth,"network-request-failed")),xI.get())})}}function rh(s,e,t){const r={appName:s.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const l=Ys(s,e,r);return l.customData._tokenResponse=t,l}function $v(s){return s!==void 0&&s.enterprise!==void 0}class _I{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return bI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NI(s,e){return ga(s,"GET","/v2/recaptchaConfig",ma(s,e))}async function EI(s,e){return ga(s,"POST","/v1/accounts:delete",e)}async function Ph(s,e){return ga(s,"POST","/v1/accounts:lookup",e)}function Bc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TI(s,e=!1){const t=Gt(s),r=await t.getIdToken(e),l=Yp(r);Oe(l&&l.exp&&l.auth_time&&l.iat,t.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Bc(Pg(l.auth_time)),issuedAtTime:Bc(Pg(l.iat)),expirationTime:Bc(Pg(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Pg(s){return Number(s)*1e3}function Yp(s){const[e,t,r]=s.split(".");if(e===void 0||t===void 0||r===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const l=sE(t);return l?JSON.parse(l):(yh("Failed to decode base64 JWT payload"),null)}catch(l){return yh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Gv(s){const e=Yp(s);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function tu(s,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Js&&wI(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function wI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class jI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bc(this.lastLoginAt),this.creationTime=Bc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Oh(s){const e=s.auth,t=await s.getIdToken(),r=await tu(s,Ph(e,{idToken:t}));Oe(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?_E(l.providerUserInfo):[],d=SI(s.providerData,u),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,p=g?y:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new sp(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(s,_)}async function AI(s){const e=Gt(s);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SI(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function _E(s){return s.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function II(s,e){const t=await bE(s,{},async()=>{const r=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await vE(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return s.emulatorConfig&&_l(s.emulatorConfig.host)&&(y.credentials="include"),xE.fetch()(d,y)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function CI(s,e){return ga(s,"POST","/v2/accounts:revokeToken",ma(s,e))}class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=Gv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:l,expiresIn:u}=await II(e,t);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:l,expirationTime:u}=t,d=new il;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Oe(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Oe(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function Gr(s,e){Oe(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class $s{constructor({uid:e,auth:t,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new jI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new sp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await tu(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TI(this,e)}reload(){return AI(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $s({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cs(this.auth.app))return Promise.reject(ir(this.auth));const e=await this.getIdToken();return await tu(this,EI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,l=t.email??void 0,u=t.phoneNumber??void 0,d=t.photoURL??void 0,g=t.tenantId??void 0,y=t._redirectEventId??void 0,p=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:E,emailVerified:j,isAnonymous:M,providerData:W,stsTokenManager:H}=t;Oe(E&&H,e,"internal-error");const q=il.fromJSON(this.name,H);Oe(typeof E=="string",e,"internal-error"),Gr(r,e.name),Gr(l,e.name),Oe(typeof j=="boolean",e,"internal-error"),Oe(typeof M=="boolean",e,"internal-error"),Gr(u,e.name),Gr(d,e.name),Gr(g,e.name),Gr(y,e.name),Gr(p,e.name),Gr(_,e.name);const Y=new $s({uid:E,auth:e,email:l,emailVerified:j,displayName:r,isAnonymous:M,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:q,createdAt:p,lastLoginAt:_});return W&&Array.isArray(W)&&(Y.providerData=W.map(re=>({...re}))),y&&(Y._redirectEventId=y),Y}static async _fromIdTokenResponse(e,t,r=!1){const l=new il;l.updateFromServerResponse(t);const u=new $s({uid:t.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Oh(u),u}static async _fromGetAccountInfoResponse(e,t,r){const l=t.users[0];Oe(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?_E(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new il;g.updateFromIdToken(r);const y=new $s({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new sp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const Yv=new Map;function er(s){or(s instanceof Function,"Expected a class definition");let e=Yv.get(s);return e?(or(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Yv.set(s,e),e)}class NE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}NE.type="NONE";const Kv=NE;function xh(s,e,t){return`firebase:${s}:${e}:${t}`}class rl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=xh(this.userKey,l.apiKey,u),this.fullPersistenceKey=xh("persistence",l.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ph(this.auth,{idToken:e}).catch(()=>{});return t?$s._fromGetAccountInfoResponse(this.auth,t,e):null}return $s._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new rl(er(Kv),e,r);const l=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||er(Kv);const d=xh(r,e.config.apiKey,e.name);let g=null;for(const p of t)try{const _=await p._get(d);if(_){let E;if(typeof _=="string"){const j=await Ph(e,{idToken:_}).catch(()=>{});if(!j)break;E=await $s._fromGetAccountInfoResponse(e,j,_)}else E=$s._fromJSON(e,_);p!==u&&(g=E),u=p;break}}catch{}const y=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new rl(u,e,r):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(t.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new rl(u,e,r))}}function Wv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SE(e))return"Blackberry";if(IE(e))return"Webos";if(TE(e))return"Safari";if((e.includes("chrome/")||wE(e))&&!e.includes("edge/"))return"Chrome";if(AE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(t);if(r?.length===2)return r[1]}return"Other"}function EE(s=Vn()){return/firefox\//i.test(s)}function TE(s=Vn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wE(s=Vn()){return/crios\//i.test(s)}function jE(s=Vn()){return/iemobile/i.test(s)}function AE(s=Vn()){return/android/i.test(s)}function SE(s=Vn()){return/blackberry/i.test(s)}function IE(s=Vn()){return/webos/i.test(s)}function Kp(s=Vn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function RI(s=Vn()){return Kp(s)&&!!window.navigator?.standalone}function MI(){return HA()&&document.documentMode===10}function CE(s=Vn()){return Kp(s)||AE(s)||IE(s)||SE(s)||/windows phone/i.test(s)||jE(s)}function RE(s,e=[]){let t;switch(s){case"Browser":t=Wv(Vn());break;case"Worker":t=`${Wv(Vn())}-${s}`;break;default:t=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Nl}/${r}`}class DI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=u=>new Promise((d,g)=>{try{const y=e(u);d(y)}catch(y){g(y)}});r.onAbort=t,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const l of t)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function PI(s,e={}){return ga(s,"GET","/v2/passwordPolicy",ma(s,e))}const OI=6;class kI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??OI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),l&&(t.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class LI{constructor(e,t,r,l){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qv(this),this.idTokenSubscription=new Qv(this),this.beforeStateQueue=new DI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=er(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ph(this,{idToken:e}),r=await $s._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(cs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cs(this.app))return Promise.reject(ir(this));const t=e?Gt(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cs(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cs(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PI(this),t=new kI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oo("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await CI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&er(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[er(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,l){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(t);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&dI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function pa(s){return Gt(s)}class Qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=QA(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VI(s){sf=s}function ME(s){return sf.loadJS(s)}function UI(){return sf.recaptchaEnterpriseScript}function zI(){return sf.gapiScript}function qI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class FI{constructor(){this.enterprise=new BI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class BI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const HI="recaptcha-enterprise",DE="NO_RECAPTCHA";class $I{constructor(e){this.type=HI,this.auth=pa(e)}async verify(e="verify",t=!1){async function r(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{NI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new _I(y);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,d(p.siteKey)}}).catch(y=>{g(y)})})}function l(u,d,g){const y=window.grecaptcha;$v(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(p=>{d(p)}).catch(()=>{d(DE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FI().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(g=>{if(!t&&$v(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=UI();y.length!==0&&(y+=g),ME(y).then(()=>{l(g,u,d)}).catch(p=>{d(p)})}}).catch(g=>{d(g)})})}}async function Xv(s,e,t,r=!1,l=!1){const u=new $I(s);let d;if(l)d=DE;else try{d=await u.verify(t)}catch{d=await u.verify(t,!0)}const g={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function ip(s,e,t,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Xv(s,e,t,t==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Xv(s,e,t,t==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function GI(s,e){const t=lo(s,"auth");if(t.isInitialized()){const l=t.getImmediate(),u=t.getOptions();if(ra(u,e??{}))return l;Ms(l,"already-initialized")}return t.initialize({options:e})}function YI(s,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(er);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function KI(s,e,t){const r=pa(s);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=PE(e),{host:d,port:g}=WI(e),y=g===null?"":`:${g}`,p={url:`${u}//${d}${y}/`},_=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(ra(p,r.config.emulator)&&ra(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,_l(d)?(oE(`${u}//${d}${y}`),lE("Auth",!0)):QI()}function PE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function WI(s){const e=PE(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Jv(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:Jv(d)}}}function Jv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function QI(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Wp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zi("not implemented")}_getIdTokenResponse(e){return Zi("not implemented")}_linkToIdToken(e,t){return Zi("not implemented")}_getReauthenticationResolver(e){return Zi("not implemented")}}async function XI(s,e){return ga(s,"POST","/v1/accounts:signUp",e)}async function JI(s,e){return Nu(s,"POST","/v1/accounts:signInWithPassword",ma(s,e))}async function ZI(s,e){return Nu(s,"POST","/v1/accounts:signInWithEmailLink",ma(s,e))}async function eC(s,e){return Nu(s,"POST","/v1/accounts:signInWithEmailLink",ma(s,e))}class nu extends Wp{constructor(e,t,r,l=null){super("password",r),this._email=e,this._password=t,this._tenantId=l}static _fromEmailAndPassword(e,t){return new nu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new nu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ip(e,t,"signInWithPassword",JI);case"emailLink":return ZI(e,{email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ip(e,r,"signUpPassword",XI);case"emailLink":return eC(e,{idToken:t,email:this._email,oobCode:this._password});default:Ms(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function al(s,e){return Nu(s,"POST","/v1/accounts:signInWithIdp",ma(s,e))}const tC="http://localhost";class to extends Wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ms("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=t;if(!r||!l)return null;const d=new to(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return al(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,al(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,al(e,t)}buildRequest(){const e={requestUri:tC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vu(t)}return e}}function nC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sC(s){const e=Pc(Oc(s)).link,t=e?Pc(Oc(e)).deep_link_id:null,r=Pc(Oc(s)).deep_link_id;return(r?Pc(Oc(r)).link:null)||r||t||e||s}class Qp{constructor(e){const t=Pc(Oc(e)),r=t.apiKey??null,l=t.oobCode??null,u=nC(t.mode??null);Oe(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=sC(e);try{return new Qp(t)}catch{return null}}}class El{constructor(){this.providerId=El.PROVIDER_ID}static credential(e,t){return nu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Qp.parseLink(t);return Oe(r,"argument-error"),nu._fromEmailAndCode(e,r.code,r.tenantId)}}El.PROVIDER_ID="password";El.EMAIL_PASSWORD_SIGN_IN_METHOD="password";El.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Xp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Eu extends Xp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qr extends Eu{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";class Ji extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return to._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ji.credential(t,r)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";class Xr extends Eu{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";class Jr extends Eu{constructor(){super("twitter.com")}static credential(e,t){return to._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Jr.credential(t,r)}catch{return null}}}Jr.TWITTER_SIGN_IN_METHOD="twitter.com";Jr.PROVIDER_ID="twitter.com";async function iC(s,e){return Nu(s,"POST","/v1/accounts:signUp",ma(s,e))}class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,l=!1){const u=await $s._fromIdTokenResponse(e,r,l),d=Zv(r);return new no({user:u,providerId:d,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const l=Zv(r);return new no({user:e,providerId:l,_tokenResponse:r,operationType:t})}}function Zv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class kh extends Js{constructor(e,t,r,l){super(t.code,t.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,l){return new kh(e,t,r,l)}}function OE(s,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(s,u,e,r):u})}async function rC(s,e,t=!1){const r=await tu(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return no._forOperation(s,"link",r)}async function aC(s,e,t=!1){const{auth:r}=s;if(cs(r.app))return Promise.reject(ir(r));const l="reauthenticate";try{const u=await tu(s,OE(r,l,e,s),t);Oe(u.idToken,r,"internal-error");const d=Yp(u.idToken);Oe(d,r,"internal-error");const{sub:g}=d;return Oe(s.uid===g,r,"user-mismatch"),no._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ms(r,"user-mismatch"),u}}async function kE(s,e,t=!1){if(cs(s.app))return Promise.reject(ir(s));const r="signIn",l=await OE(s,r,e),u=await no._fromIdTokenResponse(s,r,l);return t||await s._updateCurrentUser(u.user),u}async function oC(s,e){return kE(pa(s),e)}async function LE(s){const e=pa(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lC(s,e,t){if(cs(s.app))return Promise.reject(ir(s));const r=pa(s),d=await ip(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iC).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&LE(s),y}),g=await no._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function cC(s,e,t){return cs(s.app)?Promise.reject(ir(s)):oC(Gt(s),El.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&LE(s),r})}function uC(s,e,t,r){return Gt(s).onIdTokenChanged(e,t,r)}function dC(s,e,t){return Gt(s).beforeAuthStateChanged(e,t)}function Jp(s,e,t,r){return Gt(s).onAuthStateChanged(e,t,r)}function hC(s){return Gt(s).signOut()}const Lh="__sak";class VE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const fC=1e3,mC=10;class UE extends VE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),l=this.localCache[t];r!==l&&e(t,l,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=e.key;t?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!t&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);MI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,mC):l()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},fC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}UE.type="LOCAL";const gC=UE;class zE extends VE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}zE.type="SESSION";const qE=zE;function pC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(l=>l.isListeningto(e));if(t)return t;const r=new rf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:l,data:u}=t.data,d=this.handlersMap[l];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async p=>p(t.origin,u)),y=await pC(g);t.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];function Zp(s="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return s+t}class yC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const p=Zp("",20);l.port1.start();const _=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(E){const j=E;if(j.data.eventId===p)switch(j.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(j.data.response);break;default:clearTimeout(_),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ei(){return window}function xC(s){Ei().location.href=s}function FE(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function bC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vC(){return navigator?.serviceWorker?.controller||null}function _C(){return FE()?self:null}const BE="firebaseLocalStorageDb",NC=1,Vh="firebaseLocalStorage",HE="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function af(s,e){return s.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function EC(){const s=indexedDB.deleteDatabase(BE);return new Tu(s).toPromise()}function rp(){const s=indexedDB.open(BE,NC);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Vh,{keyPath:HE})}catch(l){t(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Vh)?e(r):(r.close(),await EC(),e(await rp()))})})}async function e_(s,e,t){const r=af(s,!0).put({[HE]:e,value:t});return new Tu(r).toPromise()}async function TC(s,e){const t=af(s,!1).get(e),r=await new Tu(t).toPromise();return r===void 0?null:r.value}function t_(s,e){const t=af(s,!0).delete(e);return new Tu(t).toPromise()}const wC=800,jC=3;class $E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>jC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(_C()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bC(),!this.activeServiceWorker)return;this.sender=new yC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rp();return await e_(e,Lh,"1"),await t_(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>e_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>TC(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>t_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=af(l,!1).getAll();return new Tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),t.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),t.push(l));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$E.type="LOCAL";const AC=$E;new _u(3e4,6e4);function GE(s,e){return e?er(e):(Oe(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class ey extends Wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return al(e,this._buildIdpRequest())}_linkToIdToken(e,t){return al(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return al(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function SC(s){return kE(s.auth,new ey(s),s.bypassAuthState)}function IC(s){const{auth:e,user:t}=s;return Oe(t,e,"internal-error"),aC(t,new ey(s),s.bypassAuthState)}async function CC(s){const{auth:e,user:t}=s;return Oe(t,e,"internal-error"),rC(t,new ey(s),s.bypassAuthState)}class YE{constructor(e,t,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:l,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:t,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SC;case"linkViaPopup":case"linkViaRedirect":return CC;case"reauthViaPopup":case"reauthViaRedirect":return IC;default:Ms(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RC=new _u(2e3,1e4);async function MC(s,e,t){if(cs(s.app))return Promise.reject(Ys(s,"operation-not-supported-in-this-environment"));const r=pa(s);hI(s,e,Xp);const l=GE(r,t);return new Ka(r,"signInViaPopup",e,l).executeNotNull()}class Ka extends YE{constructor(e,t,r,l,u){super(e,t,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=Zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ys(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ys(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ys(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RC.get())};e()}}Ka.currentPopupAction=null;const DC="pendingRedirect",bh=new Map;class PC extends YE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const r=await OC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OC(s,e){const t=VC(e),r=LC(s);if(!await r._isAvailable())return!1;const l=await r._get(t)==="true";return await r._remove(t),l}function kC(s,e){bh.set(s._key(),e)}function LC(s){return er(s._redirectPersistence)}function VC(s){return xh(DC,s.config.apiKey,s.name)}async function UC(s,e,t=!1){if(cs(s.app))return Promise.reject(ir(s));const r=pa(s),l=GE(r,e),d=await new PC(r,l,t).execute();return d&&!t&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const zC=600*1e3;class qC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!KE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ys(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zC&&this.cachedEventUids.clear(),this.cachedEventUids.has(n_(e))}saveEventToCache(e){this.cachedEventUids.add(n_(e)),this.lastProcessedEventTime=Date.now()}}function n_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function KE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function FC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KE(s);default:return!1}}async function BC(s,e={}){return ga(s,"GET","/v1/projects",e)}const HC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$C=/^https?/;async function GC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await BC(s);for(const t of e)try{if(YC(t))return}catch{}Ms(s,"unauthorized-domain")}function YC(s){const e=np(),{protocol:t,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===r}if(!$C.test(t))return!1;if(HC.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const KC=new _u(3e4,6e4);function s_(){const s=Ei().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function WC(s){return new Promise((e,t)=>{function r(){s_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s_(),t(Ys(s,"network-request-failed"))},timeout:KC.get()})}if(Ei().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ei().gapi?.load)r();else{const l=qI("iframefcb");return Ei()[l]=()=>{gapi.load?r():t(Ys(s,"network-request-failed"))},ME(`${zI()}?onload=${l}`).catch(u=>t(u))}}).catch(e=>{throw vh=null,e})}let vh=null;function QC(s){return vh=vh||WC(s),vh}const XC=new _u(5e3,15e3),JC="__/auth/iframe",ZC="emulator/auth/iframe",eR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nR(s){const e=s.config;Oe(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?Gp(e,ZC):`https://${s.config.authDomain}/${JC}`,r={apiKey:e.apiKey,appName:s.name,v:Nl},l=tR.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${t}?${vu(r).slice(1)}`}async function sR(s){const e=await QC(s),t=Ei().gapi;return Oe(t,s,"internal-error"),e.open({where:document.body,url:nR(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eR,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=Ys(s,"network-request-failed"),g=Ei().setTimeout(()=>{u(d)},XC.get());function y(){Ei().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{u(d)})}))}const iR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rR=500,aR=600,oR="_blank",lR="http://localhost";class i_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cR(s,e,t,r=rR,l=aR){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...iR,width:r.toString(),height:l.toString(),top:u,left:d},p=Vn().toLowerCase();t&&(g=wE(p)?oR:t),EE(p)&&(e=e||lR,y.scrollbars="yes");const _=Object.entries(y).reduce((j,[M,W])=>`${j}${M}=${W},`,"");if(RI(p)&&g!=="_self")return uR(e||"",g),new i_(null);const E=window.open(e||"",g,_);Oe(E,s,"popup-blocked");try{E.focus()}catch{}return new i_(E)}function uR(s,e){const t=document.createElement("a");t.href=s,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const dR="__/auth/handler",hR="emulator/auth/handler",fR=encodeURIComponent("fac");async function r_(s,e,t,r,l,u){Oe(s.config.authDomain,s,"auth-domain-config-required"),Oe(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:r,v:Nl,eventId:l};if(e instanceof Xp){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",WA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))d[_]=E}if(e instanceof Eu){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(d.scopes=_.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const _ of Object.keys(g))g[_]===void 0&&delete g[_];const y=await s._getAppCheckToken(),p=y?`#${fR}=${encodeURIComponent(y)}`:"";return`${mR(s)}?${vu(g).slice(1)}${p}`}function mR({config:s}){return s.emulator?Gp(s,hR):`https://${s.authDomain}/${dR}`}const Og="webStorageSupport";class gR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qE,this._completeRedirectFn=UC,this._overrideRedirectResult=kC}async _openPopup(e,t,r,l){or(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await r_(e,t,r,np(),l);return cR(e,u,Zp())}async _openRedirect(e,t,r,l){await this._originValidation(e);const u=await r_(e,t,r,np(),l);return xC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:l,promise:u}=this.eventManagers[t];return l?Promise.resolve(l):(or(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await sR(e),r=new qC(e);return t.register("authEvent",l=>(Oe(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Og,{type:Og},l=>{const u=l?.[0]?.[Og];u!==void 0&&t(!!u),Ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=GC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CE()||TE()||Kp()}}const pR=gR;var a_="@firebase/auth",o_="1.12.0";class yR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bR(s){Ii(new Qs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Oe(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RE(s)},p=new LI(r,l,u,y);return YI(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ii(new Qs("auth-internal",e=>{const t=pa(e.getProvider("auth").getImmediate());return(r=>new yR(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rs(a_,o_,xR(s)),Rs(a_,o_,"esm2020")}const vR=300,_R=aE("authIdTokenMaxAge")||vR;let l_=null;const NR=s=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>_R)return;const l=t?.token;l_!==l&&(l_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function ER(s=Bp()){const e=lo(s,"auth");if(e.isInitialized())return e.getImmediate();const t=GI(s,{popupRedirectResolver:pR,persistence:[AC,gC,qE]}),r=aE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=NR(u.toString());dC(t,d,()=>d(t.currentUser)),uC(t,g=>d(g))}}const l=iE("auth");return l&&KI(t,`http://${l}`),t}function TR(){return document.getElementsByTagName("head")?.[0]??document}VI({loadJS(s){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=Ys("internal-error");u.customData=l,t(u)},r.type="text/javascript",r.charset="UTF-8",TR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bR("Browser");var wR="firebase",jR="12.8.0";Rs(wR,jR,"app");const WE="@firebase/installations",ty="0.6.19";const QE=1e4,XE=`w:${ty}`,JE="FIS_v2",AR="https://firebaseinstallations.googleapis.com/v1",SR=3600*1e3,IR="installations",CR="Installations";const RR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},so=new oo(IR,CR,RR);function ZE(s){return s instanceof Js&&s.code.includes("request-failed")}function eT({projectId:s}){return`${AR}/projects/${s}/installations`}function tT(s){return{token:s.token,requestStatus:2,expiresIn:DR(s.expiresIn),creationTime:Date.now()}}async function nT(s,e){const r=(await e.json()).error;return so.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function sT({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function MR(s,{refreshToken:e}){const t=sT(s);return t.append("Authorization",PR(e)),t}async function iT(s){const e=await s();return e.status>=500&&e.status<600?s():e}function DR(s){return Number(s.replace("s","000"))}function PR(s){return`${JE} ${s}`}async function OR({appConfig:s,heartbeatServiceProvider:e},{fid:t}){const r=eT(s),l=sT(s),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const d={fid:t,authVersion:JE,appId:s.appId,sdkVersion:XE},g={method:"POST",headers:l,body:JSON.stringify(d)},y=await iT(()=>fetch(r,g));if(y.ok){const p=await y.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:tT(p.authToken)}}else throw await nT("Create Installation",y)}function rT(s){return new Promise(e=>{setTimeout(e,s)})}function kR(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const LR=/^[cdef][\w-]{21}$/,ap="";function VR(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const t=UR(s);return LR.test(t)?t:ap}catch{return ap}}function UR(s){return kR(s).substr(0,22)}function of(s){return`${s.appName}!${s.appId}`}const aT=new Map;function oT(s,e){const t=of(s);lT(t,e),zR(t,e)}function lT(s,e){const t=aT.get(s);if(t)for(const r of t)r(e)}function zR(s,e){const t=qR();t&&t.postMessage({key:s,fid:e}),FR()}let Wa=null;function qR(){return!Wa&&"BroadcastChannel"in self&&(Wa=new BroadcastChannel("[Firebase] FID Change"),Wa.onmessage=s=>{lT(s.data.key,s.data.fid)}),Wa}function FR(){aT.size===0&&Wa&&(Wa.close(),Wa=null)}const BR="firebase-installations-database",HR=1,io="firebase-installations-store";let kg=null;function ny(){return kg||(kg=hE(BR,HR,{upgrade:(s,e)=>{e===0&&s.createObjectStore(io)}})),kg}async function Uh(s,e){const t=of(s),l=(await ny()).transaction(io,"readwrite"),u=l.objectStore(io),d=await u.get(t);return await u.put(e,t),await l.done,(!d||d.fid!==e.fid)&&oT(s,e.fid),e}async function cT(s){const e=of(s),r=(await ny()).transaction(io,"readwrite");await r.objectStore(io).delete(e),await r.done}async function lf(s,e){const t=of(s),l=(await ny()).transaction(io,"readwrite"),u=l.objectStore(io),d=await u.get(t),g=e(d);return g===void 0?await u.delete(t):await u.put(g,t),await l.done,g&&(!d||d.fid!==g.fid)&&oT(s,g.fid),g}async function sy(s){let e;const t=await lf(s.appConfig,r=>{const l=$R(r),u=GR(s,l);return e=u.registrationPromise,u.installationEntry});return t.fid===ap?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function $R(s){const e=s||{fid:VR(),registrationStatus:0};return uT(e)}function GR(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(so.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=YR(s,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:KR(s)}:{installationEntry:e}}async function YR(s,e){try{const t=await OR(s,e);return Uh(s.appConfig,t)}catch(t){throw ZE(t)&&t.customData.serverCode===409?await cT(s.appConfig):await Uh(s.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function KR(s){let e=await c_(s.appConfig);for(;e.registrationStatus===1;)await rT(100),e=await c_(s.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await sy(s);return r||t}return e}function c_(s){return lf(s,e=>{if(!e)throw so.create("installation-not-found");return uT(e)})}function uT(s){return WR(s)?{fid:s.fid,registrationStatus:0}:s}function WR(s){return s.registrationStatus===1&&s.registrationTime+QE<Date.now()}async function QR({appConfig:s,heartbeatServiceProvider:e},t){const r=XR(s,t),l=MR(s,t),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const d={installation:{sdkVersion:XE,appId:s.appId}},g={method:"POST",headers:l,body:JSON.stringify(d)},y=await iT(()=>fetch(r,g));if(y.ok){const p=await y.json();return tT(p)}else throw await nT("Generate Auth Token",y)}function XR(s,{fid:e}){return`${eT(s)}/${e}/authTokens:generate`}async function iy(s,e=!1){let t;const r=await lf(s.appConfig,u=>{if(!dT(u))throw so.create("not-registered");const d=u.authToken;if(!e&&e3(d))return u;if(d.requestStatus===1)return t=JR(s,e),u;{if(!navigator.onLine)throw so.create("app-offline");const g=n3(u);return t=ZR(s,g),g}});return t?await t:r.authToken}async function JR(s,e){let t=await u_(s.appConfig);for(;t.authToken.requestStatus===1;)await rT(100),t=await u_(s.appConfig);const r=t.authToken;return r.requestStatus===0?iy(s,e):r}function u_(s){return lf(s,e=>{if(!dT(e))throw so.create("not-registered");const t=e.authToken;return s3(t)?{...e,authToken:{requestStatus:0}}:e})}async function ZR(s,e){try{const t=await QR(s,e),r={...e,authToken:t};return await Uh(s.appConfig,r),t}catch(t){if(ZE(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await cT(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Uh(s.appConfig,r)}throw t}}function dT(s){return s!==void 0&&s.registrationStatus===2}function e3(s){return s.requestStatus===2&&!t3(s)}function t3(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+SR}function n3(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function s3(s){return s.requestStatus===1&&s.requestTime+QE<Date.now()}async function i3(s){const e=s,{installationEntry:t,registrationPromise:r}=await sy(e);return r?r.catch(console.error):iy(e).catch(console.error),t.fid}async function r3(s,e=!1){const t=s;return await a3(t),(await iy(t,e)).token}async function a3(s){const{registrationPromise:e}=await sy(s);e&&await e}function o3(s){if(!s||!s.options)throw Lg("App Configuration");if(!s.name)throw Lg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!s.options[t])throw Lg(t);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Lg(s){return so.create("missing-app-config-values",{valueName:s})}const hT="installations",l3="installations-internal",c3=s=>{const e=s.getProvider("app").getImmediate(),t=o3(e),r=lo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},u3=s=>{const e=s.getProvider("app").getImmediate(),t=lo(e,hT).getImmediate();return{getId:()=>i3(t),getToken:l=>r3(t,l)}};function d3(){Ii(new Qs(hT,c3,"PUBLIC")),Ii(new Qs(l3,u3,"PRIVATE"))}d3();Rs(WE,ty);Rs(WE,ty,"esm2020");const zh="analytics",h3="firebase_id",f3="origin",m3=60*1e3,g3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ry="https://www.googletagmanager.com/gtag/js";const qn=new nf("@firebase/analytics");const p3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ds=new oo("analytics","Analytics",p3);function y3(s){if(!s.startsWith(ry)){const e=ds.create("invalid-gtag-resource",{gtagURL:s});return qn.warn(e.message),""}return s}function fT(s){return Promise.all(s.map(e=>e.catch(t=>t)))}function x3(s,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(s,e)),t}function b3(s,e){const t=x3("firebase-js-sdk-policy",{createScriptURL:y3}),r=document.createElement("script"),l=`${ry}?l=${s}&id=${e}`;r.src=t?t?.createScriptURL(l):l,r.async=!0,document.head.appendChild(r)}function v3(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function _3(s,e,t,r,l,u){const d=r[l];try{if(d)await e[d];else{const y=(await fT(t)).find(p=>p.measurementId===l);y&&await e[y.appId]}}catch(g){qn.error(g)}s("config",l,u)}async function N3(s,e,t,r,l){try{let u=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const g=await fT(t);for(const y of d){const p=g.find(E=>E.measurementId===y),_=p&&e[p.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),s("event",r,l||{})}catch(u){qn.error(u)}}function E3(s,e,t,r){async function l(u,...d){try{if(u==="event"){const[g,y]=d;await N3(s,e,t,g,y)}else if(u==="config"){const[g,y]=d;await _3(s,e,t,r,g,y)}else if(u==="consent"){const[g,y]=d;s("consent",g,y)}else if(u==="get"){const[g,y,p]=d;s("get",g,y,p)}else if(u==="set"){const[g]=d;s("set",g)}else s(u,...d)}catch(g){qn.error(g)}}return l}function T3(s,e,t,r,l){let u=function(...d){window[r].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=E3(u,s,e,t),{gtagCore:u,wrappedGtag:window[l]}}function w3(s){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(ry)&&t.src.includes(s))return t;return null}const j3=30,A3=1e3;class S3{constructor(e={},t=A3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const mT=new S3;function I3(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function C3(s){const{appId:e,apiKey:t}=s,r={method:"GET",headers:I3(t)},l=g3.replace("{app-id}",e),u=await fetch(l,r);if(u.status!==200&&u.status!==304){let d="";try{const g=await u.json();g.error?.message&&(d=g.error.message)}catch{}throw ds.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function R3(s,e=mT,t){const{appId:r,apiKey:l,measurementId:u}=s.options;if(!r)throw ds.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:r};throw ds.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new P3;return setTimeout(async()=>{g.abort()},m3),gT({appId:r,apiKey:l,measurementId:u},d,g,e)}async function gT(s,{throttleEndTimeMillis:e,backoffCount:t},r,l=mT){const{appId:u,measurementId:d}=s;try{await M3(r,e)}catch(g){if(d)return qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:d};throw g}try{const g=await C3(s);return l.deleteThrottleMetadata(u),g}catch(g){const y=g;if(!D3(y)){if(l.deleteThrottleMetadata(u),d)return qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:u,measurementId:d};throw g}const p=Number(y?.customData?.httpStatus)===503?Pv(t,l.intervalMillis,j3):Pv(t,l.intervalMillis),_={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return l.setThrottleMetadata(u,_),qn.debug(`Calling attemptFetch again in ${p} millis`),gT(s,_,r,l)}}function M3(s,e){return new Promise((t,r)=>{const l=Math.max(e-Date.now(),0),u=setTimeout(t,l);s.addEventListener(()=>{clearTimeout(u),r(ds.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function D3(s){if(!(s instanceof Js)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class P3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function O3(s,e,t,r,l){if(l&&l.global){s("event",t,r);return}else{const u=await e,d={...r,send_to:u};s("event",t,d)}}async function k3(s,e,t,r){if(r&&r.global){const l={};for(const u of Object.keys(t))l[`user_properties.${u}`]=t[u];return s("set",l),Promise.resolve()}else{const l=await e;s("config",l,{update:!0,user_properties:t})}}async function L3(){if(zp())try{await qp()}catch(s){return qn.warn(ds.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return qn.warn(ds.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function V3(s,e,t,r,l,u,d){const g=R3(s);g.then(j=>{t[j.measurementId]=j.appId,s.options.measurementId&&j.measurementId!==s.options.measurementId&&qn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${j.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(j=>qn.error(j)),e.push(g);const y=L3().then(j=>{if(j)return r.getId()}),[p,_]=await Promise.all([g,y]);w3(u)||b3(u,p.measurementId),l("js",new Date);const E=d?.config??{};return E[f3]="firebase",E.update=!0,_!=null&&(E[h3]=_),l("config",p.measurementId,E),p.measurementId}class U3{constructor(e){this.app=e}_delete(){return delete ol[this.app.options.appId],Promise.resolve()}}let ol={},d_=[];const h_={};let Vg="dataLayer",z3="gtag",f_,ay,m_=!1;function q3(){const s=[];if(Up()&&s.push("This is a browser extension environment."),cE()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,l)=>`(${l+1}) ${r}`).join(" "),t=ds.create("invalid-analytics-context",{errorInfo:e});qn.warn(t.message)}}function F3(s,e,t){q3();const r=s.options.appId;if(!r)throw ds.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ds.create("no-api-key");if(ol[r]!=null)throw ds.create("already-exists",{id:r});if(!m_){v3(Vg);const{wrappedGtag:u,gtagCore:d}=T3(ol,d_,h_,Vg,z3);ay=u,f_=d,m_=!0}return ol[r]=V3(s,d_,h_,e,f_,Vg,t),new U3(s)}function B3(s=Bp()){s=Gt(s);const e=lo(s,zh);return e.isInitialized()?e.getImmediate():H3(s)}function H3(s,e={}){const t=lo(s,zh);if(t.isInitialized()){const l=t.getImmediate();if(ra(e,t.getOptions()))return l;throw ds.create("already-initialized")}return t.initialize({options:e})}async function $3(){if(Up()||!cE()||!zp())return!1;try{return await qp()}catch{return!1}}function G3(s,e,t){s=Gt(s),k3(ay,ol[s.app.options.appId],e,t).catch(r=>qn.error(r))}function Y3(s,e,t,r){s=Gt(s),O3(ay,ol[s.app.options.appId],e,t,r).catch(l=>qn.error(l))}const g_="@firebase/analytics",p_="0.10.19";function K3(){Ii(new Qs(zh,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return F3(r,l,t)},"PUBLIC")),Ii(new Qs("analytics-internal",s,"PRIVATE")),Rs(g_,p_),Rs(g_,p_,"esm2020");function s(e){try{const t=e.getProvider(zh).getImmediate();return{logEvent:(r,l,u)=>Y3(t,r,l,u),setUserProperties:(r,l)=>G3(t,r,l)}}catch(t){throw ds.create("interop-component-reg-failed",{reason:t})}}}K3();var y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sa,pT;(function(){var s;function e(S,A){function C(){}C.prototype=A.prototype,S.F=A.prototype,S.prototype=new C,S.prototype.constructor=S,S.D=function(R,k,B){for(var N=Array(arguments.length-2),I=2;I<arguments.length;I++)N[I-2]=arguments[I];return A.prototype[k].apply(R,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(S,A,C){C||(C=0);const R=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)R[k]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(k=0;k<16;++k)R[k]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=S.g[0],C=S.g[1],k=S.g[2];let B=S.g[3],N;N=A+(B^C&(k^B))+R[0]+3614090360&4294967295,A=C+(N<<7&4294967295|N>>>25),N=B+(k^A&(C^k))+R[1]+3905402710&4294967295,B=A+(N<<12&4294967295|N>>>20),N=k+(C^B&(A^C))+R[2]+606105819&4294967295,k=B+(N<<17&4294967295|N>>>15),N=C+(A^k&(B^A))+R[3]+3250441966&4294967295,C=k+(N<<22&4294967295|N>>>10),N=A+(B^C&(k^B))+R[4]+4118548399&4294967295,A=C+(N<<7&4294967295|N>>>25),N=B+(k^A&(C^k))+R[5]+1200080426&4294967295,B=A+(N<<12&4294967295|N>>>20),N=k+(C^B&(A^C))+R[6]+2821735955&4294967295,k=B+(N<<17&4294967295|N>>>15),N=C+(A^k&(B^A))+R[7]+4249261313&4294967295,C=k+(N<<22&4294967295|N>>>10),N=A+(B^C&(k^B))+R[8]+1770035416&4294967295,A=C+(N<<7&4294967295|N>>>25),N=B+(k^A&(C^k))+R[9]+2336552879&4294967295,B=A+(N<<12&4294967295|N>>>20),N=k+(C^B&(A^C))+R[10]+4294925233&4294967295,k=B+(N<<17&4294967295|N>>>15),N=C+(A^k&(B^A))+R[11]+2304563134&4294967295,C=k+(N<<22&4294967295|N>>>10),N=A+(B^C&(k^B))+R[12]+1804603682&4294967295,A=C+(N<<7&4294967295|N>>>25),N=B+(k^A&(C^k))+R[13]+4254626195&4294967295,B=A+(N<<12&4294967295|N>>>20),N=k+(C^B&(A^C))+R[14]+2792965006&4294967295,k=B+(N<<17&4294967295|N>>>15),N=C+(A^k&(B^A))+R[15]+1236535329&4294967295,C=k+(N<<22&4294967295|N>>>10),N=A+(k^B&(C^k))+R[1]+4129170786&4294967295,A=C+(N<<5&4294967295|N>>>27),N=B+(C^k&(A^C))+R[6]+3225465664&4294967295,B=A+(N<<9&4294967295|N>>>23),N=k+(A^C&(B^A))+R[11]+643717713&4294967295,k=B+(N<<14&4294967295|N>>>18),N=C+(B^A&(k^B))+R[0]+3921069994&4294967295,C=k+(N<<20&4294967295|N>>>12),N=A+(k^B&(C^k))+R[5]+3593408605&4294967295,A=C+(N<<5&4294967295|N>>>27),N=B+(C^k&(A^C))+R[10]+38016083&4294967295,B=A+(N<<9&4294967295|N>>>23),N=k+(A^C&(B^A))+R[15]+3634488961&4294967295,k=B+(N<<14&4294967295|N>>>18),N=C+(B^A&(k^B))+R[4]+3889429448&4294967295,C=k+(N<<20&4294967295|N>>>12),N=A+(k^B&(C^k))+R[9]+568446438&4294967295,A=C+(N<<5&4294967295|N>>>27),N=B+(C^k&(A^C))+R[14]+3275163606&4294967295,B=A+(N<<9&4294967295|N>>>23),N=k+(A^C&(B^A))+R[3]+4107603335&4294967295,k=B+(N<<14&4294967295|N>>>18),N=C+(B^A&(k^B))+R[8]+1163531501&4294967295,C=k+(N<<20&4294967295|N>>>12),N=A+(k^B&(C^k))+R[13]+2850285829&4294967295,A=C+(N<<5&4294967295|N>>>27),N=B+(C^k&(A^C))+R[2]+4243563512&4294967295,B=A+(N<<9&4294967295|N>>>23),N=k+(A^C&(B^A))+R[7]+1735328473&4294967295,k=B+(N<<14&4294967295|N>>>18),N=C+(B^A&(k^B))+R[12]+2368359562&4294967295,C=k+(N<<20&4294967295|N>>>12),N=A+(C^k^B)+R[5]+4294588738&4294967295,A=C+(N<<4&4294967295|N>>>28),N=B+(A^C^k)+R[8]+2272392833&4294967295,B=A+(N<<11&4294967295|N>>>21),N=k+(B^A^C)+R[11]+1839030562&4294967295,k=B+(N<<16&4294967295|N>>>16),N=C+(k^B^A)+R[14]+4259657740&4294967295,C=k+(N<<23&4294967295|N>>>9),N=A+(C^k^B)+R[1]+2763975236&4294967295,A=C+(N<<4&4294967295|N>>>28),N=B+(A^C^k)+R[4]+1272893353&4294967295,B=A+(N<<11&4294967295|N>>>21),N=k+(B^A^C)+R[7]+4139469664&4294967295,k=B+(N<<16&4294967295|N>>>16),N=C+(k^B^A)+R[10]+3200236656&4294967295,C=k+(N<<23&4294967295|N>>>9),N=A+(C^k^B)+R[13]+681279174&4294967295,A=C+(N<<4&4294967295|N>>>28),N=B+(A^C^k)+R[0]+3936430074&4294967295,B=A+(N<<11&4294967295|N>>>21),N=k+(B^A^C)+R[3]+3572445317&4294967295,k=B+(N<<16&4294967295|N>>>16),N=C+(k^B^A)+R[6]+76029189&4294967295,C=k+(N<<23&4294967295|N>>>9),N=A+(C^k^B)+R[9]+3654602809&4294967295,A=C+(N<<4&4294967295|N>>>28),N=B+(A^C^k)+R[12]+3873151461&4294967295,B=A+(N<<11&4294967295|N>>>21),N=k+(B^A^C)+R[15]+530742520&4294967295,k=B+(N<<16&4294967295|N>>>16),N=C+(k^B^A)+R[2]+3299628645&4294967295,C=k+(N<<23&4294967295|N>>>9),N=A+(k^(C|~B))+R[0]+4096336452&4294967295,A=C+(N<<6&4294967295|N>>>26),N=B+(C^(A|~k))+R[7]+1126891415&4294967295,B=A+(N<<10&4294967295|N>>>22),N=k+(A^(B|~C))+R[14]+2878612391&4294967295,k=B+(N<<15&4294967295|N>>>17),N=C+(B^(k|~A))+R[5]+4237533241&4294967295,C=k+(N<<21&4294967295|N>>>11),N=A+(k^(C|~B))+R[12]+1700485571&4294967295,A=C+(N<<6&4294967295|N>>>26),N=B+(C^(A|~k))+R[3]+2399980690&4294967295,B=A+(N<<10&4294967295|N>>>22),N=k+(A^(B|~C))+R[10]+4293915773&4294967295,k=B+(N<<15&4294967295|N>>>17),N=C+(B^(k|~A))+R[1]+2240044497&4294967295,C=k+(N<<21&4294967295|N>>>11),N=A+(k^(C|~B))+R[8]+1873313359&4294967295,A=C+(N<<6&4294967295|N>>>26),N=B+(C^(A|~k))+R[15]+4264355552&4294967295,B=A+(N<<10&4294967295|N>>>22),N=k+(A^(B|~C))+R[6]+2734768916&4294967295,k=B+(N<<15&4294967295|N>>>17),N=C+(B^(k|~A))+R[13]+1309151649&4294967295,C=k+(N<<21&4294967295|N>>>11),N=A+(k^(C|~B))+R[4]+4149444226&4294967295,A=C+(N<<6&4294967295|N>>>26),N=B+(C^(A|~k))+R[11]+3174756917&4294967295,B=A+(N<<10&4294967295|N>>>22),N=k+(A^(B|~C))+R[2]+718787259&4294967295,k=B+(N<<15&4294967295|N>>>17),N=C+(B^(k|~A))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+B&4294967295}r.prototype.v=function(S,A){A===void 0&&(A=S.length);const C=A-this.blockSize,R=this.C;let k=this.h,B=0;for(;B<A;){if(k==0)for(;B<=C;)l(this,S,B),B+=this.blockSize;if(typeof S=="string"){for(;B<A;)if(R[k++]=S.charCodeAt(B++),k==this.blockSize){l(this,R),k=0;break}}else for(;B<A;)if(R[k++]=S[B++],k==this.blockSize){l(this,R),k=0;break}}this.h=k,this.o+=A},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;A=this.o*8;for(var C=S.length-8;C<S.length;++C)S[C]=A&255,A/=256;for(this.v(S),S=Array(16),A=0,C=0;C<4;++C)for(let R=0;R<32;R+=8)S[A++]=this.g[C]>>>R&255;return S};function u(S,A){var C=g;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=A(S)}function d(S,A){this.h=A;const C=[];let R=!0;for(let k=S.length-1;k>=0;k--){const B=S[k]|0;R&&B==A||(C[k]=B,R=!1)}this.g=C}var g={};function y(S){return-128<=S&&S<128?u(S,function(A){return new d([A|0],A<0?-1:0)}):new d([S|0],S<0?-1:0)}function p(S){if(isNaN(S)||!isFinite(S))return E;if(S<0)return q(p(-S));const A=[];let C=1;for(let R=0;S>=C;R++)A[R]=S/C|0,C*=4294967296;return new d(A,0)}function _(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return q(_(S.substring(1),A));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(A,8));let R=E;for(let B=0;B<S.length;B+=8){var k=Math.min(8,S.length-B);const N=parseInt(S.substring(B,B+k),A);k<8?(k=p(Math.pow(A,k)),R=R.j(k).add(p(N))):(R=R.j(C),R=R.add(p(N)))}return R}var E=y(0),j=y(1),M=y(16777216);s=d.prototype,s.m=function(){if(H(this))return-q(this).m();let S=0,A=1;for(let C=0;C<this.g.length;C++){const R=this.i(C);S+=(R>=0?R:4294967296+R)*A,A*=4294967296}return S},s.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(W(this))return"0";if(H(this))return"-"+q(this).toString(S);const A=p(Math.pow(S,6));var C=this;let R="";for(;;){const k=$(C,A).g;C=Y(C,k.j(A));let B=((C.g.length>0?C.g[0]:C.h)>>>0).toString(S);if(C=k,W(C))return B+R;for(;B.length<6;)B="0"+B;R=B+R}},s.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function W(S){if(S.h!=0)return!1;for(let A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function H(S){return S.h==-1}s.l=function(S){return S=Y(this,S),H(S)?-1:W(S)?0:1};function q(S){const A=S.g.length,C=[];for(let R=0;R<A;R++)C[R]=~S.g[R];return new d(C,~S.h).add(j)}s.abs=function(){return H(this)?q(this):this},s.add=function(S){const A=Math.max(this.g.length,S.g.length),C=[];let R=0;for(let k=0;k<=A;k++){let B=R+(this.i(k)&65535)+(S.i(k)&65535),N=(B>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);R=N>>>16,B&=65535,N&=65535,C[k]=N<<16|B}return new d(C,C[C.length-1]&-2147483648?-1:0)};function Y(S,A){return S.add(q(A))}s.j=function(S){if(W(this)||W(S))return E;if(H(this))return H(S)?q(this).j(q(S)):q(q(this).j(S));if(H(S))return q(this.j(q(S)));if(this.l(M)<0&&S.l(M)<0)return p(this.m()*S.m());const A=this.g.length+S.g.length,C=[];for(var R=0;R<2*A;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(let k=0;k<S.g.length;k++){const B=this.i(R)>>>16,N=this.i(R)&65535,I=S.i(k)>>>16,K=S.i(k)&65535;C[2*R+2*k]+=N*K,re(C,2*R+2*k),C[2*R+2*k+1]+=B*K,re(C,2*R+2*k+1),C[2*R+2*k+1]+=N*I,re(C,2*R+2*k+1),C[2*R+2*k+2]+=B*I,re(C,2*R+2*k+2)}for(S=0;S<A;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=A;S<2*A;S++)C[S]=0;return new d(C,0)};function re(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function ee(S,A){this.g=S,this.h=A}function $(S,A){if(W(A))throw Error("division by zero");if(W(S))return new ee(E,E);if(H(S))return A=$(q(S),A),new ee(q(A.g),q(A.h));if(H(A))return A=$(S,q(A)),new ee(q(A.g),A.h);if(S.g.length>30){if(H(S)||H(A))throw Error("slowDivide_ only works with positive integers.");for(var C=j,R=A;R.l(S)<=0;)C=fe(C),R=fe(R);var k=xe(C,1),B=xe(R,1);for(R=xe(R,2),C=xe(C,2);!W(R);){var N=B.add(R);N.l(S)<=0&&(k=k.add(C),B=N),R=xe(R,1),C=xe(C,1)}return A=Y(S,k.j(A)),new ee(k,A)}for(k=E;S.l(A)>=0;){for(C=Math.max(1,Math.floor(S.m()/A.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),B=p(C),N=B.j(A);H(N)||N.l(S)>0;)C-=R,B=p(C),N=B.j(A);W(B)&&(B=j),k=k.add(B),S=Y(S,N)}return new ee(k,S)}s.B=function(S){return $(this,S).h},s.and=function(S){const A=Math.max(this.g.length,S.g.length),C=[];for(let R=0;R<A;R++)C[R]=this.i(R)&S.i(R);return new d(C,this.h&S.h)},s.or=function(S){const A=Math.max(this.g.length,S.g.length),C=[];for(let R=0;R<A;R++)C[R]=this.i(R)|S.i(R);return new d(C,this.h|S.h)},s.xor=function(S){const A=Math.max(this.g.length,S.g.length),C=[];for(let R=0;R<A;R++)C[R]=this.i(R)^S.i(R);return new d(C,this.h^S.h)};function fe(S){const A=S.g.length+1,C=[];for(let R=0;R<A;R++)C[R]=S.i(R)<<1|S.i(R-1)>>>31;return new d(C,S.h)}function xe(S,A){const C=A>>5;A%=32;const R=S.g.length-C,k=[];for(let B=0;B<R;B++)k[B]=A>0?S.i(B+C)>>>A|S.i(B+C+1)<<32-A:S.i(B+C);return new d(k,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,pT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=_,sa=d}).apply(typeof y_<"u"?y_:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yT,kc,xT,_h,op,bT,vT,_T;(function(){var s,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var x=0;x<h.length;++x){var v=h[x];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function l(h,x){if(x)e:{var v=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var Q=h[w];if(!(Q in v))break e;v=v[Q]}h=h[h.length-1],w=v[h],x=x(w),x!=w&&x!=null&&e(v,h,{configurable:!0,writable:!0,value:x})}}l("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(h){return h||function(x){var v=[],w;for(w in x)Object.prototype.hasOwnProperty.call(x,w)&&v.push([w,x[w]]);return v}});var u=u||{},d=this||self;function g(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function y(h,x,v){return h.call.apply(h.bind,arguments)}function p(h,x,v){return p=y,p.apply(null,arguments)}function _(h,x){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function E(h,x){function v(){}v.prototype=x.prototype,h.Z=x.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(w,Q,se){for(var ye=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ye[Be-2]=arguments[Be];return x.prototype[Q].apply(w,ye)}}var j=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function M(h){const x=h.length;if(x>0){const v=Array(x);for(let w=0;w<x;w++)v[w]=h[w];return v}return[]}function W(h,x){for(let w=1;w<arguments.length;w++){const Q=arguments[w];var v=typeof Q;if(v=v!="object"?v:Q?Array.isArray(Q)?"array":v:"null",v=="array"||v=="object"&&typeof Q.length=="number"){v=h.length||0;const se=Q.length||0;h.length=v+se;for(let ye=0;ye<se;ye++)h[v+ye]=Q[ye]}else h.push(Q)}}class H{constructor(x,v){this.i=x,this.j=v,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function q(h){d.setTimeout(()=>{throw h},0)}function Y(){var h=S;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class re{constructor(){this.h=this.g=null}add(x,v){const w=ee.get();w.set(x,v),this.h?this.h.next=w:this.g=w,this.h=w}}var ee=new H(()=>new $,h=>h.reset());class ${constructor(){this.next=this.g=this.h=null}set(x,v){this.h=x,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,xe=!1,S=new re,A=()=>{const h=Promise.resolve(void 0);fe=()=>{h.then(C)}};function C(){for(var h;h=Y();){try{h.h.call(h.g)}catch(v){q(v)}var x=ee;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}xe=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};d.addEventListener("test",v,x),d.removeEventListener("test",v,x)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function I(h,x){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}E(I,k),I.prototype.init=function(h,x){const v=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(v=="mouseover"?x=h.fromElement:v=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&I.Z.h.call(this)},I.prototype.h=function(){I.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var K="closure_listenable_"+(Math.random()*1e6|0),F=0;function ne(h,x,v,w,Q){this.listener=h,this.proxy=null,this.src=x,this.type=v,this.capture=!!w,this.ha=Q,this.key=++F,this.da=this.fa=!1}function me(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ne(h,x,v){for(const w in h)x.call(v,h[w],w,h)}function Ve(h,x){for(const v in h)x.call(void 0,h[v],v,h)}function V(h){const x={};for(const v in h)x[v]=h[v];return x}const le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(h,x){let v,w;for(let Q=1;Q<arguments.length;Q++){w=arguments[Q];for(v in w)h[v]=w[v];for(let se=0;se<le.length;se++)v=le[se],Object.prototype.hasOwnProperty.call(w,v)&&(h[v]=w[v])}}function je(h){this.src=h,this.g={},this.h=0}je.prototype.add=function(h,x,v,w,Q){const se=h.toString();h=this.g[se],h||(h=this.g[se]=[],this.h++);const ye=P(h,x,w,Q);return ye>-1?(x=h[ye],v||(x.fa=!1)):(x=new ne(x,this.src,se,!!w,Q),x.fa=v,h.push(x)),x};function D(h,x){const v=x.type;if(v in h.g){var w=h.g[v],Q=Array.prototype.indexOf.call(w,x,void 0),se;(se=Q>=0)&&Array.prototype.splice.call(w,Q,1),se&&(me(x),h.g[v].length==0&&(delete h.g[v],h.h--))}}function P(h,x,v,w){for(let Q=0;Q<h.length;++Q){const se=h[Q];if(!se.da&&se.listener==x&&se.capture==!!v&&se.ha==w)return Q}return-1}var te="closure_lm_"+(Math.random()*1e6|0),ve={};function pe(h,x,v,w,Q){if(Array.isArray(x)){for(let se=0;se<x.length;se++)pe(h,x[se],v,w,Q);return null}return v=De(v),h&&h[K]?h.J(x,v,g(w)?!!w.capture:!1,Q):lt(h,x,v,!1,w,Q)}function lt(h,x,v,w,Q,se){if(!x)throw Error("Invalid event type");const ye=g(Q)?!!Q.capture:!!Q;let Be=we(h);if(Be||(h[te]=Be=new je(h)),v=Be.add(x,v,w,ye,se),v.proxy)return v;if(w=_n(),v.proxy=w,w.src=h,w.listener=v,h.addEventListener)B||(Q=ye),Q===void 0&&(Q=!1),h.addEventListener(x.toString(),w,Q);else if(h.attachEvent)h.attachEvent(ce(x.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function _n(){function h(v){return x.call(h.src,h.listener,v)}const x=be;return h}function Mn(h,x,v,w,Q){if(Array.isArray(x))for(var se=0;se<x.length;se++)Mn(h,x[se],v,w,Q);else w=g(w)?!!w.capture:!!w,v=De(v),h&&h[K]?(h=h.i,se=String(x).toString(),se in h.g&&(x=h.g[se],v=P(x,v,w,Q),v>-1&&(me(x[v]),Array.prototype.splice.call(x,v,1),x.length==0&&(delete h.g[se],h.h--)))):h&&(h=we(h))&&(x=h.g[x.toString()],h=-1,x&&(h=P(x,v,w,Q)),(v=h>-1?x[h]:null)&&U(v))}function U(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[K])D(x.i,h);else{var v=h.type,w=h.proxy;x.removeEventListener?x.removeEventListener(v,w,h.capture):x.detachEvent?x.detachEvent(ce(v),w):x.addListener&&x.removeListener&&x.removeListener(w),(v=we(x))?(D(v,h),v.h==0&&(v.src=null,x[te]=null)):me(h)}}}function ce(h){return h in ve?ve[h]:ve[h]="on"+h}function be(h,x){if(h.da)h=!0;else{x=new I(x,this);const v=h.listener,w=h.ha||h.src;h.fa&&U(h),h=v.call(w,x)}return h}function we(h){return h=h[te],h instanceof je?h:null}var Te="__closure_events_fn_"+(Math.random()*1e9>>>0);function De(h){return typeof h=="function"?h:(h[Te]||(h[Te]=function(x){return h.handleEvent(x)}),h[Te])}function Ee(){R.call(this),this.i=new je(this),this.M=this,this.G=null}E(Ee,R),Ee.prototype[K]=!0,Ee.prototype.removeEventListener=function(h,x,v,w){Mn(this,h,x,v,w)};function Ge(h,x){var v,w=h.G;if(w)for(v=[];w;w=w.G)v.push(w);if(h=h.M,w=x.type||x,typeof x=="string")x=new k(x,h);else if(x instanceof k)x.target=x.target||h;else{var Q=x;x=new k(w,h),ge(x,Q)}Q=!0;let se,ye;if(v)for(ye=v.length-1;ye>=0;ye--)se=x.g=v[ye],Q=St(se,w,!0,x)&&Q;if(se=x.g=h,Q=St(se,w,!0,x)&&Q,Q=St(se,w,!1,x)&&Q,v)for(ye=0;ye<v.length;ye++)se=x.g=v[ye],Q=St(se,w,!1,x)&&Q}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const v=h.g[x];for(let w=0;w<v.length;w++)me(v[w]);delete h.g[x],h.h--}}this.G=null},Ee.prototype.J=function(h,x,v,w){return this.i.add(String(h),x,!1,v,w)},Ee.prototype.K=function(h,x,v,w){return this.i.add(String(h),x,!0,v,w)};function St(h,x,v,w){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let Q=!0;for(let se=0;se<x.length;++se){const ye=x[se];if(ye&&!ye.da&&ye.capture==v){const Be=ye.listener,Yt=ye.ha||ye.src;ye.fa&&D(h.i,ye),Q=Be.call(Yt,w)!==!1&&Q}}return Q&&!w.defaultPrevented}function hs(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:d.setTimeout(h,x||0)}function fo(h){h.g=hs(()=>{h.g=null,h.i&&(h.i=!1,fo(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Xt extends R{constructor(x,v){super(),this.m=x,this.l=v,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:fo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(h){R.call(this),this.h=h,this.g={}}E(fs,R);var dr=[];function hr(h){Ne(h.g,function(x,v){this.g.hasOwnProperty(v)&&U(x)},h),h.g={}}fs.prototype.N=function(){fs.Z.N.call(this),hr(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zs=d.JSON.stringify,Il=d.JSON.parse,st=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function bt(){}function gn(){}var Vt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){k.call(this,"d")}E(Qe,k);function gt(){k.call(this,"c")}E(gt,k);var it={},fr=null;function ei(){return fr=fr||new Ee}it.Ia="serverreachability";function mr(h){k.call(this,it.Ia,h)}E(mr,k);function ms(h){const x=ei();Ge(x,new mr(x))}it.STAT_EVENT="statevent";function Ri(h,x){k.call(this,it.STAT_EVENT,h),this.stat=x}E(Ri,k);function qt(h){const x=ei();Ge(x,new Ri(x,h))}it.Ja="timingevent";function gs(h,x){k.call(this,it.Ja,h),this.size=x}E(gs,k);function ti(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},x)}function Ps(){this.g=!0}Ps.prototype.ua=function(){this.g=!1};function Tf(h,x,v,w,Q,se){h.info(function(){if(h.g)if(se){var ye="",Be=se.split("&");for(let dt=0;dt<Be.length;dt++){var Yt=Be[dt].split("=");if(Yt.length>1){const kt=Yt[0];Yt=Yt[1];const bs=kt.split("_");ye=bs.length>=2&&bs[1]=="type"?ye+(kt+"="+Yt+"&"):ye+(kt+"=redacted&")}}}else ye=null;else ye=se;return"XMLHTTP REQ ("+w+") [attempt "+Q+"]: "+x+`
`+v+`
`+ye})}function Ou(h,x,v,w,Q,se,ye){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+Q+"]: "+x+`
`+v+`
`+se+" "+ye})}function ni(h,x,v,w){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+wf(h,v)+(w?" "+w:"")})}function ba(h,x){h.info(function(){return"TIMEOUT: "+x})}Ps.prototype.info=function(){};function wf(h,x){if(!h.g)return x;if(!x)return null;try{const se=JSON.parse(x);if(se){for(h=0;h<se.length;h++)if(Array.isArray(se[h])){var v=se[h];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var Q=w[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ye=1;ye<w.length;ye++)w[ye]=""}}}}return Zs(se)}catch{return x}}var va={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rl;function _a(){}E(_a,bt),_a.prototype.g=function(){return new XMLHttpRequest},Rl=new _a;function Mi(h){return encodeURIComponent(String(h))}function ku(h){var x=1;h=h.split(":");const v=[];for(;x>0&&h.length;)v.push(h.shift()),x--;return h.length&&v.push(h.join(":")),v}function Os(h,x,v,w){this.j=h,this.i=x,this.l=v,this.S=w||1,this.V=new fs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ks}function ks(){this.i=null,this.g="",this.h=!1}var Jt={},pn={};function si(h,x,v){h.M=1,h.A=Na(en(x)),h.u=v,h.R=!0,mo(h,null)}function mo(h,x){h.F=Date.now(),ii(h),h.B=en(h.A);var v=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),xo(v.i,"t",w),h.C=0,v=h.j.L,h.h=new ks,h.g=Xu(h.j,v?x:null,!h.u),h.P>0&&(h.O=new Xt(p(h.Y,h,h.g),h.P)),x=h.V,v=h.g,w=h.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(dr[0]=Q.toString()),Q=dr);for(let se=0;se<Q.length;se++){const ye=pe(v,Q[se],w||x.handleEvent,!1,x.h||x);if(!ye)break;x.g[ye.key]=ye}x=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),ms(),Tf(h.i,h.v,h.B,h.l,h.S,h.u)}Os.prototype.ba=function(h){h=h.target;const x=this.O;x&&Us(h)==3?x.j():this.Y(h)},Os.prototype.Y=function(h){try{if(h==this.g)e:{const Be=Us(this.g),Yt=this.g.ya(),dt=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||Nn(this.g)))){this.K||Be!=4||Yt==7||(Yt==8||dt<=0?ms(3):ms(2)),ri(this);var x=this.g.ca();this.X=x;var v=jf(this);if(this.o=x==200,Ou(this.i,this.v,this.B,this.l,this.S,Be,x),this.o){if(this.U&&!this.L){t:{if(this.g){var w,Q=this.g;if((w=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var se=w;break t}}se=null}if(h=se)ni(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,h);else{this.o=!1,this.m=3,qt(12),Jn(this),ps(this);break e}}if(this.R){h=!0;let kt;for(;!this.K&&this.C<v.length;)if(kt=Vu(this,v),kt==pn){Be==4&&(this.m=4,qt(14),h=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==Jt){this.m=4,qt(15),ni(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else ni(this.i,this.l,kt,null),ai(this,kt);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||v.length!=0||this.h.h||(this.m=1,qt(16),h=!1),this.o=this.o&&h,!h)ni(this.i,this.l,v,"[Invalid Chunked Response]"),Jn(this),ps(this);else if(v.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Gl(ye),ye.P=!0,qt(11))}}else ni(this.i,this.l,v,null),ai(this,v);Be==4&&Jn(this),this.o&&!this.K&&(Be==4?Yu(this.j,this):(this.o=!1,ii(this)))}else Pi(this.g),x==400&&v.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),Jn(this),ps(this)}}}catch{}};function jf(h){if(!Lu(h))return h.g.la();const x=Nn(h.g);if(x==="")return"";let v="";const w=x.length,Q=Us(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Jn(h),ps(h),"";h.h.i=new d.TextDecoder}for(let se=0;se<w;se++)h.h.h=!0,v+=h.h.i.decode(x[se],{stream:!(Q&&se==w-1)});return x.length=0,h.h.g+=v,h.C=0,h.h.g}function Lu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Vu(h,x){var v=h.C,w=x.indexOf(`
`,v);return w==-1?pn:(v=Number(x.substring(v,w)),isNaN(v)?Jt:(w+=1,w+v>x.length?pn:(x=x.slice(w,w+v),h.C=w+v,x)))}Os.prototype.cancel=function(){this.K=!0,Jn(this)};function ii(h){h.T=Date.now()+h.H,go(h,h.H)}function go(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ti(p(h.aa,h),x)}function ri(h){h.D&&(d.clearTimeout(h.D),h.D=null)}Os.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ba(this.i,this.B),this.M!=2&&(ms(),qt(17)),Jn(this),this.m=2,ps(this)):go(this,this.T-h)};function ps(h){h.j.I==0||h.K||Yu(h.j,h)}function Jn(h){ri(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,hr(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function ai(h,x){try{var v=h.j;if(v.I!=0&&(v.g==h||li(v.h,h))){if(!h.L&&li(v.h,h)&&v.I==3){try{var w=v.Ba.g.parse(x)}catch{w=null}if(Array.isArray(w)&&w.length==3){var Q=w;if(Q[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)Eo(v),Nr(v);else break e;Ia(v),qt(18)}}else v.xa=Q[1],0<v.xa-v.K&&Q[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ti(p(v.Va,v),6e3));oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else mi(v,11)}else if((h.L||v.g==h)&&Eo(v),!N(x))for(Q=v.Ba.g.parse(x),x=0;x<Q.length;x++){let dt=Q[x];const kt=dt[0];if(!(kt<=v.K))if(v.K=kt,dt=dt[1],v.I==2)if(dt[0]=="c"){v.M=dt[1],v.ba=dt[2];const bs=dt[3];bs!=null&&(v.ka=bs,v.j.info("VER="+v.ka));const gi=dt[4];gi!=null&&(v.za=gi,v.j.info("SVER="+v.za));const zs=dt[5];zs!=null&&typeof zs=="number"&&zs>0&&(w=1.5*zs,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const qs=h.g;if(qs){const Ca=qs.g?qs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ca){var se=w.h;se.g||Ca.indexOf("spdy")==-1&&Ca.indexOf("quic")==-1&&Ca.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Pl(se,se.h),se.h=null))}if(w.G){const To=qs.g?qs.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(w.wa=To,pt(w.J,w.G,To))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var ye=h;if(w.na=Qu(w,w.L?w.ba:null,w.W),ye.L){Ol(w.h,ye);var Be=ye,Yt=w.O;Yt&&(Be.H=Yt),Be.D&&(ri(Be),ii(Be)),w.g=ye}else $u(w);v.i.length>0&&fi(v)}else dt[0]!="stop"&&dt[0]!="close"||mi(v,7);else v.I==3&&(dt[0]=="stop"||dt[0]=="close"?dt[0]=="stop"?mi(v,7):Hl(v):dt[0]!="noop"&&v.l&&v.l.qa(dt),v.A=0)}}ms(4)}catch{}}var Zt=class{constructor(h,x){this.g=h,this.map=x}};function Ml(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function oi(h){return h.h?1:h.g?h.g.size:0}function li(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Pl(h,x){h.g?h.g.add(x):h.h=x}function Ol(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}Ml.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function kl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const v of h.g.values())x=x.concat(v.G);return x}return M(h.i)}var Uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function po(h,x){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const w=h[v].indexOf("=");let Q,se=null;w>=0?(Q=h[v].substring(0,w),se=h[v].substring(w+1)):Q=h[v],x(Q,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function Zn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof Zn?(this.l=h.l,yn(this,h.j),this.o=h.o,this.g=h.g,gr(this,h.u),this.h=h.h,Ll(this,Bu(h.i)),this.m=h.m):h&&(x=String(h).match(Uu))?(this.l=!1,yn(this,x[1]||"",!0),this.o=ci(x[2]||""),this.g=ci(x[3]||"",!0),gr(this,x[4]),this.h=ci(x[5]||"",!0),Ll(this,x[6]||"",!0),this.m=ci(x[7]||"")):(this.l=!1,this.i=new yr(null,this.l))}Zn.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(Ea(x,yo,!0),":");var v=this.g;return(v||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Ea(x,yo,!0),"@"),h.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Ea(v,v.charAt(0)=="/"?Vl:zu,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Ea(v,qu)),h.join("")},Zn.prototype.resolve=function(h){const x=en(this);let v=!!h.j;v?yn(x,h.j):v=!!h.o,v?x.o=h.o:v=!!h.g,v?x.g=h.g:v=h.u!=null;var w=h.h;if(v)gr(x,h.u);else if(v=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var Q=x.h.lastIndexOf("/");Q!=-1&&(w=x.h.slice(0,Q+1)+w)}if(Q=w,Q==".."||Q==".")w="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){w=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const se=[];for(let ye=0;ye<Q.length;){const Be=Q[ye++];Be=="."?w&&ye==Q.length&&se.push(""):Be==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),w&&ye==Q.length&&se.push("")):(se.push(Be),w=!0)}w=se.join("/")}else w=Q}return v?x.h=w:v=h.i.toString()!=="",v?Ll(x,Bu(h.i)):v=!!h.m,v&&(x.m=h.m),x};function en(h){return new Zn(h)}function yn(h,x,v){h.j=v?ci(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function gr(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function Ll(h,x,v){x instanceof yr?(h.i=x,bo(h.i,h.l)):(v||(x=Ea(x,pr)),h.i=new yr(x,h.l))}function pt(h,x,v){h.i.set(x,v)}function Na(h){return pt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ci(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ea(h,x,v){return typeof h=="string"?(h=encodeURI(h).replace(x,Fn),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var yo=/[#\/\?@]/g,zu=/[#\?:]/g,Vl=/[#\?]/g,pr=/[#\?@]/g,qu=/#/g;function yr(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Bn(h){h.g||(h.g=new Map,h.h=0,h.i&&po(h.i,function(x,v){h.add(decodeURIComponent(x.replace(/\+/g," ")),v)}))}s=yr.prototype,s.add=function(h,x){Bn(this),this.i=null,h=xr(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(x),this.h+=1,this};function Fu(h,x){Bn(h),x=xr(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Ul(h,x){return Bn(h),x=xr(h,x),h.g.has(x)}s.forEach=function(h,x){Bn(this),this.g.forEach(function(v,w){v.forEach(function(Q){h.call(x,Q,w,this)},this)},this)};function zl(h,x){Bn(h);let v=[];if(typeof x=="string")Ul(h,x)&&(v=v.concat(h.g.get(xr(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)v=v.concat(h[x]);return v}s.set=function(h,x){return Bn(this),this.i=null,h=xr(this,h),Ul(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},s.get=function(h,x){return h?(h=zl(this,h),h.length>0?String(h[0]):x):x};function xo(h,x,v){Fu(h,x),v.length>0&&(h.i=null,h.g.set(xr(h,x),M(v)),h.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let w=0;w<x.length;w++){var v=x[w];const Q=Mi(v);v=zl(this,v);for(let se=0;se<v.length;se++){let ye=Q;v[se]!==""&&(ye+="="+Mi(v[se])),h.push(ye)}}return this.i=h.join("&")};function Bu(h){const x=new yr;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function xr(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function bo(h,x){x&&!h.j&&(Bn(h),h.i=null,h.g.forEach(function(v,w){const Q=w.toLowerCase();w!=Q&&(Fu(this,w),xo(this,Q,v))},h)),h.j=x}function Ls(h,x){const v=new Ps;if(d.Image){const w=new Image;w.onload=_(ys,v,"TestLoadImage: loaded",!0,x,w),w.onerror=_(ys,v,"TestLoadImage: error",!1,x,w),w.onabort=_(ys,v,"TestLoadImage: abort",!1,x,w),w.ontimeout=_(ys,v,"TestLoadImage: timeout",!1,x,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else x(!1)}function ql(h,x){const v=new Ps,w=new AbortController,Q=setTimeout(()=>{w.abort(),ys(v,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:w.signal}).then(se=>{clearTimeout(Q),se.ok?ys(v,"TestPingServer: ok",!0,x):ys(v,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Q),ys(v,"TestPingServer: error",!1,x)})}function ys(h,x,v,w,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),w(v)}catch{}}function br(){this.g=new st}function ui(h){this.i=h.Sb||null,this.h=h.ab||!1}E(ui,bt),ui.prototype.g=function(){return new Ta(this.i,this.h)};function Ta(h,x){Ee.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Ta,Ee),s=Ta.prototype,s.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,Vs(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||d).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vr(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Vs(this)),this.g&&(this.readyState=3,Vs(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function vo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?vr(this):Vs(this),this.readyState==3&&vo(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,vr(this))},s.Na=function(h){this.g&&(this.response=h,vr(this))},s.ga=function(){this.g&&vr(this)};function vr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Vs(h)}s.setRequestHeader=function(h,x){this.A.append(h,x)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var v=x.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=x.next();return h.join(`\r
`)};function Vs(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function xs(h){let x="";return Ne(h,function(v,w){x+=w,x+=":",x+=v,x+=`\r
`}),x}function wa(h,x,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=xs(v),typeof h=="string"?v!=null&&Mi(v):pt(h,x,v))}function vt(h){Ee.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(vt,Ee);var di=/^https?$/i,Fl=["POST","PUT"];s=vt.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,x,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rl.g(),this.g.onreadystatechange=j(p(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(se){ja(this,se);return}if(h=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var Q in w)v.set(Q,w[Q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const se of w.keys())v.set(se,w.get(se));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(se=>se.toLowerCase()=="content-type"),Q=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(Fl,x,void 0)>=0)||w||Q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ye]of v)this.g.setRequestHeader(se,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(se){ja(this,se)}};function ja(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,Bl(h),Di(h)}function Bl(h){h.A||(h.A=!0,Ge(h,"complete"),Ge(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ge(this,"complete"),Ge(this,"abort"),Di(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),vt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Aa(this):this.Xa())},s.Xa=function(){Aa(this)};function Aa(h){if(h.h&&typeof u<"u"){if(h.v&&Us(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ge(h,"readystatechange"),Us(h)==4){h.h=!1;try{const se=h.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var v;if(!(v=x)){var w;if(w=se===0){let ye=String(h.D).match(Uu)[1]||null;!ye&&d.self&&d.self.location&&(ye=d.self.location.protocol.slice(0,-1)),w=!di.test(ye?ye.toLowerCase():"")}v=w}if(v)Ge(h,"complete"),Ge(h,"success");else{h.o=6;try{var Q=Us(h)>2?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.ca()+"]",Bl(h)}}finally{Di(h)}}}}function Di(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,x||Ge(h,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Us(h){return h.g?h.g.readyState:0}s.ca=function(){try{return Us(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),Il(x)}};function Nn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(h){const x={};h=(h.g&&Us(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(N(h[w]))continue;var v=ku(h[w]);const Q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const se=x[Q]||[];x[Q]=se,se.push(v)}Ve(x,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(h,x,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||x}function _r(h){this.za=0,this.i=[],this.j=new Ps,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,h),this.Za=hi("retryDelaySeedMs",1e4,h),this.Ta=hi("forwardChannelMaxRetries",2,h),this.va=hi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ml(h&&h.concurrentRequestLimit),this.Ba=new br,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=_r.prototype,s.ka=8,s.I=1,s.connect=function(h,x,v,w){qt(0),this.W=h,this.H=x||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=Qu(this,null,this.W),fi(this)};function Hl(h){if(_o(h),h.I==3){var x=h.V++,v=en(h.J);if(pt(v,"SID",h.M),pt(v,"RID",x),pt(v,"TYPE","terminate"),Sa(h,v),x=new Os(h,h.j,x),x.M=2,x.A=Na(en(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(x.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=x.A,v=!0),v||(x.g=Xu(x.j,null),x.g.ea(x.A)),x.F=Date.now(),ii(x)}Wu(h)}function Nr(h){h.g&&(Gl(h),h.g.cancel(),h.g=null)}function _o(h){Nr(h),h.v&&(d.clearTimeout(h.v),h.v=null),Eo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function fi(h){if(!Dl(h.h)&&!h.m){h.m=!0;var x=h.Ea;fe||A(),xe||(fe(),xe=!0),S.add(x,h),h.D=0}}function No(h,x){return oi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ti(p(h.Ea,h,x),Ku(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const Q=new Os(this,this.j,h);let se=this.o;if(this.U&&(se?(se=V(se),ge(se,this.U)):se=this.U),this.u!==null||this.R||(Q.J=se,se=null),this.S)e:{for(var x=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(x+=w,x>4096){x=v;break e}if(x===4096||v===this.i.length-1){x=v+1;break e}}x=1e3}else x=1e3;x=Hu(this,Q,x),v=en(this.J),pt(v,"RID",h),pt(v,"CVER",22),this.G&&pt(v,"X-HTTP-Session-Id",this.G),Sa(this,v),se&&(this.R?x="headers="+Mi(xs(se))+"&"+x:this.u&&wa(v,this.u,se)),Pl(this.h,Q),this.Ra&&pt(v,"TYPE","init"),this.S?(pt(v,"$req",x),pt(v,"SID","null"),Q.U=!0,si(Q,v,null)):si(Q,v,x),this.I=2}}else this.I==3&&(h?$l(this,h):this.i.length==0||Dl(this.h)||$l(this))};function $l(h,x){var v;x?v=x.l:v=h.V++;const w=en(h.J);pt(w,"SID",h.M),pt(w,"RID",v),pt(w,"AID",h.K),Sa(h,w),h.u&&h.o&&wa(w,h.u,h.o),v=new Os(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),x&&(h.i=x.G.concat(h.i)),x=Hu(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Pl(h.h,v),si(v,w,x)}function Sa(h,x){h.H&&Ne(h.H,function(v,w){pt(x,w,v)}),h.l&&Ne({},function(v,w){pt(x,w,v)})}function Hu(h,x,v){v=Math.min(h.i.length,v);const w=h.l?p(h.l.Ka,h.l,h):null;e:{var Q=h.i;let Be=-1;for(;;){const Yt=["count="+v];Be==-1?v>0?(Be=Q[0].g,Yt.push("ofs="+Be)):Be=0:Yt.push("ofs="+Be);let dt=!0;for(let kt=0;kt<v;kt++){var se=Q[kt].g;const bs=Q[kt].map;if(se-=Be,se<0)Be=Math.max(0,Q[kt].g-100),dt=!1;else try{se="req"+se+"_"||"";try{var ye=bs instanceof Map?bs:Object.entries(bs);for(const[gi,zs]of ye){let qs=zs;g(zs)&&(qs=Zs(zs)),Yt.push(se+gi+"="+encodeURIComponent(qs))}}catch(gi){throw Yt.push(se+"type="+encodeURIComponent("_badmap")),gi}}catch{w&&w(bs)}}if(dt){ye=Yt.join("&");break e}}ye=void 0}return h=h.i.splice(0,v),x.G=h,ye}function $u(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;fe||A(),xe||(fe(),xe=!0),S.add(x,h),h.A=0}}function Ia(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ti(p(h.Da,h),Ku(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,Gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ti(p(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),Nr(this),Gu(this))};function Gl(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function Gu(h){h.g=new Os(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=en(h.na);pt(x,"RID","rpc"),pt(x,"SID",h.M),pt(x,"AID",h.K),pt(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&pt(x,"TO",h.ia),pt(x,"TYPE","xmlhttp"),Sa(h,x),h.u&&h.o&&wa(x,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=Na(en(x)),v.u=null,v.R=!0,mo(v,h)}s.Va=function(){this.C!=null&&(this.C=null,Nr(this),Ia(this),qt(19))};function Eo(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Yu(h,x){var v=null;if(h.g==x){Eo(h),Gl(h),h.g=null;var w=2}else if(li(h.h,x))v=x.G,Ol(h.h,x),w=1;else return;if(h.I!=0){if(x.o)if(w==1){v=x.u?x.u.length:0,x=Date.now()-x.F;var Q=h.D;w=ei(),Ge(w,new gs(w,v)),fi(h)}else $u(h);else if(Q=x.m,Q==3||Q==0&&x.X>0||!(w==1&&No(h,x)||w==2&&Ia(h)))switch(v&&v.length>0&&(x=h.h,x.i=x.i.concat(v)),Q){case 1:mi(h,5);break;case 4:mi(h,10);break;case 3:mi(h,6);break;default:mi(h,2)}}}function Ku(h,x){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*x}function mi(h,x){if(h.j.info("Error code "+x),x==2){var v=p(h.bb,h),w=h.Ua;const Q=!w;w=new Zn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||yn(w,"https"),Na(w),Q?Ls(w.toString(),v):ql(w.toString(),v)}else qt(2);h.I=0,h.l&&h.l.pa(x),Wu(h),_o(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function Wu(h){if(h.I=0,h.ja=[],h.l){const x=kl(h.h);(x.length!=0||h.i.length!=0)&&(W(h.ja,x),W(h.ja,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.oa()}}function Qu(h,x,v){var w=v instanceof Zn?en(v):new Zn(v);if(w.g!="")x&&(w.g=x+"."+w.g),gr(w,w.u);else{var Q=d.location;w=Q.protocol,x=x?x+"."+Q.hostname:Q.hostname,Q=+Q.port;const se=new Zn(null);w&&yn(se,w),x&&(se.g=x),Q&&gr(se,Q),v&&(se.h=v),w=se}return v=h.G,x=h.wa,v&&x&&pt(w,v,x),pt(w,"VER",h.ka),Sa(h,w),w}function Xu(h,x,v){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new vt(new ui({ab:v})):new vt(h.ma),x.Fa(h.L),x}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}s=Ju.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Er(){}Er.prototype.g=function(h,x){return new Un(h,x)};function Un(h,x){Ee.call(this),this.g=new _r(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!N(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!N(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new Oi(this)}E(Un,Ee),Un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){Hl(this.g)},Un.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=Zs(h),h=v);x.i.push(new Zt(x.Ya++,h)),x.I==3&&fi(x)},Un.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,Un.Z.N.call(this)};function Zu(h){Qe.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const v in x){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}E(Zu,Qe);function ed(){gt.call(this),this.status=1}E(ed,gt);function Oi(h){this.g=h}E(Oi,Ju),Oi.prototype.ra=function(){Ge(this.g,"a")},Oi.prototype.qa=function(h){Ge(this.g,new Zu(h))},Oi.prototype.pa=function(h){Ge(this.g,new ed)},Oi.prototype.oa=function(){Ge(this.g,"b")},Er.prototype.createWebChannel=Er.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,_T=function(){return new Er},vT=function(){return ei()},bT=it,op={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},va.NO_ERROR=0,va.TIMEOUT=8,va.HTTP_ERROR=6,_h=va,Cl.COMPLETE="complete",xT=Cl,gn.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,kc=gn,vt.prototype.listenOnce=vt.prototype.K,vt.prototype.getLastError=vt.prototype.Ha,vt.prototype.getLastErrorCode=vt.prototype.ya,vt.prototype.getStatus=vt.prototype.ca,vt.prototype.getResponseJson=vt.prototype.La,vt.prototype.getResponseText=vt.prototype.la,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Fa,yT=vt}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");let Tl="12.8.0";function W3(s){Tl=s}const ro=new nf("@firebase/firestore");function el(){return ro.logLevel}function Se(s,...e){if(ro.logLevel<=Ze.DEBUG){const t=e.map(oy);ro.debug(`Firestore (${Tl}): ${s}`,...t)}}function lr(s,...e){if(ro.logLevel<=Ze.ERROR){const t=e.map(oy);ro.error(`Firestore (${Tl}): ${s}`,...t)}}function hl(s,...e){if(ro.logLevel<=Ze.WARN){const t=e.map(oy);ro.warn(`Firestore (${Tl}): ${s}`,...t)}}function oy(s){if(typeof s=="string")return s;try{return(function(t){return JSON.stringify(t)})(s)}catch{return s}}function ke(s,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,NT(s,r,t)}function NT(s,e,t){let r=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw lr(r),new Error(r)}function mt(s,e,t,r){let l="Unexpected state";typeof t=="string"?l=t:r=t,s||NT(e,l,r)}function Fe(s,e){return s}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Js{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ja{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ET{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(On.UNAUTHENTICATED)))}shutdown(){}}class X3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class J3{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let u=new Ja;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ja,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ja)}}),0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string",31837,{l:r}),new ET(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string",2055,{h:e}),new On(e)}}class Z3{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=On.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class eM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Z3(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(On.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){mt(this.o===void 0,3512);const r=u=>{u.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,Se("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new x_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(mt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new x_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function nM(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<s;r++)t[r]=Math.floor(256*Math.random());return t}class ly{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=nM(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<t&&(r+=e.charAt(l[u]%62))}return r}}function et(s,e){return s<e?-1:s>e?1:0}function lp(s,e){const t=Math.min(s.length,e.length);for(let r=0;r<t;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return Ug(l)===Ug(u)?et(l,u):Ug(l)?1:-1}return et(s.length,e.length)}const sM=55296,iM=57343;function Ug(s){const e=s.charCodeAt(0);return e>=sM&&e<=iM}function fl(s,e,t){return s.length===e.length&&s.every(((r,l)=>t(r,e[l])))}const b_="__name__";class Ni{constructor(e,t,r){t===void 0?t=0:t>e.length&&ke(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ke(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let l=0;l<r;l++){const u=Ni.compareSegments(e.get(l),t.get(l));if(u!==0)return u}return et(e.length,t.length)}static compareSegments(e,t){const r=Ni.isNumericId(e),l=Ni.isNumericId(t);return r&&!l?-1:!r&&l?1:r&&l?Ni.extractNumericId(e).compare(Ni.extractNumericId(t)):lp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sa.fromString(e.substring(4,e.length-2))}}class It extends Ni{construct(e,t,r){return new It(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((l=>l.length>0)))}return new It(t)}static emptyPath(){return new It([])}}const rM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends Ni{construct(e,t,r){return new In(e,t,r)}static isValidIdentifier(e){return rM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b_}static keyField(){return new In([b_])}static fromServerFormat(e){const t=[];let r="",l=0;const u=()=>{if(r.length===0)throw new Ae(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new Ae(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Ae(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(u(),l++)}if(u(),d)throw new Ae(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(t)}static emptyPath(){return new In([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me(It.fromString(e))}static fromName(e){return new Me(It.fromString(e).popFirst(5))}static empty(){return new Me(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return It.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new It(e.slice()))}}function TT(s,e,t){if(!t)throw new Ae(de.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function aM(s,e,t,r){if(e===!0&&r===!0)throw new Ae(de.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function v_(s){if(!Me.isDocumentKey(s))throw new Ae(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function __(s){if(Me.isDocumentKey(s))throw new Ae(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function wT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function cf(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ke(12329,{type:typeof s})}function Za(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Ae(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cf(s);throw new Ae(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function ln(s,e){const t={typeString:s};return e&&(t.value=e),t}function wu(s,e){if(!wT(s))throw new Ae(de.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){t=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){t=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){t=`Expected '${r}' field to equal '${u.value}'`;break}}if(t)throw new Ae(de.INVALID_ARGUMENT,t);return!0}const N_=-62135596800,E_=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*E_);return new Ot(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<N_)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E_}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wu(e,Ot._jsonSchema))return new Ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ot._jsonSchemaVersion="firestore/timestamp/1.0",Ot._jsonSchema={type:ln("string",Ot._jsonSchemaVersion),seconds:ln("number"),nanoseconds:ln("number")};class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Ot(0,0))}static max(){return new ze(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const su=-1;function oM(s,e){const t=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=ze.fromTimestamp(r===1e9?new Ot(t+1,0):new Ot(t,r));return new aa(l,Me.empty(),e)}function lM(s){return new aa(s.readTime,s.key,su)}class aa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new aa(ze.min(),Me.empty(),su)}static max(){return new aa(ze.max(),Me.empty(),su)}}function cM(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=Me.comparator(s.documentKey,e.documentKey),t!==0?t:et(s.largestBatchId,e.largestBatchId))}const uM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wl(s){if(s.code!==de.FAILED_PRECONDITION||s.message!==uM)throw s;Se("LocalStore","Unexpectedly lost primary lease")}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,l)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):he.reject(t)}static resolve(e){return new he(((t,r)=>{t(e)}))}static reject(e){return new he(((t,r)=>{r(e)}))}static waitFor(e){return new he(((t,r)=>{let l=0,u=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&t()}),(y=>r(y)))})),d=!0,u===l&&t()}))}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next((l=>l?he.resolve(l):r()));return t}static forEach(e,t){const r=[];return e.forEach(((l,u)=>{r.push(t.call(this,l,u))})),this.waitFor(r)}static mapArray(e,t){return new he(((r,l)=>{const u=e.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const p=y;t(e[p]).next((_=>{d[p]=_,++g,g===u&&r(d)}),(_=>l(_)))}}))}static doWhile(e,t){return new he(((r,l)=>{const u=()=>{e()===!0?t().next((()=>{u()}),l):r()};u()}))}}function hM(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jl(s){return s.name==="IndexedDbTransactionError"}class uf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uf.ce=-1;const cy=-1;function df(s){return s==null}function qh(s){return s===0&&1/s==-1/0}function fM(s){return typeof s=="number"&&Number.isInteger(s)&&!qh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const jT="";function mM(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=T_(e)),e=gM(s.get(t),e);return T_(e)}function gM(s,e){let t=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":t+="";break;case jT:t+="";break;default:t+=u}}return t}function T_(s){return s+jT+""}function w_(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function ya(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function AT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class zt{constructor(e,t){this.comparator=e,this.root=t||Sn.EMPTY}insert(e,t){return new zt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return t+r.left.size;l<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,t,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,t,r,l,u){this.key=e,this.value=t,this.color=r??Sn.RED,this.left=l??Sn.EMPTY,this.right=u??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,l,u){return new Sn(e??this.key,t??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,t,r),null):u===0?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),t(e,l.key)===0){if(l.right.isEmpty())return Sn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,t,r,l,u){return this}insert(e,t,r){return new Sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fn{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new j_(this.data.getIterator())}getIteratorFrom(e){return new j_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new fn(this.comparator);return t.data=e,t}}class j_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class us{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new us([])}unionWith(e){let t=new fn(In.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new us(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class ST extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ST("Invalid base64 string: "+u):u}})(e);return new Rn(t)}static fromUint8Array(e){const t=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new Rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let l=0;l<t.length;l++)r[l]=t.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const pM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(s){if(mt(!!s,39018),typeof s=="string"){let e=0;const t=pM.exec(s);if(mt(!!t,46558,{timestamp:s}),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(s.seconds),nanos:Qt(s.nanos)}}function Qt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function la(s){return typeof s=="string"?Rn.fromBase64String(s):Rn.fromUint8Array(s)}const IT="server_timestamp",CT="__type__",RT="__previous_value__",MT="__local_write_time__";function uy(s){return(s?.mapValue?.fields||{})[CT]?.stringValue===IT}function hf(s){const e=s.mapValue.fields[RT];return uy(e)?hf(e):e}function iu(s){const e=oa(s.mapValue.fields[MT].timestampValue);return new Ot(e.seconds,e.nanos)}class yM{constructor(e,t,r,l,u,d,g,y,p,_,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=_,this.apiKey=E}}const Fh="(default)";class ru{constructor(e,t){this.projectId=e,this.database=t||Fh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===Fh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}function xM(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Ae(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(s.options.projectId,e)}const DT="__type__",bM="__max__",lh={mapValue:{}},PT="__vector__",Bh="value";function ca(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?uy(s)?4:_M(s)?9007199254740991:vM(s)?10:11:ke(28295,{value:s})}function Ci(s,e){if(s===e)return!0;const t=ca(s);if(t!==ca(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return iu(s).isEqual(iu(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=oa(l.timestampValue),g=oa(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return la(l.bytesValue).isEqual(la(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return Qt(l.geoPointValue.latitude)===Qt(u.geoPointValue.latitude)&&Qt(l.geoPointValue.longitude)===Qt(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Qt(l.integerValue)===Qt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Qt(l.doubleValue),g=Qt(u.doubleValue);return d===g?qh(d)===qh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return fl(s.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(w_(d)!==w_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Ci(d[y],g[y])))return!1;return!0})(s,e);default:return ke(52216,{left:s})}}function au(s,e){return(s.values||[]).find((t=>Ci(t,e)))!==void 0}function ml(s,e){if(s===e)return 0;const t=ca(s),r=ca(e);if(t!==r)return et(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return et(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const g=Qt(u.integerValue||u.doubleValue),y=Qt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return A_(s.timestampValue,e.timestampValue);case 4:return A_(iu(s),iu(e));case 5:return lp(s.stringValue,e.stringValue);case 6:return(function(u,d){const g=la(u),y=la(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const _=et(g[p],y[p]);if(_!==0)return _}return et(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const g=et(Qt(u.latitude),Qt(d.latitude));return g!==0?g:et(Qt(u.longitude),Qt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return S_(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const g=u.fields||{},y=d.fields||{},p=g[Bh]?.arrayValue,_=y[Bh]?.arrayValue,E=et(p?.values?.length||0,_?.values?.length||0);return E!==0?E:S_(p,_)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===lh.mapValue&&d===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(d===lh.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),p=d.fields||{},_=Object.keys(p);y.sort(),_.sort();for(let E=0;E<y.length&&E<_.length;++E){const j=lp(y[E],_[E]);if(j!==0)return j;const M=ml(g[y[E]],p[_[E]]);if(M!==0)return M}return et(y.length,_.length)})(s.mapValue,e.mapValue);default:throw ke(23264,{he:t})}}function A_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return et(s,e);const t=oa(s),r=oa(e),l=et(t.seconds,r.seconds);return l!==0?l:et(t.nanos,r.nanos)}function S_(s,e){const t=s.values||[],r=e.values||[];for(let l=0;l<t.length&&l<r.length;++l){const u=ml(t[l],r[l]);if(u)return u}return et(t.length,r.length)}function gl(s){return cp(s)}function cp(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(t){const r=oa(t);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(t){return la(t).toBase64()})(s.bytesValue):"referenceValue"in s?(function(t){return Me.fromName(t).toString()})(s.referenceValue):"geoPointValue"in s?(function(t){return`geo(${t.latitude},${t.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(t){let r="[",l=!0;for(const u of t.values||[])l?l=!1:r+=",",r+=cp(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(t){const r=Object.keys(t.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${cp(t.fields[d])}`;return l+"}"})(s.mapValue):ke(61005,{value:s})}function Nh(s){switch(ca(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hf(s);return e?16+Nh(e):16;case 5:return 2*s.stringValue.length;case 6:return la(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Nh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return ya(r.fields,((u,d)=>{l+=u.length+Nh(d)})),l})(s.mapValue);default:throw ke(13486,{value:s})}}function I_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function up(s){return!!s&&"integerValue"in s}function dy(s){return!!s&&"arrayValue"in s}function C_(s){return!!s&&"nullValue"in s}function R_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Eh(s){return!!s&&"mapValue"in s}function vM(s){return(s?.mapValue?.fields||{})[DT]?.stringValue===PT}function Hc(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return ya(s.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Hc(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hc(s.arrayValue.values[t]);return e}return{...s}}function _M(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===bM}class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hc(t)}setAll(e){let t=In.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!t.isImmediateParentOf(g)){const y=this.getFieldsMap(t);this.applyChanges(y,r,l),r={},l=[],t=g.popLast()}d?r[g.lastSegment()]=Hc(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,r,l)}delete(e){const t=this.field(e.popLast());Eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=t.mapValue.fields[e.get(r)];Eh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,r){ya(t,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new Qn(Hc(this.value))}}function OT(s){const e=[];return ya(s.fields,((t,r)=>{const l=new In([t]);if(Eh(r)){const u=OT(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new us(e)}class kn{constructor(e,t,r,l,u,d,g){this.key=e,this.documentType=t,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new kn(e,0,ze.min(),ze.min(),ze.min(),Qn.empty(),0)}static newFoundDocument(e,t,r,l){return new kn(e,1,t,ze.min(),r,l,0)}static newNoDocument(e,t){return new kn(e,2,t,ze.min(),ze.min(),Qn.empty(),0)}static newUnknownDocument(e,t){return new kn(e,3,t,ze.min(),ze.min(),Qn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hh{constructor(e,t){this.position=e,this.inclusive=t}}function M_(s,e,t){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=Me.comparator(Me.fromName(d.referenceValue),t.key):r=ml(d,t.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function D_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Ci(s.position[t],e.position[t]))return!1;return!0}class ou{constructor(e,t="asc"){this.field=e,this.dir=t}}function NM(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class kT{}class on extends kT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new TM(e,t,r):t==="array-contains"?new AM(e,r):t==="in"?new SM(e,r):t==="not-in"?new IM(e,r):t==="array-contains-any"?new CM(e,r):new on(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new wM(e,r):new jM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ml(t,this.value)):t!==null&&ca(this.value)===ca(t)&&this.matchesComparison(ml(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xs extends kT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Xs(e,t)}matches(e){return LT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LT(s){return s.op==="and"}function VT(s){return EM(s)&&LT(s)}function EM(s){for(const e of s.filters)if(e instanceof Xs)return!1;return!0}function dp(s){if(s instanceof on)return s.field.canonicalString()+s.op.toString()+gl(s.value);if(VT(s))return s.filters.map((e=>dp(e))).join(",");{const e=s.filters.map((t=>dp(t))).join(",");return`${s.op}(${e})`}}function UT(s,e){return s instanceof on?(function(r,l){return l instanceof on&&r.op===l.op&&r.field.isEqual(l.field)&&Ci(r.value,l.value)})(s,e):s instanceof Xs?(function(r,l){return l instanceof Xs&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,g)=>u&&UT(d,l.filters[g])),!0):!1})(s,e):void ke(19439)}function zT(s){return s instanceof on?(function(t){return`${t.field.canonicalString()} ${t.op} ${gl(t.value)}`})(s):s instanceof Xs?(function(t){return t.op.toString()+" {"+t.getFilters().map(zT).join(" ,")+"}"})(s):"Filter"}class TM extends on{constructor(e,t,r){super(e,t,r),this.key=Me.fromName(r.referenceValue)}matches(e){const t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}}class wM extends on{constructor(e,t){super(e,"in",t),this.keys=qT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class jM extends on{constructor(e,t){super(e,"not-in",t),this.keys=qT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function qT(s,e){return(e.arrayValue?.values||[]).map((t=>Me.fromName(t.referenceValue)))}class AM extends on{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dy(t)&&au(t.arrayValue,this.value)}}class SM extends on{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&au(this.value.arrayValue,t)}}class IM extends on{constructor(e,t){super(e,"not-in",t)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!au(this.value.arrayValue,t)}}class CM extends on{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>au(this.value.arrayValue,r)))}}class RM{constructor(e,t=null,r=[],l=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function P_(s,e=null,t=[],r=[],l=null,u=null,d=null){return new RM(s,e,t,r,l,u,d)}function hy(s){const e=Fe(s);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>dp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),df(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>gl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>gl(r))).join(",")),e.Te=t}return e.Te}function fy(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!NM(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!UT(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!D_(s.startAt,e.startAt)&&D_(s.endAt,e.endAt)}function hp(s){return Me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Al{constructor(e,t=null,r=[],l=[],u=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function MM(s,e,t,r,l,u,d,g){return new Al(s,e,t,r,l,u,d,g)}function my(s){return new Al(s)}function O_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function DM(s){return Me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function FT(s){return s.collectionGroup!==null}function $c(s){const e=Fe(s);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new fn(In.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new ou(u,r))})),t.has(In.keyField().canonicalString())||e.Ie.push(new ou(In.keyField(),r))}return e.Ie}function Ti(s){const e=Fe(s);return e.Ee||(e.Ee=PM(e,$c(s))),e.Ee}function PM(s,e){if(s.limitType==="F")return P_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new ou(l.field,u)}));const t=s.endAt?new Hh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Hh(s.startAt.position,s.startAt.inclusive):null;return P_(s.path,s.collectionGroup,e,s.filters,s.limit,t,r)}}function fp(s,e){const t=s.filters.concat([e]);return new Al(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function OM(s,e){const t=s.explicitOrderBy.concat([e]);return new Al(s.path,s.collectionGroup,t,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function mp(s,e,t){return new Al(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function ff(s,e){return fy(Ti(s),Ti(e))&&s.limitType===e.limitType}function BT(s){return`${hy(Ti(s))}|lt:${s.limitType}`}function tl(s){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((l=>zT(l))).join(", ")}]`),df(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((l=>gl(l))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((l=>gl(l))).join(",")),`Target(${r})`})(Ti(s))}; limitType=${s.limitType})`}function mf(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Me.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of $c(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const p=M_(d,g,y);return d.inclusive?p<=0:p<0})(r.startAt,$c(r),l)||r.endAt&&!(function(d,g,y){const p=M_(d,g,y);return d.inclusive?p>=0:p>0})(r.endAt,$c(r),l))})(s,e)}function kM(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function HT(s){return(e,t)=>{let r=!1;for(const l of $c(s)){const u=LM(l,e,t);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function LM(s,e,t){const r=s.field.isKeyField()?Me.comparator(e.key,t.key):(function(u,d,g){const y=d.data.field(u),p=g.data.field(u);return y!==null&&p!==null?ml(y,p):ke(42886)})(s.field,e,t);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:s.dir})}}class co{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[t]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,((t,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return AT(this.inner)}size(){return this.innerSize}}const VM=new zt(Me.comparator);function cr(){return VM}const $T=new zt(Me.comparator);function Lc(...s){let e=$T;for(const t of s)e=e.insert(t.key,t);return e}function GT(s){let e=$T;return s.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Qa(){return Gc()}function YT(){return Gc()}function Gc(){return new co((s=>s.toString()),((s,e)=>s.isEqual(e)))}const UM=new zt(Me.comparator),zM=new fn(Me.comparator);function nt(...s){let e=zM;for(const t of s)e=e.add(t);return e}const qM=new fn(et);function FM(){return qM}function gy(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function KT(s){return{integerValue:""+s}}function BM(s,e){return fM(e)?KT(e):gy(s,e)}class gf{constructor(){this._=void 0}}function HM(s,e,t){return s instanceof lu?(function(l,u){const d={fields:{[CT]:{stringValue:IT},[MT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&uy(u)&&(u=hf(u)),u&&(d.fields[RT]=u),{mapValue:d}})(t,e):s instanceof cu?QT(s,e):s instanceof uu?XT(s,e):(function(l,u){const d=WT(l,u),g=k_(d)+k_(l.Ae);return up(d)&&up(l.Ae)?KT(g):gy(l.serializer,g)})(s,e)}function $M(s,e,t){return s instanceof cu?QT(s,e):s instanceof uu?XT(s,e):t}function WT(s,e){return s instanceof $h?(function(r){return up(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class lu extends gf{}class cu extends gf{constructor(e){super(),this.elements=e}}function QT(s,e){const t=JT(e);for(const r of s.elements)t.some((l=>Ci(l,r)))||t.push(r);return{arrayValue:{values:t}}}class uu extends gf{constructor(e){super(),this.elements=e}}function XT(s,e){let t=JT(e);for(const r of s.elements)t=t.filter((l=>!Ci(l,r)));return{arrayValue:{values:t}}}class $h extends gf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function k_(s){return Qt(s.integerValue||s.doubleValue)}function JT(s){return dy(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class GM{constructor(e,t){this.field=e,this.transform=t}}function YM(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof cu&&l instanceof cu||r instanceof uu&&l instanceof uu?fl(r.elements,l.elements,Ci):r instanceof $h&&l instanceof $h?Ci(r.Ae,l.Ae):r instanceof lu&&l instanceof lu})(s.transform,e.transform)}class KM{constructor(e,t){this.version=e,this.transformResults=t}}class wi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class pf{}function ZT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new tw(s.key,wi.none()):new ju(s.key,s.data,wi.none());{const t=s.data,r=Qn.empty();let l=new fn(In.comparator);for(let u of e.fields)if(!l.has(u)){let d=t.field(u);d===null&&u.length>1&&(u=u.popLast(),d=t.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new xa(s.key,r,new us(l.toArray()),wi.none())}}function WM(s,e,t){s instanceof ju?(function(l,u,d){const g=l.value.clone(),y=V_(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,t):s instanceof xa?(function(l,u,d){if(!Th(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=V_(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(ew(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,t):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,t)}function Yc(s,e,t,r){return s instanceof ju?(function(u,d,g,y){if(!Th(u.precondition,d))return g;const p=u.value.clone(),_=U_(u.fieldTransforms,y,d);return p.setAll(_),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(s,e,t,r):s instanceof xa?(function(u,d,g,y){if(!Th(u.precondition,d))return g;const p=U_(u.fieldTransforms,y,d),_=d.data;return _.setAll(ew(u)),_.setAll(p),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(s,e,t,r):(function(u,d,g){return Th(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,t)}function QM(s,e){let t=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=WT(r.transform,l||null);u!=null&&(t===null&&(t=Qn.empty()),t.set(r.field,u))}return t||null}function L_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&fl(r,l,((u,d)=>YM(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ju extends pf{constructor(e,t,r,l=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class xa extends pf{constructor(e,t,r,l,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ew(s){const e=new Map;return s.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=s.data.field(t);e.set(t,r)}})),e}function V_(s,e,t){const r=new Map;mt(s.length===t.length,32656,{Ve:t.length,de:s.length});for(let l=0;l<t.length;l++){const u=s[l],d=u.transform,g=e.data.field(u.field);r.set(u.field,$M(d,g,t[l]))}return r}function U_(s,e,t){const r=new Map;for(const l of s){const u=l.transform,d=t.data.field(l.field);r.set(l.field,HM(u,d,e))}return r}class tw extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XM extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JM{constructor(e,t,r,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&WM(u,e,r[l])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Yc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Yc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=YT();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=t.has(l.key)?null:g;const y=ZT(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),nt())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,((t,r)=>L_(t,r)))&&fl(this.baseMutations,e.baseMutations,((t,r)=>L_(t,r)))}}class py{constructor(e,t,r,l){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=l}static from(e,t,r){mt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return UM})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new py(e,t,r,l)}}class ZM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class eD{constructor(e,t){this.count=e,this.unchangedNames=t}}var an,at;function tD(s){switch(s){case de.OK:return ke(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return ke(15467,{code:s})}}function nw(s){if(s===void 0)return lr("GRPC error has no .code"),de.UNKNOWN;switch(s){case an.OK:return de.OK;case an.CANCELLED:return de.CANCELLED;case an.UNKNOWN:return de.UNKNOWN;case an.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case an.INTERNAL:return de.INTERNAL;case an.UNAVAILABLE:return de.UNAVAILABLE;case an.UNAUTHENTICATED:return de.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case an.NOT_FOUND:return de.NOT_FOUND;case an.ALREADY_EXISTS:return de.ALREADY_EXISTS;case an.PERMISSION_DENIED:return de.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case an.ABORTED:return de.ABORTED;case an.OUT_OF_RANGE:return de.OUT_OF_RANGE;case an.UNIMPLEMENTED:return de.UNIMPLEMENTED;case an.DATA_LOSS:return de.DATA_LOSS;default:return ke(39323,{code:s})}}(at=an||(an={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";function nD(){return new TextEncoder}const sD=new sa([4294967295,4294967295],0);function z_(s){const e=nD().encode(s),t=new pT;return t.update(e),new Uint8Array(t.digest())}function q_(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new sa([t,r],0),new sa([l,u],0)]}class yy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Vc(`Invalid padding: ${t}`);if(r<0)throw new Vc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Vc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=sa.fromNumber(this.ge)}ye(e,t,r){let l=e.add(t.multiply(sa.fromNumber(r)));return l.compare(sD)===1&&(l=new sa([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=z_(e),[r,l]=q_(t);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,t,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new yy(u,l,t);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const t=z_(e),[r,l]=q_(t);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.be(d)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yf{constructor(e,t,r,l,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const l=new Map;return l.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new yf(ze.min(),l,new zt(et),cr(),nt())}}class Au{constructor(e,t,r,l,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Au(r,t,nt(),nt(),nt())}}class wh{constructor(e,t,r,l){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=l}}class sw{constructor(e,t){this.targetId=e,this.Ce=t}}class iw{constructor(e,t,r=Rn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=l}}class F_{constructor(){this.ve=0,this.Fe=B_(),this.Me=Rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nt(),t=nt(),r=nt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:r=r.add(l);break;default:ke(38017,{changeType:u})}})),new Au(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=B_()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,mt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class iD{constructor(e){this.Ge=e,this.ze=new Map,this.je=cr(),this.He=ch(),this.Je=ch(),this.Ze=new zt(et)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,l)=>{this.rt(l)&&t(l)}))}st(e){const t=e.targetId,r=e.Ce.count,l=this.ot(t);if(l){const u=l.target;if(hp(u))if(r===0){const d=new Me(u.path);this.et(t,d,kn.newNoDocument(d,ze.min()))}else mt(r===1,20013,{expectedCount:r});else{const d=this._t(t);if(d!==r){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(t);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=t;let d,g;try{d=la(r).toUint8Array()}catch(y){if(y instanceof ST)return hl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new yy(d,l,u)}catch(y){return hl(y instanceof Vc?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(t,u,null),l++)})),l}Tt(e){const t=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&hp(g.target)){const y=new Me(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,kn.newNoDocument(y,e))}u.Be&&(t.set(d,u.ke()),u.Ke())}}));let r=nt();this.Je.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new yf(e,t,this.Ze,this.je,r);return this.je=cr(),this.He=ch(),this.Je=ch(),this.Ze=new zt(et),l}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,t)?l.qe(t,1):l.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new F_,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new fn(et),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new fn(et),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new F_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ch(){return new zt(Me.comparator)}function B_(){return new zt(Me.comparator)}const rD={asc:"ASCENDING",desc:"DESCENDING"},aD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oD={and:"AND",or:"OR"};class lD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gp(s,e){return s.useProto3Json||df(e)?e:{value:e}}function Gh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rw(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function cD(s,e){return Gh(s,e.toTimestamp())}function ji(s){return mt(!!s,49232),ze.fromTimestamp((function(t){const r=oa(t);return new Ot(r.seconds,r.nanos)})(s))}function xy(s,e){return pp(s,e).canonicalString()}function pp(s,e){const t=(function(l){return new It(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?t:t.child(e)}function aw(s){const e=It.fromString(s);return mt(dw(e),10190,{key:e.toString()}),e}function yp(s,e){return xy(s.databaseId,e.path)}function zg(s,e){const t=aw(e);if(t.get(1)!==s.databaseId.projectId)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new Me(lw(t))}function ow(s,e){return xy(s.databaseId,e)}function uD(s){const e=aw(s);return e.length===4?It.emptyPath():lw(e)}function xp(s){return new It(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function lw(s){return mt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function H_(s,e,t){return{name:yp(s,e),fields:t.value.mapValue.fields}}function dD(s,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:ke(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(p,_){return p.useProto3Json?(mt(_===void 0||typeof _=="string",58123),Rn.fromBase64String(_||"")):(mt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Rn.fromUint8Array(_||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const _=p.code===void 0?de.UNKNOWN:nw(p.code);return new Ae(_,p.message||"")})(d);t=new iw(r,l,u,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=zg(s,r.document.name),u=ji(r.document.updateTime),d=r.document.createTime?ji(r.document.createTime):ze.min(),g=new Qn({mapValue:{fields:r.document.fields}}),y=kn.newFoundDocument(l,u,d,g),p=r.targetIds||[],_=r.removedTargetIds||[];t=new wh(p,_,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=zg(s,r.document),u=r.readTime?ji(r.readTime):ze.min(),d=kn.newNoDocument(l,u),g=r.removedTargetIds||[];t=new wh([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=zg(s,r.document),u=r.removedTargetIds||[];t=new wh([],u,l,null)}else{if(!("filter"in e))return ke(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new eD(l,u),g=r.targetId;t=new sw(g,d)}}return t}function hD(s,e){let t;if(e instanceof ju)t={update:H_(s,e.key,e.value)};else if(e instanceof tw)t={delete:yp(s,e.key)};else if(e instanceof xa)t={update:H_(s,e.key,e.data),updateMask:_D(e.fieldMask)};else{if(!(e instanceof XM))return ke(16599,{dt:e.type});t={verify:yp(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const g=d.transform;if(g instanceof lu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof cu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof uu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof $h)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ke(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:cD(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ke(27497)})(s,e.precondition)),t}function fD(s,e){return s&&s.length>0?(mt(e!==void 0,14353),s.map((t=>(function(l,u){let d=l.updateTime?ji(l.updateTime):ji(u);return d.isEqual(ze.min())&&(d=ji(u)),new KM(d,l.transformResults||[])})(t,e)))):[]}function mD(s,e){return{documents:[ow(s,e.path)]}}function gD(s,e){const t={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ow(s,l);const u=(function(p){if(p.length!==0)return uw(Xs.create(p,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const d=(function(p){if(p.length!==0)return p.map((_=>(function(j){return{field:nl(j.field),direction:xD(j.dir)}})(_)))})(e.orderBy);d&&(t.structuredQuery.orderBy=d);const g=gp(s,e.limit);return g!==null&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:l}}function pD(s){let e=uD(s.parent);const t=s.structuredQuery,r=t.from?t.from.length:0;let l=null;if(r>0){mt(r===1,65062);const _=t.from[0];_.allDescendants?l=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=(function(E){const j=cw(E);return j instanceof Xs&&VT(j)?j.getFilters():[j]})(t.where));let d=[];t.orderBy&&(d=(function(E){return E.map((j=>(function(W){return new ou(sl(W.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(j)))})(t.orderBy));let g=null;t.limit&&(g=(function(E){let j;return j=typeof E=="object"?E.value:E,df(j)?null:j})(t.limit));let y=null;t.startAt&&(y=(function(E){const j=!!E.before,M=E.values||[];return new Hh(M,j)})(t.startAt));let p=null;return t.endAt&&(p=(function(E){const j=!E.before,M=E.values||[];return new Hh(M,j)})(t.endAt)),MM(e,l,d,u,g,"F",y,p)}function yD(s,e){const t=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:l})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cw(s){return s.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=sl(t.unaryFilter.field);return on.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=sl(t.unaryFilter.field);return on.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=sl(t.unaryFilter.field);return on.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=sl(t.unaryFilter.field);return on.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(s):s.fieldFilter!==void 0?(function(t){return on.create(sl(t.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(t){return Xs.create(t.compositeFilter.filters.map((r=>cw(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(t.compositeFilter.op))})(s):ke(30097,{filter:s})}function xD(s){return rD[s]}function bD(s){return aD[s]}function vD(s){return oD[s]}function nl(s){return{fieldPath:s.canonicalString()}}function sl(s){return In.fromServerFormat(s.fieldPath)}function uw(s){return s instanceof on?(function(t){if(t.op==="=="){if(R_(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NAN"}};if(C_(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(R_(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NOT_NAN"}};if(C_(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(t.field),op:bD(t.op),value:t.value}}})(s):s instanceof Xs?(function(t){const r=t.getFilters().map((l=>uw(l)));return r.length===1?r[0]:{compositeFilter:{op:vD(t.op),filters:r}}})(s):ke(54877,{filter:s})}function _D(s){const e=[];return s.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function dw(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function hw(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Zr{constructor(e,t,r,l,u=ze.min(),d=ze.min(),g=Rn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ND{constructor(e){this.yt=e}}function ED(s){const e=pD({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?mp(e,e.limit,"L"):e}class TD{constructor(){this.Sn=new wD}addToCollectionParentIndex(e,t){return this.Sn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(aa.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class wD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),l=this.index[t]||new fn(It.comparator),u=!l.has(r);return this.index[t]=l.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),l=this.index[t];return l&&l.has(r)}getEntries(e){return(this.index[e]||new fn(It.comparator)).toArray()}}const $_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fw=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(fw,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);class pl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new pl(0)}static ar(){return new pl(-1)}}const G_="LruGarbageCollector",jD=1048576;function Y_([s,e],[t,r]){const l=et(s,t);return l===0?et(e,r):l}class AD{constructor(e){this.Pr=e,this.buffer=new fn(Y_),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Y_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class SD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Se(G_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jl(t)?Se(G_,"Ignoring IndexedDB error during garbage collection: ",t):await wl(t)}await this.Ar(3e5)}))}}class ID{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return he.resolve(uf.ce);const r=new AD(t);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve($_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$_):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,l,u,d,g,y,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,d=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(r=E,g=Date.now(),this.removeTargets(e,r,t)))).next((E=>(u=E,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(p=Date.now(),el()<=Ze.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-_}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${E} documents in `+(p-y)+`ms
Total Duration: ${p-_}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:E}))))}}function CD(s,e){return new ID(s,e)}class RD{constructor(){this.changes=new co((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class MD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class DD{constructor(e,t,r,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,t)))).next((l=>(r!==null&&Yc(r.mutation,l,us.empty(),Ot.now()),l)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,nt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=nt()){const l=Qa();return this.populateOverlays(e,l,t).next((()=>this.computeViews(e,t,l,r).next((u=>{let d=Lc();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,t){const r=Qa();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,nt())))}populateOverlays(e,t,r){const l=[];return r.forEach((u=>{t.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,g)=>{t.set(d,g)}))}))}computeViews(e,t,r,l){let u=cr();const d=Gc(),g=(function(){return Gc()})();return t.forEach(((y,p)=>{const _=r.get(p.key);l.has(p.key)&&(_===void 0||_.mutation instanceof xa)?u=u.insert(p.key,p):_!==void 0?(d.set(p.key,_.mutation.getFieldMask()),Yc(_.mutation,p,_.mutation.getFieldMask(),Ot.now())):d.set(p.key,us.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((p,_)=>d.set(p,_))),t.forEach(((p,_)=>g.set(p,new MD(_,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,t){const r=Gc();let l=new zt(((d,g)=>d-g)),u=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=t.get(y);if(p===null)return;let _=r.get(y)||us.empty();_=g.applyToLocalView(p,_),r.set(y,_);const E=(l.get(g.batchId)||nt()).add(y);l=l.insert(g.batchId,E)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,_=y.value,E=YT();_.forEach((j=>{if(!u.has(j)){const M=ZT(t.get(j),r.get(j));M!==null&&E.set(j,M),u=u.add(j)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,E))}return he.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,l){return DM(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):FT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,l):this.getDocumentsMatchingCollectionQuery(e,t,r,l)}getNextDocuments(e,t,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,l-u.size):he.resolve(Qa());let g=su,y=u;return d.next((p=>he.forEach(p,((_,E)=>(g<E.largestBatchId&&(g=E.largestBatchId),u.get(_)?he.resolve():this.remoteDocumentCache.getEntry(e,_).next((j=>{y=y.insert(_,j)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,y,p,nt()))).next((_=>({batchId:g,changes:GT(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next((r=>{let l=Lc();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,l){const u=t.collectionGroup;let d=Lc();return this.indexManager.getCollectionParents(e,u).next((g=>he.forEach(g,(y=>{const p=(function(E,j){return new Al(j,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,r,l).next((_=>{_.forEach(((E,j)=>{d=d.insert(E,j)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,t,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,u,l)))).next((d=>{u.forEach(((y,p)=>{const _=p.getKey();d.get(_)===null&&(d=d.insert(_,kn.newInvalidDocument(_)))}));let g=Lc();return d.forEach(((y,p)=>{const _=u.get(y);_!==void 0&&Yc(_.mutation,p,us.empty(),Ot.now()),mf(t,p)&&(g=g.insert(y,p))})),g}))}}class PD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return he.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(l){return{name:l.name,query:ED(l.bundledQuery),readTime:ji(l.readTime)}})(t)),he.resolve()}}class OD{constructor(){this.overlays=new zt(Me.comparator),this.Lr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Qa();return he.forEach(t,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((l,u)=>{this.bt(e,t,u)})),he.resolve()}removeOverlaysForBatchId(e,t,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const l=Qa(),u=t.length+1,d=new Me(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>r&&l.set(y.getKey(),y)}return he.resolve(l)}getOverlaysForCollectionGroup(e,t,r,l){let u=new zt(((p,_)=>p-_));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let _=u.get(p.largestBatchId);_===null&&(_=Qa(),u=u.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const g=Qa(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,_)=>g.set(p,_))),!(g.size()>=l)););return he.resolve(g)}bt(e,t,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ZM(t,r));let u=this.Lr.get(t);u===void 0&&(u=nt(),this.Lr.set(t,u)),this.Lr.set(t,u.add(r.key))}}class kD{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}class by{constructor(){this.kr=new fn(vn.Kr),this.qr=new fn(vn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new vn(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new vn(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Me(new It([])),r=new vn(t,e),l=new vn(t,e+1),u=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Me(new It([])),r=new vn(t,e),l=new vn(t,e+1);let u=nt();return this.qr.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const t=new vn(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Me.comparator(e.key,t.key)||et(e.Hr,t.Hr)}static Ur(e,t){return et(e.Hr,t.Hr)||Me.comparator(e.key,t.key)}}class LD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new fn(vn.Kr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new JM(u,t,r,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new vn(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return he.resolve(d)}lookupMutationBatch(e,t){return he.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,l=this.Xr(r),u=l<0?0:l;return he.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?cy:this.Yn-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new vn(t,0),l=new vn(t,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,l],(d=>{const g=this.Zr(d.Hr);u.push(g)})),he.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fn(et);return t.forEach((l=>{const u=new vn(l,0),d=new vn(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(g=>{r=r.add(g.Hr)}))})),he.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,l=r.length+1;let u=r;Me.isDocumentKey(u)||(u=u.child(""));const d=new vn(new Me(u),0);let g=new fn(et);return this.Jr.forEachWhile((y=>{const p=y.key.path;return!!r.isPrefixOf(p)&&(p.length===l&&(g=g.add(y.Hr)),!0)}),d),he.resolve(this.Yr(g))}Yr(e){const t=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&t.push(l)})),t}removeMutationBatch(e,t){mt(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return he.forEach(t.mutations,(l=>{const u=new vn(l.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new vn(t,0),l=this.Jr.firstAfterOrEqual(r);return he.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class VD{constructor(e){this.ti=e,this.docs=(function(){return new zt(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,l=this.docs.get(r),u=l?l.size:0,d=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():kn.newInvalidDocument(t))}getEntries(e,t){let r=cr();return t.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():kn.newInvalidDocument(l))})),he.resolve(r)}getDocumentsMatchingQuery(e,t,r,l){let u=cr();const d=t.path,g=new Me(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:_}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||cM(lM(_),r)<=0||(l.has(_.key)||mf(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return he.resolve(u)}getAllFromCollectionGroup(e,t,r,l){ke(9500)}ni(e,t){return he.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new UD(this)}getSize(e){return he.resolve(this.size)}}class UD extends RD{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?t.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),he.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class zD{constructor(e){this.persistence=e,this.ri=new co((t=>hy(t)),fy),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.ii=0,this.si=new by,this.targetCount=0,this.oi=pl._r()}forEachTarget(e,t){return this.ri.forEach(((r,l)=>t(l))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),he.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new pl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.lr(t),he.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let l=0;const u=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=t&&r.get(g.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),he.waitFor(u).next((()=>l))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),he.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const l=this.persistence.referenceDelegate,u=[];return l&&t.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),he.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this.si.containsKey(t))}}class mw{constructor(e,t){this._i={},this.overlays={},this.ai=new uf(0),this.ui=!1,this.ui=!0,this.ci=new kD,this.referenceDelegate=e(this),this.li=new zD(this),this.indexManager=new TD,this.remoteDocumentCache=(function(l){return new VD(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new ND(t),this.Pi=new PD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new LD(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){Se("MemoryPersistence","Starting transaction:",e);const l=new qD(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(e,t){return he.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class qD extends dM{constructor(e){super(),this.currentSequenceNumber=e}}class vy{constructor(e){this.persistence=e,this.Ri=new by,this.Ai=null}static Vi(e){return new vy(e)}get di(){if(this.Ai)return this.Ai;throw ke(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),he.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.di,(r=>{const l=Me.fromPath(r);return this.mi(e,l).next((u=>{u||t.removeEntry(l,ze.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return he.or([()=>he.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Yh{constructor(e,t){this.persistence=e,this.fi=new co((r=>mM(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=CD(this,t)}static Vi(e,t){return new Yh(e,t)}Ti(){}Ii(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((l=>r+l))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return he.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((u=>u?he.resolve():t(l)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,t).next((g=>{g||(r++,u.removeEntry(d,ze.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),he.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nh(e.data.value)),t}wr(e,t,r){return he.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const l=this.fi.get(t);return he.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class _y{constructor(e,t,r,l){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=l}static Es(e,t){let r=nt(),l=nt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new _y(e,t.fromCache,r,l)}}class FD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class BD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return $A()?8:hM(Vn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,l){const u={result:null};return this.gs(e,t).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,t,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new FD;return this.ys(e,t,d).next((g=>{if(u.result=g,this.As)return this.ws(e,t,d,g.size)}))})).next((()=>u.result))}ws(e,t,r,l){return r.documentReadCount<this.Vs?(el()<=Ze.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),he.resolve()):(el()<=Ze.DEBUG&&Se("QueryEngine","Query:",tl(t),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(el()<=Ze.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(t))):he.resolve())}gs(e,t){if(O_(t))return he.resolve(null);let r=Ti(t);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(t.limit!==null&&l===1&&(t=mp(t,null,"F"),r=Ti(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=nt(...u);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((y=>{const p=this.bs(t,g);return this.Ss(t,p,d,y.readTime)?this.gs(e,mp(t,null,"F")):this.Ds(e,p,t,y)}))))})))))}ps(e,t,r,l){return O_(t)||l.isEqual(ze.min())?he.resolve(null):this.fs.getDocuments(e,r).next((u=>{const d=this.bs(t,u);return this.Ss(t,d,r,l)?he.resolve(null):(el()<=Ze.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),tl(t)),this.Ds(e,d,t,oM(l,su)).next((g=>g)))}))}bs(e,t){let r=new fn(HT(e));return t.forEach(((l,u)=>{mf(e,u)&&(r=r.add(u))})),r}Ss(e,t,r,l){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(e,t,r){return el()<=Ze.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",tl(t)),this.fs.getDocumentsMatchingQuery(e,t,aa.min(),r)}Ds(e,t,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((u=>(t.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const Ny="LocalStore",HD=3e8;class $D{constructor(e,t,r,l){this.persistence=e,this.Cs=t,this.serializer=l,this.vs=new zt(et),this.Fs=new co((u=>hy(u)),fy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function GD(s,e,t,r){return new $D(s,e,t,r)}async function gw(s,e){const t=Fe(s);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return t.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],g=[];let y=nt();for(const p of l){d.push(p.batchId);for(const _ of p.mutations)y=y.add(_.key)}for(const p of u){g.push(p.batchId);for(const _ of p.mutations)y=y.add(_.key)}return t.localDocuments.getDocuments(r,y).next((p=>({Ns:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function YD(s,e){const t=Fe(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=t.xs.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,_){const E=p.batch,j=E.keys();let M=he.resolve();return j.forEach((W=>{M=M.next((()=>_.getEntry(y,W))).next((H=>{const q=p.docVersions.get(W);mt(q!==null,48541),H.version.compareTo(q)<0&&(E.applyToRemoteDocument(H,p),H.isValidDocument()&&(H.setReadTime(p.commitVersion),_.addEntry(H)))}))})),M.next((()=>g.mutationQueue.removeMutationBatch(y,E)))})(t,r,e,u).next((()=>u.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=nt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(r,l)))}))}function pw(s){const e=Fe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function KD(s,e){const t=Fe(s),r=e.snapshotVersion;let l=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=t.xs.newChangeBuffer({trackRemovals:!0});l=t.vs;const g=[];e.targetChanges.forEach(((_,E)=>{const j=l.get(E);if(!j)return;g.push(t.li.removeMatchingKeys(u,_.removedDocuments,E).next((()=>t.li.addMatchingKeys(u,_.addedDocuments,E))));let M=j.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?M=M.withResumeToken(Rn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):_.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(_.resumeToken,r)),l=l.insert(E,M),(function(H,q,Y){return H.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=HD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(j,M,_)&&g.push(t.li.updateTargetData(u,M))}));let y=cr(),p=nt();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))})),g.push(WD(u,d,e.documentUpdates).next((_=>{y=_.Bs,p=_.Ls}))),!r.isEqual(ze.min())){const _=t.li.getLastRemoteSnapshotVersion(u).next((E=>t.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(_)}return he.waitFor(g).next((()=>d.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(t.vs=l,u)))}function WD(s,e,t){let r=nt(),l=nt();return t.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=cr();return t.forEach(((g,y)=>{const p=u.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(ze.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):Se(Ny,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{Bs:d,Ls:l}}))}function QD(s,e){const t=Fe(s);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=cy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function XD(s,e){const t=Fe(s);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return t.li.getTargetData(r,e).next((u=>u?(l=u,he.resolve(l)):t.li.allocateTargetId(r).next((d=>(l=new Zr(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=t.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function bp(s,e,t){const r=Fe(s),l=r.vs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!jl(d))throw d;Se(Ny,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function K_(s,e,t){const r=Fe(s);let l=ze.min(),u=nt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,_){const E=Fe(y),j=E.Fs.get(_);return j!==void 0?he.resolve(E.vs.get(j)):E.li.getTargetData(p,_)})(r,d,Ti(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,t?l:ze.min(),t?u:nt()))).next((g=>(JD(r,kM(e),g),{documents:g,ks:u})))))}function JD(s,e,t){let r=s.Ms.get(e)||ze.min();t.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class W_{constructor(){this.activeTargetIds=FM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZD{constructor(){this.vo=new W_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new W_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class eP{Mo(e){}shutdown(){}}const Q_="ConnectivityMonitor";class X_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Se(Q_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Se(Q_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let uh=null;function vp(){return uh===null?uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():uh++,"0x"+uh.toString(16)}const qg="RestConnection",tP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class nP{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===Fh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,t,r,l,u){const d=vp(),g=this.Qo(e,t.toUriEncodedString());Se(qg,`Sending RPC '${e}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,l,u);const{host:p}=new URL(g),_=_l(p);return this.zo(e,g,y,r,_).then((E=>(Se(qg,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw hl(qg,`RPC '${e}' ${d} failed with error: `,E,"url: ",g,"request:",r),E}))}jo(e,t,r,l,u,d){return this.Wo(e,t,r,l,u)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}Qo(e,t){const r=tP[e];let l=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class sP{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Pn="WebChannelConnection",Mc=(s,e,t)=>{s.listen(e,(r=>{try{t(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class ll extends nP{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ll.c_){const e=vT();Mc(e,bT.STAT_EVENT,(t=>{t.stat===op.PROXY?Se(Pn,"STAT_EVENT: detected buffering proxy"):t.stat===op.NOPROXY&&Se(Pn,"STAT_EVENT: detected no buffering proxy")})),ll.c_=!0}}zo(e,t,r,l,u){const d=vp();return new Promise(((g,y)=>{const p=new yT;p.setWithCredentials(!0),p.listenOnce(xT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case _h.NO_ERROR:const E=p.getResponseJson();Se(Pn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),g(E);break;case _h.TIMEOUT:Se(Pn,`RPC '${e}' ${d} timed out`),y(new Ae(de.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const j=p.getStatus();if(Se(Pn,`RPC '${e}' ${d} failed with status:`,j,"response text:",p.getResponseText()),j>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const W=M?.error;if(W&&W.status&&W.message){const H=(function(Y){const re=Y.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(re)>=0?re:de.UNKNOWN})(W.status);y(new Ae(H,W.message))}else y(new Ae(de.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new Ae(de.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Se(Pn,`RPC '${e}' ${d} completed.`)}}));const _=JSON.stringify(l);Se(Pn,`RPC '${e}' ${d} sending request:`,l),p.send(t,"POST",_,r,15)}))}T_(e,t,r){const l=vp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const p=u.join("");Se(Pn,`Creating RPC '${e}' stream ${l}: ${p}`,g);const _=d.createWebChannel(p,g);this.I_(_);let E=!1,j=!1;const M=new sP({Ho:W=>{j?Se(Pn,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(E||(Se(Pn,`Opening RPC '${e}' stream ${l} transport.`),_.open(),E=!0),Se(Pn,`RPC '${e}' stream ${l} sending:`,W),_.send(W))},Jo:()=>_.close()});return Mc(_,kc.EventType.OPEN,(()=>{j||(Se(Pn,`RPC '${e}' stream ${l} transport opened.`),M.i_())})),Mc(_,kc.EventType.CLOSE,(()=>{j||(j=!0,Se(Pn,`RPC '${e}' stream ${l} transport closed`),M.o_(),this.E_(_))})),Mc(_,kc.EventType.ERROR,(W=>{j||(j=!0,hl(Pn,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),M.o_(new Ae(de.UNAVAILABLE,"The operation could not be completed")))})),Mc(_,kc.EventType.MESSAGE,(W=>{if(!j){const H=W.data[0];mt(!!H,16349);const q=H,Y=q?.error||q[0]?.error;if(Y){Se(Pn,`RPC '${e}' stream ${l} received error:`,Y);const re=Y.status;let ee=(function(xe){const S=an[xe];if(S!==void 0)return nw(S)})(re),$=Y.message;ee===void 0&&(ee=de.INTERNAL,$="Unknown error status: "+re+" with message "+Y.message),j=!0,M.o_(new Ae(ee,$)),_.close()}else Se(Pn,`RPC '${e}' stream ${l} received:`,H),M.__(H)}})),ll.u_(),setTimeout((()=>{M.s_()}),0),M}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return _T()}}function iP(s){return new ll(s)}function Fg(){return typeof document<"u"?document:null}function xf(s){return new lD(s,!0)}ll.c_=!1;class yw{constructor(e,t,r=1e3,l=1.5,u=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,t-r);l>0&&Se("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const J_="PersistentStream";class xw{constructor(e,t,r,l,u,d,g,y){this.Ci=e,this.b_=r,this.S_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(lr(t.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===t&&this.G_(r,l)}),(r=>{e((()=>{const l=new Ae(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Se(J_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Se(J_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rP extends xw{constructor(e,t,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,l,d),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=dD(this.serializer,e),r=(function(u){if(!("targetChange"in u))return ze.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?ze.min():d.readTime?ji(d.readTime):ze.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=xp(this.serializer),t.addTarget=(function(u,d){let g;const y=d.target;if(g=hp(y)?{documents:mD(u,y)}:{query:gD(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=rw(u,d.resumeToken);const p=gp(u,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(ze.min())>0){g.readTime=Gh(u,d.snapshotVersion.toTimestamp());const p=gp(u,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const r=yD(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=xp(this.serializer),t.removeTarget=e,this.K_(t)}}class aP extends xw{constructor(e,t,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,l,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=fD(e.writeResults,e.commitTime),r=ji(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=xp(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>hD(this.serializer,r)))};this.K_(t)}}class oP{}class lP extends oP{constructor(e,t,r,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,pp(t,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(de.UNKNOWN,u.toString())}))}jo(e,t,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,pp(t,r),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ae(de.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function cP(s,e,t,r){return new lP(s,e,t,r)}class uP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(lr(t),this.aa=!1):Se("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ao="RemoteStore";class dP{constructor(e,t,r,l,u){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{uo(this)&&(Se(ao,"Restarting streams for network reachability change."),await(async function(y){const p=Fe(y);p.Ea.add(4),await Su(p),p.Va.set("Unknown"),p.Ea.delete(4),await bf(p)})(this))}))})),this.Va=new uP(r,l)}}async function bf(s){if(uo(s))for(const e of s.Ra)await e(!0)}async function Su(s){for(const e of s.Ra)await e(!1)}function bw(s,e){const t=Fe(s);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),jy(t)?wy(t):Sl(t).O_()&&Ty(t,e))}function Ey(s,e){const t=Fe(s),r=Sl(t);t.Ia.delete(e),r.O_()&&vw(t,e),t.Ia.size===0&&(r.O_()?r.L_():uo(t)&&t.Va.set("Unknown"))}function Ty(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sl(s).Z_(e)}function vw(s,e){s.da.$e(e),Sl(s).X_(e)}function wy(s){s.da=new iD({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Sl(s).start(),s.Va.ua()}function jy(s){return uo(s)&&!Sl(s).x_()&&s.Ia.size>0}function uo(s){return Fe(s).Ea.size===0}function _w(s){s.da=void 0}async function hP(s){s.Va.set("Online")}async function fP(s){s.Ia.forEach(((e,t)=>{Ty(s,e)}))}async function mP(s,e){_w(s),jy(s)?(s.Va.ha(e),wy(s)):s.Va.set("Unknown")}async function gP(s,e,t){if(s.Va.set("Online"),e instanceof iw&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,e)}catch(r){Se(ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kh(s,r)}else if(e instanceof wh?s.da.Xe(e):e instanceof sw?s.da.st(e):s.da.tt(e),!t.isEqual(ze.min()))try{const r=await pw(s.localStore);t.compareTo(r)>=0&&await(function(u,d){const g=u.da.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const _=u.Ia.get(p);_&&u.Ia.set(p,_.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const _=u.Ia.get(y);if(!_)return;u.Ia.set(y,_.withResumeToken(Rn.EMPTY_BYTE_STRING,_.snapshotVersion)),vw(u,y);const E=new Zr(_.target,y,p,_.sequenceNumber);Ty(u,E)})),u.remoteSyncer.applyRemoteEvent(g)})(s,t)}catch(r){Se(ao,"Failed to raise snapshot:",r),await Kh(s,r)}}async function Kh(s,e,t){if(!jl(e))throw e;s.Ea.add(1),await Su(s),s.Va.set("Offline"),t||(t=()=>pw(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{Se(ao,"Retrying IndexedDB access"),await t(),s.Ea.delete(1),await bf(s)}))}function Nw(s,e){return e().catch((t=>Kh(s,t,e)))}async function vf(s){const e=Fe(s),t=ua(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cy;for(;pP(e);)try{const l=await QD(e.localStore,r);if(l===null){e.Ta.length===0&&t.L_();break}r=l.batchId,yP(e,l)}catch(l){await Kh(e,l)}Ew(e)&&Tw(e)}function pP(s){return uo(s)&&s.Ta.length<10}function yP(s,e){s.Ta.push(e);const t=ua(s);t.O_()&&t.Y_&&t.ea(e.mutations)}function Ew(s){return uo(s)&&!ua(s).x_()&&s.Ta.length>0}function Tw(s){ua(s).start()}async function xP(s){ua(s).ra()}async function bP(s){const e=ua(s);for(const t of s.Ta)e.ea(t.mutations)}async function vP(s,e,t){const r=s.Ta.shift(),l=py.from(r,e,t);await Nw(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await vf(s)}async function _P(s,e){e&&ua(s).Y_&&await(async function(r,l){if((function(d){return tD(d)&&d!==de.ABORTED})(l.code)){const u=r.Ta.shift();ua(r).B_(),await Nw(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await vf(r)}})(s,e),Ew(s)&&Tw(s)}async function Z_(s,e){const t=Fe(s);t.asyncQueue.verifyOperationInProgress(),Se(ao,"RemoteStore received new credentials");const r=uo(t);t.Ea.add(3),await Su(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await bf(t)}async function NP(s,e){const t=Fe(s);e?(t.Ea.delete(2),await bf(t)):e||(t.Ea.add(2),await Su(t),t.Va.set("Unknown"))}function Sl(s){return s.ma||(s.ma=(function(t,r,l){const u=Fe(t);return u.sa(),new rP(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:hP.bind(null,s),Yo:fP.bind(null,s),t_:mP.bind(null,s),J_:gP.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),jy(s)?wy(s):s.Va.set("Unknown")):(await s.ma.stop(),_w(s))}))),s.ma}function ua(s){return s.fa||(s.fa=(function(t,r,l){const u=Fe(t);return u.sa(),new aP(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:xP.bind(null,s),t_:_P.bind(null,s),ta:bP.bind(null,s),na:vP.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await vf(s)):(await s.fa.stop(),s.Ta.length>0&&(Se(ao,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Ay{constructor(e,t,r,l,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,l,u){const d=Date.now()+r,g=new Ay(e,t,d,l,u);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sy(s,e){if(lr("AsyncQueue",`${e}: ${s}`),jl(s))return new Ae(de.UNAVAILABLE,`${e}: ${s}`);throw s}class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Me.comparator(t.key,r.key):(t,r)=>Me.comparator(t.key,r.key),this.keyedMap=Lc(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class eN{constructor(){this.ga=new zt(Me.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ke(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class yl{constructor(e,t,r,l,u,d,g,y,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,l,u){const d=[];return t.forEach((g=>{d.push({type:0,doc:g})})),new yl(e,t,cl.emptySet(t),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==r[l].type||!t[l].doc.isEqual(r[l].doc))return!1;return!0}}class EP{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class TP{constructor(){this.queries=tN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const l=Fe(t),u=l.queries;l.queries=tN(),u.forEach(((d,g)=>{for(const y of g.ba)y.onError(r)}))})(this,new Ae(de.ABORTED,"Firestore shutting down"))}}function tN(){return new co((s=>BT(s)),ff)}async function wP(s,e){const t=Fe(s);let r=3;const l=e.query;let u=t.queries.get(l);u?!u.Sa()&&e.Da()&&(r=2):(u=new EP,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await t.onListen(l,!0);break;case 1:u.wa=await t.onListen(l,!1);break;case 2:await t.onFirstRemoteStoreListen(l)}}catch(d){const g=Sy(d,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(g)}t.queries.set(l,u),u.ba.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&Iy(t)}async function jP(s,e){const t=Fe(s),r=e.query;let l=3;const u=t.queries.get(r);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?l=e.Da()?0:1:!u.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function AP(s,e){const t=Fe(s);let r=!1;for(const l of e){const u=l.query,d=t.queries.get(u);if(d){for(const g of d.ba)g.Fa(l)&&(r=!0);d.wa=l}}r&&Iy(t)}function SP(s,e,t){const r=Fe(s),l=r.queries.get(e);if(l)for(const u of l.ba)u.onError(t);r.queries.delete(e)}function Iy(s){s.Ca.forEach((e=>{e.next()}))}var _p,nN;(nN=_p||(_p={})).Ma="default",nN.Cache="cache";class IP{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_p.Cache}}class ww{constructor(e){this.key=e}}class jw{constructor(e){this.key=e}}class CP{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=nt(),this.mutatedKeys=nt(),this.eu=HT(e),this.tu=new cl(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new eN,l=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((_,E)=>{const j=l.get(_),M=mf(this.query,E)?E:null,W=!!j&&this.mutatedKeys.has(j.key),H=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let q=!1;j&&M?j.data.isEqual(M.data)?W!==H&&(r.track({type:3,doc:M}),q=!0):this.su(j,M)||(r.track({type:2,doc:M}),q=!0,(y&&this.eu(M,y)>0||p&&this.eu(M,p)<0)&&(g=!0)):!j&&M?(r.track({type:0,doc:M}),q=!0):j&&!M&&(r.track({type:1,doc:j}),q=!0,(y||p)&&(g=!0)),q&&(M?(d=d.add(M),u=H?u.add(_):u.delete(_)):(d=d.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const _=this.query.limitType==="F"?d.last():d.first();d=d.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{tu:d,iu:r,Ss:g,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((_,E)=>(function(M,W){const H=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Vt:q})}};return H(M)-H(W)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(r),l=l??!1;const g=t&&!l?this._u():[],y=this.Ya.size===0&&this.current&&!l?1:0,p=y!==this.Xa;return this.Xa=y,d.length!==0||p?{snapshot:new yl(this.query,e.tu,u,d,e.mutatedKeys,y===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eN,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new jw(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new ww(r))})),t}cu(e){this.Za=e.ks,this.Ya=nt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Cy="SyncEngine";class RP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class MP{constructor(e){this.key=e,this.hu=!1}}class DP{constructor(e,t,r,l,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new co((g=>BT(g)),ff),this.Iu=new Map,this.Eu=new Set,this.Ru=new zt(Me.comparator),this.Au=new Map,this.Vu=new by,this.du={},this.mu=new Map,this.fu=pl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function PP(s,e,t=!0){const r=Mw(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await Aw(r,e,t,!0),l}async function OP(s,e){const t=Mw(s);await Aw(t,e,!0,!1)}async function Aw(s,e,t,r){const l=await XD(s.localStore,Ti(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,t);let g;return r&&(g=await kP(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&t&&bw(s.remoteStore,l),g}async function kP(s,e,t,r,l){s.pu=(E,j,M)=>(async function(H,q,Y,re){let ee=q.view.ru(Y);ee.Ss&&(ee=await K_(H.localStore,q.query,!1).then((({documents:S})=>q.view.ru(S,ee))));const $=re&&re.targetChanges.get(q.targetId),fe=re&&re.targetMismatches.get(q.targetId)!=null,xe=q.view.applyChanges(ee,H.isPrimaryClient,$,fe);return iN(H,q.targetId,xe.au),xe.snapshot})(s,E,j,M);const u=await K_(s.localStore,e,!0),d=new CP(e,u.ks),g=d.ru(u.documents),y=Au.createSynthesizedTargetChangeForCurrentChange(t,r&&s.onlineState!=="Offline",l),p=d.applyChanges(g,s.isPrimaryClient,y);iN(s,t,p.au);const _=new RP(e,t,d);return s.Tu.set(e,_),s.Iu.has(t)?s.Iu.get(t).push(e):s.Iu.set(t,[e]),p.snapshot}async function LP(s,e,t){const r=Fe(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!ff(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await bp(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),t&&Ey(r.remoteStore,l.targetId),Np(r,l.targetId)})).catch(wl)):(Np(r,l.targetId),await bp(r.localStore,l.targetId,!0))}async function VP(s,e){const t=Fe(s),r=t.Tu.get(e),l=t.Iu.get(r.targetId);t.isPrimaryClient&&l.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ey(t.remoteStore,r.targetId))}async function UP(s,e,t){const r=GP(s);try{const l=await(function(d,g){const y=Fe(d),p=Ot.now(),_=g.reduce(((M,W)=>M.add(W.key)),nt());let E,j;return y.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let W=cr(),H=nt();return y.xs.getEntries(M,_).next((q=>{W=q,W.forEach(((Y,re)=>{re.isValidDocument()||(H=H.add(Y))}))})).next((()=>y.localDocuments.getOverlayedDocuments(M,W))).next((q=>{E=q;const Y=[];for(const re of g){const ee=QM(re,E.get(re.key).overlayedDocument);ee!=null&&Y.push(new xa(re.key,ee,OT(ee.value.mapValue),wi.exists(!0)))}return y.mutationQueue.addMutationBatch(M,p,Y,g)})).next((q=>{j=q;const Y=q.applyToLocalDocumentSet(E,H);return y.documentOverlayCache.saveOverlays(M,q.batchId,Y)}))})).then((()=>({batchId:j.batchId,changes:GT(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let p=d.du[d.currentUser.toKey()];p||(p=new zt(et)),p=p.insert(g,y),d.du[d.currentUser.toKey()]=p})(r,l.batchId,t),await Iu(r,l.changes),await vf(r.remoteStore)}catch(l){const u=Sy(l,"Failed to persist write");t.reject(u)}}async function Sw(s,e){const t=Fe(s);try{const r=await KD(t.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=t.Au.get(u);d&&(mt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?mt(d.hu,14607):l.removedDocuments.size>0&&(mt(d.hu,42227),d.hu=!1))})),await Iu(t,r,e)}catch(r){await wl(r)}}function sN(s,e,t){const r=Fe(s);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const l=[];r.Tu.forEach(((u,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Fe(d);y.onlineState=g;let p=!1;y.queries.forEach(((_,E)=>{for(const j of E.ba)j.va(g)&&(p=!0)})),p&&Iy(y)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zP(s,e,t){const r=Fe(s);r.sharedClientState.updateQueryState(e,"rejected",t);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new zt(Me.comparator);d=d.insert(u,kn.newNoDocument(u,ze.min()));const g=nt().add(u),y=new yf(ze.min(),new Map,new zt(et),d,g);await Sw(r,y),r.Ru=r.Ru.remove(u),r.Au.delete(e),Ry(r)}else await bp(r.localStore,e,!1).then((()=>Np(r,e,t))).catch(wl)}async function qP(s,e){const t=Fe(s),r=e.batch.batchId;try{const l=await YD(t.localStore,e);Cw(t,r,null),Iw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Iu(t,l)}catch(l){await wl(l)}}async function FP(s,e,t){const r=Fe(s);try{const l=await(function(d,g){const y=Fe(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return y.mutationQueue.lookupMutationBatch(p,g).next((E=>(mt(E!==null,37113),_=E.keys(),y.mutationQueue.removeMutationBatch(p,E)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,_,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>y.localDocuments.getDocuments(p,_)))}))})(r.localStore,e);Cw(r,e,t),Iw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Iu(r,l)}catch(l){await wl(l)}}function Iw(s,e){(s.mu.get(e)||[]).forEach((t=>{t.resolve()})),s.mu.delete(e)}function Cw(s,e,t){const r=Fe(s);let l=r.du[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(t?u.reject(t):u.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function Np(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),t&&s.Pu.yu(r,t);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||Rw(s,r)}))}function Rw(s,e){s.Eu.delete(e.path.canonicalString());const t=s.Ru.get(e);t!==null&&(Ey(s.remoteStore,t),s.Ru=s.Ru.remove(e),s.Au.delete(t),Ry(s))}function iN(s,e,t){for(const r of t)r instanceof ww?(s.Vu.addReference(r.key,e),BP(s,r)):r instanceof jw?(Se(Cy,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||Rw(s,r.key)):ke(19791,{wu:r})}function BP(s,e){const t=e.key,r=t.path.canonicalString();s.Ru.get(t)||s.Eu.has(r)||(Se(Cy,"New document in limbo: "+t),s.Eu.add(r),Ry(s))}function Ry(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const t=new Me(It.fromString(e)),r=s.fu.next();s.Au.set(r,new MP(t)),s.Ru=s.Ru.insert(t,r),bw(s.remoteStore,new Zr(Ti(my(t.path)),r,"TargetPurposeLimboResolution",uf.ce))}}async function Iu(s,e,t){const r=Fe(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:t?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,_?"current":"not-current")}if(p){l.push(p);const _=_y.Es(y.targetId,p);u.push(_)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(y,p){const _=Fe(y);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>he.forEach(p,(j=>he.forEach(j.Ts,(M=>_.persistence.referenceDelegate.addReference(E,j.targetId,M))).next((()=>he.forEach(j.Is,(M=>_.persistence.referenceDelegate.removeReference(E,j.targetId,M)))))))))}catch(E){if(!jl(E))throw E;Se(Ny,"Failed to update sequence numbers: "+E)}for(const E of p){const j=E.targetId;if(!E.fromCache){const M=_.vs.get(j),W=M.snapshotVersion,H=M.withLastLimboFreeSnapshotVersion(W);_.vs=_.vs.insert(j,H)}}})(r.localStore,u))}async function HP(s,e){const t=Fe(s);if(!t.currentUser.isEqual(e)){Se(Cy,"User change. New user:",e.toKey());const r=await gw(t.localStore,e);t.currentUser=e,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new Ae(de.CANCELLED,d))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Iu(t,r.Ns)}}function $P(s,e){const t=Fe(s),r=t.Au.get(e);if(r&&r.hu)return nt().add(r.key);{let l=nt();const u=t.Iu.get(e);if(!u)return l;for(const d of u){const g=t.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function Mw(s){const e=Fe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$P.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zP.bind(null,e),e.Pu.J_=AP.bind(null,e.eventManager),e.Pu.yu=SP.bind(null,e.eventManager),e}function GP(s){const e=Fe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FP.bind(null,e),e}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return GD(this.persistence,new BD,e.initialUser,this.serializer)}Cu(e){return new mw(vy.Vi,this.serializer)}Du(e){return new ZD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wh.provider={build:()=>new Wh};class YP extends Wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){mt(this.persistence.referenceDelegate instanceof Yh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new SD(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new mw((r=>Yh.Vi(r,t)),this.serializer)}}class Ep{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HP.bind(null,this.syncEngine),await NP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TP})()}createDatastore(e){const t=xf(e.databaseInfo.databaseId),r=iP(e.databaseInfo);return cP(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,l,u,d,g){return new dP(r,l,u,d,g)})(this.localStore,this.datastore,e.asyncQueue,(t=>sN(this.syncEngine,t,0)),(function(){return X_.v()?new X_:new eP})())}createSyncEngine(e,t){return(function(l,u,d,g,y,p,_){const E=new DP(l,u,d,g,y,p);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Fe(t);Se(ao,"RemoteStore shutting down."),r.Ea.add(5),await Su(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ep.provider={build:()=>new Ep};class KP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const da="FirestoreClient";class WP{constructor(e,t,r,l,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=l,this.user=On.UNAUTHENTICATED,this.clientId=ly.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{Se(da,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(Se(da,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Sy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Bg(s,e){s.asyncQueue.verifyOperationInProgress(),Se(da,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let r=t.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await gw(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function rN(s,e){s.asyncQueue.verifyOperationInProgress();const t=await QP(s);Se(da,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener((r=>Z_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Z_(e.remoteStore,l))),s._onlineComponents=e}async function QP(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Se(da,"Using user provided OfflineComponentProvider");try{await Bg(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(l){return l.name==="FirebaseError"?l.code===de.FAILED_PRECONDITION||l.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(t))throw t;hl("Error using user provided cache. Falling back to memory cache: "+t),await Bg(s,new Wh)}}else Se(da,"Using default OfflineComponentProvider"),await Bg(s,new YP(void 0));return s._offlineComponents}async function Dw(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Se(da,"Using user provided OnlineComponentProvider"),await rN(s,s._uninitializedComponentsProvider._online)):(Se(da,"Using default OnlineComponentProvider"),await rN(s,new Ep))),s._onlineComponents}function XP(s){return Dw(s).then((e=>e.syncEngine))}async function aN(s){const e=await Dw(s),t=e.eventManager;return t.onListen=PP.bind(null,e.syncEngine),t.onUnlisten=LP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=OP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=VP.bind(null,e.syncEngine),t}function JP(s,e,t,r){const l=new KP(r),u=new IP(e,l,t);return s.asyncQueue.enqueueAndForget((async()=>wP(await aN(s),u))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>jP(await aN(s),u)))}}function ZP(s,e){const t=new Ja;return s.asyncQueue.enqueueAndForget((async()=>UP(await XP(s),e,t))),t.promise}function Pw(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const eO="ComponentProvider",oN=new Map;function tO(s,e,t,r,l){return new yM(s,e,t,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Pw(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const Ow="firestore.googleapis.com",lN=!0;class cN{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ow,this.ssl=lN}else this.host=e.host,this.ssl=e.ssl??lN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jD)throw new Ae(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pw(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _f{constructor(e,t,r,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Q3;switch(r.type){case"firstParty":return new eM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=oN.get(t);r&&(Se(eO,"Removing Datastore"),oN.delete(t),r.terminate())})(this),Promise.resolve()}}function nO(s,e,t,r={}){s=Za(s,_f);const l=_l(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${t}`;l&&(oE(`https://${g}`),lE("Firestore",!0)),u.host!==Ow&&u.host!==g&&hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:r};if(!ra(y,d)&&(s._setSettings(y),r.mockUserToken)){let p,_;if(typeof r.mockUserToken=="string")p=r.mockUserToken,_=On.MOCK_USER;else{p=LA(r.mockUserToken,s._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Ae(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new On(E)}s._authCredentials=new X3(new ET(p,_))}}class ho{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ho(this.firestore,e,this._query)}}class cn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(wu(t,cn._jsonSchema))return new cn(e,r||null,new Me(It.fromString(t.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:ln("string",cn._jsonSchemaVersion),referencePath:ln("string")};class ia extends ho{constructor(e,t,r){super(e,t,my(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new Me(e))}withConverter(e){return new ia(this.firestore,e,this._path)}}function uN(s,e,...t){if(s=Gt(s),TT("collection","path",e),s instanceof _f){const r=It.fromString(e,...t);return __(r),new ia(s,null,r)}{if(!(s instanceof cn||s instanceof ia))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(It.fromString(e,...t));return __(r),new ia(s.firestore,null,r)}}function kw(s,e,...t){if(s=Gt(s),arguments.length===1&&(e=ly.newId()),TT("doc","path",e),s instanceof _f){const r=It.fromString(e,...t);return v_(r),new cn(s,null,new Me(r))}{if(!(s instanceof cn||s instanceof ia))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(It.fromString(e,...t));return v_(r),new cn(s.firestore,s instanceof ia?s.converter:null,new Me(r))}}const dN="AsyncQueue";class hN{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yw(this,"async_queue_retry"),this._c=()=>{const r=Fg();r&&Se(dN,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Fg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Fg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ja;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!jl(e))throw e;Se(dN,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,lr("INTERNAL UNHANDLED ERROR: ",fN(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const l=Ay.createAndSchedule(this,e,t,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&ke(47125,{Pc:fN(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function fN(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class du extends _f{constructor(e,t,r,l){super(e,t,r,l),this.type="firestore",this._queue=new hN,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hN(e),this._firestoreClient=void 0,await e}}}function sO(s,e){const t=typeof s=="object"?s:Bp(),r=typeof s=="string"?s:Fh,l=lo(t,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=OA("firestore");u&&nO(l,...u)}return l}function Lw(s){if(s._terminated)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||iO(s),s._firestoreClient}function iO(s){const e=s._freezeSettings(),t=tO(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new WP(s._authCredentials,s._appCheckCredentials,s._queue,t,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class Cs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cs(Rn.fromBase64String(e))}catch(t){throw new Ae(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cs(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wu(e,Cs._jsonSchema))return Cs.fromBase64String(e.bytes)}}Cs._jsonSchemaVersion="firestore/bytes/1.0",Cs._jsonSchema={type:ln("string",Cs._jsonSchemaVersion),bytes:ln("string")};class My{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ae(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nf{constructor(e){this._methodName=e}}class Ai{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(e){if(wu(e,Ai._jsonSchema))return new Ai(e.latitude,e.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:ln("string",Ai._jsonSchemaVersion),latitude:ln("number"),longitude:ln("number")};class Ks{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ks._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wu(e,Ks._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ks(e.vectorValues);throw new Ae(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ks._jsonSchemaVersion="firestore/vectorValue/1.0",Ks._jsonSchema={type:ln("string",Ks._jsonSchemaVersion),vectorValues:ln("object")};const rO=/^__.*__$/;class aO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new xa(e,this.data,this.fieldMask,t,this.fieldTransforms):new ju(e,this.data,t,this.fieldTransforms)}}class Vw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new xa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Uw(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{dataSource:s})}}class Dy{constructor(e,t,r,l,u,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Dy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Qh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Uw(this.dataSource)&&rO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class oO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||xf(e)}createContext(e,t,r,l=!1){return new Dy({dataSource:e,methodName:t,targetDoc:r,path:In.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Py(s){const e=s._freezeSettings(),t=xf(s._databaseId);return new oO(s._databaseId,!!e.ignoreUndefinedProperties,t)}function lO(s,e,t,r,l,u={}){const d=s.createContext(u.merge||u.mergeFields?2:0,e,t,l);ky("Data must be an object, but it was:",d,r);const g=zw(r,d);let y,p;if(u.merge)y=new us(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const _=[];for(const E of u.mergeFields){const j=xl(e,E,t);if(!d.contains(j))throw new Ae(de.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);Bw(_,j)||_.push(j)}y=new us(_),p=d.fieldTransforms.filter((E=>y.covers(E.field)))}else y=null,p=d.fieldTransforms;return new aO(new Qn(g),y,p)}class Ef extends Nf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ef}}class Oy extends Nf{_toFieldTransform(e){return new GM(e.path,new lu)}isEqual(e){return e instanceof Oy}}function cO(s,e,t,r){const l=s.createContext(1,e,t);ky("Data must be an object, but it was:",l,r);const u=[],d=Qn.empty();ya(r,((y,p)=>{const _=Fw(e,y,t);p=Gt(p);const E=l.childContextForFieldPath(_);if(p instanceof Ef)u.push(_);else{const j=Cu(p,E);j!=null&&(u.push(_),d.set(_,j))}}));const g=new us(u);return new Vw(d,g,l.fieldTransforms)}function uO(s,e,t,r,l,u){const d=s.createContext(1,e,t),g=[xl(e,r,t)],y=[l];if(u.length%2!=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<u.length;j+=2)g.push(xl(e,u[j])),y.push(u[j+1]);const p=[],_=Qn.empty();for(let j=g.length-1;j>=0;--j)if(!Bw(p,g[j])){const M=g[j];let W=y[j];W=Gt(W);const H=d.childContextForFieldPath(M);if(W instanceof Ef)p.push(M);else{const q=Cu(W,H);q!=null&&(p.push(M),_.set(M,q))}}const E=new us(p);return new Vw(_,E,d.fieldTransforms)}function dO(s,e,t,r=!1){return Cu(t,s.createContext(r?4:3,e))}function Cu(s,e){if(qw(s=Gt(s)))return ky("Unsupported field value:",e,s),zw(s,e);if(s instanceof Nf)return(function(r,l){if(!Uw(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const g of r){let y=Cu(g,l.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=Gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BM(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Ot.fromDate(r);return{timestampValue:Gh(l.serializer,u)}}if(r instanceof Ot){const u=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gh(l.serializer,u)}}if(r instanceof Ai)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cs)return{bytesValue:rw(l.serializer,r._byteString)};if(r instanceof cn){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:xy(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ks)return(function(d,g){const y=d instanceof Ks?d.toArray():d;return{mapValue:{fields:{[DT]:{stringValue:PT},[Bh]:{arrayValue:{values:y.map((_=>{if(typeof _!="number")throw g.createError("VectorValues must only contain numeric values.");return gy(g.serializer,_)}))}}}}}})(r,l);if(hw(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${cf(r)}`)})(s,e)}function zw(s,e){const t={};return AT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(s,((r,l)=>{const u=Cu(l,e.childContextForField(r));u!=null&&(t[r]=u)})),{mapValue:{fields:t}}}function qw(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ot||s instanceof Ai||s instanceof Cs||s instanceof cn||s instanceof Nf||s instanceof Ks||hw(s))}function ky(s,e,t){if(!qw(t)||!wT(t)){const r=cf(t);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function xl(s,e,t){if((e=Gt(e))instanceof My)return e._internalPath;if(typeof e=="string")return Fw(s,e);throw Qh("Field path arguments must be of type string or ",s,!1,void 0,t)}const hO=new RegExp("[~\\*/\\[\\]]");function Fw(s,e,t){if(e.search(hO)>=0)throw Qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new My(...e.split("."))._internalPath}catch{throw Qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function Qh(s,e,t,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new Ae(de.INVALID_ARGUMENT,g+s+y)}function Bw(s,e){return s.some((t=>t.isEqual(e)))}class fO{convertValue(e,t="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ya(e,((l,u)=>{r[l]=this.convertValue(u,t)})),r}convertVectorValue(e){const t=e.fields?.[Bh].arrayValue?.values?.map((r=>Qt(r.doubleValue)));return new Ks(t)}convertGeoPoint(e){return new Ai(Qt(e.latitude),Qt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=hf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const t=oa(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=It.fromString(e);mt(dw(r),9688,{name:e});const l=new ru(r.get(1),r.get(3)),u=new Me(r.popFirst(5));return l.isEqual(t)||lr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}class Hw extends fO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}function Hg(){return new Oy("serverTimestamp")}const mN="@firebase/firestore",gN="4.10.0";function pN(s){return(function(t,r){if(typeof t!="object"||t===null)return!1;const l=t;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class $w{constructor(e,t,r,l,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(xl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mO extends $w{data(){return super.data()}}function gO(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Ae(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ly{}class Gw extends Ly{}function pO(s,e,...t){let r=[];e instanceof Ly&&r.push(e),r=r.concat(t),(function(u){const d=u.filter((y=>y instanceof Uy)).length,g=u.filter((y=>y instanceof Vy)).length;if(d>1||d>0&&g>0)throw new Ae(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Vy extends Gw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Vy(e,t,r)}_apply(e){const t=this._parse(e);return Yw(e._query,t),new ho(e.firestore,e.converter,fp(e._query,t))}_parse(e){const t=Py(e.firestore);return(function(u,d,g,y,p,_,E){let j;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){xN(E,_);const W=[];for(const H of E)W.push(yN(y,u,H));j={arrayValue:{values:W}}}else j=yN(y,u,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||xN(E,_),j=dO(g,d,E,_==="in"||_==="not-in");return on.create(p,_,j)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Uy extends Ly{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Uy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Xs.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const y of g)Yw(d,y),d=fp(d,y)})(e._query,t),new ho(e.firestore,e.converter,fp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zy extends Gw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new zy(e,t)}_apply(e){const t=(function(l,u,d){if(l.startAt!==null)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ou(u,d)})(e._query,this._field,this._direction);return new ho(e.firestore,e.converter,OM(e._query,t))}}function yO(s,e="asc"){const t=e,r=xl("orderBy",s);return zy._create(r,t)}function yN(s,e,t){if(typeof(t=Gt(t))=="string"){if(t==="")throw new Ae(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FT(e)&&t.indexOf("/")!==-1)throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(It.fromString(t));if(!Me.isDocumentKey(r))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return I_(s,new Me(r))}if(t instanceof cn)return I_(s,t._key);throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cf(t)}.`)}function xN(s,e){if(!Array.isArray(s)||s.length===0)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Yw(s,e){const t=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ae(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function xO(s,e,t){let r;return r=s?s.toFirestore(e):e,r}class Uc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eo extends $w{constructor(e,t,r,l,u,d){super(e,t,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(xl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=eo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:ln("string",eo._jsonSchemaVersion),bundleSource:ln("string","DocumentSnapshot"),bundleName:ln("string"),bundle:ln("string")};class jh extends eo{data(e={}){return super.data(e)}}class ul{constructor(e,t,r,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Uc(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new jh(this._firestore,this._userDataWriter,r.key,r,new Uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new jh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Uc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new jh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Uc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,_=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),_=d.indexOf(g.doc.key)),{type:bO(g.type),doc:y,oldIndex:p,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ly.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bO(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:s})}}ul._jsonSchemaVersion="firestore/querySnapshot/1.0",ul._jsonSchema={type:ln("string",ul._jsonSchemaVersion),bundleSource:ln("string","QuerySnapshot"),bundleName:ln("string"),bundle:ln("string")};function bN(s,e,t,...r){s=Za(s,cn);const l=Za(s.firestore,du),u=Py(l);let d;return d=typeof(e=Gt(e))=="string"||e instanceof My?uO(u,"updateDoc",s._key,e,t,r):cO(u,"updateDoc",s._key,e),Kw(l,[d.toMutation(s._key,wi.exists(!0))])}function vO(s,e){const t=Za(s.firestore,du),r=kw(s),l=xO(s.converter,e),u=Py(s.firestore);return Kw(t,[lO(u,"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,wi.exists(!1))]).then((()=>r))}function _O(s,...e){s=Gt(s);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||pN(e[r])||(t=e[r++]);const l={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(pN(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let u,d,g;if(s instanceof cn)d=Za(s.firestore,du),g=my(s._key.path),u={next:p=>{e[r]&&e[r](NO(d,s,p))},error:e[r+1],complete:e[r+2]};else{const p=Za(s,ho);d=Za(p.firestore,du),g=p._query;const _=new Hw(d);u={next:E=>{e[r]&&e[r](new ul(d,_,p,E))},error:e[r+1],complete:e[r+2]},gO(s._query)}const y=Lw(d);return JP(y,g,l,u)}function Kw(s,e){const t=Lw(s);return ZP(t,e)}function NO(s,e,t){const r=t.docs.get(e._key),l=new Hw(s);return new eo(s,l,e._key,r,new Uc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){W3(Nl),Ii(new Qs("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),g=new du(new J3(r.getProvider("auth-internal")),new tM(d,r.getProvider("app-check-internal")),xM(d,l),d);return u={useFetchStreams:t,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Rs(mN,gN,e),Rs(mN,gN,"esm2020")})();const Ww={apiKey:"AIzaSyBrTZY2DOv714a8O1uuaMxAczguSX292SE",authDomain:"professionalengineer-a104d.firebaseapp.com",projectId:"professionalengineer-a104d",storageBucket:"professionalengineer-a104d.firebasestorage.app",messagingSenderId:"539571105207",appId:"1:539571105207:web:bfdaeb4d398de90eb70c32",measurementId:"G-RBCKLQFNLW"},Qw=Object.values(Ww).every(s=>s&&!s.startsWith("REPLACE_WITH_")),qy=zv().length?zv()[0]:fE(Ww),Ya=ER(qy),$g=sO(qy);Qw&&$3().then(s=>{s&&B3(qy)}).catch(()=>{});function Rt(){const[s,e]=O.useState(null),t=fa();return O.useEffect(()=>Jp(Ya,l=>{e(l)}),[]),a.jsxs("div",{className:"sticky top-0 z-30",children:[a.jsx(_e,{to:"/contact",className:"block bg-gray-900 text-white text-sm","aria-label":`Reach out for quotes on plans,
          review/analysis, calculation, freelance, or expert witness work. Sealing and stamping when appropriate.`,children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-2 text-center",children:[a.jsx("span",{className:"underline",children:"Reach out"})," for quotes on plans, review/analysis, calculation, freelance, or expert witness work. Sealing and stamping when appropriate."]})}),a.jsx("div",{className:"bg-white border-b border-gray-200",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-3 flex items-center justify-between",children:[a.jsx(_e,{to:"/",className:"text-sm text-gray-700 hover:text-gray-900 transition-colors",children:"Professional Engineer, Missouri"}),a.jsxs("nav",{"aria-label":"Primary navigation",className:"flex items-center gap-6 text-sm",children:[s?a.jsx(_e,{to:"/dashboard",className:t.pathname.startsWith("/dashboard")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Dashboard"}):a.jsx(_e,{to:"/contact",className:t.pathname.startsWith("/contact")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Contact"}),a.jsx(_e,{to:"/toolbox",className:t.pathname.startsWith("/toolbox")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Toolbox"}),a.jsx(_e,{to:"/blog",className:t.pathname.startsWith("/blog")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Blog"}),a.jsx(_e,{to:"/portal",className:t.pathname.startsWith("/portal")?"text-gray-900 border-b-2 border-gray-900":"text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:s?"Signed In":"Register / Login"})]})]})})]})}function EO(){return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(Rt,{}),a.jsx("header",{className:"bg-white",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Professional Engineering Services â€” Missouri"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Independent professional practice licensed in Missouri. Engineering services, analysis, and review."})]})}),a.jsxs("main",{className:"flex-1",children:[a.jsx("section",{className:"bg-white py-12 md:py-16",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"Scope of Practice"}),a.jsx("p",{className:"text-lg text-gray-700",children:"This practice provides engineering services involving professional analysis, review, and judgment. Work is performed in accordance with applicable Missouri statutes and professional engineering rules. Professional liability insurance is maintained."})]})}),a.jsx("section",{className:"bg-gray-50 py-12 md:py-16",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"Services Overview"}),a.jsxs("ul",{className:"space-y-3 text-gray-700",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),a.jsx("span",{children:"Engineering drawings and calculations"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),a.jsx("span",{children:"Engineering review and opinion"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),a.jsx("span",{children:"Professional Engineer sealing when appropriate"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),a.jsx("span",{children:"Forensic engineering analysis"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),a.jsx("span",{children:"Expert engineering opinion and testimony"})]})]})]})}),a.jsx("section",{className:"bg-white py-12 md:py-16",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"Client Portal"}),a.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Clients may access a secure portal for document exchange, communication, and project tracking. Portal access is not a substitute for professional engagement."}),a.jsx(_e,{to:"/portal",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Portal Login"})]})}),a.jsx("section",{className:"bg-gray-50 py-12 md:py-16",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"About the Engineer"}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-[180px,1fr] items-center",children:[a.jsx("div",{className:"w-full max-w-[180px]",children:a.jsxs("picture",{children:[a.jsx("source",{srcSet:wA,type:"image/webp"}),a.jsx("img",{src:jA,width:"180",height:"220",alt:"Portrait of the engineer",className:"block w-full h-auto border border-gray-200",loading:"lazy",decoding:"async"})]})}),a.jsxs("div",{className:"space-y-4 text-lg text-gray-700",children:[a.jsx("p",{children:"I am a licensed Professional Engineer in Missouri. My educational background includes aerospace engineering, agriculture engineering, and computer engineering."}),a.jsx("p",{children:"I have experience designing and reviewing complex systems involving software, distributed systems, control systems, and embedded and hardware-adjacent systems. I have led engineering teams and reviewed work produced by others. My work has involved regulated environments and formal verification and testing."}),a.jsx("p",{children:"I am engaged in ongoing advanced study in control systems."}),a.jsx("p",{children:"I live and work in Missouri with my wife and son."})]})]})]})})]}),a.jsx(Ct,{})]})}function TO(){return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-12 md:py-16",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Contact"}),a.jsxs("p",{className:"text-lg text-gray-700 mb-8",children:["Initial contact precedes any engagement. The form below is used for intake and scheduling. Submissions are sent to"," ",a.jsx("a",{href:"mailto:seth.kitchen@seth.kitchen",className:"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"seth.kitchen@seth.kitchen"}),"."]}),a.jsxs("form",{action:"https://formspree.io/f/maqqndgz",method:"POST",className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"name",children:"Name"}),a.jsx("input",{id:"name",name:"name",type:"text",required:!0,autoComplete:"name",className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"email",children:"Email"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,autoComplete:"email",className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"organization",children:"Organization (optional)"}),a.jsx("input",{id:"organization",name:"organization",type:"text",autoComplete:"organization",className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"message",children:"Description"}),a.jsx("textarea",{id:"message",name:"message",rows:6,required:!0,className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded bg-gray-900 px-4 py-2 text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2",children:"Submit"})})]})]})}),a.jsx(Ct,{})]})}function wO(){const[s,e]=O.useState(null),[t,r]=O.useState("signin"),[l,u]=O.useState(""),[d,g]=O.useState(""),[y,p]=O.useState(null),[_,E]=O.useState(!1),j=O.useMemo(()=>Qw,[]);O.useEffect(()=>Jp(Ya,Y=>{e(Y)}),[]);const M=async()=>{p(null),E(!0);try{const q=new Ji;await MC(Ya,q)}catch{p("Unable to complete Google sign-in. Please try again.")}finally{E(!1)}},W=async q=>{q.preventDefault(),p(null),E(!0);try{t==="register"?await lC(Ya,l,d):await cC(Ya,l,d)}catch{p("Unable to complete the request. Verify credentials and try again.")}finally{E(!1)}},H=async()=>{await hC(Ya)};return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-12 md:py-16",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Client Portal"}),a.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Portal access supports document exchange and project tracking. Access is provided after intake and confirmation of engagement."}),!j&&a.jsx("div",{className:"mb-8 rounded border border-gray-300 bg-gray-50 p-4 text-sm text-gray-700",children:"Portal authentication is not configured. Set the Firebase environment variables before enabling login."}),s?a.jsxs("div",{className:"rounded border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Signed in as"}),a.jsx("div",{className:"text-gray-900 font-medium",children:s.email??"Authenticated user"}),a.jsx("button",{type:"button",onClick:H,className:"mt-6 inline-flex items-center justify-center rounded border border-gray-300 px-4 py-2 text-gray-900 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2",children:"Sign out"})]}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex gap-4 text-sm",children:[a.jsx("button",{type:"button",onClick:()=>r("signin"),className:`border-b-2 ${t==="signin"?"border-gray-900 text-gray-900":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Sign in"}),a.jsx("button",{type:"button",onClick:()=>r("register"),className:`border-b-2 ${t==="register"?"border-gray-900 text-gray-900":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Register"})]}),a.jsx("button",{type:"button",onClick:M,disabled:!j||_,className:"inline-flex items-center justify-center rounded border border-gray-300 px-4 py-2 text-gray-900 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 disabled:opacity-50",children:"Continue with Google"}),a.jsxs("form",{onSubmit:W,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"portal-email",children:"Email"}),a.jsx("input",{id:"portal-email",name:"email",type:"email",required:!0,autoComplete:"email",value:l,onChange:q=>u(q.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"portal-password",children:"Password"}),a.jsx("input",{id:"portal-password",name:"password",type:"password",required:!0,autoComplete:t==="register"?"new-password":"current-password",value:d,onChange:q=>g(q.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),y&&a.jsx("div",{className:"text-sm text-red-700",children:y}),a.jsx("button",{type:"submit",disabled:!j||_,className:"inline-flex items-center justify-center rounded bg-gray-900 px-4 py-2 text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 disabled:opacity-50",children:t==="register"?"Create account":"Sign in"})]})]})]})}),a.jsx(Ct,{})]})}function jO(){const[s,e]=O.useState(null),[t,r]=O.useState([]),[l,u]=O.useState(null),[d,g]=O.useState(""),[y,p]=O.useState(""),[_,E]=O.useState(""),[j,M]=O.useState(""),[W,H]=O.useState(null),[q,Y]=O.useState(null),[re,ee]=O.useState(null),[$,fe]=O.useState(!1),[xe,S]=O.useState(!1),A=700*1024,C=O.useRef(null);O.useEffect(()=>Jp(Ya,K=>{e(K)}),[]),O.useEffect(()=>{if(!s){r([]);return}const I=pO(uN($g,"users",s.uid,"projects"),yO("createdAt","desc"));return _O(I,F=>{const ne=F.docs.map(me=>{const Ne=me.data();return{id:me.id,title:Ne.title??"",description:Ne.description??"",fileUrl:Ne.fileUrl??void 0,fileName:Ne.fileName??void 0,fileType:Ne.fileType??void 0,fileData:Ne.fileData??void 0,createdAt:Ne.createdAt?.toDate?.()}});r(ne),ne.length>0&&!l&&u(ne[0].id),ee(null)},()=>{r([]),ee("Permission denied reading projects. Update Firestore rules to allow signed-in access.")})},[s]);const R=O.useMemo(()=>!!s&&d.trim().length>0&&y.trim().length>0,[s,d,y]),k=O.useMemo(()=>t.find(I=>I.id===l)??null,[t,l]);O.useEffect(()=>{if(!k){E(""),M("");return}E(k.title),M(k.description)},[k]);const B=async I=>{if(I.preventDefault(),!s){ee("Please sign in to create a project.");return}ee(null),fe(!0);try{let K,F,ne,me;if(q){if(q.size>A){ee("File is too large for inline storage. Use a smaller file or enable Storage."),fe(!1);return}me=await new Promise((Ne,Ve)=>{const V=new FileReader;V.onload=()=>Ne(V.result),V.onerror=()=>Ve(new Error("File read failed")),V.readAsDataURL(q)}),F=q.name,ne=q.type||"application/octet-stream",K=me}await vO(uN($g,"users",s.uid,"projects"),{title:d.trim(),description:y.trim(),fileUrl:K??null,fileName:F??null,fileType:ne??null,fileData:me??null,createdAt:Hg()}),g(""),p(""),Y(null),C.current&&(C.current.value="")}catch{ee("Unable to create the project. Check Firestore rules and try again.")}finally{fe(!1)}},N=async I=>{if(!(!s||!k)){ee(null),S(!0);try{const K=kw($g,"users",s.uid,"projects",k.id);I==="title"&&await bN(K,{title:_.trim(),updatedAt:Hg()}),I==="description"&&await bN(K,{description:j.trim(),updatedAt:Hg()}),H(null)}catch{ee("Unable to save changes. Please try again.")}finally{S(!1)}}};return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Dashboard"}),a.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Project records and documents are available only after authentication."}),!s&&a.jsxs("div",{className:"rounded border border-gray-200 bg-gray-50 p-6 text-gray-700",children:[a.jsx("p",{className:"mb-4",children:"You must be signed in to view or create projects."}),a.jsx(_e,{to:"/portal",className:"inline-flex items-center justify-center rounded border border-gray-300 px-4 py-2 text-gray-900 hover:border-gray-400",children:"Go to portal"})]}),s&&a.jsxs("div",{className:"grid gap-10",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-4",children:"Existing Projects"}),t.length===0?a.jsx("p",{className:"text-gray-700",children:"No projects on file."}):a.jsxs("div",{className:"grid gap-6 grid-cols-2",children:[a.jsx("div",{className:"space-y-3",children:t.map(I=>a.jsxs("button",{type:"button",onClick:()=>u(I.id),className:`w-full rounded border px-4 py-3 text-left transition-colors ${I.id===l?"border-gray-900 bg-gray-50 text-gray-900":"border-gray-200 text-gray-700 hover:border-gray-400"}`,children:[a.jsx("div",{className:"text-sm font-medium",children:I.title}),a.jsx("div",{className:"text-xs text-gray-600 line-clamp-2",children:I.description})]},I.id))}),a.jsx("div",{className:"rounded border border-gray-200 p-4",children:k?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-600",children:"Selected project"}),a.jsx("div",{className:"flex items-center gap-2",children:W==="title"?a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("label",{className:"sr-only",htmlFor:"edit-title",children:"Title"}),a.jsx("input",{id:"edit-title",name:"edit-title",type:"text",required:!0,value:_,onChange:I=>E(I.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"}),a.jsxs("div",{className:"flex gap-3 text-sm",children:[a.jsx("button",{type:"button",onClick:()=>N("title"),disabled:xe,className:"text-gray-900 border-b border-gray-400 hover:border-gray-600 disabled:opacity-50",children:"Save"}),a.jsx("button",{type:"button",onClick:()=>{E(k.title),H(null)},className:"text-gray-700 border-b border-gray-300 hover:border-gray-500",children:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-lg text-gray-900",children:k.title}),a.jsx("button",{type:"button",onClick:()=>H("title"),className:"text-gray-600 hover:text-gray-900","aria-label":"Edit title",children:a.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 20 20",className:"h-4 w-4",fill:"currentColor",children:a.jsx("path",{d:"M14.69 2.86a2.25 2.25 0 0 1 3.18 3.18l-9.5 9.5-4.24.94.94-4.24 9.5-9.5z"})})})]})})]}),a.jsx("div",{className:"space-y-2",children:a.jsx("div",{className:"flex items-start gap-2",children:W==="description"?a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("label",{className:"sr-only",htmlFor:"edit-description",children:"Description"}),a.jsx("textarea",{id:"edit-description",name:"edit-description",rows:4,required:!0,value:j,onChange:I=>M(I.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"}),a.jsxs("div",{className:"flex gap-3 text-sm",children:[a.jsx("button",{type:"button",onClick:()=>N("description"),disabled:xe,className:"text-gray-900 border-b border-gray-400 hover:border-gray-600 disabled:opacity-50",children:"Save"}),a.jsx("button",{type:"button",onClick:()=>{M(k.description),H(null)},className:"text-gray-700 border-b border-gray-300 hover:border-gray-500",children:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-700",children:k.description}),a.jsx("button",{type:"button",onClick:()=>H("description"),className:"text-gray-600 hover:text-gray-900","aria-label":"Edit description",children:a.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 20 20",className:"h-4 w-4",fill:"currentColor",children:a.jsx("path",{d:"M14.69 2.86a2.25 2.25 0 0 1 3.18 3.18l-9.5 9.5-4.24.94.94-4.24 9.5-9.5z"})})})]})})}),k.fileUrl&&a.jsx("a",{href:k.fileUrl,className:"text-sm text-gray-900 border-b border-gray-400 hover:border-gray-600",target:"_blank",rel:"noreferrer",children:k.fileName??"Download file"})]}):a.jsx("p",{className:"text-gray-700",children:"Select a project to view details."})})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-4",children:"Create Project"}),a.jsxs("form",{onSubmit:B,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"project-title",children:"Title"}),a.jsx("input",{id:"project-title",name:"title",type:"text",required:!0,value:d,onChange:I=>g(I.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"project-description",children:"Description"}),a.jsx("textarea",{id:"project-description",name:"description",rows:4,required:!0,value:y,onChange:I=>p(I.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"project-file",children:"File (optional)"}),a.jsx("input",{id:"project-file",name:"file",type:"file",ref:C,onChange:I=>Y(I.target.files?.[0]??null),className:"block w-full text-sm text-gray-700 file:mr-4 file:rounded file:border-0 file:bg-gray-100 file:px-3 file:py-2 file:text-gray-900"})]}),re&&a.jsx("div",{className:"text-sm text-red-700",children:re}),a.jsx("button",{type:"submit",disabled:!R||$,className:"inline-flex items-center justify-center rounded bg-gray-900 px-4 py-2 text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 disabled:opacity-50",children:"Create Project"})]})]})]})]})}),a.jsx(Ct,{})]})}function AO(){return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsx("div",{children:a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Legal Disclaimer"})}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"General Information"}),a.jsx("p",{className:"text-gray-700",children:"This website provides general information about professional engineering services in Missouri. It is not a substitute for professional consultation or a formal engagement."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"No Professional Engagement"}),a.jsx("p",{className:"text-gray-700",children:"Contact through this site does not establish a professional engineer-client relationship. Any engagement requires a written agreement and confirmation of scope, schedule, and terms."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Reliance and Use"}),a.jsx("p",{className:"text-gray-700",children:"Information provided here is intended for general informational purposes only. Decisions based on this information should be made only after direct consultation and review of project-specific facts."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Jurisdiction and Licensure"}),a.jsx("p",{className:"text-gray-700",children:"Professional engineering services are offered only in jurisdictions where the engineer is properly licensed. This website does not constitute an offer to provide engineering services in any jurisdiction where such services would be unlawful."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Use of Sealed Documents"}),a.jsx("p",{className:"text-gray-700",children:"Engineering documents that are signed and sealed are valid only in their final form and for the specific project and conditions for which they were prepared. Any reuse, modification, or reliance beyond the original purpose is at the userâ€™s sole risk unless expressly authorized in writing."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Confidentiality"}),a.jsx("p",{className:"text-gray-700",children:"Do not transmit sensitive or privileged information before an engagement is established. Submitted materials may not be treated as confidential unless an agreement is in place."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Accuracy and Changes"}),a.jsx("p",{className:"text-gray-700",children:"Information on this website may be updated or modified at any time without notice and is not guaranteed to reflect the most current statutes, regulations, or professional standards."})]})]})}),a.jsx(Ct,{})]})}function SO(){return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-6",children:"Engineering Notes"}),a.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Articles addressing professional engineering practice, review, and analysis."}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(_e,{to:"/blog/how-lenders-use-property-condition-assessments-pca",className:"border-b border-transparent hover:border-gray-400",children:"How Lenders Use Property Condition Assessments (PCAs)"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 4, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Why PCAs matter in real estate financing: how lenders use condition findings to manage risk during underwriting and due diligence."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(_e,{to:"/blog/pca-vs-cna-understanding-the-difference",className:"border-b border-transparent hover:border-gray-400",children:"PCA vs. CNA: Understanding the Difference"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 3, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Two common building assessments with different goals: present condition baseline vs. future capital planning."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(_e,{to:"/blog/property-condition-assessment-pca",className:"border-b border-transparent hover:border-gray-400",children:"What Is a Property Condition Assessment (PCA)?"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 2, 2026"}),a.jsx("p",{className:"text-gray-700",children:"What a PCA typically includes, how itâ€™s used in due diligence, and when engineering judgment may apply."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(_e,{to:"/blog/structural-analysis-building-approval-missouri",className:"border-b border-transparent hover:border-gray-400",children:"Structural Analysis and Building Approval in Missouri: What to Know"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 1, 2026"}),a.jsx("p",{className:"text-gray-700",children:"How structural analysis relates to building approval in Missouri, including when engineering is required and the role of a licensed Professional Engineer."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(_e,{to:"/blog/common-mistakes-engineering-expert-reports",className:"border-b border-transparent hover:border-gray-400",children:"Common Mistakes in Engineering Expert Reports"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 31, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Why report quality matters in expert engineering reports, including scope, assumptions, evidence, and communication."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(_e,{to:"/blog/root-cause-vs-legal-cause-engineering",className:"border-b border-transparent hover:border-gray-400",children:"Root Cause vs. Legal Cause: An Engineering Perspective"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 30, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Why the distinction between engineering root cause and legal cause matters in technical disputes and expert testimony."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(_e,{to:"/blog/courts-evaluate-engineering-causation-testimony",className:"border-b border-transparent hover:border-gray-400",children:"How Courts Evaluate Engineering Causation Testimony"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 29, 2026"}),a.jsx("p",{className:"text-gray-700",children:"How courts evaluate engineering causation testimony, including admissibility, methodology, and evidentiary connection."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(_e,{to:"/blog/engineering-causation-failure-analysis",className:"border-b border-transparent hover:border-gray-400",children:"How Engineers Evaluate Causation in Failure Analysis"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 28, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Understanding causation analysis in failure investigations, including evidence, failure modes, and professional judgment."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(_e,{to:"/blog/what-does-professional-engineer-seal-mean",className:"border-b border-transparent hover:border-gray-400",children:"What Does It Mean When a Professional Engineer Seals a Document?"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 27, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Understanding the purpose of an engineering seal in Missouri: professional responsibility, legal obligations, and when sealing is required."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(_e,{to:"/blog/what-does-engineering-expert-witness-do",className:"border-b border-transparent hover:border-gray-400",children:"What Does an Engineering Expert Witness Do?"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 25, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Understanding the role of engineering expert witnesses in legal matters: independent analysis, forensic evaluation, and professional testimony."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(_e,{to:"/blog/when-professional-engineer-required-missouri",className:"border-b border-transparent hover:border-gray-400",children:"When Is a Professional Engineer Required in Missouri?"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 24, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Understanding when engineering licensure is necessary, including sealing, professional judgment, and common compliance scenarios."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(_e,{to:"/blog/engineering-standards-assumptions-failure-analysis",className:"border-b border-transparent hover:border-gray-400",children:"Engineering Standards, Assumptions, and Failure Analysis"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 21, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Why assumptions matter in engineering practice, including standards, documentation, and failure analysis."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(_e,{to:"/blog/professional-engineer-expert-witness-missouri",className:"border-b border-transparent hover:border-gray-400",children:"The Role of a Professional Engineer as an Expert Witness in Missouri"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 20, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Technical expertise in legal and dispute contexts, including professional responsibilities and independence of engineering expert witnesses."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(_e,{to:"/blog/forensic-engineering-missouri-technical-analysis",className:"border-b border-transparent hover:border-gray-400",children:"Forensic Engineering in Missouri: Technical Analysis After a Failure"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 19, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Understanding forensic engineering practice in Missouri: technical investigation of failures, incidents, and disputes by a licensed Professional Engineer."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(_e,{to:"/blog/engineering-review-professional-judgment-st-louis-missouri",className:"border-b border-transparent hover:border-gray-400",children:"Engineering Review and Professional Judgment in the St. Louis Region"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 18, 2026"}),a.jsx("p",{className:"text-gray-700",children:"A discussion of professional engineering review and judgment in the St. Louis region, including typical review activities and forensic engineering contexts."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(_e,{to:"/blog/professional-engineering-st-louis-missouri",className:"border-b border-transparent hover:border-gray-400",children:"Professional Engineering Practice in St. Louis, Missouri"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 16, 2026"}),a.jsx("p",{className:"text-gray-700",children:"An overview of professional engineering practice in St. Louis, Missouri, including licensure requirements, common project types, and the role of licensed Professional Engineers."})]})]})]})}),a.jsx(Ct,{})]})}function IO(){const s="2026-01-16",e="January 16, 2026";return O.useEffect(()=>{const t=(l,u)=>{const d=document.head.querySelector(`meta[name="${l}"]`),g=d??document.createElement("meta");g.name=l,g.content=u,d||document.head.appendChild(g)},r=(l,u)=>{const d=document.head.querySelector(`meta[property="${l}"]`),g=d??document.createElement("meta");g.setAttribute("property",l),g.content=u,d||document.head.appendChild(g)};t("date",s),r("article:published_time",s)},[]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(_e,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Professional Engineering Practice in St. Louis, Missouri"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Professional Engineering Practice in St. Louis, Missouri"}),a.jsx("p",{className:"text-lg text-gray-700",children:"An overview of professional engineering practice in St. Louis, Missouri, including licensure requirements, common project types, and the role of licensed Professional Engineers."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Introduction"}),a.jsx("p",{className:"text-gray-700",children:"St. Louis has a long history of engineering activity, spanning transportation, manufacturing, aerospace, energy, and modern software-enabled systems. Professional engineering practice in the region operates within a regulatory framework established by the State of Missouri to protect public health, safety, and welfare."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"This article provides an overview of how professional engineering work is practiced in St. Louis, the role of a licensed Professional Engineer (PE), and common contexts in which engineering review and judgment are required."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Professional Engineering Licensure in Missouri"}),a.jsx("p",{className:"text-gray-700",children:"Engineering services offered to the public in Missouri are regulated under Chapter 327 of the Revised Statutes of Missouri. Individuals offering professional engineering services must be licensed by the Missouri Board for Architects, Professional Engineers, Professional Land Surveyors, and Professional Landscape Architects."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Licensure requires formal education, documented experience, successful completion of national examinations, and adherence to ongoing professional and ethical obligations. A licensed Professional Engineer is personally responsible for engineering work performed under their seal."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"In St. Louis, as elsewhere in Missouri, engineering documents such as drawings, specifications, calculations, reports, and certifications may require review and sealing by a licensed PE, depending on the nature and use of the work."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Work Commonly Performed in the St. Louis Region"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"The St. Louis metropolitan area supports a wide range of engineering activities. Common categories include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Infrastructure and transportation systems, including civil and structural components"}),a.jsx("li",{children:"Manufacturing and industrial systems, often involving mechanical, electrical, and controls engineering"}),a.jsx("li",{children:"Aerospace and defense-related engineering, reflecting the regionâ€™s historical strengths"}),a.jsx("li",{children:"Energy, utilities, and power systems"}),a.jsx("li",{children:"Software-integrated and automated systems, where engineering judgment intersects with computing and control systems"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Many projects involve multidisciplinary considerations and require formal engineering analysis, documentation, and professional review."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Review, Analysis, and Professional Judgment"}),a.jsx("p",{className:"text-gray-700",children:"Not all engineering work is the same. Some projects involve original design, while others require independent review, verification, or expert opinion. In regulated or high-consequence environments, professional engineering judgment is often necessary to assess compliance, safety, reliability, and fitness for purpose."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering review may include evaluation of calculations, assumptions, testing results, system behavior, or failure modes. When appropriate, a Professional Engineer may seal documents to indicate responsibility for the technical content under Missouri law."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Forensic Engineering and Expert Analysis"}),a.jsx("p",{className:"text-gray-700",children:"In addition to design and review, professional engineers in St. Louis may perform forensic engineering work. This can include analysis of system failures, construction issues, accidents, or disputes involving technical matters."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic engineering often supports legal proceedings, insurance claims, or internal investigations. In such contexts, engineering opinions must be based on sound methodology, documented evidence, and professional standards."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Selecting a Professional Engineer in St. Louis"}),a.jsx("p",{className:"text-gray-700",children:"When engaging a Professional Engineer, it is important to confirm licensure status, relevant experience, and scope alignment with the work being requested. Professional engagements are typically established through a written agreement defining responsibilities, limitations, and deliverables."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering services should be performed in accordance with Missouri statutes, applicable codes and standards, and accepted engineering practices."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Conclusion"}),a.jsx("p",{className:"text-gray-700",children:"Professional engineering practice in St. Louis reflects both the regionâ€™s technical history and its ongoing development. Licensed Professional Engineers play a critical role in ensuring that engineering work affecting the public is performed with appropriate competence, judgment, and accountability."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"For projects requiring engineering analysis, review, or professional oversight, consultation with a Missouri-licensed Professional Engineer is an essential step."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published"," ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(_e,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(_e,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]}),a.jsxs("p",{children:["Learn more about the"," ",a.jsx(_e,{to:"/",className:"border-b border-gray-300 hover:border-gray-500",children:"licensed Professional Engineer"})," ","providing services in Missouri."]})]})]})}),a.jsx(Ct,{})]})}function CO(){const s="2026-01-18",e="January 18, 2026",t="Engineering Review and Professional Judgment in the St. Louis Region",r="An overview of professional engineering review in the St. Louis region, including typical review activities, software-driven systems, and forensic engineering contexts.";return O.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,t]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(_e,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Engineering Review and Professional Judgment in the St. Louis Region"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Engineering Review and Professional Judgment in the St. Louis Region"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Role of a Licensed Professional Engineer"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"Engineering work in the St. Louis region spans a wide range of industries, including manufacturing, transportation, technology, utilities, and regulated systems. Many projects involve complex interactions between software, hardware, and physical systems, where failure modes are not always obvious."}),a.jsx("p",{className:"text-gray-700",children:"In Missouri, a licensed Professional Engineer (PE) is responsible for applying engineering judgment to evaluate designs, analyses, and technical decisions that may affect public safety, reliability, or compliance with applicable standards."}),a.jsx("p",{className:"text-gray-700",children:"This post explains how professional engineering review fits into real-world projects in the St. Louis area, and when engaging a Missouri-licensed PE is appropriate."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Professional Engineering Review Involves"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Professional engineering review is not limited to producing new designs. In many cases, it involves evaluating existing work, assumptions, or system behavior."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Typical review activities may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Reviewing engineering drawings, calculations, or specifications"}),a.jsx("li",{children:"Evaluating system architecture or control logic"}),a.jsx("li",{children:"Assessing whether assumptions align with operating conditions"}),a.jsx("li",{children:"Identifying failure modes, edge cases, or unintended interactions"}),a.jsx("li",{children:"Providing a documented engineering opinion based on analysis"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"The goal of review is not to â€œapproveâ€ work informally, but to apply professional judgment grounded in education, experience, and applicable engineering principles."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Judgment in Complex and Software-Driven Systems"}),a.jsx("p",{className:"text-gray-700",children:"Modern engineering projects increasingly involve software-defined behavior, distributed systems, and embedded control. In these environments, failures often arise from system interactions rather than single-component defects."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering judgment in these cases may involve:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Understanding how software logic interacts with physical processes"}),a.jsx("li",{children:"Reviewing control strategies and fault handling"}),a.jsx("li",{children:"Evaluating verification and validation methods"}),a.jsx("li",{children:"Assessing risk where deterministic proof is impractical"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"These types of reviews are common in regulated or high-reliability environments and often benefit from independent professional evaluation."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Forensic Engineering and Expert Analysis"}),a.jsx("p",{className:"text-gray-700",children:"In some situations, engineering review occurs after an incident, failure, or dispute. Forensic engineering focuses on understanding what happened and why, based on technical evidence rather than speculation."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic engineering services may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Analysis of system behavior leading up to a failure"}),a.jsx("li",{children:"Review of documentation, logs, or test results"}),a.jsx("li",{children:"Evaluation of compliance with accepted engineering practices"}),a.jsx("li",{children:"Preparation of engineering opinions suitable for legal or insurance contexts"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"In Missouri, forensic opinions offered by a Professional Engineer must remain within the engineerâ€™s area of competence and be based on sufficient technical analysis."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Engage a Missouri-Licensed Professional Engineer"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engaging a Professional Engineer may be appropriate when:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Engineering work affects public safety or critical operations"}),a.jsx("li",{children:"Independent technical review is required"}),a.jsx("li",{children:"Engineering documents require sealing under Missouri law"}),a.jsx("li",{children:"An objective engineering opinion is needed"}),a.jsx("li",{children:"A failure or dispute involves technical systems"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Early engagement often allows issues to be identified before they become costly or contentious."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Professional Practice in the St. Louis Area"}),a.jsx("p",{className:"text-gray-700",children:"Engineering practice in the St. Louis region reflects the areaâ€™s diverse industrial and technical base. Projects frequently involve interdisciplinary systems where careful analysis and clear documentation are essential."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Professional engineering services are governed by Missouri statutes and board rules, which establish requirements for licensure, responsibility, and ethical conduct. Any engineering engagement should clearly define scope, responsibilities, and limitations in writing."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article is intended to provide general information about professional engineering practice in Missouri. It does not constitute engineering advice or establish a professional engagement."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"If you are considering engineering review, analysis, or forensic evaluation, consultation with a Missouri-licensed Professional Engineer can help clarify next steps and determine whether professional services are appropriate for your situation."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published"," ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(_e,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(_e,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Ct,{})]})}function RO(){const s="2026-01-19",e="January 19, 2026",t="Forensic Engineering in Missouri: Technical Analysis After a Failure",r="Understanding forensic engineering practice in Missouri: technical investigation of failures, incidents, and disputes by a licensed Professional Engineer.";return O.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,t]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(_e,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Forensic Engineering in Missouri: Technical Analysis After a Failure"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Forensic Engineering in Missouri: Technical Analysis After a Failure"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Understanding forensic engineering practice in Missouri: technical investigation of failures, incidents, and disputes by a licensed Professional Engineer."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Forensic Engineering Is â€” and Is Not"}),a.jsx("p",{className:"text-gray-700",children:"Forensic engineering focuses on the investigation of engineering-related failures, incidents, or disputes. The purpose is not advocacy, but technical understanding: determining what occurred, how systems behaved, and whether engineering practices were consistent with accepted standards."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"In Missouri, forensic engineering opinions offered by a licensed Professional Engineer must be based on sufficient facts, appropriate analysis, and the engineer's area of competence."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"This article outlines how forensic engineering is typically applied and when it may be appropriate to engage a Missouri-licensed Professional Engineer."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Common Situations Involving Forensic Engineering"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Forensic engineering may be involved in a wide range of situations, including:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"System or equipment failures"}),a.jsx("li",{children:"Software-controlled system malfunctions"}),a.jsx("li",{children:"Industrial or infrastructure incidents"}),a.jsx("li",{children:"Construction or design disputes"}),a.jsx("li",{children:"Product performance issues"}),a.jsx("li",{children:"Insurance or liability investigations"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"In many cases, forensic analysis occurs months or years after the original work was performed, requiring careful reconstruction of events from available evidence."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"The Forensic Engineering Process"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"While each investigation is unique, forensic engineering often follows a structured process:"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Evidence Collection"}),a.jsx("p",{className:"text-gray-700",children:"Review of drawings, specifications, logs, test results, photographs, and physical evidence."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"System Understanding"}),a.jsx("p",{className:"text-gray-700",children:"Analysis of how the system was intended to function, including control logic, operating conditions, and interfaces."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Failure Analysis"}),a.jsx("p",{className:"text-gray-700",children:"Identification of failure modes, contributing factors, and sequence of events."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Engineering Evaluation"}),a.jsx("p",{className:"text-gray-700",children:"Assessment of whether engineering decisions aligned with accepted practices at the time the work was performed."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Documentation"}),a.jsx("p",{className:"text-gray-700",children:"Preparation of clear, technically grounded findings and opinions."})]})]}),a.jsx("p",{className:"text-gray-700 mt-4",children:"The emphasis is on reproducible analysis and defensible reasoning rather than conclusions drawn from limited data."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Software and Complex Systems in Forensic Analysis"}),a.jsx("p",{className:"text-gray-700",children:"Modern forensic engineering increasingly involves software-driven and distributed systems. In these cases, failures may arise from timing, state transitions, data dependencies, or unexpected interactions between components."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic analysis of such systems may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Review of source code or configuration artifacts"}),a.jsx("li",{children:"Analysis of logs, telemetry, or audit trails"}),a.jsx("li",{children:"Evaluation of control strategies and fault handling"}),a.jsx("li",{children:"Reconstruction of system state over time"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Understanding both software behavior and physical system constraints is often necessary to form a reliable engineering opinion."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Expert Engineering Opinions and Legal Contexts"}),a.jsx("p",{className:"text-gray-700",children:"Forensic engineering findings are frequently used in legal, insurance, or regulatory contexts. When acting as an expert, a Professional Engineer's role is to provide objective technical opinions â€” not legal conclusions."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Key principles include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Remaining within the engineer's area of expertise"}),a.jsx("li",{children:"Avoiding speculation beyond available evidence"}),a.jsx("li",{children:"Clearly stating assumptions and limitations"}),a.jsx("li",{children:"Distinguishing facts from professional judgment"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Professional engineers are ethically obligated to present opinions honestly and without bias."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Engage a Forensic Engineer"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engaging a forensic engineer may be appropriate when:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"The cause of a failure is unclear or disputed"}),a.jsx("li",{children:"Technical evidence requires expert interpretation"}),a.jsx("li",{children:"An independent engineering opinion is needed"}),a.jsx("li",{children:"Engineering documentation or practices are questioned"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Early involvement can help preserve evidence and reduce uncertainty as investigations progress."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about forensic engineering practice in Missouri. It does not constitute engineering advice or establish a professional engagement."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic engineering requires careful analysis, technical rigor, and professional judgment grounded in engineering principles and experience."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsx("p",{children:a.jsxs("time",{dateTime:s,children:["Published ",e]})}),a.jsxs("p",{children:["Related:"," ",a.jsx(_e,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(_e,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]}),a.jsxs("p",{children:["Learn more about the"," ",a.jsx(_e,{to:"/",className:"border-b border-gray-300 hover:border-gray-500",children:"licensed Professional Engineer"})," ","providing forensic engineering services in Missouri."]})]})]})}),a.jsx(Ct,{})]})}function MO(){const s="2026-01-20",e="January 20, 2026",t="The Role of a Professional Engineer as an Expert Witness in Missouri",r="An overview of the role of licensed Professional Engineers as expert witnesses in Missouri, including independence, professional judgment, and legal context.";return O.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,t]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(_e,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ The Role of a Professional Engineer as an Expert Witness in Missouri"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"The Role of a Professional Engineer as an Expert Witness in Missouri"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Technical Expertise in Legal and Dispute Contexts"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"Engineering issues frequently arise in legal disputes, insurance claims, and regulatory proceedings. When technical questions are central to a matter, courts and attorneys may rely on expert testimony to understand engineering principles, system behavior, and technical causation."}),a.jsx("p",{className:"text-gray-700",children:"In Missouri, a licensed Professional Engineer may serve as an expert witness when the subject matter falls within the engineerâ€™s area of competence and the opinions offered are based on sufficient technical analysis."}),a.jsx("p",{className:"text-gray-700",children:"This article describes the role of an engineering expert witness and the professional responsibilities that accompany that role."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What an Engineering Expert Witness Does"}),a.jsx("p",{className:"text-gray-700",children:"An engineering expert witness provides independent technical opinions to assist the court or other decision-makers. This role is distinct from advocacy and is grounded in objective engineering analysis."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Typical expert witness activities may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Reviewing technical documents, drawings, and records"}),a.jsx("li",{children:"Evaluating system design, operation, and failure modes"}),a.jsx("li",{children:"Analyzing data, logs, and test results"}),a.jsx("li",{children:"Preparing written expert reports"}),a.jsx("li",{children:"Providing deposition or trial testimony"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"The expertâ€™s duty is to the facts and engineering principles, not to a particular outcome."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Independence and Professional Judgment"}),a.jsx("p",{className:"text-gray-700",children:"Professional engineers serving as expert witnesses are ethically obligated to remain independent and unbiased. Opinions must be formed through analysis rather than instruction from counsel or clients."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Key elements of professional judgment in expert work include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Clear distinction between facts, assumptions, and opinions"}),a.jsx("li",{children:"Use of accepted engineering methods"}),a.jsx("li",{children:"Disclosure of limitations or uncertainties"}),a.jsx("li",{children:"Avoidance of conclusions beyond available evidence"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Maintaining independence is essential for credibility and admissibility."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Expertise and Modern Systems"}),a.jsx("p",{className:"text-gray-700",children:"Many disputes today involve complex systems that include software, control logic, or distributed components. Expert evaluation of such systems often requires understanding both theoretical design and real-world operation."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Expert witness work in these cases may involve:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Reconstruction of system behavior over time"}),a.jsx("li",{children:"Evaluation of control or decision logic"}),a.jsx("li",{children:"Analysis of interactions between software and physical components"}),a.jsx("li",{children:"Review of verification and validation practices"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering expertise must be applied in a manner that is clear and accessible to non-technical audiences without oversimplifying the underlying analysis."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Legal Standards and Professional Responsibility"}),a.jsx("p",{className:"text-gray-700",children:"While legal standards for expert testimony vary by jurisdiction, professional engineers are governed by ethical and licensure obligations regardless of venue."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"In Missouri, engineers must:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Practice within their area of competence"}),a.jsx("li",{children:"Avoid misleading statements or omissions"}),a.jsx("li",{children:"Maintain honesty and objectivity"}),a.jsx("li",{children:"Accept responsibility for opinions offered"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Failure to adhere to these principles can affect both professional credibility and licensure."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When an Engineering Expert May Be Needed"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"An engineering expert witness may be appropriate when:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Technical causation is disputed"}),a.jsx("li",{children:"Engineering standards or practices are questioned"}),a.jsx("li",{children:"System behavior is not readily understood by non-engineers"}),a.jsx("li",{children:"Independent analysis is required to inform decision-making"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Early technical evaluation can often clarify issues and narrow the scope of disputes."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article is intended to provide general information about the role of Professional Engineers as expert witnesses in Missouri. It does not constitute engineering advice or establish a professional engagement."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering expert testimony relies on careful analysis, clear reasoning, and professional integrity."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published"," ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(_e,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(_e,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Ct,{})]})}function DO(){const s="2026-01-21",e="January 21, 2026",t="Engineering Standards, Assumptions, and Failure Analysis",r="Why assumptions matter in engineering practice, and how standards and documentation influence failure analysis and professional judgment.";return O.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,t]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(_e,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Engineering Standards, Assumptions, and Failure Analysis"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Engineering Standards, Assumptions, and Failure Analysis"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Why Assumptions Matter in Engineering Practice"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"Engineering analysis is built on assumptions. These may involve operating conditions, loads, environmental factors, user behavior, data quality, or system boundaries. While assumptions are unavoidable, they must be reasonable, documented, and appropriate to the problem being addressed."}),a.jsx("p",{className:"text-gray-700",children:"In professional engineering practice, unexamined or invalid assumptions are a common source of system failures and disputes. Understanding how assumptions influence analysis is central to both design review and forensic engineering."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Standards and Accepted Practice"}),a.jsx("p",{className:"text-gray-700",children:"Engineering standards provide a framework for consistent and reliable analysis. Standards may be developed by professional organizations, regulatory bodies, or industry groups, and they often reflect consensus on acceptable methods and safety considerations."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"In practice, standards:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Inform design criteria and analysis methods"}),a.jsx("li",{children:"Establish minimum performance or safety thresholds"}),a.jsx("li",{children:"Provide reference points for professional judgment"}),a.jsx("li",{children:"Evolve over time as technology and knowledge advance"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Compliance with a standard does not eliminate the need for judgment, but deviations from standards should be intentional, justified, and documented."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"The Role of Assumptions in Failure Analysis"}),a.jsx("p",{className:"text-gray-700",children:"When a system fails, forensic engineering analysis often begins by examining the assumptions underlying its design, implementation, and operation."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Common assumption-related issues include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Operating conditions outside the original design envelope"}),a.jsx("li",{children:"Environmental factors not fully considered"}),a.jsx("li",{children:"Simplifications that obscured critical interactions"}),a.jsx("li",{children:"Incomplete or outdated data inputs"}),a.jsx("li",{children:"Misalignment between documented assumptions and actual use"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Failure analysis seeks to identify not only what failed, but why the assumptions supporting earlier decisions may no longer have been valid."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Distinguishing Errors from Engineering Judgment"}),a.jsx("p",{className:"text-gray-700",children:"Not every unfavorable outcome reflects an error. Engineering decisions are often made under uncertainty, with incomplete information and competing constraints."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"A key task in professional and forensic analysis is distinguishing between:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Reasonable engineering judgment based on available information"}),a.jsx("li",{children:"Decisions that deviated from accepted practice without justification"}),a.jsx("li",{children:"Changes in conditions that were not foreseeable at the time"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"This distinction is particularly important in legal or insurance contexts, where outcomes alone do not define professional responsibility."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Documentation and Traceability"}),a.jsx("p",{className:"text-gray-700",children:"Clear documentation of assumptions, standards, and decision rationale plays a critical role in both project execution and post-event analysis."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Effective documentation supports:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Technical review and peer evaluation"}),a.jsx("li",{children:"Future modifications or maintenance"}),a.jsx("li",{children:"Regulatory or contractual compliance"}),a.jsx("li",{children:"Forensic reconstruction if issues arise"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Inadequate documentation can significantly increase uncertainty during failure analysis and complicate resolution of disputes."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Judgment in Complex Systems"}),a.jsx("p",{className:"text-gray-700",children:"Modern systems often involve interactions between physical components, software, and human operators. In these cases, assumptions may be embedded in algorithms, control logic, or operational procedures rather than explicitly stated."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Failure analysis of complex systems may require:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Examination of implicit assumptions in system behavior"}),a.jsx("li",{children:"Evaluation of edge cases and state transitions"}),a.jsx("li",{children:"Review of validation and testing coverage"}),a.jsx("li",{children:"Consideration of how systems respond to unexpected inputs"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Professional judgment is required to assess whether these assumptions were reasonable in context."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about engineering standards, assumptions, and failure analysis. It does not constitute engineering advice or establish a professional engagement."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Careful consideration of assumptions and standards is fundamental to sound engineering practice, effective review, and reliable forensic analysis."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published"," ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(_e,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(_e,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Ct,{})]})}function PO(){const s="2026-01-24",e="January 24, 2026",t="When Is a Professional Engineer Required in Missouri?",r="Understanding when engineering licensure is necessary in Missouri and how professional judgment, sealing, and compliance requirements apply.";return O.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,t]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(_e,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ When Is a Professional Engineer Required in Missouri?"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"When Is a Professional Engineer Required in Missouri?"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Understanding When Engineering Licensure Is Necessary"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"In Missouri, the practice of professional engineering is regulated to protect public health, safety, and welfare. Not every technical task requires a licensed Professional Engineer (PE), but certain activities legally do."}),a.jsx("p",{className:"text-gray-700",children:"Understanding when a PE is required can help project owners, developers, contractors, and attorneys avoid delays, compliance issues, or rejected submissions."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Constitutes the Practice of Engineering in Missouri"}),a.jsx("p",{className:"text-gray-700",children:"Missouri law defines the practice of engineering broadly. In general, it includes the application of engineering principles and judgment to services such as:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Engineering analysis and evaluation"}),a.jsx("li",{children:"Preparation of engineering drawings and specifications"}),a.jsx("li",{children:"Design or review of systems affecting safety or performance"}),a.jsx("li",{children:"Engineering reports, opinions, or certifications"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"If a task involves professional judgment that could impact public safety, it may fall under regulated engineering practice."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Common Situations Where a PE Is Required"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"While requirements vary by jurisdiction and project type, a Missouri-licensed PE is commonly required for:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Engineering drawings submitted to public agencies"}),a.jsx("li",{children:"Structural, mechanical, electrical, or system designs affecting safety"}),a.jsx("li",{children:"Sealed engineering calculations or reports"}),a.jsx("li",{children:"Expert engineering opinions in legal or insurance matters"}),a.jsx("li",{children:"Engineering evaluations relied upon by third parties"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Local authorities may impose additional requirements depending on the scope and nature of the work."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Activities That May Not Require a PE"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Not all technical work requires licensure. Examples of activities that may not require a PE include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Drafting or modeling performed under supervision"}),a.jsx("li",{children:"Work based strictly on prescriptive codes without judgment"}),a.jsx("li",{children:"Internal technical analysis not released externally"}),a.jsx("li",{children:"Manufacturing or installation following stamped plans"}),a.jsx("li",{children:"Software development that does not constitute regulated engineering practice"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"The distinction often depends on whether professional judgment is exercised and whether the work is offered to the public."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Review vs. Engineering Design"}),a.jsx("p",{className:"text-gray-700",children:"Engineering review and engineering design are related but distinct activities."}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Design involves creating engineering solutions and selecting parameters"}),a.jsx("li",{children:"Review involves evaluating work prepared by others for compliance, reasonableness, and suitability"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Both activities may require licensure when professional judgment is applied and the work is relied upon by others."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Sealing and Responsibility"}),a.jsx("p",{className:"text-gray-700",children:"When a Missouri PE seals a document, they are affirming that:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"The work was prepared by them or under their responsible charge"}),a.jsx("li",{children:"The work meets applicable standards and requirements"}),a.jsx("li",{children:"They accept professional responsibility for the content"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Sealing is not a formality. It carries legal and ethical obligations and should only be done when appropriate."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Consequences of Improper Practice"}),a.jsx("p",{className:"text-gray-700",children:"Performing regulated engineering services without proper licensure can result in:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Rejected submissions or project delays"}),a.jsx("li",{children:"Regulatory action or penalties"}),a.jsx("li",{children:"Increased liability exposure"}),a.jsx("li",{children:"Challenges to the validity of work products"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Clarifying licensure requirements early can prevent issues later."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Seek Professional Guidance"}),a.jsx("p",{className:"text-gray-700",children:"If there is uncertainty about whether a PE is required, consulting with a licensed Professional Engineer early in the process can help clarify obligations and define appropriate scope."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information regarding professional engineering licensure in Missouri. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published"," ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(_e,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(_e,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Ct,{})]})}function OO(){const s="2026-01-25",e="January 25, 2026",t="What Does an Engineering Expert Witness Do?",r="Understanding the role of engineering expert witnesses in legal matters: independent analysis, forensic evaluation, and professional testimony in Missouri.";return O.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,t]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(_e,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ What Does an Engineering Expert Witness Do?"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"What Does an Engineering Expert Witness Do?"}),a.jsx("p",{className:"text-lg text-gray-700",children:"The Role of Engineering Expertise in Legal Matters"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"Engineering expert witnesses play a critical role in legal disputes involving technical, scientific, or engineering issues. Their function is not to advocate for a party, but to provide independent, objective engineering analysis and opinion to assist the court in understanding complex matters."}),a.jsx("p",{className:"text-gray-700",children:"In Missouri, expert witnesses offering engineering opinions are often licensed Professional Engineers (PEs)."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Independence and Objectivity"}),a.jsx("p",{className:"text-gray-700",children:"An engineering expert witness is expected to remain independent. Unlike consultants retained to solve problems or design solutions, an expert witness evaluates facts, applies engineering principles, and offers opinions based on evidence."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Credibility depends on:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Objectivity"}),a.jsx("li",{children:"Technical rigor"}),a.jsx("li",{children:"Transparency of assumptions"}),a.jsx("li",{children:"Consistency with accepted engineering practice"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Typical Engineering Expert Witness Services"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering expert witnesses may be asked to perform tasks such as:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Reviewing engineering drawings, reports, and calculations"}),a.jsx("li",{children:"Evaluating compliance with applicable standards and codes"}),a.jsx("li",{children:"Analyzing failure modes and causation"}),a.jsx("li",{children:"Assessing reasonableness of engineering decisions"}),a.jsx("li",{children:"Preparing written expert reports"}),a.jsx("li",{children:"Providing sworn testimony or deposition"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"The scope of work is typically defined in writing and tailored to the needs of the matter."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Forensic Engineering vs. Design Engineering"}),a.jsx("p",{className:"text-gray-700",children:"Forensic engineering focuses on understanding what occurred, why it occurred, and whether professional standards were met."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"This differs from design engineering, which involves creating systems or solutions. Forensic work is retrospective and analytical, rather than prescriptive."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Licensing and Qualifications"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"In Missouri, offering engineering opinions that rely on professional judgment may require licensure as a Professional Engineer. Courts and attorneys frequently seek experts who:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Hold active PE licensure"}),a.jsx("li",{children:"Have relevant technical education and experience"}),a.jsx("li",{children:"Can clearly explain technical concepts"}),a.jsx("li",{children:"Are familiar with professional standards and ethics"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Licensure alone does not make someone an expert witness, but it is often a baseline requirement."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Reports and Testimony"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Expert reports must be well-organized, technically sound, and defensible. Assumptions, methodologies, and limitations should be clearly stated."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"During testimony, an engineering expert witness may be asked to:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Explain technical findings in plain language"}),a.jsx("li",{children:"Defend methods and conclusions under questioning"}),a.jsx("li",{children:"Clarify what opinions are and are not being offered"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Professional demeanor and clarity are as important as technical correctness."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Ethical Considerations"}),a.jsx("p",{className:"text-gray-700",children:"Engineering expert witnesses are bound by professional ethics. Opinions must be honest, unbiased, and based on sufficient facts and analysis. Compensation should not depend on the outcome of a case."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Maintaining ethical standards protects both the integrity of the process and the credibility of the expert."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When an Engineering Expert Witness Is Needed"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Common situations include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Construction or design disputes"}),a.jsx("li",{children:"Structural or system failures"}),a.jsx("li",{children:"Professional negligence claims"}),a.jsx("li",{children:"Insurance or property damage matters"}),a.jsx("li",{children:"Regulatory or compliance disputes"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Early involvement can help clarify technical issues and narrow disputes."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information regarding engineering expert witness services. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(_e,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(_e,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Ct,{})]})}function kO(){const s="2026-01-27",e="January 27, 2026",t="What Does It Mean When a Professional Engineer Seals a Document?",r="Understanding the purpose of an engineering seal in Missouri: professional responsibility, legal obligations, and when sealing is required by licensed PEs.";return O.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,t]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(_e,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ What Does It Mean When a Professional Engineer Seals a Document?"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"What Does It Mean When a Professional Engineer Seals a Document?"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Purpose of an Engineering Seal"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"When a Professional Engineer (PE) places their seal on an engineering document, it signifies more than approval or review. In Missouri, sealing is a formal declaration of professional responsibility for the work."}),a.jsx("p",{className:"text-gray-700",children:"Sealed documents are often relied upon by public agencies, courts, lenders, insurers, and other third parties. For this reason, the use of an engineering seal carries legal, ethical, and professional obligations."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What the Engineering Seal Represents"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"By sealing a document, a Missouri-licensed Professional Engineer affirms that:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"The work was prepared by them or under their responsible charge"}),a.jsx("li",{children:"Professional engineering judgment was applied"}),a.jsx("li",{children:"The document complies with applicable standards and regulations"}),a.jsx("li",{children:"The engineer accepts responsibility for the technical content"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"The seal is not a certification of perfection, but it is a statement of accountability."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Documents Commonly Sealed by Professional Engineers"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Depending on project type and jurisdiction, sealed documents may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Engineering drawings and specifications"}),a.jsx("li",{children:"Engineering reports and evaluations"}),a.jsx("li",{children:"Calculations and technical memoranda"}),a.jsx("li",{children:"Property condition or capital needs assessments"}),a.jsx("li",{children:"Forensic engineering opinions"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Not all engineering documents require a seal, but those that do must be sealed appropriately."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Responsible Charge and Professional Judgment"}),a.jsx("p",{className:"text-gray-700 mb-3",children:'A key requirement for sealing is that the engineer exercised "responsible charge" over the work. This means the engineer:'}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Directly prepared the work, or"}),a.jsx("li",{children:"Personally supervised its preparation, and"}),a.jsx("li",{children:"Had sufficient knowledge to control and evaluate the work"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Sealing work prepared entirely by others without meaningful involvement is not permitted."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Signing and Dating Requirements"}),a.jsx("p",{className:"text-gray-700",children:"In Missouri, sealed documents must also be signed and dated. This establishes when professional responsibility was assumed and helps identify the applicable standards and conditions at the time of issuance."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Electronic seals and signatures are commonly used for digital submissions, provided they meet regulatory requirements."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Improper Use of an Engineering Seal"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Improper sealing can create significant risk for both the engineer and the public. Examples include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Sealing work outside the engineer's area of competence"}),a.jsx("li",{children:"Sealing documents without adequate review or supervision"}),a.jsx("li",{children:"Sealing documents for convenience rather than responsibility"}),a.jsx("li",{children:"Allowing others to use the engineer's seal"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Such actions may result in disciplinary action or legal exposure."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When a Seal Is Not Appropriate"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Some technical work does not require or justify sealing, including:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Preliminary or conceptual studies"}),a.jsx("li",{children:"Internal analyses not released externally"}),a.jsx("li",{children:"Draft documents clearly marked as such"}),a.jsx("li",{children:"Work that does not involve professional judgment"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"In these cases, sealing may be inappropriate or misleading."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Why Sealing Matters to Clients and Third Parties"}),a.jsx("p",{className:"text-gray-700",children:"For clients, a sealed document provides assurance that a licensed professional has taken responsibility for the work. For third parties, it establishes a clear point of accountability."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Understanding when and why a document is sealed helps all parties rely on engineering work appropriately."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about the use of an engineering seal in Missouri. It does not constitute engineering advice or establish a professional engagement."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(_e,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(_e,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Ct,{})]})}function LO(){const s="2026-01-28",e="January 28, 2026",t="How Engineers Evaluate Causation in Failure Analysis",r="Understanding how engineers evaluate causation in failure analysis, including evidence collection, failure modes, and professional judgment in Missouri.";return O.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,t]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(_e,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ How Engineers Evaluate Causation in Failure Analysis"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"How Engineers Evaluate Causation in Failure Analysis"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Understanding Why a System Failed"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"Failure analysis is not limited to identifying what went wrong. A central objective is determining causationâ€”why the failure occurred and what factors materially contributed to the outcome."}),a.jsx("p",{className:"text-gray-700",children:"In professional engineering practice, causation is evaluated through structured analysis grounded in evidence, engineering principles, and accepted methodology. This process is especially important in forensic and expert witness contexts, where conclusions may be relied upon by courts, insurers, or other decision-makers."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Defining Failure and Scope"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Before causation can be evaluated, the engineer must define:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"What constitutes â€œfailureâ€ in the specific context"}),a.jsx("li",{children:"The performance criteria or expectations involved"}),a.jsx("li",{children:"The system boundaries and time frame under consideration"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Failure may involve physical damage, loss of function, deviation from specifications, or inability to meet operational requirements. Clear definition prevents conclusions from drifting beyond the facts."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Evidence Collection and Preservation"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Causation analysis depends on reliable evidence. Engineers typically begin by gathering and reviewing available materials, which may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Drawings, specifications, and design documents"}),a.jsx("li",{children:"Maintenance and inspection records"}),a.jsx("li",{children:"Operational data and logs"}),a.jsx("li",{children:"Photographs, videos, or physical artifacts"}),a.jsx("li",{children:"Witness statements or timelines"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Where possible, evidence is preserved to avoid altering or obscuring relevant conditions."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Identifying Potential Failure Modes"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineers then identify plausible failure modesâ€”mechanisms by which the system could have failed. This may involve:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Reviewing design assumptions"}),a.jsx("li",{children:"Evaluating loading and operating conditions"}),a.jsx("li",{children:"Considering environmental factors"}),a.jsx("li",{children:"Examining human or procedural interactions"}),a.jsx("li",{children:"Assessing degradation over time"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"At this stage, multiple hypotheses are often considered."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Evaluating Contributing Factors"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Causation in engineering is rarely singular. Engineers distinguish between:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Primary causes that directly led to failure"}),a.jsx("li",{children:"Contributing factors that increased likelihood or severity"}),a.jsx("li",{children:"Non-causal conditions present but not materially relevant"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"This distinction is critical in forensic contexts, where responsibility and liability may hinge on material contribution rather than mere association."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Use of Engineering Principles and Standards"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering causation analysis relies on established principles, such as:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Mechanics and material behavior"}),a.jsx("li",{children:"Control system response"}),a.jsx("li",{children:"Load paths and redundancy"}),a.jsx("li",{children:"Failure progression and sequence"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Applicable standards and codes are often used as reference points, not as automatic determinants of causation. Deviation from a standard does not necessarily cause failure, and compliance does not guarantee immunity from it."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Testing, Modeling, and Reconstruction"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Where appropriate, engineers may use:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Analytical calculations"}),a.jsx("li",{children:"Computer modeling or simulation"}),a.jsx("li",{children:"Laboratory testing"}),a.jsx("li",{children:"Scenario reconstruction"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"These tools help evaluate whether proposed causes are consistent with observed outcomes. Assumptions and limitations must be clearly stated."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Eliminating Alternative Explanations"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"A key element of causation analysis is the systematic elimination of alternative explanations. Engineers assess whether:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Evidence supports or contradicts each hypothesis"}),a.jsx("li",{children:"Proposed causes are physically or technically plausible"}),a.jsx("li",{children:"Timing and sequence align with observed damage"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Conclusions are strengthened when reasonable alternatives are addressed and ruled out based on evidence."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Communicating Causation Clearly"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering conclusions must be communicated in a way that is accurate, transparent, and understandable to non-engineers."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Effective communication includes:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Clear separation of facts, assumptions, and opinions"}),a.jsx("li",{children:"Explanation of reasoning and methodology"}),a.jsx("li",{children:"Identification of uncertainties or data gaps"}),a.jsx("li",{children:"Avoidance of speculation beyond available evidence"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"In expert witness settings, clarity is as important as technical rigor."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limits of Engineering Causation Analysis"}),a.jsx("p",{className:"text-gray-700",children:"Engineering analysis does not determine legal responsibility or fault. Engineers evaluate technical causation, not legal conclusions. Where evidence is incomplete or ambiguous, responsible engineers acknowledge limitations rather than overstate certainty."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about how engineers evaluate causation in failure analysis. It does not constitute engineering advice or establish a professional engagement."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(_e,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(_e,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Ct,{})]})}function VO(){const s="2026-01-29",e="January 29, 2026",t="How Courts Evaluate Engineering Causation Testimony",r="How courts evaluate engineering causation testimony, including admissibility, methodology, evidence connection, and professional conduct in Missouri.";return O.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,t]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(_e,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ How Courts Evaluate Engineering Causation Testimony"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"How Courts Evaluate Engineering Causation Testimony"}),a.jsx("p",{className:"text-lg text-gray-700",children:"The Role of Engineering Testimony in Legal Proceedings"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"In cases involving technical or engineering issues, courts often rely on expert testimony to understand causation. Engineering causation testimony helps explain whether and how a system failed, what factors contributed to that failure, and whether proposed explanations are technically sound."}),a.jsx("p",{className:"text-gray-700",children:"Courts do not evaluate engineering testimony based on conclusions alone. They examine the methods, reasoning, and reliability underlying the opinions offered."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Admissibility vs. Persuasiveness"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Courts typically distinguish between two related but separate questions:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Admissibility: Whether the testimony meets legal standards to be considered"}),a.jsx("li",{children:"Persuasiveness: How much weight the court gives the testimony"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"An opinion may be admissible but still unpersuasive if it lacks clarity, support, or credibility."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Methodology and Reliability"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Courts evaluate whether an engineerâ€™s analysis is grounded in reliable methodology. Factors commonly considered include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Use of accepted engineering principles"}),a.jsx("li",{children:"Consistency with professional standards or practices"}),a.jsx("li",{children:"Application of methods appropriate to the problem"}),a.jsx("li",{children:"Logical connection between evidence and conclusions"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Courts are generally skeptical of opinions that rely on unexplained assumptions or unsupported leaps in reasoning."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Connection to the Evidence"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering causation testimony must be tied to the facts of the case. Courts examine whether:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"The engineer reviewed relevant documents and data"}),a.jsx("li",{children:"Physical evidence supports the proposed causation"}),a.jsx("li",{children:"Alternative explanations were considered and addressed"}),a.jsx("li",{children:"The timing and sequence of events are consistent"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Opinions that are abstract or disconnected from case-specific evidence are often given less weight."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Transparency of Assumptions"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"All engineering analysis involves assumptions. Courts do not expect assumptions to be eliminated, but they do expect them to be:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Identified explicitly"}),a.jsx("li",{children:"Reasonable in context"}),a.jsx("li",{children:"Consistently applied"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Unstated or shifting assumptions can undermine credibility, even if the technical analysis is otherwise sound."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Qualifications and Scope"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Courts consider whether the expertâ€™s qualifications align with the opinions offered. Relevant factors may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Licensure and professional standing"}),a.jsx("li",{children:"Education and technical experience"}),a.jsx("li",{children:"Familiarity with the subject matter"}),a.jsx("li",{children:"Experience with similar systems or failures"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Courts may discount testimony that extends beyond the expertâ€™s demonstrated area of competence."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Treatment of Alternative Causes"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Credible engineering testimony addresses alternative causation theories. Courts look for evidence that the expert:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Considered other plausible explanations"}),a.jsx("li",{children:"Evaluated them using engineering principles"}),a.jsx("li",{children:"Explained why they were accepted or rejected"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Failure to engage with alternative causes can suggest incomplete or biased analysis."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Communication and Clarity"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Even technically correct opinions may be ineffective if they are poorly communicated. Courts value testimony that:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Clearly separates facts, analysis, and conclusions"}),a.jsx("li",{children:"Uses plain language where possible"}),a.jsx("li",{children:"Avoids unnecessary jargon"}),a.jsx("li",{children:"Acknowledges uncertainty when appropriate"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Clear explanations help courts understand both the reasoning and its limitations."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Independence and Professional Conduct"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Courts are attentive to signs of bias or advocacy. Factors that may affect credibility include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Consistency of opinions across cases"}),a.jsx("li",{children:"Compensation arrangements"}),a.jsx("li",{children:"Willingness to acknowledge unfavorable facts"}),a.jsx("li",{children:"Adherence to professional ethics"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering experts are expected to assist the court, not argue a case."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limits of Engineering Testimony"}),a.jsx("p",{className:"text-gray-700",children:"Engineering experts provide technical opinions, not legal conclusions. Courts evaluate causation testimony within the broader legal framework, which may involve additional considerations beyond engineering analysis."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Responsible experts respect these boundaries."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about how courts evaluate engineering causation testimony. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(_e,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(_e,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Ct,{})]})}function UO(){const s="2026-01-30",e="January 30, 2026",t="Root Cause vs. Legal Cause: An Engineering Perspective",r="Why the distinction between engineering root cause and legal cause matters in Missouri disputes involving technical failures.";return O.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,t]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(_e,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Root Cause vs. Legal Cause: An Engineering Perspective"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Root Cause vs. Legal Cause: An Engineering Perspective"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Why the Distinction Matters"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"In disputes involving technical failures, the terms root cause and legal cause are sometimes used interchangeably. In practice, they represent different concepts. Understanding the distinction is important for attorneys, courts, and engineers alike."}),a.jsx("p",{className:"text-gray-700",children:"Professional engineers evaluate technical causation. Courts evaluate legal responsibility. While related, these analyses serve different purposes."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Engineers Mean by Root Cause"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"In engineering practice, a root cause is the underlying technical reason a failure occurred. Identifying it typically involves:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Defining failure criteria"}),a.jsx("li",{children:"Examining system behavior and conditions"}),a.jsx("li",{children:"Reviewing assumptions and design decisions"}),a.jsx("li",{children:"Evaluating failure modes and sequences"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"A root cause analysis seeks to explain why a system did not perform as intended from an engineering standpoint."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"There may be more than one contributing technical factor, but the root cause is generally the factor without which the failure would not have occurred."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Legal Cause Is a Separate Question"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Legal causeâ€”often discussed as proximate causeâ€”is a legal concept. Courts evaluate whether a particular act or omission is sufficiently connected to an outcome to warrant responsibility under the law."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Legal causation may consider factors such as:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Foreseeability"}),a.jsx("li",{children:"Intervening events"}),a.jsx("li",{children:"Allocation of responsibility"}),a.jsx("li",{children:"Policy considerations"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"These considerations extend beyond technical analysis."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"How Engineering Analysis Informs Legal Decisions"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering causation analysis provides courts with a factual and technical foundation. Courts may rely on engineering testimony to understand:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"How a system was designed to function"}),a.jsx("li",{children:"What conditions existed at the time of failure"}),a.jsx("li",{children:"Whether technical standards were met"}),a.jsx("li",{children:"Which factors materially contributed to the outcome"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"However, engineering opinions do not determine legal outcomes on their own."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Multiple Causes and Contributing Factors"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering failures often involve multiple contributing factors. Engineers distinguish between:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Primary technical causes"}),a.jsx("li",{children:"Secondary or contributing conditions"}),a.jsx("li",{children:"Factors that were present but not causally significant"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Legal frameworks may treat these factors differently when assigning responsibility."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Importance of Clear Scope in Expert Testimony"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering experts must clearly define the scope of their opinions. Testimony should focus on technical causation and avoid legal conclusions."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Clear scope helps:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Preserve credibility"}),a.jsx("li",{children:"Avoid confusion for the court"}),a.jsx("li",{children:"Ensure testimony remains within professional competence"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Courts are generally skeptical of experts who blur the line between engineering analysis and legal judgment."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Communicating Technical Causation Effectively"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"For engineering analysis to be useful in legal settings, it must be communicated clearly. Effective testimony:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Separates facts from opinions"}),a.jsx("li",{children:"Explains assumptions and limitations"}),a.jsx("li",{children:"Uses engineering principles consistently"}),a.jsx("li",{children:"Avoids speculation beyond available evidence"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Clear communication allows legal decision-makers to properly weigh technical findings."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Professional Responsibility and Ethics"}),a.jsx("p",{className:"text-gray-700",children:"Professional engineers are bound by ethical obligations to provide honest, objective opinions. Root cause analysis must be grounded in evidence and professional judgment, regardless of how the conclusions may affect the parties involved."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about the distinction between engineering root cause and legal cause. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(_e,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(_e,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Ct,{})]})}function zO(){const s="2026-01-31",e="January 31, 2026",t="Common Mistakes in Engineering Expert Reports",r="Why report quality matters in engineering expert reports, including scope, assumptions, evidence, and communication in Missouri legal contexts.";return O.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,t]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(_e,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Common Mistakes in Engineering Expert Reports"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Common Mistakes in Engineering Expert Reports"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Why Report Quality Matters"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"In legal and dispute contexts, engineering expert reports often carry significant weight. Courts, attorneys, insurers, and opposing experts may rely on these reports to understand technical issues and evaluate causation. The quality of an expert report can influence not only how persuasive the analysis is, but whether it is taken seriously at all."}),a.jsx("p",{className:"text-gray-700",children:"Even technically correct opinions can lose credibility if they are poorly presented or inadequately supported."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Lack of Clear Scope and Questions"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"A common issue in expert reports is the absence of a clearly defined scope. Effective reports state:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"The specific questions the expert was asked to address"}),a.jsx("li",{children:"The boundaries of the analysis"}),a.jsx("li",{children:"What issues are outside the scope of the report"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Without this clarity, readers may misinterpret conclusions or assume opinions extend beyond what was actually analyzed."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Unstated or Unsupported Assumptions"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"All engineering analysis involves assumptions. Problems arise when assumptions are:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Not disclosed"}),a.jsx("li",{children:"Not justified"}),a.jsx("li",{children:"Inconsistent with available evidence"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Courts and opposing experts often focus on assumptions. Failure to state and support them can undermine otherwise sound analysis."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Insufficient Connection to Evidence"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Expert opinions must be grounded in the facts of the case. Reports that present general engineering theory without tying it to specific evidence are often less persuasive."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Effective reports:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Cite relevant documents, data, and observations"}),a.jsx("li",{children:"Explain how evidence supports conclusions"}),a.jsx("li",{children:"Distinguish between observed facts and inferred conditions"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Failure to Address Alternative Explanations"}),a.jsx("p",{className:"text-gray-700",children:"Credible engineering analysis considers plausible alternative causes. Reports that present a single explanation without addressing reasonable alternatives may appear incomplete or biased."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Addressing alternative explanations does not weaken a report; it often strengthens it by demonstrating that competing hypotheses were considered and evaluated."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Overstating Certainty"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering analysis often involves uncertainty. Overstating confidence or presenting conclusions as absolute can be misleading."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Responsible reports:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Acknowledge data limitations"}),a.jsx("li",{children:"Identify uncertainties or assumptions"}),a.jsx("li",{children:"Avoid definitive language when evidence does not support it"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Transparency about uncertainty enhances credibility."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Blurring Technical and Legal Conclusions"}),a.jsx("p",{className:"text-gray-700",children:"Engineering experts provide technical opinions, not legal judgments. Reports that drift into legal conclusionsâ€”such as fault, negligence, or liabilityâ€”risk being discounted or challenged."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Maintaining a clear distinction between technical causation and legal responsibility helps preserve the integrity of the report."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Poor Organization and Communication"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Even strong technical analysis can be undermined by poor structure or unclear writing. Common communication issues include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Dense, jargon-heavy language"}),a.jsx("li",{children:"Unclear presentation of methods"}),a.jsx("li",{children:"Disorganized findings"}),a.jsx("li",{children:"Lack of summaries or conclusions"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Clear organization and plain language help non-technical readers understand the analysis and reasoning."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Inadequate Documentation of Methods"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Courts and opposing experts often scrutinize methodology. Reports should describe:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"The methods used"}),a.jsx("li",{children:"Why those methods are appropriate"}),a.jsx("li",{children:"Any limitations of the methods"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Without this documentation, opinions may appear unsupported."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about common issues in engineering expert reports. It does not constitute engineering or legal advice and does not establish a professional engagement."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(_e,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(_e,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Ct,{})]})}function qO(){const s="2026-02-01",e="February 1, 2026",t="Structural Analysis and Building Approval in Missouri: What to Know",r="How structural analysis relates to building approval in Missouri, including when engineering is required and the role of a licensed Professional Engineer.";return O.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,t]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(_e,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Structural Analysis and Building Approval in Missouri"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Structural Analysis and Building Approval in Missouri: What to Know"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Role of Engineering in the Approval Process"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"Building projects in Missouri often require review and approval by local authorities before construction can proceed. When a project involves structural considerations that affect safety or performance, engineering analysis may be required as part of the approval process."}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about how structural analysis relates to building approval in Missouri and how professional engineering judgment is used in that context."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When Structural Analysis Is Required"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Local building departments may require engineering analysis when proposed work:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Modifies load-bearing elements"}),a.jsx("li",{children:"Alters structural systems or support conditions"}),a.jsx("li",{children:"Involves unusual loading or non-standard configurations"}),a.jsx("li",{children:"Affects safety-related components of a structure"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"The specific requirements vary by jurisdiction and project type. Some projects may proceed under prescriptive code provisions, while others require engineering evaluation."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Role of a Missouri-Licensed Professional Engineer"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"When structural analysis is required for approval, a Missouri-licensed Professional Engineer may be engaged to evaluate the proposed work and prepare supporting documentation."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering involvement may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Review of proposed modifications"}),a.jsx("li",{children:"Evaluation of load paths and structural behavior"}),a.jsx("li",{children:"Assessment of compatibility with existing structures"}),a.jsx("li",{children:"Preparation of sealed engineering reports or drawings when required"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"The engineerâ€™s role is to apply professional judgment to the specific conditions of the project."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Sealed Documents and Submissions"}),a.jsx("p",{className:"text-gray-700",children:"In many cases, building departments require sealed documents for work involving structural modifications. Sealed submissions indicate that a licensed engineer has taken professional responsibility for the technical content of the analysis or drawings."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Requirements for sealing, signing, and dating are governed by Missouri statutes and professional rules. Not all submissions require a seal, but when they do, sealing should be performed in accordance with applicable regulations."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Interaction with Building Codes and Prescriptive Provisions"}),a.jsx("p",{className:"text-gray-700",children:"Building codes often include prescriptive provisions for common construction scenarios. When work falls outside prescriptive limits, engineering analysis may be required to demonstrate compliance with performance-based criteria."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Engineers may evaluate:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Whether proposed work meets code intent"}),a.jsx("li",{children:"Whether alternative approaches provide equivalent performance"}),a.jsx("li",{children:"Whether existing conditions warrant additional analysis"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering judgment supplements code requirements rather than replacing them."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Coordination with Design and Construction Teams"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering analysis for building approval typically occurs alongside architectural and construction planning. Clear communication among project participants helps ensure that:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Engineering assumptions are understood"}),a.jsx("li",{children:"Structural implications are considered early"}),a.jsx("li",{children:"Submissions to authorities are complete and consistent"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Early coordination can reduce delays and rework during the approval process."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations and Scope"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering analysis for building approval is limited to the scope of the engagement. It does not replace:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Contractor means and methods"}),a.jsx("li",{children:"Construction supervision"}),a.jsx("li",{children:"Ongoing inspection unless specifically agreed"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Understanding the boundaries of professional responsibility is important for all parties involved."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Seek Engineering Input"}),a.jsx("p",{className:"text-gray-700",children:"If there is uncertainty about whether structural analysis is required, consulting with a licensed Professional Engineer early in the planning process can help clarify requirements and define appropriate scope."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about structural analysis and building approval in Missouri. It does not constitute engineering advice and does not establish a professional engagement."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(_e,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(_e,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Ct,{})]})}function FO(){const s="2026-02-02",e="February 2, 2026",t="What Is a Property Condition Assessment (PCA)?",r="A Property Condition Assessment (PCA) is a high-level evaluation of a buildingâ€™s condition used in due diligence, financing, and asset planning to identify significant deficiencies and risks.";return O.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,t]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(_e,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Property Condition Assessment (PCA)"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"What Is a Property Condition Assessment (PCA)?"}),a.jsx("p",{className:"text-sm text-gray-600",children:e}),a.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Purpose of a PCA"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"A Property Condition Assessment (PCA) is an evaluation of the physical condition of a building or group of buildings. PCAs are commonly used in real estate transactions, financing, asset management, and due diligence to understand the current condition of a property and to identify significant deficiencies that may require repair or further investigation."}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about what a PCA is, what it typically includes, and how engineering judgment may be applied in the process."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What a PCA Typically Covers"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"While the scope of a PCA can vary depending on the property type and purpose of the assessment, PCAs often include a review of major building systems, such as:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Structural components"}),a.jsx("li",{children:"Building envelope (roof, exterior walls, openings)"}),a.jsx("li",{children:"Mechanical, electrical, and plumbing systems"}),a.jsx("li",{children:"Life safety systems"}),a.jsx("li",{children:"Site-related features affecting the building"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"The goal is to identify observed conditions and potential concerns, not to provide detailed design or repair plans."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"The Role of Engineering Judgment"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"In some cases, a PCA involves professional engineering judgment, particularly when observed conditions may affect safety, performance, or service life. Engineering involvement may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Evaluation of observed structural or system deficiencies"}),a.jsx("li",{children:"Assessment of potential implications of deterioration"}),a.jsx("li",{children:"Identification of conditions that warrant further investigation"}),a.jsx("li",{children:"Technical input on remaining useful life of components"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Not all PCAs require a Professional Engineer, but when engineering judgment is applied, licensure may be required depending on jurisdiction and scope."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"PCA vs. Detailed Engineering Investigation"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"A PCA is generally a high-level assessment. It is not a substitute for:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Detailed structural analysis"}),a.jsx("li",{children:"Invasive testing"}),a.jsx("li",{children:"Design of repairs or modifications"}),a.jsx("li",{children:"Construction documents"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"When a PCA identifies issues that cannot be evaluated visually or at a high level, further engineering investigation may be recommended."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"How PCAs Are Used"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"PCAs are commonly used to:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Inform purchase or financing decisions"}),a.jsx("li",{children:"Identify near-term capital needs"}),a.jsx("li",{children:"Support asset management planning"}),a.jsx("li",{children:"Provide baseline documentation of building condition"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Lenders and investors often rely on PCAs to understand potential risks associated with a property."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Documentation and Reporting"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"PCA reports typically document:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Observed conditions"}),a.jsx("li",{children:"Noted deficiencies"}),a.jsx("li",{children:"Areas of uncertainty or limited access"}),a.jsx("li",{children:"Recommendations for further evaluation where appropriate"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Clear documentation helps readers understand both what was observed and what was not evaluated."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations of a PCA"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"PCAs are limited by:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Accessibility of building components"}),a.jsx("li",{children:"Non-invasive nature of most assessments"}),a.jsx("li",{children:"Time and scope constraints"}),a.jsx("li",{children:"Reliance on visual observation"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Responsible PCA reports acknowledge these limitations rather than implying certainty where none exists."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Consider a PCA"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"A PCA may be appropriate when:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Acquiring or refinancing a property"}),a.jsx("li",{children:"Evaluating capital planning needs"}),a.jsx("li",{children:"Establishing a baseline condition record"}),a.jsx("li",{children:"Assessing potential risks prior to significant investment"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Early assessment can help identify issues before they become more costly."})]}),a.jsxs("section",{className:"border-t border-gray-200 pt-6",children:[a.jsx("h2",{className:"text-xl font-serif text-gray-900 mb-2",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about Property Condition Assessments. It does not constitute engineering advice and does not establish a professional engagement."})]})]})}),a.jsx(Ct,{})]})}function BO(){const s="2026-02-03",e="February 3, 2026",t="PCA vs. CNA: Understanding the Difference",r="Property Condition Assessments (PCAs) and Capital Needs Assessments (CNAs) both evaluate buildings, but they serve different purposes: present condition baseline vs. future capital planning.";return O.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,t]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(_e,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ PCA vs. CNA"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"PCA vs. CNA: Understanding the Difference"}),a.jsx("p",{className:"text-sm text-gray-600",children:e}),a.jsx("p",{className:"text-lg text-gray-700",children:"Two Common Property Assessments With Different Purposes"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"Property Condition Assessments (PCAs) and Capital Needs Assessments (CNAs) are both used to evaluate buildings, but they serve different purposes and answer different questions. Understanding the distinction can help property owners, lenders, and investors request the appropriate scope of work and interpret reports correctly."}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about PCAs and CNAs and how they differ in purpose, scope, and application."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Is a Property Condition Assessment (PCA)?"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"A PCA is a high-level evaluation of the current physical condition of a property. It is typically used to identify observed deficiencies and potential concerns at a point in time."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"A PCA commonly focuses on:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Current condition of major building systems"}),a.jsx("li",{children:"Observable deficiencies or deterioration"}),a.jsx("li",{children:"Issues that may warrant further investigation"}),a.jsx("li",{children:"Near-term concerns that may affect use or safety"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"PCAs are often used in transactions, refinancing, and due diligence to establish a baseline understanding of a propertyâ€™s condition."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Is a Capital Needs Assessment (CNA)?"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"A CNA is a forward-looking evaluation of anticipated capital expenditures over a defined planning horizon, often several years. It is commonly used for budgeting, long-term planning, and asset management."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"A CNA typically addresses:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Expected replacement or major repair of building components"}),a.jsx("li",{children:"Estimated remaining useful life of systems"}),a.jsx("li",{children:"Projected capital expenditures over time"}),a.jsx("li",{children:"Prioritization of major capital projects"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"CNAs are frequently used by property owners, HOAs, and institutions to plan for future capital needs."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Key Differences in Scope and Focus"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"While PCAs and CNAs may overlap in the systems reviewed, they differ in emphasis:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsxs("li",{children:[a.jsx("span",{className:"font-medium",children:"Time horizon"}),": PCA: present condition. CNA: future capital planning."]}),a.jsxs("li",{children:[a.jsx("span",{className:"font-medium",children:"Primary purpose"}),": PCA: due diligence and condition baseline. CNA: long-term budgeting and planning."]}),a.jsxs("li",{children:[a.jsx("span",{className:"font-medium",children:"Output"}),": PCA: condition findings and observations. CNA: capital planning projections and schedules."]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Role of Engineering Judgment"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Both PCAs and CNAs may involve engineering judgment, particularly when evaluating structural or system-related conditions that affect safety, performance, or service life."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering involvement may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Assessment of observed deficiencies"}),a.jsx("li",{children:"Evaluation of remaining useful life of components"}),a.jsx("li",{children:"Identification of conditions requiring further investigation"}),a.jsx("li",{children:"Technical input into capital planning assumptions"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Not all PCAs or CNAs require a Professional Engineer, but when professional judgment is applied, licensure may be required depending on scope and jurisdiction."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations and Assumptions"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Both assessments rely on assumptions and are subject to limitations, including:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Non-invasive evaluation methods"}),a.jsx("li",{children:"Limited access to certain components"}),a.jsx("li",{children:"Reliance on visual observations"}),a.jsx("li",{children:"Uncertainty in projecting future conditions and costs"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Responsible reports document these limitations clearly."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Choosing the Appropriate Assessment"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"The appropriate assessment depends on the purpose of the work:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"For transactions or refinancing: a PCA may be appropriate"}),a.jsx("li",{children:"For long-term ownership and budgeting: a CNA may be more useful"}),a.jsx("li",{children:"For complex properties: both may be appropriate, with coordinated scopes"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Clarifying objectives at the outset helps ensure the assessment meets the intended needs."})]}),a.jsxs("section",{className:"border-t border-gray-200 pt-6",children:[a.jsx("h2",{className:"text-xl font-serif text-gray-900 mb-2",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about the differences between Property Condition Assessments and Capital Needs Assessments. It does not constitute engineering advice and does not establish a professional engagement."})]})]})}),a.jsx(Ct,{})]})}function HO(){const s="2026-02-04",e="February 4, 2026",t="How Lenders Use Property Condition Assessments (PCAs)",r="Property Condition Assessments (PCAs) are commonly used by lenders during underwriting and due diligence to understand physical risks associated with a property at the time of financing.";return O.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,t]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(_e,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ How Lenders Use PCAs"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"How Lenders Use Property Condition Assessments (PCAs)"}),a.jsx("p",{className:"text-sm text-gray-600",children:e}),a.jsx("p",{className:"text-lg text-gray-700",children:"Why PCAs Matter in Real Estate Financing"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"Property Condition Assessments (PCAs) are commonly used by lenders during underwriting and due diligence for commercial and multifamily real estate transactions. While the format of PCA reports varies by firm and scope, their role in lending decisions is fairly consistent: PCAs help lenders understand physical risks associated with a property at the time of financing."}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about how PCAs are used in lending and does not constitute financial, legal, or engineering advice."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Risk Identification, Not Just Documentation"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"From a lenderâ€™s perspective, a PCA is primarily a risk management tool. It helps identify:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Material physical deficiencies"}),a.jsx("li",{children:"Conditions that may affect habitability, safety, or continued operation"}),a.jsx("li",{children:"Deferred maintenance"}),a.jsx("li",{children:"Near-term capital needs that could impact cash flow"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"The goal is not to certify that a property is â€œgoodâ€ or â€œbad,â€ but to surface physical risks that could affect the lenderâ€™s collateral over the loan term."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"How PCA Findings Affect Underwriting"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"PCA findings can influence underwriting in several ways:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsxs("li",{children:[a.jsx("span",{className:"font-medium",children:"Holdbacks and reserves"}),": Lenders may require repair escrows or reserves for identified deficiencies."]}),a.jsxs("li",{children:[a.jsx("span",{className:"font-medium",children:"Loan terms"}),": Significant condition issues may affect loan-to-value ratios, covenants, or pricing."]}),a.jsxs("li",{children:[a.jsx("span",{className:"font-medium",children:"Closing conditions"}),": Certain deficiencies may need to be corrected prior to closing."]}),a.jsxs("li",{children:[a.jsx("span",{className:"font-medium",children:"Ongoing monitoring"}),": Some lenders use PCA findings to define post-closing repair timelines."]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Judgment in PCAs"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"While many PCAs are observational, engineering judgment may be applied when evaluating:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Structural components"}),a.jsx("li",{children:"Building envelope performance"}),a.jsx("li",{children:"Life-safety related systems"}),a.jsx("li",{children:"Observed distress that requires technical interpretation"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"When professional engineering judgment is applied, the scope and limitations should be clearly documented, and licensure requirements apply based on jurisdiction and scope of services."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations of PCAs in Lending Contexts"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"PCAs are not comprehensive building investigations. Common limitations include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"No destructive testing"}),a.jsx("li",{children:"Limited access to concealed conditions"}),a.jsx("li",{children:"Reliance on visual observations"}),a.jsx("li",{children:"No guarantee of future performance"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Lenders typically understand these limitations and use PCAs as one input among many in risk assessment."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"PCA vs. CNA in Financing"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Lenders may request PCAs, CNAs, or both depending on transaction structure:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"PCA: snapshot of current condition"}),a.jsx("li",{children:"CNA: projection of future capital needs over the loan term"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"For longer-term financing, capital planning information may be more relevant to underwriting."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Practical Takeaways for Property Owners and Buyers"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"When a PCA is required by a lender:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Provide reasonable access to building areas and documentation"}),a.jsx("li",{children:"Expect that deficiencies will be documented neutrally"}),a.jsx("li",{children:"Use the findings as a planning tool, not just a transaction hurdle"}),a.jsx("li",{children:"Clarify scope early so the report aligns with the lenderâ€™s expectations"})]})]}),a.jsxs("section",{className:"border-t border-gray-200 pt-6",children:[a.jsx("h2",{className:"text-xl font-serif text-gray-900 mb-2",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information on how lenders use Property Condition Assessments. It does not constitute engineering advice and does not establish a professional engineerâ€“client relationship."})]})]})}),a.jsx(Ct,{})]})}function $O(){return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-3",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Toolbox"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Reference tools for engineering calculations and unit handling."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900",children:"Utilities"}),a.jsxs("div",{className:"border border-gray-200 p-5 bg-white",children:[a.jsx("h3",{className:"text-lg font-serif text-gray-900 mb-2",children:"Unit Conversion"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Convert numerator and denominator measurements to SI units, or convert to a target set of units."}),a.jsx(_e,{to:"/toolbox/unit-conversion",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Open unit conversion tool"})]}),a.jsxs("div",{className:"border border-gray-200 p-5 bg-white",children:[a.jsx("h3",{className:"text-lg font-serif text-gray-900 mb-2",children:"Force vectors"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Draw force vectors on an XY plane and compute the resultant."}),a.jsx(_e,{to:"/toolbox/force-vectors",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Open force vectors tool"})]}),a.jsxs("div",{className:"border border-gray-200 p-5 bg-white",children:[a.jsx("h3",{className:"text-lg font-serif text-gray-900 mb-2",children:"Static system"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Build a simple 2D static system (springs, cables/pulleys, smooth contacts) and solve Î£Fx = 0, Î£Fy = 0."}),a.jsx(_e,{to:"/toolbox/static-system",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Open static system tool"})]})]})]})}),a.jsx(Ct,{})]})}const Fy=9.80665;class un{constructor(e){this.abbreviation=e.abbreviation,this.fullName=e.fullName,this.type=e.type,this.prefix=e.prefix??null,this.prefixMultiplier=e.prefixMultiplier??null,this.baseMultiplier=e.baseMultiplier??null}}class $e{constructor(e,t){this.value=e,this.unit=t}}const Le=new un({abbreviation:"N",fullName:"Newtons",type:"Force"}),Tp=s=>{if(s.baseMultiplier!=null)return s.baseMultiplier;const e=s.prefixMultiplier??1;return s.type==="Mass"?e/1e3:e},vN=(s,e,t={})=>{if(s.type==="Mass"){const l=s.baseMultiplier!=null?s.baseMultiplier*1e3:s.prefixMultiplier??1,u=s.baseMultiplier!=null?s.baseMultiplier:(s.prefixMultiplier??1)/1e3;return e==="numerator"&&!t.preferKilogram?{multiplier:l,label:"g",baseLabel:"g"}:{multiplier:u,label:"kg",baseLabel:"kg"}}const r=s.baseMultiplier??s.prefixMultiplier??1;return s.type==="Force"?{multiplier:r,label:"N",baseLabel:"N"}:s.type==="Time"?{multiplier:r,label:"s",baseLabel:"s"}:s.type==="Length"?{multiplier:r,label:"m",baseLabel:"m"}:{multiplier:r,label:s.abbreviation,baseLabel:s.abbreviation}},Gg=[{name:"tera",symbol:"T",multiplier:1e12},{name:"giga",symbol:"G",multiplier:1e9},{name:"mega",symbol:"M",multiplier:1e6},{name:"kilo",symbol:"k",multiplier:1e3},{name:"",symbol:"",multiplier:1},{name:"milli",symbol:"m",multiplier:.001},{name:"micro",symbol:"Î¼",multiplier:1e-6}],_N=(s,e,t=.1)=>{const r=Math.abs(s);if(r===0)return{value:s,label:e};for(const u of Gg){const d=r/u.multiplier;if(d>=t&&d<1e3)return{value:s/u.multiplier,label:`${u.symbol}${e}`}}const l=Gg[Gg.length-1];return{value:s/l.multiplier,label:`${l.symbol}${e}`}},NN=s=>{const e=["N","kg","m","g","s"],t=e.indexOf(s);return t===-1?e.length:t},EN=s=>[...s].sort((e,t)=>NN(e.baseLabel)-NN(t.baseLabel)).map(e=>e.label).join("*"),GO=(s,e)=>{if(!Number.isFinite(s)||s===0)return s;const t=Math.floor(Math.log10(Math.abs(s))),r=10**(e-1-t);return Math.round(s*r)/r},Xh=s=>s.map(e=>"unit"in e?{unit:e.unit,power:e.power??1}:{unit:e,power:1}),tt=(s,e,t=[])=>{const r=Xh(e),l=Xh(t),u=r.reduce((g,{unit:y,power:p})=>g*Tp(y)**(p??1),1),d=l.reduce((g,{unit:y,power:p})=>g*Tp(y)**(p??1),1);return s*(u/d)},ft=(s,e,t,r,l=[])=>{const u=tt(s,e,t),d=tt(1,r,l);return u/d},YO=s=>{if(s.unit.type!=="Mass")throw new Error(`Expected Mass unit, received ${s.unit.type}.`);return s.value*Tp(s.unit)},Xw=(s,e=Fy)=>{const t=YO(s);return new $e(t*e,Le)},KO=(s,e,t=[],r={})=>{const l=Xh(e),u=Xh(t),d=l.length>1,g=l.map(({unit:q,power:Y})=>{const re=Y??1,ee=vN(q,"numerator",{preferKilogram:d});return{multiplier:ee.multiplier**re,label:re===1?ee.label:`${ee.label}^${re}`,power:re,baseLabel:ee.baseLabel}}),y=u.map(({unit:q,power:Y})=>{const re=Y??1,ee=vN(q,"denominator");return{multiplier:ee.multiplier**re,label:re===1?ee.label:`${ee.label}^${re}`,power:re,baseLabel:ee.baseLabel}}),p=g.reduce((q,Y)=>q*Y.multiplier,1),_=y.reduce((q,Y)=>q*Y.multiplier,1);let E=s*(p/_),j=EN(g);const M=y.map(q=>q.label).join("*");if(g.length===1&&g[0].power===1){const q=g[0].baseLabel;if(q==="N"||q==="g"||q==="m"){const Y=_N(E,q,.1);E=Y.value,j=Y.label}}if(g.length>1){const Y=["m","N","g"].map(re=>g.findIndex(ee=>ee.baseLabel===re&&ee.power===1)).find(re=>re!==void 0&&re>=0);if(Y!==void 0&&Y>=0){const re=Math.abs(E);if(re<.1||re>=1e3){const ee=g[Y],$=_N(E,ee.baseLabel,.1);$.label!==ee.label&&(E=$.value,g[Y]={...ee,label:$.label},j=EN(g))}}}if(r.sigFigs!==void 0){const q=Math.max(1,Math.floor(r.sigFigs));E=GO(E,q)}const W=M&&M.includes("*")?`(${M})`:M,H=W?`${j}/${W}`:j;return{value:E,unit:H}},Ru=new un({abbreviation:"kg",fullName:"Kilograms",type:"Mass",prefix:"kilo",prefixMultiplier:1e3}),By=new un({abbreviation:"g",fullName:"Grams",type:"Mass",prefixMultiplier:1}),Hy=new un({abbreviation:"Mg",fullName:"Megagrams",type:"Mass",prefix:"mega",prefixMultiplier:1e6}),$y=new un({abbreviation:"mg",fullName:"Milligrams",type:"Mass",prefix:"milli",prefixMultiplier:.001}),WO=new un({abbreviation:"s",fullName:"Seconds",type:"Time"}),QO=new un({abbreviation:"ms",fullName:"Milliseconds",type:"Time",prefix:"milli",prefixMultiplier:.001}),XO=new un({abbreviation:"Î¼s",fullName:"Microseconds",type:"Time",prefix:"micro",prefixMultiplier:1e-6}),JO=new un({abbreviation:"mN",fullName:"Millinewtons",type:"Force",prefix:"milli",prefixMultiplier:.001}),ZO=new un({abbreviation:"kN",fullName:"Kilonewtons",type:"Force",prefix:"kilo",prefixMultiplier:1e3}),ek=new un({abbreviation:"MN",fullName:"Meganewtons",type:"Force",prefix:"mega",prefixMultiplier:1e6}),Xn=new un({abbreviation:"m",fullName:"Meters",type:"Length"}),tk=new un({abbreviation:"mm",fullName:"Millimeters",type:"Length",prefix:"milli",prefixMultiplier:.001}),nk=new un({abbreviation:"Î¼m",fullName:"Micrometers",type:"Length",prefix:"micro",prefixMultiplier:1e-6}),sk=new un({abbreviation:"km",fullName:"Kilometers",type:"Length",prefix:"kilo",prefixMultiplier:1e3}),ik=new un({abbreviation:"Mm",fullName:"Megameters",type:"Length",prefix:"mega",prefixMultiplier:1e6}),Mu=new un({abbreviation:"ft",fullName:"Feet",type:"Length",baseMultiplier:.3048}),rk=new un({abbreviation:"hr",fullName:"Hours",type:"Time",baseMultiplier:3600}),Du=new un({abbreviation:"lb",fullName:"Pound-force",type:"Force",baseMultiplier:4.4482216152605}),Gy=new un({abbreviation:"slug",fullName:"Slugs",type:"Mass",baseMultiplier:14.59390294}),zc=[{label:"N",unit:Le},{label:"kN",unit:ZO},{label:"MN",unit:ek},{label:"mN",unit:JO},{label:"lb",unit:Du},{label:"kg",unit:Ru},{label:"g",unit:By},{label:"mg",unit:$y},{label:"Mg",unit:Hy},{label:"slug",unit:Gy},{label:"m",unit:Xn},{label:"mm",unit:tk},{label:"Î¼m",unit:nk},{label:"km",unit:sk},{label:"Mm",unit:ik},{label:"ft",unit:Mu},{label:"s",unit:WO},{label:"ms",unit:QO},{label:"Î¼s",unit:XO},{label:"hr",unit:rk}],dh=s=>zc.find(t=>t.label===s)?.unit??Le,TN=s=>Number.isFinite(s)?s===0?"0":Number(s.toPrecision(6)).toString():"â€”";function ak(){const[s,e]=O.useState("1"),[t,r]=O.useState("1"),[l,u]=O.useState("N"),[d,g]=O.useState("s"),[y,p]=O.useState("N"),[_,E]=O.useState("s"),[j,M]=O.useState(1),[W,H]=O.useState(1),[q,Y]=O.useState(1),[re,ee]=O.useState(1),$=O.useMemo(()=>dh(l),[l]),fe=O.useMemo(()=>dh(d),[d]),xe=O.useMemo(()=>dh(y),[y]),S=O.useMemo(()=>dh(_),[_]),A=Number(s),C=Number(t),R=Number.isFinite(A),k=Number.isFinite(C)&&C!==0,B=R&&k?A/C:NaN,N=O.useMemo(()=>Number.isFinite(B)?KO(B,[{unit:$,power:j}],[{unit:fe,power:W}],{sigFigs:6}):null,[B,$,fe,j,W]),I=O.useMemo(()=>{if(!Number.isFinite(B))return null;const K=ft(B,[{unit:$,power:j}],[{unit:fe,power:W}],[{unit:xe,power:q}],[{unit:S,power:re}]),F=q===1?xe.abbreviation:`${xe.abbreviation}^${q}`,ne=re===1?S.abbreviation:`${S.abbreviation}^${re}`,me=`${F}/${ne}`;return{value:K,unit:me}},[B,$,fe,j,W,xe,S,q,re]);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-3",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Unit Conversion"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Convert a numerator and denominator measurement to SI, or convert to a target unit pair."})]}),a.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-serif text-gray-900",children:"Input"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"block text-sm text-gray-700",children:["Numerator value",a.jsx("input",{className:"mt-1 w-full border border-gray-300 px-3 py-2 text-sm",value:s,onChange:K=>e(K.target.value),inputMode:"decimal"})]}),a.jsxs("label",{className:"block text-sm text-gray-700",children:["Numerator unit",a.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[a.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:l,onChange:K=>u(K.target.value),children:zc.map(K=>a.jsx("option",{value:K.label,children:K.label},K.label))}),a.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:j,onChange:K=>M(Number(K.target.value)),children:[a.jsx("option",{value:1,children:"^1"}),a.jsx("option",{value:2,children:"^2"}),a.jsx("option",{value:3,children:"^3"})]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"block text-sm text-gray-700",children:["Denominator value",a.jsx("input",{className:"mt-1 w-full border border-gray-300 px-3 py-2 text-sm",value:t,onChange:K=>r(K.target.value),inputMode:"decimal"})]}),a.jsxs("label",{className:"block text-sm text-gray-700",children:["Denominator unit",a.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[a.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:d,onChange:K=>g(K.target.value),children:zc.map(K=>a.jsx("option",{value:K.label,children:K.label},K.label))}),a.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:W,onChange:K=>H(Number(K.target.value)),children:[a.jsx("option",{value:1,children:"^1"}),a.jsx("option",{value:2,children:"^2"}),a.jsx("option",{value:3,children:"^3"})]})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-serif text-gray-900",children:"Results"}),a.jsxs("div",{className:"border border-gray-200 p-4 space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"A) Convert to SI"}),a.jsx("p",{className:"text-lg text-gray-900",children:N?`${TN(N.value)} ${N.unit}`:"â€”"})]}),a.jsxs("div",{className:"border border-gray-200 p-4 space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"B) Convert to target numerator / denominator"}),a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsxs("label",{className:"block text-sm text-gray-700",children:["Target numerator unit",a.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[a.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:y,onChange:K=>p(K.target.value),children:zc.map(K=>a.jsx("option",{value:K.label,children:K.label},K.label))}),a.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:q,onChange:K=>Y(Number(K.target.value)),children:[a.jsx("option",{value:1,children:"^1"}),a.jsx("option",{value:2,children:"^2"}),a.jsx("option",{value:3,children:"^3"})]})]})]}),a.jsxs("label",{className:"block text-sm text-gray-700",children:["Target denominator unit",a.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[a.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:_,onChange:K=>E(K.target.value),children:zc.map(K=>a.jsx("option",{value:K.label,children:K.label},K.label))}),a.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:re,onChange:K=>ee(Number(K.target.value)),children:[a.jsx("option",{value:1,children:"^1"}),a.jsx("option",{value:2,children:"^2"}),a.jsx("option",{value:3,children:"^3"})]})]})]})]}),a.jsx("p",{className:"text-lg text-gray-900",children:I?`${TN(I.value)} ${I.unit}`:"â€”"})]}),!R&&a.jsx("p",{className:"text-sm text-red-600",children:"Enter a valid numerator value."}),!k&&a.jsx("p",{className:"text-sm text-red-600",children:"Enter a valid, non-zero denominator value."})]})]})]})}),a.jsx(Ct,{})]})}const hh=2*Math.PI,Wr=(s,e)=>{if(!Number.isFinite(s))throw new Error(`${e} must be a finite number.`)},ha=s=>{const e=(s%hh+hh)%hh;return e===hh?0:e},Jw=s=>Math.hypot(s.x,s.y,s.z);class bn{constructor(e){this._radians=e}static fromDegrees(e){return Wr(e,"degrees"),bn.fromRadians(e*Math.PI/180)}static fromRadians(e){return Wr(e,"radians"),new bn(ha(e))}get radians(){return this._radians}get degrees(){return this._radians*180/Math.PI}}const Yy=s=>{if(s.unit.type!=="Force")throw new Error(`Expected Force unit, received ${s.unit.type}.`);return tt(s.value,[s.unit],[])};class Gs{constructor(e){this._unit=e}static fromUnitVector(e){const t=Jw(e);if(!Number.isFinite(t)||t===0)throw new Error("Unit vector must be a non-zero finite vector.");return new Gs({x:e.x/t,y:e.y/t,z:e.z/t})}static fromThetaPhiRadians(e,t){Wr(e,"theta"),Wr(t,"phi");const r=ha(e),l=Math.max(-Math.PI/2,Math.min(Math.PI/2,t)),u=Math.cos(l),d={x:u*Math.cos(r),y:u*Math.sin(r),z:Math.sin(l)};return new Gs(d)}static fromThetaPhiDegrees(e,t){return Gs.fromThetaPhiRadians(e*Math.PI/180,t*Math.PI/180)}static fromDirectionAnglesDegrees(e,t,r){Wr(e,"alpha"),Wr(t,"beta"),Wr(r,"gamma");const l=Math.cos(e*Math.PI/180),u=Math.cos(t*Math.PI/180),d=Math.cos(r*Math.PI/180),g=Math.hypot(l,u,d);if(!Number.isFinite(g)||g===0)throw new Error("Invalid direction angles.");return new Gs({x:l/g,y:u/g,z:d/g})}static completeDirectionAnglesDegrees(e){const t=e.alphaDeg??null,r=e.betaDeg??null,l=e.gammaDeg??null;if([t!=null?1:0,r!=null?1:0,l!=null?1:0].reduce((M,W)=>M+W,0)!==2)throw new Error("Provide exactly two of alpha/beta/gamma to compute the third.");const d=M=>{Wr(M,"angle");const W=Math.cos(M*Math.PI/180);return W*W},g=t!=null?d(t):0,y=r!=null?d(r):0,p=l!=null?d(l):0,_=1-(g+y+p);if(!Number.isFinite(_)||_<-1e-12)throw new Error("Invalid direction angles: cos^2 sum exceeds 1.");const E=Math.sqrt(Math.max(0,_)),j=Math.acos(Math.max(-1,Math.min(1,E)))*180/Math.PI;return{alphaDeg:t??j,betaDeg:r??j,gammaDeg:l??j}}get unit(){return this._unit}get thetaRadians(){return ha(Math.atan2(this._unit.y,this._unit.x))}get phiRadians(){const e=Math.hypot(this._unit.x,this._unit.y);return Math.atan2(this._unit.z,e)}get thetaDegrees(){return this.thetaRadians*180/Math.PI}get phiDegrees(){return this.phiRadians*180/Math.PI}get alphaDegrees(){return Math.acos(Math.max(-1,Math.min(1,this._unit.x)))*180/Math.PI}get betaDegrees(){return Math.acos(Math.max(-1,Math.min(1,this._unit.y)))*180/Math.PI}get gammaDegrees(){return Math.acos(Math.max(-1,Math.min(1,this._unit.z)))*180/Math.PI}}class An{constructor(e,t){if(e.unit.type!=="Force")throw new Error(`Expected Force unit, received ${e.unit.type}.`);this.measurement=e,this.direction=t}static fromComponents(e,t){if(e.unit.type!=="Force"||t.unit.type!=="Force")throw new Error("Components must use Force units.");if(e.unit!==t.unit)throw new Error("Component units must match.");const r=tt(e.value,[e.unit],[]),l=tt(t.value,[t.unit],[]),u=Math.hypot(r,l),d=u===0?0:ha(Math.atan2(l,r));return new An(new $e(u,Le),bn.fromRadians(d))}toComponentsNewtons(){const e=Yy(this.measurement),t=this.direction.radians;return{x:e*Math.cos(t),y:e*Math.sin(t)}}components(e=Le){if(e.type!=="Force")throw new Error(`Expected Force unit, received ${e.type}.`);const t=this.toComponentsNewtons(),r=ft(t.x,[Le],[],[e],[]),l=ft(t.y,[Le],[],[e],[]);return{i:new $e(r,e),j:new $e(l,e)}}toIHatJHatString(e={}){const t=e.unit??Le,r=e.sigFigs??6,{i:l,j:u}=this.components(t),d=E=>Number.isFinite(E)?E===0?"0":Number(E.toPrecision(Math.max(1,Math.floor(r)))).toString():"â€”",g=`${d(l.value)} ${t.abbreviation} iÌ‚`,y=Math.abs(u.value),p=u.value>=0?"+":"-",_=`${d(y)} ${t.abbreviation} jÌ‚`;return`${g} ${p} ${_}`}add(e){return Kc(this,e)}}class Xa{constructor(e,t){if(e.unit.type!=="Force")throw new Error(`Expected Force unit, received ${e.unit.type}.`);this.measurement=e,this.direction=t}static fromComponents(e,t,r){if(e.unit.type!=="Force"||t.unit.type!=="Force"||r.unit.type!=="Force")throw new Error("Components must use Force units.");if(e.unit!==t.unit||e.unit!==r.unit)throw new Error("Component units must match.");const l=tt(e.value,[e.unit],[]),u=tt(t.value,[t.unit],[]),d=tt(r.value,[r.unit],[]),g=Math.hypot(l,u,d),y=g===0?{x:1,y:0,z:0}:{x:l/g,y:u/g,z:d/g};return new Xa(new $e(g,Le),Gs.fromUnitVector(y))}toComponentsNewtons(){const e=Yy(this.measurement),t=this.direction.unit;return{x:e*t.x,y:e*t.y,z:e*t.z}}components(e=Le){if(e.type!=="Force")throw new Error(`Expected Force unit, received ${e.type}.`);const t=this.toComponentsNewtons(),r=ft(t.x,[Le],[],[e],[]),l=ft(t.y,[Le],[],[e],[]),u=ft(t.z,[Le],[],[e],[]);return{i:new $e(r,e),j:new $e(l,e),k:new $e(u,e)}}toIJKString(e={}){const t=e.unit??Le,r=e.sigFigs??6,{i:l,j:u,k:d}=this.components(t),g=j=>Number.isFinite(j)?j===0?"0":Number(j.toPrecision(Math.max(1,Math.floor(r)))).toString():"â€”",y=(j,M)=>`${g(Math.abs(j))} ${t.abbreviation} ${M}`,p=`${g(l.value)} ${t.abbreviation} iÌ‚`,_=`${u.value>=0?"+":"-"} ${y(u.value,"jÌ‚")}`,E=`${d.value>=0?"+":"-"} ${y(d.value,"kÌ‚")}`;return`${p} ${_} ${E}`}}const ok=(...s)=>{if(s.length===0)throw new Error("addForces3D requires at least one force.");const e=s.reduce((l,u)=>{const d=u.toComponentsNewtons();return{x:l.x+d.x,y:l.y+d.y,z:l.z+d.z}},{x:0,y:0,z:0}),t=Jw(e),r=t===0?{x:1,y:0,z:0}:{x:e.x/t,y:e.y/t,z:e.z/t};return new Xa(new $e(t,Le),Gs.fromUnitVector(r))},lk=(s,e)=>{const t=s.toComponentsNewtons(),r=e.toComponentsNewtons(),l={x:t.x-r.x,y:t.y-r.y},u=Math.hypot(l.x,l.y),d=u===0?0:ha(Math.atan2(l.y,l.x));return new An(new $e(u,Le),bn.fromRadians(d))},ck=s=>{const e=s.resultant.toComponentsNewtons(),t=s.direction1.radians,r=s.direction2.radians,l=Math.cos(t),u=Math.cos(r),d=Math.sin(t),g=Math.sin(r),y=l*g-u*d;if(!Number.isFinite(y)||Math.abs(y)<1e-12)throw new Error("Directions are colinear; cannot solve unique magnitudes.");const p=(e.x*g-u*e.y)/y,_=(l*e.y-e.x*d)/y;return{force1:new An(new $e(p,Le),s.direction1),force2:new An(new $e(_,Le),s.direction2)}},uk=s=>{const e=s.knownForces.length?Kc(...s.knownForces):null,t=e?e.toComponentsNewtons():{x:0,y:0},r=s.resultantDirection.radians,l={x:Math.cos(r),y:Math.sin(r)},u={x:-Math.sin(r),y:Math.cos(r)},d=Yy(s.unknownForceMagnitude);if(!Number.isFinite(d)||d<=0)throw new Error("Unknown force magnitude must be a positive finite number.");const y=-(u.x*t.x+u.y*t.y)/d;if(!Number.isFinite(y)||Math.abs(y)>1)throw new Error("Not solvable: no direction satisfies the resultant direction constraint.");const p=Math.asin(y),_=[ha(r+p),ha(r+(Math.PI-p))];let E=null;for(const j of _){const M={x:t.x+d*Math.cos(j),y:t.y+d*Math.sin(j)},W=u.x*M.x+u.y*M.y,H=l.x*M.x+l.y*M.y,q=1e-9*Math.max(1,Math.abs(H),Math.hypot(M.x,M.y));H<-q||Math.abs(W)>1e3*q||(!E||H>E.resultantMagnitude)&&(E={theta:j,resultantMagnitude:H,perp:W,sum:M})}if(!E)throw new Error("Not solvable: solutions point opposite the given resultant direction.");return{unknownForce:new An(new $e(d,Le),bn.fromRadians(E.theta)),resultant:new An(new $e(E.resultantMagnitude,Le),bn.fromRadians(r))}},Kc=(...s)=>{if(s.length===0)throw new Error("addForces requires at least one force.");const e=s.reduce((l,u)=>{const d=u.toComponentsNewtons();return{x:l.x+d.x,y:l.y+d.y}},{x:0,y:0}),t=Math.hypot(e.x,e.y),r=ha(Math.atan2(e.y,e.x));return new An(new $e(t,Le),bn.fromRadians(r))},wp=[{label:"N",unit:Le},{label:"lb",unit:Du}],Jh=s=>wp.find(e=>e.label===s)?.unit??Le,jp=[{label:"m",unit:Xn},{label:"ft",unit:Mu}],Kr=s=>jp.find(e=>e.label===s)?.unit??Xn,wt=s=>Number.isFinite(s)?s===0?"0":Number(s.toPrecision(6)).toString():"â€”",hn=s=>{const e=s.trim();if(e==="")return null;const t=Number(e);return Number.isFinite(t)?t:null},dk=s=>{if(s.entryMode!=="alphaBetaGamma")return s;const e=hn(s.alphaText),t=hn(s.betaText),r=hn(s.gammaText);if([e!=null?1:0,t!=null?1:0,r!=null?1:0].reduce((u,d)=>u+d,0)!==2)return s;try{const u=Gs.completeDirectionAnglesDegrees({alphaDeg:e,betaDeg:t,gammaDeg:r});return{...s,alphaText:s.alphaText.trim()?s.alphaText:wt(u.alphaDeg),betaText:s.betaText.trim()?s.betaText:wt(u.betaDeg),gammaText:s.gammaText.trim()?s.gammaText:wt(u.gammaDeg)}}catch{return s}},wN=(s,e,t,r)=>{const l=`${wt(s)} ${r} iÌ‚`,u=e>=0?"+":"-",d=t>=0?"+":"-",g=`${wt(Math.abs(e))} ${r} jÌ‚`,y=`${wt(Math.abs(t))} ${r} kÌ‚`;return`${l} ${u} ${g} ${d} ${y}`},dl=(s,e)=>{const t=hn(s);if(t===null)return 0;if(e.type!=="Length")throw new Error(`Expected Length unit, received ${e.type}.`);return tt(t,[e],[])},hk=(s,e)=>{const t=hn(s.endXText),r=hn(s.endYText),l=hn(s.endZText);if(t===null||r===null||l===null)return null;if(e.type!=="Length")throw new Error(`Expected Length unit, received ${e.type}.`);return{x:tt(t,[e],[]),y:tt(r,[e],[]),z:tt(l,[e],[])}},Zw=(s,e)=>{const t=hk(s,e);if(!t)return null;const r={x:dl(s.startXText,e),y:dl(s.startYText,e),z:dl(s.startZText,e)},l={x:t.x-r.x,y:t.y-r.y,z:t.z-r.z};try{return Gs.fromUnitVector(l)}catch{return null}},Wc=640,fh=40,jN={x:Wc/2,y:Wc/2},fk=Math.cos(Math.PI/6),mk=Math.sin(Math.PI/6),gk=1,Yr=s=>{const e=(s.x-s.y)*fk,t=(s.x+s.y)*mk+s.z*gk;return{x:jN.x+e,y:jN.y-t}},mh=s=>tt(s.measurement.value,[s.measurement.unit],[]),qc=s=>{const e=Jh(s.unitLabel);if(s.entryMode==="points"){const d=hn(s.magnitudeText);if(d===null)return null;const g=Zw(s,Kr(s.positionUnitLabel));return g?new Xa(new $e(d,e),g):null}if(s.entryMode==="components"){const d=hn(s.iText),g=hn(s.jText),y=hn(s.kText);return d===null||g===null||y===null?null:Xa.fromComponents(new $e(d,e),new $e(g,e),new $e(y,e))}if(s.entryMode==="thetaPhi"){const d=hn(s.magnitudeText),g=hn(s.thetaText),y=hn(s.phiText);return d===null||g===null||y===null?null:new Xa(new $e(d,e),Gs.fromThetaPhiDegrees(g,y))}const t=hn(s.magnitudeText),r=hn(s.alphaText),l=hn(s.betaText),u=hn(s.gammaText);return t===null||r===null||l===null||u===null?null:new Xa(new $e(t,e),Gs.fromDirectionAnglesDegrees(r,l,u))},AN=s=>{const e=Jh(s.unitLabel),t=dk(s),r=qc(t);if(!r)return s;const l=r.components(e),u=ft(r.measurement.value,[Le],[],[e],[]);return{...t,iText:wt(l.i.value),jText:wt(l.j.value),kText:wt(l.k.value),magnitudeText:wt(u),thetaText:wt(r.direction.thetaDegrees),phiText:wt(r.direction.phiDegrees),alphaText:wt(r.direction.alphaDegrees),betaText:wt(r.direction.betaDegrees),gammaText:wt(r.direction.gammaDegrees)}};function pk(){const[s,e]=O.useState("N"),[t,r]=O.useState("m"),l=O.useMemo(()=>Kr(t),[t]),[u,d]=O.useState([]),[g,y]=O.useState(null),[p,_]=O.useState(null),E=O.useMemo(()=>{const $=[...u.map(fe=>qc(fe)).filter(fe=>fe!=null).map(fe=>mh(fe)),...p?[mh(p)]:[]].filter(fe=>Number.isFinite(fe)&&fe>0);return $.length?Math.max(...$):1},[u,p]),j=O.useMemo(()=>{const $=Wc/2-80;return Math.min(1,$/E)},[E]),M=()=>{y(null);const $=crypto.randomUUID();d(fe=>[{id:$,entryMode:"components",unitLabel:s,positionUnitLabel:t,startXText:"0",startYText:"0",startZText:"0",endXText:"",endYText:"",endZText:"",iText:"",jText:"",kText:"",magnitudeText:"",thetaText:"",phiText:"",alphaText:"",betaText:"",gammaText:""},...fe])},W=$=>{d(fe=>fe.filter(xe=>xe.id!==$)),_(null)},H=($,fe)=>{d(xe=>xe.map(S=>{if(S.id!==$)return S;const A={...S,...fe};return AN(A)})),_(null)},q=($,fe,xe)=>{if($.trim()==="")return"";const S=hn($);return S===null?"":fe.type!=="Length"||xe.type!=="Length"?$:wt(ft(S,[fe],[],[xe],[]))},Y=($,fe)=>{d(xe=>xe.map(S=>{if(S.id!==$)return S;const A=Kr(S.positionUnitLabel),C=Kr(fe),R={...S,positionUnitLabel:fe,startXText:q(S.startXText,A,C),startYText:q(S.startYText,A,C),startZText:q(S.startZText,A,C),endXText:q(S.endXText,A,C),endYText:q(S.endYText,A,C),endZText:q(S.endZText,A,C)};return AN(R)})),_(null)},re=()=>{if(y(null),u.length===0)return;const $=u.map(fe=>qc(fe)).filter(fe=>fe!=null);if($.length!==u.length){y("Cannot draw resultant: one or more vectors are incomplete.");return}_(ok(...$))},ee=O.useMemo(()=>{if(!p)return null;const $=Jh(s),fe=ft(p.measurement.value,[Le],[],[$],[]),xe=p.components($);return{magnitude:fe,theta:p.direction.thetaDegrees,phi:p.direction.phiDegrees,alpha:p.direction.alphaDegrees,beta:p.direction.betaDegrees,gamma:p.direction.gammaDegrees,i:xe.i.value,j:xe.j.value,k:xe.k.value}},[p,s]);return a.jsxs("div",{className:"border border-gray-200 bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[a.jsx("div",{className:"text-sm text-gray-700",children:"3D mode uses component/angle entry and renders an isometric preview."}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Force"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:s,onChange:$=>e($.target.value),children:wp.map($=>a.jsx("option",{value:$.label,children:$.label},$.label))})]}),a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Position"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:t,onChange:$=>r($.target.value),children:jp.map($=>a.jsx("option",{value:$.label,children:$.label},$.label))})]})]})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"border border-gray-200 bg-gray-50",children:[a.jsx("div",{className:"px-3 py-2 text-sm text-gray-700 border-b border-gray-200",children:"Preview (isometric): +X is down-right, +Y is down-left, +Z is up."}),a.jsx("div",{className:"p-3",children:a.jsxs("svg",{viewBox:`0 0 ${Wc} ${Wc}`,className:"w-full h-[420px] select-none bg-white border border-gray-200",children:[a.jsx("defs",{children:a.jsx("marker",{id:"arrowhead-3d",markerWidth:"10",markerHeight:"10",refX:"8",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:a.jsx("path",{d:"M0,0 L8,3 L0,6 Z",fill:"currentColor"})})}),(()=>{const $=tt(6,[l],[])*fh,fe=Yr({x:0,y:0,z:0}),xe=Yr({x:$,y:0,z:0}),S=Yr({x:0,y:$,z:0}),A=Yr({x:0,y:0,z:$});return a.jsxs("g",{className:"text-gray-400",children:[a.jsx("line",{x1:fe.x,y1:fe.y,x2:xe.x,y2:xe.y,stroke:"currentColor",strokeWidth:2}),a.jsx("line",{x1:fe.x,y1:fe.y,x2:S.x,y2:S.y,stroke:"currentColor",strokeWidth:2}),a.jsx("line",{x1:fe.x,y1:fe.y,x2:A.x,y2:A.y,stroke:"currentColor",strokeWidth:2}),a.jsx("text",{x:xe.x+6,y:xe.y,fill:"currentColor",fontSize:12,dominantBaseline:"middle",children:"+X"}),a.jsx("text",{x:S.x-6,y:S.y,fill:"currentColor",fontSize:12,dominantBaseline:"middle",textAnchor:"end",children:"+Y"}),a.jsx("text",{x:A.x,y:A.y-8,fill:"currentColor",fontSize:12,dominantBaseline:"middle",textAnchor:"middle",children:"+Z"}),a.jsx("circle",{cx:fe.x,cy:fe.y,r:3,fill:"currentColor"})]})})(),u.map(($,fe)=>{const xe=qc($);if(!xe)return null;const S=mh(xe);if(!Number.isFinite(S)||S<=0)return null;const A=$.entryMode==="points"?{x:dl($.startXText,Kr($.positionUnitLabel))*fh,y:dl($.startYText,Kr($.positionUnitLabel))*fh,z:dl($.startZText,Kr($.positionUnitLabel))*fh}:{x:0,y:0,z:0},C=xe.direction.unit,R={x:C.x*S*j,y:C.y*S*j,z:C.z*S*j},k={x:A.x+R.x,y:A.y+R.y,z:A.z+R.z},B=Yr(A),N=Yr(k),I=`F${u.length-fe}`;return a.jsxs("g",{className:"text-gray-700",children:[a.jsx("line",{x1:B.x,y1:B.y,x2:N.x,y2:N.y,stroke:"currentColor",strokeWidth:4,markerEnd:"url(#arrowhead-3d)"}),a.jsx("text",{x:(B.x+N.x)/2,y:(B.y+N.y)/2,fill:"currentColor",fontSize:12,dominantBaseline:"middle",children:I})]},$.id)}),p?(()=>{const $=mh(p);if(!Number.isFinite($)||$<=0)return null;const fe=p.direction.unit,xe={x:0,y:0,z:0},S={x:fe.x*$*j,y:fe.y*$*j,z:fe.z*$*j},A=Yr(xe),C=Yr(S);return a.jsxs("g",{className:"text-red-600",children:[a.jsx("line",{x1:A.x,y1:A.y,x2:C.x,y2:C.y,stroke:"currentColor",strokeWidth:6,markerEnd:"url(#arrowhead-3d)"}),a.jsx("text",{x:(A.x+C.x)/2,y:(A.y+C.y)/2,fill:"currentColor",fontSize:12,dominantBaseline:"middle",children:"Î£"})]})})():null]})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:M,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add vector"}),a.jsx("button",{type:"button",onClick:re,className:"px-3 py-1.5 text-sm bg-gray-900 text-white hover:bg-gray-800 transition-colors disabled:opacity-50",disabled:u.length===0,children:"Draw resultant"})]}),g&&a.jsx("div",{className:"border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-800",children:g}),u.length===0?a.jsx("div",{className:"text-sm text-gray-600",children:"Add a vector to get started."}):a.jsx("div",{className:"space-y-3",children:u.map(($,fe)=>{const xe=Jh($.unitLabel),S=qc($),A=S?S.components(xe):null,C=S&&Number.isFinite(S.measurement.value)?ft(S.measurement.value,[Le],[],[xe],[]):null;return a.jsxs("div",{className:"border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["F",u.length-fe]}),a.jsx("button",{type:"button",onClick:()=>W($.id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>H($.id,{entryMode:"components"}),className:`text-sm border px-2 py-1 ${$.entryMode==="components"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"iÌ‚/jÌ‚/kÌ‚"}),a.jsx("button",{type:"button",onClick:()=>H($.id,{entryMode:"thetaPhi"}),className:`text-sm border px-2 py-1 ${$.entryMode==="thetaPhi"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Î¸/Ï†"}),a.jsx("button",{type:"button",onClick:()=>H($.id,{entryMode:"alphaBetaGamma"}),className:`text-sm border px-2 py-1 ${$.entryMode==="alphaBetaGamma"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Î±/Î²/Î³"}),a.jsx("button",{type:"button",onClick:()=>H($.id,{entryMode:"points"}),className:`text-sm border px-2 py-1 ${$.entryMode==="points"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Start/End"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Force"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:$.unitLabel,onChange:R=>H($.id,{unitLabel:R.target.value}),children:wp.map(R=>a.jsx("option",{value:R.label,children:R.label},R.label))})]}),a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Pos"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:$.positionUnitLabel,onChange:R=>Y($.id,R.target.value),children:jp.map(R=>a.jsx("option",{value:R.label,children:R.label},R.label))})]})]})]}),$.entryMode==="points"?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Magnitude"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:$.magnitudeText,onChange:R=>H($.id,{magnitudeText:R.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start x"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:$.startXText,onChange:R=>H($.id,{startXText:R.target.value}),inputMode:"decimal",placeholder:"0"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start y"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:$.startYText,onChange:R=>H($.id,{startYText:R.target.value}),inputMode:"decimal",placeholder:"0"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start z"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:$.startZText,onChange:R=>H($.id,{startZText:R.target.value}),inputMode:"decimal",placeholder:"0"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End x"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:$.endXText,onChange:R=>H($.id,{endXText:R.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End y"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:$.endYText,onChange:R=>H($.id,{endYText:R.target.value}),inputMode:"decimal",placeholder:"(required)"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End z"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:$.endZText,onChange:R=>H($.id,{endZText:R.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),a.jsx("div",{className:"col-span-2 text-xs text-gray-600 flex items-end",children:"Direction is taken from Aâ†’B (startâ†’end)."})]})]}):$.entryMode==="components"?a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"i (x)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:$.iText,onChange:R=>H($.id,{iText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"j (y)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:$.jText,onChange:R=>H($.id,{jText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"k (z)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:$.kText,onChange:R=>H($.id,{kText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}):$.entryMode==="thetaPhi"?a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Magnitude"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:$.magnitudeText,onChange:R=>H($.id,{magnitudeText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Î¸ (azimuth deg)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:$.thetaText,onChange:R=>H($.id,{thetaText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Ï† (elevation deg)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:$.phiText,onChange:R=>H($.id,{phiText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}):a.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Magnitude"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:$.magnitudeText,onChange:R=>H($.id,{magnitudeText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Î± (deg)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:$.alphaText,onChange:R=>H($.id,{alphaText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Î² (deg)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:$.betaText,onChange:R=>H($.id,{betaText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Î³ (deg)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:$.gammaText,onChange:R=>H($.id,{gammaText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}),$.entryMode==="alphaBetaGamma"?a.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"If one of Î±/Î²/Î³ is blank and the other two are provided, the missing angle is computed from \\(cos^2Î± + cos^2Î² + cos^2Î³ = 1\\) using the acute solution."}):null,$.entryMode==="points"&&!Zw($,Kr($.positionUnitLabel))?a.jsx("div",{className:"mt-2 text-xs text-red-700",children:"Provide a valid end point different from the start point."}):null,a.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:[A?wN(A.i.value,A.j.value,A.k.value,$.unitLabel):`â€” ${$.unitLabel} iÌ‚ + â€” ${$.unitLabel} jÌ‚ + â€” ${$.unitLabel} kÌ‚`,C!==null?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-400",children:" Â· "}),wt(C)," ",$.unitLabel," @ Î¸=",wt(S.direction.thetaDegrees),"Â°, Ï†=",wt(S.direction.phiDegrees),"Â°",a.jsx("span",{className:"text-gray-400",children:" Â· "}),"Î±=",wt(S.direction.alphaDegrees),"Â°, Î²=",wt(S.direction.betaDegrees),"Â°, Î³=",wt(S.direction.gammaDegrees),"Â°"]}):null]})]},$.id)})}),a.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Resultant (3D)"}),ee?a.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[a.jsxs("div",{children:[wt(ee.magnitude)," ",s," @ Î¸=",wt(ee.theta),"Â°, Ï†=",wt(ee.phi),"Â°"]}),a.jsx("div",{className:"text-xs text-gray-600",children:wN(ee.i,ee.j,ee.k,s)}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Î±=",wt(ee.alpha),"Â°, Î²=",wt(ee.beta),"Â°, Î³=",wt(ee.gamma),"Â°"]})]}):a.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œDraw resultantâ€ to compute the sum."})]})]})]})}const Ah=[{label:"N",unit:Le},{label:"lb",unit:Du}],Ht=s=>Ah.find(e=>e.label===s)?.unit??Le,Ap=[{label:"m",unit:Xn},{label:"ft",unit:Mu}],Dc=s=>Ap.find(e=>e.label===s)?.unit??Xn,os=640,yk=40,Pt={x:os/2,y:os/2},Sp=40,xk=120,Pu=s=>{const e=(s%360+360)%360;return e===360?0:e},ot=s=>Number.isFinite(s)?s===0?"0":Number(s.toPrecision(6)).toString():"â€”",Tt=s=>{const e=s.trim();if(e==="")return null;const t=Number(e);return Number.isFinite(t)?t:null},vi=s=>{const e=Tt(s);return e===null?null:Pu(e)},SN=(s,e,t)=>{const r=`${ot(s)} ${t} iÌ‚`,l=e>=0?"+":"-",u=`${ot(Math.abs(e))} ${t} jÌ‚`;return`${r} ${l} ${u}`},IN=(s,e)=>{const t=e.getBoundingClientRect(),r=(s.clientX-t.left)/t.width*os,l=(s.clientY-t.top)/t.height*os;return{x:r,y:l}},CN=s=>{const e=s.x-Pt.x,t=Pt.y-s.y,r=Math.hypot(e,t),l=Pu(Math.atan2(t,e)*180/Math.PI);return{magnitude:r,angleDeg:l}},bk=s=>({x:Pt.x+s.x*Sp,y:Pt.y-s.y*Sp}),Yg=(s,e,t,r)=>{const l=Pu(t)*Math.PI/180,u=e*r*Math.cos(l),d=e*r*Math.sin(l);return{x:s.x+u,y:s.y-d}},vk=(s,e,t)=>{const r=Pu(e)*Math.PI/180,l=t*Math.cos(r),u=t*Math.sin(r);return{x:s.x+l,y:s.y-u}};function _k(){const[s,e]=O.useState("2d"),t=O.useRef(null),[r,l]=O.useState([]),[u,d]=O.useState(null),[g,y]=O.useState(null),[p,_]=O.useState(null),[E,j]=O.useState(null),[M,W]=O.useState("N"),[H,q]=O.useState("m"),Y=O.useMemo(()=>Dc(H),[H]),[re,ee]=O.useState(null),$=U=>{if(U.entryMode==="components"){const we=Tt(U.iText),Te=Tt(U.jText);if(we===null||Te===null)return null;const De=Ht(U.unitLabel),Ee=tt(we,[De],[]),Ge=tt(Te,[De],[]);return Math.hypot(Ee,Ge)}const ce=Tt(U.magnitudeText);if(ce===null)return null;const be=Ht(U.unitLabel);return tt(ce,[be],[])},fe=U=>vi(U.angleText),xe=(U,ce)=>{const be=Tt(U);return be===null?0:tt(be,[ce],[])},S=U=>{const ce=Dc(U.positionUnitLabel);return{x:xe(U.startXText,ce),y:xe(U.startYText,ce)}},A=U=>{const ce=Tt(U.endXText),be=Tt(U.endYText);if(ce===null||be===null)return null;const we=Dc(U.positionUnitLabel);return{x:tt(ce,[we],[]),y:tt(be,[we],[])}},C=U=>{const ce=A(U);if(!ce)return null;const be=S(U),we=ce.x-be.x,Te=ce.y-be.y,De=Math.hypot(we,Te);return!Number.isFinite(De)||De===0?null:Pu(Math.atan2(Te,we)*180/Math.PI)},R=U=>{const ce=Ht(U.unitLabel);if(U.entryMode==="points"){const Te=Tt(U.magnitudeText);if(Te===null)return null;const De=C(U);return De===null?null:new An(new $e(Te,ce),bn.fromDegrees(De))}if(U.entryMode==="components"){const Te=Tt(U.iText),De=Tt(U.jText);return Te===null||De===null?null:An.fromComponents(new $e(Te,ce),new $e(De,ce))}const be=Tt(U.magnitudeText),we=vi(U.angleText);return be===null||we===null?null:new An(new $e(be,ce),bn.fromDegrees(we))},k=U=>{const ce=Ht(U.unitLabel);if(U.entryMode!=="polar"){const Te=R(U);return Te?{magnitude:ft(Te.measurement.value,[Le],[],[ce],[]),angleDeg:Te.direction.degrees,unit:ce}:null}const be=Tt(U.magnitudeText),we=vi(U.angleText);return be===null||we===null?null:{magnitude:be,angleDeg:we,unit:ce}},B=U=>{const ce=Ht(U.unitLabel);if(U.entryMode==="components"){const Te=Tt(U.iText),De=Tt(U.jText);return Te===null||De===null?null:{i:Te,j:De,unit:ce}}const be=R(U);if(!be)return null;const we=be.components(ce);return{i:we.i.value,j:we.j.value,unit:ce}},N=(U,ce)=>{l(be=>be.map(we=>{if(we.id!==U)return we;const Te=Ht(we.unitLabel),De=ft(ce.measurement.value,[Le],[],[Te],[]),Ee=ce.components(Te);return{...we,magnitudeText:ot(De),angleText:ot(ce.direction.degrees),iText:ot(Ee.i.value),jText:ot(Ee.j.value)}}))},I=O.useMemo(()=>{const U=[...r.map(ce=>$(ce)).filter(ce=>ce!=null),...p?[$(p)].filter(ce=>ce!=null):[],...E?[$(E)].filter(ce=>ce!=null):[]].filter(ce=>Number.isFinite(ce)&&ce>0);return U.length?Math.max(...U):1},[r,p,E]),K=O.useMemo(()=>{const U=os/2-yk;return Math.min(1,U/I)},[I]);O.useMemo(()=>r.find(U=>U.id===u)??null,[r,u]);const F=O.useMemo(()=>{if(!g)return null;const{magnitude:U,angleDeg:ce}=CN(g);return!Number.isFinite(U)||U<5?null:{magnitudeNewtons:U,angleDeg:ce}},[g]),ne=U=>{const ce=Ht(U.unitLabel);if(U.entryMode==="points"){const Ee=Tt(U.magnitudeText),Ge=C(U);if(Ee===null||Ge===null)return U;const St=new An(new $e(Ee,ce),bn.fromDegrees(Ge)),hs=St.components(ce);return{...U,angleText:ot(St.direction.degrees),iText:ot(hs.i.value),jText:ot(hs.j.value)}}if(U.entryMode==="components"){const Ee=Tt(U.iText),Ge=Tt(U.jText);if(Ee===null||Ge===null)return U;const St=An.fromComponents(new $e(Ee,ce),new $e(Ge,ce)),hs=ft(St.measurement.value,[Le],[],[ce],[]);return{...U,magnitudeText:ot(hs),angleText:ot(St.direction.degrees)}}const be=Tt(U.magnitudeText),we=vi(U.angleText);if(be===null||we===null)return U;const De=new An(new $e(be,ce),bn.fromDegrees(we)).components(ce);return{...U,iText:ot(De.i.value),jText:ot(De.j.value)}},me=(U,ce)=>{l(be=>be.map(we=>{if(we.id!==U)return we;let Te={...we,...ce};if(ce.entryMode&&ce.entryMode!==we.entryMode){const De=R(we);if(De){const Ee=Ht(Te.unitLabel),Ge=ft(De.measurement.value,[Le],[],[Ee],[]),St=De.components(Ee);Te={...Te,magnitudeText:ot(Ge),angleText:ot(De.direction.degrees),iText:ot(St.i.value),jText:ot(St.j.value)}}}return ne(Te)}))},Ne=(U,ce)=>{l(be=>be.map(we=>{if(we.id!==U)return we;const Te=R(we);if(!Te)return{...we,unitLabel:ce};const De=Ht(ce),Ee=ft(Te.measurement.value,[Le],[],[De],[]),Ge=Te.components(De);return ne({...we,unitLabel:ce,magnitudeText:ot(Ee),angleText:ot(Te.direction.degrees),iText:ot(Ge.i.value),jText:ot(Ge.j.value)})}))},Ve=(U,ce,be)=>{if(U.trim()==="")return"";const we=Tt(U);return we===null?"":ce.type!=="Length"||be.type!=="Length"?U:ot(ft(we,[ce],[],[be],[]))},V=(U,ce)=>{l(be=>be.map(we=>{if(we.id!==U)return we;const Te=Dc(we.positionUnitLabel),De=Dc(ce),Ee={...we,positionUnitLabel:ce,startXText:Ve(we.startXText,Te,De),startYText:Ve(we.startYText,Te,De),endXText:Ve(we.endXText,Te,De),endYText:Ve(we.endYText,Te,De)};return ne(Ee)}))},le=U=>ne(U),ge=U=>{j(ce=>{if(!ce)return ce;const be={...ce,...U};return le(be)})},je=U=>{l(ce=>ce.filter(be=>be.id!==U)),d(ce=>ce===U?null:ce)},D=()=>{ee(null);const U=crypto.randomUUID(),ce={id:U,entryMode:"components",magnitudeText:"",unitLabel:M,positionUnitLabel:H,angleText:"",iText:"",jText:"",startXText:"",startYText:"",endXText:"",endYText:""};l(be=>[ne(ce),...be]),d(U),_(null)},P=()=>{if(ee(null),r.length===0)return;const U=r.map(Te=>R(Te)).filter(Te=>Te!=null);if(U.length!==r.length){ee("Cannot draw resultant: one or more vectors have unknown magnitude or angle.");return}const ce=Kc(...U),be=Ht(M),we=ft(ce.measurement.value,[Le],[],[be],[]);_({id:"resultant",entryMode:"polar",magnitudeText:ot(we),unitLabel:M,positionUnitLabel:H,angleText:ot(ce.direction.degrees),iText:ot(ce.components(be).i.value),jText:ot(ce.components(be).j.value),startXText:"",startYText:"",endXText:"",endYText:""})},te=()=>{ee(null),!E&&j({id:"given-resultant",entryMode:"polar",magnitudeText:"",unitLabel:M,positionUnitLabel:H,angleText:"",iText:"",jText:"",startXText:"",startYText:"",endXText:"",endYText:""})},ve=()=>{if(ee(null),!E){ee("Add a resultant vector first.");return}const U=Tt(E.magnitudeText),ce=vi(E.angleText);if(ce===null){ee("Resultant angle is required.");return}const be=bn.fromDegrees(ce),Te=r.map((st,bt)=>{if(st.entryMode==="components"){const Qe=Tt(st.iText),gt=Tt(st.jText),it=Qe!==null&&gt!==null;return{idx:bt,magnitudeKnown:it,angleKnown:it}}if(st.entryMode==="points"){const Qe=Tt(st.magnitudeText),gt=C(st);return{idx:bt,magnitudeKnown:Qe!==null,angleKnown:gt!==null}}const gn=Tt(st.magnitudeText),Vt=vi(st.angleText);return{idx:bt,magnitudeKnown:gn!==null,angleKnown:Vt!==null}}).filter(st=>!st.magnitudeKnown||!st.angleKnown).map(st=>st.idx);if(Te.length===0){if(U===null){const st=r.map(gt=>R(gt)).filter(gt=>gt!=null);if(st.length!==r.length){ee("Not solvable: one or more vectors are incomplete.");return}const bt=Kc(...st);if(Math.abs(bt.direction.degrees-be.degrees)>1e-6){ee("Not solvable: computed resultant direction does not match the provided direction.");return}const Vt=Ht(E.unitLabel),Qe=ft(bt.measurement.value,[Le],[],[Vt],[]);ge({magnitudeText:ot(Qe)});return}ee("Nothing to solve: all vectors have known magnitude and angle.");return}if(Te.length>2){ee("Too many unknown values. This tool currently solves up to 2 incomplete vectors.");return}const De=r.map(st=>R(st)).filter(st=>st!=null),Ee=De.length?Kc(...De):null;if(U===null){if(Te.length!==1){ee("Not solvable: with unknown resultant magnitude, exactly one vector must be incomplete.");return}const st=Te[0],bt=r[st],gn=Tt(bt.magnitudeText),Vt=vi(bt.angleText);if(gn===null){ee("Not solvable: with unknown resultant magnitude, the incomplete vector must have a known magnitude.");return}if(Vt!==null){ee("Nothing to solve: the incomplete vector has a known angle (try leaving the angle blank).");return}try{const Qe=uk({knownForces:De,unknownForceMagnitude:new $e(gn,Ht(bt.unitLabel)),resultantDirection:be});N(bt.id,Qe.unknownForce);const gt=Ht(E.unitLabel),it=ft(Qe.resultant.measurement.value,[Le],[],[gt],[]);ge({magnitudeText:ot(it)})}catch(Qe){ee(Qe instanceof Error?Qe.message:"Failed to solve unknowns.")}return}const Ge=new An(new $e(U,Ht(E.unitLabel)),be),St=Ee?lk(Ge,Ee):Ge;if(Te.length===1){const st=Te[0],bt=r[st],gn=Tt(bt.magnitudeText),Vt=vi(bt.angleText);if(Vt===null){if(gn!==null){const ei=tt(gn,[Ht(bt.unitLabel)],[]),mr=1e-6*Math.max(1,St.measurement.value);if(Math.abs(ei-St.measurement.value)>mr){ee("Not solvable: provided magnitude does not match the required remainder.");return}}const Qe=Ht(bt.unitLabel),gt=ft(St.measurement.value,[Le],[],[Qe],[]),it=Ht(bt.unitLabel),fr=new An(new $e(gn===null?gt:gn,it),bn.fromDegrees(St.direction.degrees));N(bt.id,fr);return}if(gn===null){const Qe=bn.fromDegrees(Vt).radians,gt={x:Math.cos(Qe),y:Math.sin(Qe)},it=St.toComponentsNewtons(),fr=it.x*gt.x+it.y*gt.y,ei=it.x*-gt.y+it.y*gt.x,mr=1e-6*Math.max(1,Math.hypot(it.x,it.y));if(Math.abs(ei)>mr){ee("Not solvable: resultant/known vectors are not consistent with the unknown direction.");return}const ms=Ht(bt.unitLabel),Ri=ft(fr,[Le],[],[ms],[]),qt=Ht(bt.unitLabel),gs=new An(new $e(Ri,qt),bn.fromDegrees(Vt));N(bt.id,gs);return}ee("Nothing to solve for the incomplete vector.");return}const[hs,fo]=Te,Xt=r[hs],fs=r[fo],dr=vi(Xt.angleText),hr=vi(fs.angleText),Zs=Tt(Xt.magnitudeText),Il=Tt(fs.magnitudeText);if(dr===null||hr===null||Zs!==null||Il!==null){ee("Not solvable: to solve two vectors, both directions must be known and both magnitudes must be unknown.");return}try{const st=ck({resultant:St,direction1:bn.fromDegrees(dr),direction2:bn.fromDegrees(hr)}),bt=Ht(Xt.unitLabel),gn=Ht(fs.unitLabel),Vt=ft(st.force1.measurement.value,[Le],[],[bt],[]),Qe=ft(st.force2.measurement.value,[Le],[],[gn],[]);me(Xt.id,{magnitudeText:ot(Vt)}),me(fs.id,{magnitudeText:ot(Qe)})}catch(st){ee(st instanceof Error?st.message:"Failed to solve unknowns.")}},pe=U=>{t.current&&(t.current.setPointerCapture(U.pointerId),y(IN(U,t.current)))},lt=U=>{t.current&&g&&y(IN(U,t.current))},_n=U=>{if(t.current){if(t.current.releasePointerCapture(U.pointerId),g){const{magnitude:ce,angleDeg:be}=CN(g);if(Number.isFinite(ce)&&ce>=5){const we=crypto.randomUUID(),Te=Ht(M),De=ft(ce,[Le],[],[Te],[]),Ee={id:we,entryMode:"polar",magnitudeText:ot(De),unitLabel:M,positionUnitLabel:H,angleText:ot(be),iText:"",jText:"",startXText:"",startYText:"",endXText:"",endYText:""};l(Ge=>[ne(Ee),...Ge]),d(we),_(null),ee(null)}}y(null)}},Mn=O.useMemo(()=>{const U=[],ce=tt(1,[Y],[])*Sp;for(let be=0;be<=os;be+=ce)U.push({x1:be,y1:0,x2:be,y2:os});for(let be=0;be<=os;be+=ce)U.push({x1:0,y1:be,x2:os,y2:be});return U},[Y]);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-3",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx(_e,{to:"/toolbox",className:"border-b border-gray-300 hover:border-gray-500 transition-colors",children:"Toolbox"})," ",a.jsx("span",{className:"text-gray-400",children:"/"})," Force vectors"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Force vectors"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Draw vectors on the plane, then edit magnitude and angle. Angle is measured counterclockwise from +X."}),a.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>e("2d"),className:`text-sm border px-2 py-1 ${s==="2d"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"2D"}),a.jsx("button",{type:"button",onClick:()=>e("3d"),className:`text-sm border px-2 py-1 ${s==="3d"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"3D"})]})]}),s==="3d"?a.jsx(pk,{}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-6",children:[a.jsxs("section",{className:"border border-gray-200 bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[a.jsx("div",{className:"text-sm text-gray-700",children:"Drag anywhere to create an arrow from the origin."}),a.jsx("div",{className:"text-sm text-gray-600",children:"Auto-fit scale (based on max magnitude)"})]}),a.jsx("div",{className:"p-4",children:a.jsxs("svg",{ref:t,viewBox:`0 0 ${os} ${os}`,className:"w-full h-[520px] touch-none select-none bg-gray-50 border border-gray-200",onPointerDown:pe,onPointerMove:lt,onPointerUp:_n,children:[a.jsx("defs",{children:a.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"8",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:a.jsx("path",{d:"M0,0 L8,3 L0,6 Z",fill:"currentColor"})})}),a.jsx("g",{className:"text-gray-200",children:Mn.map((U,ce)=>a.jsx("line",{x1:U.x1,y1:U.y1,x2:U.x2,y2:U.y2,stroke:"currentColor",strokeWidth:1},ce))}),a.jsxs("g",{className:"text-gray-400",children:[a.jsx("line",{x1:0,y1:Pt.y,x2:os,y2:Pt.y,stroke:"currentColor",strokeWidth:2}),a.jsx("line",{x1:Pt.x,y1:0,x2:Pt.x,y2:os,stroke:"currentColor",strokeWidth:2})]}),a.jsx("circle",{cx:Pt.x,cy:Pt.y,r:4,fill:"#111827"}),F&&a.jsx("g",{className:"text-gray-500",children:a.jsx("line",{x1:Pt.x,y1:Pt.y,x2:g?.x??Pt.x,y2:g?.y??Pt.y,stroke:"currentColor",strokeWidth:3,strokeDasharray:"6 6",markerEnd:"url(#arrowhead)"})}),r.map((U,ce)=>{const be=$(U),we=fe(U),Te=U.entryMode==="points"?bk(S(U)):Pt,De=we===null?Te:be===null?vk(Te,we,xk):Yg(Te,be,we,K),Ee=U.id===u,Ge=Ee?"#111827":"#374151",St=`F${r.length-ce}`;return a.jsxs("g",{onClick:hs=>{hs.stopPropagation(),d(U.id)},style:{cursor:"pointer"},children:[we!==null?a.jsx("line",{x1:Te.x,y1:Te.y,x2:De.x,y2:De.y,stroke:Ge,strokeWidth:Ee?5:4,strokeDasharray:be===null?"6 6":void 0,markerEnd:"url(#arrowhead)"}):a.jsx("circle",{cx:Te.x,cy:Te.y,r:10,fill:"none",stroke:Ge,strokeWidth:2,strokeDasharray:"6 6"}),a.jsx("text",{x:we===null?Te.x+14:(Te.x+De.x)/2,y:we===null?Te.y-14:(Te.y+De.y)/2,fill:Ge,fontSize:14,dominantBaseline:"middle",children:St})]},U.id)}),E&&a.jsx("g",{className:"text-blue-600",children:(()=>{const U=$(E),ce=fe(E);if(U===null||ce===null)return null;const be=Yg(Pt,U,ce,K);return a.jsxs(a.Fragment,{children:[a.jsx("line",{x1:Pt.x,y1:Pt.y,x2:be.x,y2:be.y,stroke:"currentColor",strokeWidth:6,markerEnd:"url(#arrowhead)"}),a.jsx("text",{x:(Pt.x+be.x)/2,y:(Pt.y+be.y)/2,fill:"currentColor",fontSize:14,dominantBaseline:"middle",children:"R"})]})})()}),p&&a.jsx("g",{className:"text-red-600",children:(()=>{const U=$(p),ce=fe(p);if(U===null||ce===null)return null;const be=Yg(Pt,U,ce,K);return a.jsxs(a.Fragment,{children:[a.jsx("line",{x1:Pt.x,y1:Pt.y,x2:be.x,y2:be.y,stroke:"currentColor",strokeWidth:6,markerEnd:"url(#arrowhead)"}),a.jsx("text",{x:(Pt.x+be.x)/2,y:(Pt.y+be.y)/2,fill:"currentColor",fontSize:14,dominantBaseline:"middle",children:"Î£"})]})})()})]})})]}),a.jsxs("aside",{className:"border border-gray-200 bg-white",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-3",children:[a.jsx("div",{className:"text-lg font-serif text-gray-900",children:"Vectors"}),a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Force"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:M,onChange:U=>{const ce=U.target.value;W(ce)},children:Ah.map(U=>a.jsx("option",{value:U.label,children:U.label},U.label))})]}),a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Position"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:H,onChange:U=>q(U.target.value),children:Ap.map(U=>a.jsx("option",{value:U.label,children:U.label},U.label))})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"button",onClick:D,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add vector"}),a.jsx("button",{type:"button",onClick:te,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors disabled:opacity-50",disabled:E!=null,children:"Add resultant"}),a.jsx("button",{type:"button",onClick:ve,className:"px-3 py-1.5 text-sm bg-gray-900 text-white hover:bg-gray-800 transition-colors",children:"Calculate unknown values"}),a.jsx("button",{type:"button",onClick:P,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors disabled:opacity-50",disabled:r.length===0,children:"Draw resultant"})]})]}),a.jsxs("div",{className:"p-4 space-y-6",children:[re&&a.jsx("div",{className:"border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-800",children:re}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Resultant (given)",a.jsxs("span",{className:"text-gray-500 font-normal",children:[" ","â€” angle required, magnitude optional"]})]}),E?a.jsxs("div",{className:"border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"R"}),a.jsx("button",{type:"button",onClick:()=>j(null),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>ge({entryMode:"polar"}),className:`text-sm border px-2 py-1 ${E.entryMode==="polar"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Magnitude/Angle"}),a.jsx("button",{type:"button",onClick:()=>ge({entryMode:"components"}),className:`text-sm border px-2 py-1 ${E.entryMode==="components"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"iÌ‚/jÌ‚"})]}),a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Unit"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:E.unitLabel,onChange:U=>ge({unitLabel:U.target.value}),children:Ah.map(U=>a.jsx("option",{value:U.label,children:U.label},U.label))})]})]}),E.entryMode==="polar"?a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Magnitude"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.magnitudeText,onChange:U=>ge({magnitudeText:U.target.value}),inputMode:"decimal",placeholder:"(optional)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Angle (deg)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.angleText,onChange:U=>ge({angleText:U.target.value}),inputMode:"decimal",placeholder:"(required)"})]})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"i (x)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.iText,onChange:U=>ge({iText:U.target.value}),inputMode:"decimal",placeholder:"(optional)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"j (y)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.jText,onChange:U=>ge({jText:U.target.value}),inputMode:"decimal",placeholder:"(optional)"})]})]}),(()=>{const U=B(E);return U?a.jsx("div",{className:"mt-3 text-xs text-gray-600",children:SN(U.i,U.j,E.unitLabel)}):null})()]}):a.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œAdd resultantâ€ to define the target vector."})]}),r.length===0?a.jsx("div",{className:"text-gray-700 text-sm",children:"No vectors yet. Drag on the plane to add one."}):a.jsx("div",{className:"space-y-3",children:r.map((U,ce)=>{const be=`F${r.length-ce}`,we=U.id===u,Te=k(U),De=B(U);return a.jsxs("div",{className:`border p-3 ${we?"border-gray-900":"border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("button",{type:"button",onClick:()=>d(U.id),className:"text-sm font-medium text-gray-900 border-b border-gray-300 hover:border-gray-700 transition-colors",children:be}),a.jsx("button",{type:"button",onClick:()=>je(U.id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between mb-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>me(U.id,{entryMode:"polar"}),className:`text-sm border px-2 py-1 ${U.entryMode==="polar"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Magnitude/Angle"}),a.jsx("button",{type:"button",onClick:()=>me(U.id,{entryMode:"components"}),className:`text-sm border px-2 py-1 ${U.entryMode==="components"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"iÌ‚/jÌ‚"}),a.jsx("button",{type:"button",onClick:()=>me(U.id,{entryMode:"points"}),className:`text-sm border px-2 py-1 ${U.entryMode==="points"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Start/End"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:[a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Force"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:U.unitLabel,onChange:Ee=>Ne(U.id,Ee.target.value),children:Ah.map(Ee=>a.jsx("option",{value:Ee.label,children:Ee.label},Ee.label))})]}),a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Pos"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:U.positionUnitLabel,onChange:Ee=>V(U.id,Ee.target.value),children:Ap.map(Ee=>a.jsx("option",{value:Ee.label,children:Ee.label},Ee.label))})]})]})]}),U.entryMode==="points"?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Magnitude"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:U.magnitudeText,onChange:Ee=>me(U.id,{magnitudeText:Ee.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),a.jsx("div",{className:"text-xs text-gray-600 flex items-end",children:"Direction is taken from startâ†’end."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start x"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:U.startXText,onChange:Ee=>me(U.id,{startXText:Ee.target.value}),inputMode:"decimal",placeholder:"0"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start y"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:U.startYText,onChange:Ee=>me(U.id,{startYText:Ee.target.value}),inputMode:"decimal",placeholder:"0"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End x"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:U.endXText,onChange:Ee=>me(U.id,{endXText:Ee.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End y"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:U.endYText,onChange:Ee=>me(U.id,{endYText:Ee.target.value}),inputMode:"decimal",placeholder:"(required)"})]})]})]}):U.entryMode==="polar"?a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Magnitude"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:U.magnitudeText,onChange:Ee=>me(U.id,{magnitudeText:Ee.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Angle (deg)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:U.angleText,onChange:Ee=>me(U.id,{angleText:Ee.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"i (x)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:U.iText,onChange:Ee=>me(U.id,{iText:Ee.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"j (y)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:U.jText,onChange:Ee=>me(U.id,{jText:Ee.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}),a.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:[Te?`${ot(Te.magnitude)} ${U.unitLabel} @ ${ot(Te.angleDeg)}Â°`:`â€” ${U.unitLabel} @ â€”Â°`,De?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-400",children:" Â· "}),SN(De.i,De.j,U.unitLabel)]}):null]})]},U.id)})}),a.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Resultant (sum of vectors)"}),p?a.jsxs("div",{className:"text-sm text-gray-700",children:[p.magnitudeText.trim()?p.magnitudeText.trim():"â€”"," ",p.unitLabel," @"," ",p.angleText.trim()?p.angleText.trim():"â€”","Â°"]}):a.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œDraw resultantâ€ to compute the vector sum."})]})]})]})]})]})}),a.jsx(Ct,{})]})}const Si=(s,e)=>{if(!Number.isFinite(s))throw new Error(`${e} must be a finite number.`)},RN=(s,e)=>{Si(s.x,`${e}.x`),Si(s.y,`${e}.y`)},MN=(s,e)=>{Si(s.x,`${e}.x`),Si(s.y,`${e}.y`),Si(s.z,`${e}.z`)},Nk=(s,e)=>{Si(s.x,`${e}.x`),Si(s.y,`${e}.y`)},Ek=(s,e)=>{Si(s.x,`${e}.x`),Si(s.y,`${e}.y`),Si(s.z,`${e}.z`)},hu=(s,e)=>(RN(s,"a"),RN(e,"b"),{x:e.x-s.x,y:e.y-s.y}),fu=(s,e)=>(MN(s,"a"),MN(e,"b"),{x:e.x-s.x,y:e.y-s.y,z:e.z-s.z}),ej=s=>(Nk(s,"v"),Math.hypot(s.x,s.y)),tj=s=>(Ek(s,"v"),Math.hypot(s.x,s.y,s.z)),mu=s=>{const e=ej(s);if(!Number.isFinite(e)||e===0)throw new Error("Unit vector must be a non-zero finite vector.");return{x:s.x/e,y:s.y/e}},gu=s=>{const e=tj(s);if(!Number.isFinite(e)||e===0)throw new Error("Unit vector must be a non-zero finite vector.");return{x:s.x/e,y:s.y/e,z:s.z/e}},Ky=(s,e)=>{if(!Number.isFinite(s))throw new Error(`${e} must be a finite number.`)},mn=s=>({constant:s,terms:{}}),Cn=(s,e=1)=>({constant:0,terms:{[s.id]:e}}),Ln=(s,e)=>{const t={...s.terms};for(const[r,l]of Object.entries(e.terms)){const u=(t[r]??0)+l;Math.abs(u)<1e-14?delete t[r]:t[r]=u}return{constant:s.constant+e.constant,terms:t}},Ue=(s,e)=>{if(!Number.isFinite(e))throw new Error("exprScale scalar must be finite.");const t={};for(const[r,l]of Object.entries(s.terms)){const u=l*e;Math.abs(u)>=1e-14&&(t[r]=u)}return{constant:s.constant*e,terms:t}},Tk=(s,e)=>{let t=s.constant;for(const[r,l]of Object.entries(s.terms)){const u=e[r];if(u===void 0)throw new Error(`Missing value for variable "${r}".`);t+=l*u}return t},tr=(s,e)=>{const t=s.nodes.find(r=>r.id===e);if(!t)throw new Error(`Unknown node "${e}".`);return t},nr=(s,e)=>{const t=s.nodes.find(r=>r.id===e);if(!t)throw new Error(`Unknown node "${e}".`);return t},nj=s=>{if(s.forceUnit.type!=="Force")throw new Error(`Expected Force unit for stiffness forceUnit, received ${s.forceUnit.type}.`);if(s.lengthUnit.type!=="Length")throw new Error(`Expected Length unit for stiffness lengthUnit, received ${s.lengthUnit.type}.`);return Ky(s.value,"k.value"),tt(s.value,[s.forceUnit],[s.lengthUnit])};class wk{constructor(e){if(this.id=e.id,this.startNodeId=e.startNodeId,this.endNodeId=e.endNodeId,this.stiffness=e.stiffness,this.forceVariable={id:e.forceVariableId??`${e.id}.F`,label:`${e.id} force`},e.naturalLength){if(e.naturalLength.unit.type!=="Length")throw new Error(`Expected Length unit for naturalLength, received ${e.naturalLength.unit.type}.`);this.naturalLength={kind:"known",valueMeters:tt(e.naturalLength.value,[e.naturalLength.unit],[])}}else this.naturalLength={kind:"unknown",variable:{id:e.naturalLengthVariableId??`${e.id}.l0`,label:`${e.id} natural length`}}}variables(){return[this.forceVariable,...this.naturalLength.kind==="unknown"?[this.naturalLength.variable]:[]]}equations(e){const t=tr(e,this.startNodeId).positionMeters,r=tr(e,this.endNodeId).positionMeters,l=hu(t,r),u=ej(l);if(!Number.isFinite(u)||u===0)throw new Error("Spring endpoints must not coincide.");const d=nj(this.stiffness);let g=Ln(Cn(this.forceVariable,1),mn(-d*u));return this.naturalLength.kind==="known"?g=Ln(g,mn(d*this.naturalLength.valueMeters)):g=Ln(g,Cn(this.naturalLength.variable,d)),[{expr:g,label:`${this.id}: Hooke's law`}]}forces(e){const t=tr(e,this.startNodeId).positionMeters,r=tr(e,this.endNodeId).positionMeters,l=mu(hu(t,r)),u=Cn(this.forceVariable,1);return[{nodeId:this.startNodeId,fx:Ue(u,l.x),fy:Ue(u,l.y),label:`${this.id} @ ${this.startNodeId}`},{nodeId:this.endNodeId,fx:Ue(u,-l.x),fy:Ue(u,-l.y),label:`${this.id} @ ${this.endNodeId}`}]}}class jk{constructor(e){this.id=e.id,this.startNodeId=e.startNodeId,this.pulleyNodeId=e.pulleyNodeId,this.endNodeId=e.endNodeId,this.tensionVariable={id:e.tensionVariableId??`${e.id}.T`,label:`${e.id} tension`}}variables(){return[this.tensionVariable]}equations(e){return[]}forces(e){const t=tr(e,this.startNodeId).positionMeters,r=tr(e,this.pulleyNodeId).positionMeters,l=tr(e,this.endNodeId).positionMeters,u=mu(hu(t,r)),d=mu(hu(l,r)),g=Cn(this.tensionVariable,1);return[{nodeId:this.startNodeId,fx:Ue(g,u.x),fy:Ue(g,u.y),label:`${this.id} @ ${this.startNodeId}`},{nodeId:this.endNodeId,fx:Ue(g,d.x),fy:Ue(g,d.y),label:`${this.id} @ ${this.endNodeId}`},{nodeId:this.pulleyNodeId,fx:Ln(Ue(g,-u.x),Ue(g,-d.x)),fy:Ln(Ue(g,-u.y),Ue(g,-d.y)),label:`${this.id} @ ${this.pulleyNodeId}`}]}}class Ak{constructor(e){this.id=e.id,this.startNodeId=e.startNodeId,this.endNodeId=e.endNodeId,this.tensionVariable={id:e.tensionVariableId??`${e.id}.T`,label:`${e.id} tension`}}variables(){return[this.tensionVariable]}equations(e){return[]}forces(e){const t=tr(e,this.startNodeId).positionMeters,r=tr(e,this.endNodeId).positionMeters,l=mu(hu(t,r)),u=Cn(this.tensionVariable,1);return[{nodeId:this.startNodeId,fx:Ue(u,l.x),fy:Ue(u,l.y),label:`${this.id} @ ${this.startNodeId}`},{nodeId:this.endNodeId,fx:Ue(u,-l.x),fy:Ue(u,-l.y),label:`${this.id} @ ${this.endNodeId}`}]}}class Sk{constructor(e){if(this.id=e.id,this.startNodeId=e.startNodeId,this.endNodeId=e.endNodeId,this.stiffness=e.stiffness,this.forceVariable={id:e.forceVariableId??`${e.id}.F`,label:`${e.id} force`},e.naturalLength){if(e.naturalLength.unit.type!=="Length")throw new Error(`Expected Length unit for naturalLength, received ${e.naturalLength.unit.type}.`);this.naturalLength={kind:"known",valueMeters:tt(e.naturalLength.value,[e.naturalLength.unit],[])}}else this.naturalLength={kind:"unknown",variable:{id:e.naturalLengthVariableId??`${e.id}.l0`,label:`${e.id} natural length`}}}variables(){return[this.forceVariable,...this.naturalLength.kind==="unknown"?[this.naturalLength.variable]:[]]}equations(e){const t=nr(e,this.startNodeId).positionMeters,r=nr(e,this.endNodeId).positionMeters,l=fu(t,r),u=tj(l);if(!Number.isFinite(u)||u===0)throw new Error("Spring endpoints must not coincide.");const d=nj(this.stiffness);let g=Ln(Cn(this.forceVariable,1),mn(-d*u));return this.naturalLength.kind==="known"?g=Ln(g,mn(d*this.naturalLength.valueMeters)):g=Ln(g,Cn(this.naturalLength.variable,d)),[{expr:g,label:`${this.id}: Hooke's law`}]}forces(e){const t=nr(e,this.startNodeId).positionMeters,r=nr(e,this.endNodeId).positionMeters,l=gu(fu(t,r)),u=Cn(this.forceVariable,1);return[{nodeId:this.startNodeId,fx:Ue(u,l.x),fy:Ue(u,l.y),fz:Ue(u,l.z),label:`${this.id} @ ${this.startNodeId}`},{nodeId:this.endNodeId,fx:Ue(u,-l.x),fy:Ue(u,-l.y),fz:Ue(u,-l.z),label:`${this.id} @ ${this.endNodeId}`}]}}class Ik{constructor(e){this.id=e.id,this.startNodeId=e.startNodeId,this.endNodeId=e.endNodeId,this.tensionVariable={id:e.tensionVariableId??`${e.id}.T`,label:`${e.id} tension`}}variables(){return[this.tensionVariable]}equations(e){return[]}forces(e){const t=nr(e,this.startNodeId).positionMeters,r=nr(e,this.endNodeId).positionMeters,l=gu(fu(t,r)),u=Cn(this.tensionVariable,1);return[{nodeId:this.startNodeId,fx:Ue(u,l.x),fy:Ue(u,l.y),fz:Ue(u,l.z),label:`${this.id} @ ${this.startNodeId}`},{nodeId:this.endNodeId,fx:Ue(u,-l.x),fy:Ue(u,-l.y),fz:Ue(u,-l.z),label:`${this.id} @ ${this.endNodeId}`}]}}class Ck{constructor(e){this.id=e.id,this.startNodeId=e.startNodeId,this.pulleyNodeId=e.pulleyNodeId,this.endNodeId=e.endNodeId,this.tensionVariable={id:e.tensionVariableId??`${e.id}.T`,label:`${e.id} tension`}}variables(){return[this.tensionVariable]}equations(e){return[]}forces(e){const t=nr(e,this.startNodeId).positionMeters,r=nr(e,this.pulleyNodeId).positionMeters,l=nr(e,this.endNodeId).positionMeters,u=gu(fu(t,r)),d=gu(fu(l,r)),g=Cn(this.tensionVariable,1);return[{nodeId:this.startNodeId,fx:Ue(g,u.x),fy:Ue(g,u.y),fz:Ue(g,u.z),label:`${this.id} @ ${this.startNodeId}`},{nodeId:this.endNodeId,fx:Ue(g,d.x),fy:Ue(g,d.y),fz:Ue(g,d.z),label:`${this.id} @ ${this.endNodeId}`},{nodeId:this.pulleyNodeId,fx:Ln(Ue(g,-u.x),Ue(g,-d.x)),fy:Ln(Ue(g,-u.y),Ue(g,-d.y)),fz:Ln(Ue(g,-u.z),Ue(g,-d.z)),label:`${this.id} @ ${this.pulleyNodeId}`}]}}class Rk{constructor(e){this.id=e.id,this.nodeId=e.nodeId,this.normal=gu(e.normal),this.normalForceVariable={id:e.normalForceVariableId??`${e.id}.N`,label:`${e.id} normal`}}variables(){return[this.normalForceVariable]}equations(e){return[]}forces(e){const t=Cn(this.normalForceVariable,1);return[{nodeId:this.nodeId,fx:Ue(t,this.normal.x),fy:Ue(t,this.normal.y),fz:Ue(t,this.normal.z),label:`${this.id} @ ${this.nodeId}`}]}}class Mk{constructor(e){if(this.id=e.id,this.nodeId=e.nodeId,e.mass.unit.type!=="Mass")throw new Error(`Expected Mass unit for weight mass, received ${e.mass.unit.type}.`);this.mass=e.mass,this.gravity=e.gravity??Fy,Ky(this.gravity,"gravity")}variables(){return[]}equations(e){return[]}forces(e){const t=Xw(this.mass,this.gravity);return[{nodeId:this.nodeId,fx:mn(0),fy:mn(0),fz:mn(-t.value),label:`${this.id} @ ${this.nodeId}`}]}}class Dk{constructor(e){this.id=e.id,this.nodeId=e.nodeId,this.rxVariable={id:e.rxVariableId??`${e.nodeId}.Rx`,label:`${e.nodeId} reaction x`},this.ryVariable={id:e.ryVariableId??`${e.nodeId}.Ry`,label:`${e.nodeId} reaction y`},this.rzVariable={id:e.rzVariableId??`${e.nodeId}.Rz`,label:`${e.nodeId} reaction z`}}variables(){return[this.rxVariable,this.ryVariable,this.rzVariable]}equations(e){return[]}forces(e){return[{nodeId:this.nodeId,fx:Cn(this.rxVariable,1),fy:Cn(this.ryVariable,1),fz:Cn(this.rzVariable,1),label:`${this.id} @ ${this.nodeId}`}]}}class Pk{constructor(e){this.id=e.id,this.nodeId=e.nodeId,this.rxVariable={id:e.rxVariableId??`${e.nodeId}.Rx`,label:`${e.nodeId} reaction x`},this.ryVariable={id:e.ryVariableId??`${e.nodeId}.Ry`,label:`${e.nodeId} reaction y`}}variables(){return[this.rxVariable,this.ryVariable]}equations(e){return[]}forces(e){return[{nodeId:this.nodeId,fx:Cn(this.rxVariable,1),fy:Cn(this.ryVariable,1),label:`${this.id} @ ${this.nodeId}`}]}}class Ok{constructor(e){this.id=e.id,this.nodeId=e.nodeId,this.normal=mu(e.normal),this.normalForceVariable={id:e.normalForceVariableId??`${e.id}.N`,label:`${e.id} normal`}}variables(){return[this.normalForceVariable]}equations(e){return[]}forces(e){const t=Cn(this.normalForceVariable,1);return[{nodeId:this.nodeId,fx:Ue(t,this.normal.x),fy:Ue(t,this.normal.y),label:`${this.id} @ ${this.nodeId}`}]}}class kk{constructor(e){if(this.id=e.id,this.nodeId=e.nodeId,e.force.x.unit.type!=="Force"||e.force.y.unit.type!=="Force")throw new Error("AppliedForce2D components must use Force units for x and y.");const t=tt(e.force.x.value,[e.force.x.unit],[]),r=tt(e.force.y.value,[e.force.y.unit],[]);this.forceNewtons={x:t,y:r}}variables(){return[]}equations(e){return[]}forces(e){return[{nodeId:this.nodeId,fx:mn(this.forceNewtons.x),fy:mn(this.forceNewtons.y),label:`${this.id} @ ${this.nodeId}`}]}}class Lk{constructor(e){if(this.id=e.id,this.nodeId=e.nodeId,e.force.x.unit.type!=="Force"||e.force.y.unit.type!=="Force"||e.force.z.unit.type!=="Force")throw new Error("AppliedForce3D components must use Force units for x, y, and z.");const t=tt(e.force.x.value,[e.force.x.unit],[]),r=tt(e.force.y.value,[e.force.y.unit],[]),l=tt(e.force.z.value,[e.force.z.unit],[]);this.forceNewtons={x:t,y:r,z:l}}variables(){return[]}equations(e){return[]}forces(e){return[{nodeId:this.nodeId,fx:mn(this.forceNewtons.x),fy:mn(this.forceNewtons.y),fz:mn(this.forceNewtons.z),label:`${this.id} @ ${this.nodeId}`}]}}class Vk{constructor(e){if(this.id=e.id,this.nodeId=e.nodeId,e.mass.unit.type!=="Mass")throw new Error(`Expected Mass unit for weight mass, received ${e.mass.unit.type}.`);this.mass=e.mass,this.gravity=e.gravity??Fy,Ky(this.gravity,"gravity")}variables(){return[]}equations(e){return[]}forces(e){const t=Xw(this.mass,this.gravity);return[{nodeId:this.nodeId,fx:mn(0),fy:mn(-t.value),label:`${this.id} @ ${this.nodeId}`}]}}const Uk=(s,e)=>{const t=s.components.flatMap(l=>l.forces(s)),r=[];for(const l of e){const u=t.filter(y=>y.nodeId===l),d=u.reduce((y,p)=>Ln(y,p.fx),mn(0)),g=u.reduce((y,p)=>Ln(y,p.fy),mn(0));r.push({expr:d,label:`${l}: Î£Fx = 0`}),r.push({expr:g,label:`${l}: Î£Fy = 0`})}return r},zk=(s,e)=>{const t=s.components.flatMap(l=>l.forces(s)),r=[];for(const l of e){const u=t.filter(p=>p.nodeId===l),d=u.reduce((p,_)=>Ln(p,_.fx),mn(0)),g=u.reduce((p,_)=>Ln(p,_.fy),mn(0)),y=u.reduce((p,_)=>Ln(p,_.fz),mn(0));r.push({expr:d,label:`${l}: Î£Fx = 0`}),r.push({expr:g,label:`${l}: Î£Fy = 0`}),r.push({expr:y,label:`${l}: Î£Fz = 0`})}return r},sj=(s,e)=>{const t=s.components.flatMap(r=>r.equations(s));return[...Uk(s,e),...t]},ij=(s,e)=>{const t=s.components.flatMap(r=>r.equations(s));return[...zk(s,e),...t]},qk=s=>{const e=s.components.flatMap(l=>l.variables()),t=new Set,r=[];for(const l of e)t.has(l.id)||(t.add(l.id),r.push(l));return r},Fk=s=>{const e=s.components.flatMap(l=>l.variables()),t=new Set,r=[];for(const l of e)t.has(l.id)||(t.add(l.id),r.push(l));return r},rj=s=>{const e=s.equations,t=s.variableIds,r=t.length;if(r===0)return{};const l=e.length;if(l<r)throw new Error(`Underdetermined system: ${l} equations for ${r} variables.`);const u=Array.from({length:l},()=>Array.from({length:r},()=>0)),d=Array.from({length:l},()=>0);for(let M=0;M<l;M++){const W=e[M].expr;d[M]=-W.constant;for(let H=0;H<r;H++){const q=t[H];u[M][H]=W.terms[q]??0}}const g=1e-12;let y=0;const p=[];for(let M=0;M<r&&y<l;M++){let W=y,H=Math.abs(u[y][M]);for(let Y=y+1;Y<l;Y++){const re=Math.abs(u[Y][M]);re>H&&(H=re,W=Y)}if(H<g)continue;W!==y&&([u[W],u[y]]=[u[y],u[W]],[d[W],d[y]]=[d[y],d[W]]);const q=u[y][M];for(let Y=M;Y<r;Y++)u[y][Y]/=q;d[y]/=q;for(let Y=y+1;Y<l;Y++){const re=u[Y][M];if(!(Math.abs(re)<g)){for(let ee=M;ee<r;ee++)u[Y][ee]-=re*u[y][ee];d[Y]-=re*d[y]}}p[y]=M,y++}const _=y;if(_<r)throw new Error("System does not have a unique solution (rank deficient).");const E=Array.from({length:r},()=>0);for(let M=_-1;M>=0;M--){const W=p[M];let H=d[M];for(let q=W+1;q<r;q++)H-=u[M][q]*E[q];E[W]=H}const j={};for(let M=0;M<r;M++)j[t[M]]=E[M];for(const M of e){const W=Tk(M.expr,j),H=1+Math.abs(M.expr.constant)+Object.values(M.expr.terms).reduce((q,Y)=>q+Math.abs(Y),0);if(Math.abs(W)>1e-4*H)throw new Error(`Inconsistent solution; residual too large for equation "${M.label??"unnamed"}".`)}return j},Bk=s=>{const e=sj(s.system,s.equilibriumNodeIds),t=qk(s.system),r=s.variableIds??t.map(u=>u.id);return{variables:rj({equations:e,variableIds:r}),equations:e}},Hk=s=>{const e=ij(s.system,s.equilibriumNodeIds),t=Fk(s.system),r=s.variableIds??t.map(u=>u.id);return{variables:rj({equations:e,variableIds:r}),equations:e}},Ip=[{label:"N",unit:Le},{label:"lb",unit:Du}],Cp=s=>Ip.find(e=>e.label===s)?.unit??Le,Sh=[{label:"m",unit:Xn},{label:"ft",unit:Mu}],Ih=s=>Sh.find(e=>e.label===s)?.unit??Xn,aj=[{label:"kg",unit:Ru},{label:"g",unit:By},{label:"Mg",unit:Hy},{label:"mg",unit:$y},{label:"slug",unit:Gy}],$k=s=>aj.find(e=>e.label===s)?.unit??Ru,Qc=640,$t=40,DN={x:Qc/2,y:Qc/2},Gk=Math.cos(Math.PI/6),Yk=Math.sin(Math.PI/6),Kk=1,Ss=s=>{const e=(s.x-s.y)*Gk,t=(s.x+s.y)*Yk+s.z*Kk;return{x:DN.x+e,y:DN.y-t}},Wk=s=>Number.isFinite(s)?s===0?"0":Number(s.toPrecision(6)).toString():"â€”",Is=s=>{const e=s.trim();if(e==="")return null;const t=Number(e);return Number.isFinite(t)?t:null},Qk=s=>/^[A-Za-z][A-Za-z0-9_]*$/.test(s),Xk=(s,e)=>{const t=s.map(l=>{const u=Ih(l.unitLabel),d=Is(l.xText)??0,g=Is(l.yText)??0,y=Is(l.zText)??0;return{id:l.id,positionMeters:{x:tt(d,[u],[]),y:tt(g,[u],[]),z:tt(y,[u],[])}}}),r=[...s.filter(l=>l.support==="pinned").map(l=>new Dk({id:`pin.${l.id}`,nodeId:l.id})),...e.map(l=>{if(l.type==="spring"){const _={value:Is(l.kText)??0,forceUnit:Cp(l.kForceUnitLabel),lengthUnit:Ih(l.kLengthUnitLabel)},E=Is(l.l0Text),j=Ih(l.l0UnitLabel);return new Sk({id:l.id,startNodeId:l.startNodeId,endNodeId:l.endNodeId,stiffness:_,naturalLength:E==null?void 0:new $e(E,j)})}if(l.type==="cablePulley")return new Ck({id:l.id,startNodeId:l.startNodeId,pulleyNodeId:l.pulleyNodeId,endNodeId:l.endNodeId});if(l.type==="cable")return new Ik({id:l.id,startNodeId:l.startNodeId,endNodeId:l.endNodeId});if(l.type==="smoothContact"){const p=Is(l.thetaText)??0,_=Is(l.phiText)??0,E=p*Math.PI/180,j=_*Math.PI/180,M=Math.cos(j),W={x:M*Math.cos(E),y:M*Math.sin(E),z:Math.sin(j)};return new Rk({id:l.id,nodeId:l.nodeId,normal:W})}if(l.type==="weight"){const p=Is(l.massText)??0,_=Is(l.gravityText);return new Mk({id:l.id,nodeId:l.nodeId,mass:new $e(p,$k(l.massUnitLabel)),gravity:_??void 0})}const u=Cp(l.unitLabel),d=Is(l.fxText)??0,g=Is(l.fyText)??0,y=Is(l.fzText)??0;return new Lk({id:l.id,nodeId:l.nodeId,force:{x:new $e(d,u),y:new $e(g,u),z:new $e(y,u)}})})];return{nodes:t,components:r}};function Jk(){const[s,e]=O.useState([{id:"A",idText:"A",xText:"0",yText:"0",zText:"0",unitLabel:"m",includeInEquilibrium:!0,support:"pinned"},{id:"B",idText:"B",xText:"0",yText:"0",zText:"-2",unitLabel:"m",includeInEquilibrium:!0,support:"none"}]),[t,r]=O.useState([{id:"W",type:"weight",nodeId:"B",massText:"10",massUnitLabel:"kg",gravityText:"9.81"},{id:"AB",type:"cable",startNodeId:"A",endNodeId:"B"}]),[l,u]=O.useState(null),[d,g]=O.useState(null),[y,p]=O.useState([]),_=O.useMemo(()=>Xk(s,t),[s,t]),E=O.useMemo(()=>{const N=s.filter(K=>K.includeInEquilibrium).map(K=>K.id),I=s.filter(K=>K.support==="pinned").map(K=>K.id);return Array.from(new Set([...N,...I]))},[s]),j=()=>{u(null),g(null);try{if(E.length===0){u("Select at least one node to include in equilibrium.");return}const N=ij(_,E);p(N.map(K=>K.label??""));const I=Hk({system:_,equilibriumNodeIds:E});g(I.variables)}catch(N){const I=N instanceof Error?N.message:"Failed to solve system.";u(`${I}

Hint: Include equilibrium at free nodes. Mark supports as â€œPinned (Rx,Ry,Rz)â€ to add unknown reactions.`)}},M=(N,I)=>{e(K=>K.map(F=>F.id===N?{...F,...I}:F))},W=N=>{const I=s.find(F=>F.id===N);if(!I)return;const K=I.idText.trim();if(K!==N){if(!Qk(K)){u("Invalid node id. Use letters/numbers/underscore and start with a letter (e.g. A, N3, node_1).");return}if(s.some(F=>F.id!==N&&F.id===K)){u(`Duplicate node id "${K}". Node ids must be unique.`);return}e(F=>F.map(ne=>ne.id===N?{...ne,id:K,idText:K}:ne)),r(F=>F.map(ne=>ne.type==="spring"?{...ne,startNodeId:ne.startNodeId===N?K:ne.startNodeId,endNodeId:ne.endNodeId===N?K:ne.endNodeId}:ne.type==="cablePulley"?{...ne,startNodeId:ne.startNodeId===N?K:ne.startNodeId,pulleyNodeId:ne.pulleyNodeId===N?K:ne.pulleyNodeId,endNodeId:ne.endNodeId===N?K:ne.endNodeId}:ne.type==="cable"?{...ne,startNodeId:ne.startNodeId===N?K:ne.startNodeId,endNodeId:ne.endNodeId===N?K:ne.endNodeId}:{...ne,nodeId:ne.nodeId===N?K:ne.nodeId})),g(null),p([]),u(null)}},H=N=>{if(s.length<=1){u("Cannot remove the last node.");return}r(I=>I.filter(K=>K.type==="spring"?K.startNodeId!==N&&K.endNodeId!==N:K.type==="cablePulley"?K.startNodeId!==N&&K.pulleyNodeId!==N&&K.endNodeId!==N:K.type==="cable"?K.startNodeId!==N&&K.endNodeId!==N:K.nodeId!==N)),e(I=>I.filter(K=>K.id!==N)),g(null),p([]),u(null)},q=()=>{const N=`N${s.length+1}`;e(I=>[...I,{id:N,idText:N,xText:"1",yText:"0",zText:"0",unitLabel:"m",includeInEquilibrium:!0,support:"none"}])},Y=(N,I)=>{r(K=>K.map(F=>F.id===N?{...F,...I}:F)),g(null),p([])},re=N=>{r(I=>I.filter(K=>K.id!==N)),g(null),p([])},ee=()=>{const N=`c${t.filter(F=>F.type==="cable").length+1}`,I=s[0]?.id??"A",K=s[1]?.id??I;r(F=>[...F,{id:N,type:"cable",startNodeId:I,endNodeId:K}])},$=()=>{const N=`s${t.filter(F=>F.type==="spring").length+1}`,I=s[0]?.id??"A",K=s[1]?.id??I;r(F=>[...F,{id:N,type:"spring",startNodeId:I,endNodeId:K,kText:"300",kForceUnitLabel:"N",kLengthUnitLabel:"m",l0Text:"",l0UnitLabel:"m"}])},fe=()=>{const N=`p${t.filter(ne=>ne.type==="cablePulley").length+1}`,I=s[0]?.id??"A",K=s[1]?.id??I,F=s[2]?.id??I;r(ne=>[...ne,{id:N,type:"cablePulley",startNodeId:I,pulleyNodeId:K,endNodeId:F}])},xe=()=>{const N=`n${t.filter(K=>K.type==="smoothContact").length+1}`,I=s[0]?.id??"A";r(K=>[...K,{id:N,type:"smoothContact",nodeId:I,thetaText:"0",phiText:"90"}])},S=()=>{const N=`W${t.filter(K=>K.type==="weight").length+1}`,I=s[0]?.id??"A";r(K=>[...K,{id:N,type:"weight",nodeId:I,massText:"10",massUnitLabel:"kg",gravityText:"9.81"}])},A=()=>{const N=`F${t.filter(K=>K.type==="appliedForce").length+1}`,I=s[0]?.id??"A";r(K=>[...K,{id:N,type:"appliedForce",nodeId:I,fxText:"0",fyText:"0",fzText:"0",unitLabel:"N"}])},C=O.useMemo(()=>d?_.components.flatMap(I=>I.forces(_)).map(I=>{const K=F=>Object.entries(F.terms).reduce((ne,[me,Ne])=>ne+Ne*(d[me]??0),F.constant);return{...I,fxN:K(I.fx),fyN:K(I.fy),fzN:K(I.fz)}}):[],[d,_]),R=O.useMemo(()=>{const N=C.map(I=>Math.hypot(I.fxN,I.fyN,I.fzN)).filter(I=>Number.isFinite(I)&&I>0);return N.length?Math.max(...N):1},[C]),k=O.useMemo(()=>{const N=Qc/2-80;return Math.min(1,N/R)},[R]),B=O.useMemo(()=>d?Object.entries(d).map(([N,I])=>{const K=N.endsWith(".l0"),F=K?Ih("m"):Cp("N"),ne=K?ft(I,[Xn],[],[F],[]):ft(I,[Le],[],[F],[]);return{id:N,value:ne,unitLabel:F.abbreviation}}):[],[d]);return a.jsxs("div",{className:"border border-gray-200 bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[a.jsx("div",{className:"text-sm text-gray-700",children:"3D mode renders an isometric preview. +Z is up (weight acts in âˆ’Z)."}),a.jsx("button",{type:"button",onClick:j,className:"px-3 py-1.5 text-sm bg-gray-900 text-white hover:bg-gray-800 transition-colors",children:"Solve equilibrium"})]}),a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{className:"border border-gray-200 bg-gray-50",children:[a.jsx("div",{className:"px-3 py-2 text-sm text-gray-700 border-b border-gray-200",children:"Preview (isometric): +X is down-right, +Y is down-left, +Z is up."}),a.jsx("div",{className:"p-3",children:a.jsxs("svg",{viewBox:`0 0 ${Qc} ${Qc}`,className:"w-full h-[420px] select-none bg-white border border-gray-200",children:[a.jsx("defs",{children:a.jsx("marker",{id:"arrowhead-static-3d",markerWidth:"10",markerHeight:"10",refX:"8",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:a.jsx("path",{d:"M0,0 L8,3 L0,6 Z",fill:"currentColor"})})}),(()=>{const N=tt(6,[Xn],[])*$t,I=Ss({x:0,y:0,z:0}),K=Ss({x:N,y:0,z:0}),F=Ss({x:0,y:N,z:0}),ne=Ss({x:0,y:0,z:N});return a.jsxs("g",{className:"text-gray-400",children:[a.jsx("line",{x1:I.x,y1:I.y,x2:K.x,y2:K.y,stroke:"currentColor",strokeWidth:2}),a.jsx("line",{x1:I.x,y1:I.y,x2:F.x,y2:F.y,stroke:"currentColor",strokeWidth:2}),a.jsx("line",{x1:I.x,y1:I.y,x2:ne.x,y2:ne.y,stroke:"currentColor",strokeWidth:2}),a.jsx("text",{x:K.x+6,y:K.y,fill:"currentColor",fontSize:12,dominantBaseline:"middle",children:"+X"}),a.jsx("text",{x:F.x-6,y:F.y,fill:"currentColor",fontSize:12,dominantBaseline:"middle",textAnchor:"end",children:"+Y"}),a.jsx("text",{x:ne.x,y:ne.y-8,fill:"currentColor",fontSize:12,dominantBaseline:"middle",textAnchor:"middle",children:"+Z"}),a.jsx("circle",{cx:I.x,cy:I.y,r:3,fill:"currentColor"})]})})(),a.jsx("g",{className:"text-gray-500",children:t.map(N=>{if(N.type==="spring"||N.type==="cable"){const I=_.nodes.find(me=>me.id===(N.type==="spring",N.startNodeId)),K=_.nodes.find(me=>me.id===(N.type==="spring",N.endNodeId));if(!I||!K)return null;const F=Ss({x:I.positionMeters.x*$t,y:I.positionMeters.y*$t,z:I.positionMeters.z*$t}),ne=Ss({x:K.positionMeters.x*$t,y:K.positionMeters.y*$t,z:K.positionMeters.z*$t});return a.jsx("line",{x1:F.x,y1:F.y,x2:ne.x,y2:ne.y,stroke:"currentColor",strokeWidth:3,strokeDasharray:N.type==="spring"?"6 4":void 0},N.id)}if(N.type==="cablePulley"){const I=_.nodes.find(Ve=>Ve.id===N.startNodeId),K=_.nodes.find(Ve=>Ve.id===N.pulleyNodeId),F=_.nodes.find(Ve=>Ve.id===N.endNodeId);if(!I||!K||!F)return null;const ne=Ss({x:I.positionMeters.x*$t,y:I.positionMeters.y*$t,z:I.positionMeters.z*$t}),me=Ss({x:K.positionMeters.x*$t,y:K.positionMeters.y*$t,z:K.positionMeters.z*$t}),Ne=Ss({x:F.positionMeters.x*$t,y:F.positionMeters.y*$t,z:F.positionMeters.z*$t});return a.jsxs("g",{children:[a.jsx("line",{x1:ne.x,y1:ne.y,x2:me.x,y2:me.y,stroke:"currentColor",strokeWidth:3}),a.jsx("line",{x1:Ne.x,y1:Ne.y,x2:me.x,y2:me.y,stroke:"currentColor",strokeWidth:3}),a.jsx("circle",{cx:me.x,cy:me.y,r:7,fill:"none",stroke:"currentColor",strokeWidth:2})]},N.id)}return null})}),d?a.jsx("g",{className:"text-blue-700",children:C.map((N,I)=>{const K=_.nodes.find(Ve=>Ve.id===N.nodeId);if(!K)return null;const F={x:K.positionMeters.x*$t,y:K.positionMeters.y*$t,z:K.positionMeters.z*$t},ne={x:F.x+N.fxN*k,y:F.y+N.fyN*k,z:F.z+N.fzN*k},me=Ss(F),Ne=Ss(ne);return a.jsx("line",{x1:me.x,y1:me.y,x2:Ne.x,y2:Ne.y,stroke:"currentColor",strokeWidth:3,markerEnd:"url(#arrowhead-static-3d)"},`${N.nodeId}-${I}`)})}):null,a.jsx("g",{className:"text-gray-800",children:_.nodes.map(N=>{const I=Ss({x:N.positionMeters.x*$t,y:N.positionMeters.y*$t,z:N.positionMeters.z*$t});return a.jsxs("g",{children:[a.jsx("circle",{cx:I.x,cy:I.y,r:6,fill:"currentColor"}),a.jsx("text",{x:I.x+10,y:I.y-10,fill:"currentColor",fontSize:12,children:N.id})]},N.id)})})]})})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"button",onClick:q,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add node"}),a.jsx("button",{type:"button",onClick:ee,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add cable"}),a.jsx("button",{type:"button",onClick:$,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add spring"}),a.jsx("button",{type:"button",onClick:fe,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add cable/pulley"}),a.jsx("button",{type:"button",onClick:xe,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add contact"}),a.jsx("button",{type:"button",onClick:S,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add weight"}),a.jsx("button",{type:"button",onClick:A,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add force"})]}),l?a.jsx("div",{className:"border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-800 whitespace-pre-wrap",children:l}):null,a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_1fr] gap-6",children:[a.jsxs("section",{className:"space-y-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Nodes"}),a.jsx("div",{className:"space-y-2",children:s.map(N=>a.jsxs("div",{className:"border border-gray-200 p-3 space-y-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.id}),a.jsx("input",{className:"w-28 border border-gray-300 px-2 py-1 text-xs",value:N.idText,onChange:I=>M(N.id,{idText:I.target.value})}),a.jsx("button",{type:"button",onClick:()=>W(N.id),className:"px-2 py-1 text-xs border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Rename"}),a.jsx("button",{type:"button",onClick:()=>H(N.id),className:"px-2 py-1 text-xs border border-gray-300 text-gray-700 hover:border-gray-500 hover:text-gray-900 transition-colors",children:"Remove"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("label",{className:"text-xs text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Support"}),a.jsxs("select",{className:"border border-gray-300 bg-white px-2 py-1 text-xs",value:N.support,onChange:I=>{const K=I.target.value;M(N.id,{support:K,includeInEquilibrium:K==="pinned"?!0:N.includeInEquilibrium})},children:[a.jsx("option",{value:"none",children:"None"}),a.jsx("option",{value:"pinned",children:"Pinned (Rx,Ry,Rz)"})]})]}),a.jsxs("label",{className:"text-xs text-gray-700 flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:N.includeInEquilibrium||N.support==="pinned",disabled:N.support==="pinned",onChange:I=>M(N.id,{includeInEquilibrium:I.target.checked})}),"Include in equilibrium"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"x"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:N.xText,onChange:I=>M(N.id,{xText:I.target.value}),inputMode:"decimal"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"y"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:N.yText,onChange:I=>M(N.id,{yText:I.target.value}),inputMode:"decimal"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"z"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:N.zText,onChange:I=>M(N.id,{zText:I.target.value}),inputMode:"decimal"})]})]}),a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Unit"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:N.unitLabel,onChange:I=>M(N.id,{unitLabel:I.target.value}),children:Sh.map(I=>a.jsx("option",{value:I.label,children:I.label},I.label))})]})]},N.id))})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Components"}),a.jsx("div",{className:"space-y-2",children:t.map(N=>a.jsxs("div",{className:"border border-gray-200 p-3 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[N.id," ",a.jsx("span",{className:"text-gray-500 font-normal",children:N.type==="spring"?"(spring)":N.type==="cablePulley"?"(cable/pulley)":N.type==="cable"?"(cable)":N.type==="smoothContact"?"(smooth contact)":N.type==="weight"?"(weight)":"(applied force)"})]}),a.jsx("button",{type:"button",onClick:()=>re(N.id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),N.type==="cable"?a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:N.startNodeId,onChange:I=>Y(N.id,{startNodeId:I.target.value}),children:s.map(I=>a.jsx("option",{value:I.id,children:I.id},I.id))})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:N.endNodeId,onChange:I=>Y(N.id,{endNodeId:I.target.value}),children:s.map(I=>a.jsx("option",{value:I.id,children:I.id},I.id))})]})]}):N.type==="cablePulley"?a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:N.startNodeId,onChange:I=>Y(N.id,{startNodeId:I.target.value}),children:s.map(I=>a.jsx("option",{value:I.id,children:I.id},I.id))})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Pulley"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:N.pulleyNodeId,onChange:I=>Y(N.id,{pulleyNodeId:I.target.value}),children:s.map(I=>a.jsx("option",{value:I.id,children:I.id},I.id))})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:N.endNodeId,onChange:I=>Y(N.id,{endNodeId:I.target.value}),children:s.map(I=>a.jsx("option",{value:I.id,children:I.id},I.id))})]})]}):N.type==="spring"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:N.startNodeId,onChange:I=>Y(N.id,{startNodeId:I.target.value}),children:s.map(I=>a.jsx("option",{value:I.id,children:I.id},I.id))})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:N.endNodeId,onChange:I=>Y(N.id,{endNodeId:I.target.value}),children:s.map(I=>a.jsx("option",{value:I.id,children:I.id},I.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"k value"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:N.kText,onChange:I=>Y(N.id,{kText:I.target.value}),inputMode:"decimal"})]}),a.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[a.jsx("div",{className:"text-xs text-gray-600",children:"k units"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:N.kForceUnitLabel,onChange:I=>Y(N.id,{kForceUnitLabel:I.target.value}),children:Ip.map(I=>a.jsx("option",{value:I.label,children:I.label},I.label))}),a.jsx("span",{className:"text-gray-500",children:"/"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:N.kLengthUnitLabel,onChange:I=>Y(N.id,{kLengthUnitLabel:I.target.value}),children:Sh.map(I=>a.jsx("option",{value:I.label,children:I.label},I.label))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"l0 (optional)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:N.l0Text,onChange:I=>Y(N.id,{l0Text:I.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"l0 unit"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:N.l0UnitLabel,onChange:I=>Y(N.id,{l0UnitLabel:I.target.value}),children:Sh.map(I=>a.jsx("option",{value:I.label,children:I.label},I.label))})]})]})]}):N.type==="smoothContact"?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Node"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:N.nodeId,onChange:I=>Y(N.id,{nodeId:I.target.value}),children:s.map(I=>a.jsx("option",{value:I.id,children:I.id},I.id))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Î¸ (deg)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:N.thetaText,onChange:I=>Y(N.id,{thetaText:I.target.value}),inputMode:"decimal"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Ï† (deg)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:N.phiText,onChange:I=>Y(N.id,{phiText:I.target.value}),inputMode:"decimal"})]})]}),a.jsx("div",{className:"text-xs text-gray-600",children:"Normal uses Î¸/Ï† with Ï†=90Â° meaning +Z."})]}):N.type==="weight"?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Node"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:N.nodeId,onChange:I=>Y(N.id,{nodeId:I.target.value}),children:s.map(I=>a.jsx("option",{value:I.id,children:I.id},I.id))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Mass"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:N.massText,onChange:I=>Y(N.id,{massText:I.target.value}),inputMode:"decimal"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Unit"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:N.massUnitLabel,onChange:I=>Y(N.id,{massUnitLabel:I.target.value}),children:aj.map(I=>a.jsx("option",{value:I.label,children:I.label},I.label))})]})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Gravity (m/sÂ²)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:N.gravityText,onChange:I=>Y(N.id,{gravityText:I.target.value}),inputMode:"decimal"})]})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Node"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:N.nodeId,onChange:I=>Y(N.id,{nodeId:I.target.value}),children:s.map(I=>a.jsx("option",{value:I.id,children:I.id},I.id))})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Fx"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:N.fxText,onChange:I=>Y(N.id,{fxText:I.target.value}),inputMode:"decimal"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Fy"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:N.fyText,onChange:I=>Y(N.id,{fyText:I.target.value}),inputMode:"decimal"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Fz"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:N.fzText,onChange:I=>Y(N.id,{fzText:I.target.value}),inputMode:"decimal"})]})]}),a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Unit"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:N.unitLabel,onChange:I=>Y(N.id,{unitLabel:I.target.value}),children:Ip.map(I=>a.jsx("option",{value:I.label,children:I.label},I.label))})]})]})]},N.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_1fr] gap-6",children:[a.jsxs("section",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Solution"}),d?a.jsx("div",{className:"border border-gray-200 p-3 space-y-1",children:B.map(N=>a.jsxs("div",{className:"text-sm text-gray-800",children:[a.jsx("span",{className:"font-mono",children:N.id})," = ",Wk(N.value)," ",N.unitLabel]},N.id))}):a.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œSolve equilibriumâ€."})]}),a.jsxs("section",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Equations"}),a.jsx("div",{className:"text-xs text-gray-600",children:y.length?a.jsx("ul",{className:"list-disc pl-5 space-y-1",children:y.map((N,I)=>a.jsx("li",{children:N||"(unnamed)"},I))}):"Equations will appear after a solve attempt."})]})]})]})]})}const Rp=[{label:"N",unit:Le},{label:"lb",unit:Du}],Mp=s=>Rp.find(e=>e.label===s)?.unit??Le,Ch=[{label:"m",unit:Xn},{label:"ft",unit:Mu}],Xc=s=>Ch.find(e=>e.label===s)?.unit??Xn,oj=[{label:"kg",unit:Ru},{label:"g",unit:By},{label:"Mg",unit:Hy},{label:"mg",unit:$y},{label:"slug",unit:Gy}],Zk=s=>oj.find(e=>e.label===s)?.unit??Ru,ls=640,e6=40,ea={x:ls/2,y:ls/2},pu=80,Kg=s=>Number.isFinite(s)?s===0?"0":Number(s.toPrecision(6)).toString():"â€”",Xi=s=>{const e=s.trim();if(e==="")return null;const t=Number(e);return Number.isFinite(t)?t:null},t6=s=>{const e=(s%360+360)%360;return e===360?0:e},_i=s=>({x:ea.x+s.x*pu,y:ea.y-s.y*pu}),n6=s=>({x:(s.x-ea.x)/pu,y:(ea.y-s.y)/pu}),PN=(s,e)=>{const t=e.getBoundingClientRect(),r=(s.clientX-t.left)/t.width*ls,l=(s.clientY-t.top)/t.height*ls;return{x:r,y:l}},s6=(s,e)=>{const t=s.map(l=>{const u=Xc(l.unitLabel),d=Xi(l.xText)??0,g=Xi(l.yText)??0;return{id:l.id,positionMeters:{x:tt(d,[u],[]),y:tt(g,[u],[])}}}),r=[...s.filter(l=>l.support==="pinned").map(l=>new Pk({id:`pin.${l.id}`,nodeId:l.id})),...e.map(l=>{if(l.type==="spring"){const p={value:Xi(l.kText)??0,forceUnit:Mp(l.kForceUnitLabel),lengthUnit:Xc(l.kLengthUnitLabel)},_=Xi(l.l0Text),E=Xc(l.l0UnitLabel);return new wk({id:l.id,startNodeId:l.startNodeId,endNodeId:l.endNodeId,stiffness:p,naturalLength:_==null?void 0:new $e(_,E)})}if(l.type==="cablePulley")return new jk({id:l.id,startNodeId:l.startNodeId,pulleyNodeId:l.pulleyNodeId,endNodeId:l.endNodeId});if(l.type==="cable")return new Ak({id:l.id,startNodeId:l.startNodeId,endNodeId:l.endNodeId});if(l.type==="smoothContact"){const y=Xi(l.normalAngleDegText)??0,p=t6(y)*Math.PI/180;return new Ok({id:l.id,nodeId:l.nodeId,normal:{x:Math.cos(p),y:Math.sin(p)}})}if(l.type==="weight"){const y=Xi(l.massText)??0,p=Xi(l.gravityText);return new Vk({id:l.id,nodeId:l.nodeId,mass:new $e(y,Zk(l.massUnitLabel)),gravity:p??void 0})}const u=Mp(l.unitLabel),d=Xi(l.fxText)??0,g=Xi(l.fyText)??0;return new kk({id:l.id,nodeId:l.nodeId,force:{x:new $e(d,u),y:new $e(g,u)}})})];return{nodes:t,components:r}};function i6(){const[s,e]=O.useState("2d"),t=O.useRef(null),[r,l]=O.useState([{id:"A",idText:"A",xText:"-4",yText:"3",unitLabel:"m",includeInEquilibrium:!1,support:"pinned"},{id:"B",idText:"B",xText:"0",yText:"0",unitLabel:"m",includeInEquilibrium:!0,support:"none"},{id:"N3",idText:"N3",xText:"1",yText:"1",unitLabel:"m",includeInEquilibrium:!1,support:"pinned"},{id:"N4",idText:"N4",xText:"0",yText:"-1",unitLabel:"m",includeInEquilibrium:!0,support:"none"}]),[u,d]=O.useState([{id:"W",type:"weight",nodeId:"N4",massText:"60",massUnitLabel:"kg",gravityText:"9.81"},{id:"BA",type:"cable",startNodeId:"A",endNodeId:"B"},{id:"BN3",type:"cable",startNodeId:"N3",endNodeId:"B"},{id:"BN4",type:"cable",startNodeId:"B",endNodeId:"N4"}]),[g,y]=O.useState(null),[p,_]=O.useState(null),[E,j]=O.useState(null),[M,W]=O.useState(null),[H,q]=O.useState([]),Y=O.useMemo(()=>s6(r,u),[r,u]),re=O.useMemo(()=>{const D=r.filter(te=>te.includeInEquilibrium).map(te=>te.id),P=r.filter(te=>te.support==="pinned").map(te=>te.id);return Array.from(new Set([...D,...P]))},[r]),ee=O.useMemo(()=>M?Y.components.flatMap(P=>P.forces(Y)).map(P=>{const te=Object.entries(P.fx.terms).reduce((pe,[lt,_n])=>pe+_n*(M[lt]??0),P.fx.constant),ve=Object.entries(P.fy.terms).reduce((pe,[lt,_n])=>pe+_n*(M[lt]??0),P.fy.constant);return{...P,fxN:te,fyN:ve}}):[],[M,Y]),$=O.useMemo(()=>{const D=ee.map(P=>Math.hypot(P.fxN,P.fyN)).filter(P=>Number.isFinite(P)&&P>0);return D.length?Math.max(...D):1},[ee]),fe=O.useMemo(()=>{const D=ls/2-e6;return Math.min(1,D/$)},[$]),xe=()=>{j(null),W(null);try{if(re.length===0){j("Select at least one node to include in equilibrium.");return}const D=sj(Y,re);q(D.map(te=>te.label??""));const P=Bk({system:Y,equilibriumNodeIds:re});W(P.variables)}catch(D){const P=D instanceof Error?D.message:"Failed to solve system.";j(`${P}

Hint: If you include a node in equilibrium, it must have either (a) enough connected members + loads, or (b) a support reaction. Mark support nodes as â€œPinnedâ€ to add Rx/Ry reactions, or uncheck â€œInclude in equilibriumâ€ for nodes you donâ€™t want to solve.`)}},S=()=>{const D=`N${r.length+1}`;l(P=>[...P,{id:D,idText:D,xText:"1",yText:"0",unitLabel:"m",includeInEquilibrium:!0,support:"none"}])},A=()=>{const D=`s${u.filter(ve=>ve.type==="spring").length+1}`,P=r[0]?.id??"A",te=r[1]?.id??"B";d(ve=>[...ve,{id:D,type:"spring",startNodeId:P,endNodeId:te,kText:"100",kForceUnitLabel:"N",kLengthUnitLabel:"m",l0Text:"",l0UnitLabel:"m"}])},C=()=>{const D=`c${u.filter(pe=>pe.type==="cablePulley").length+1}`,P=r[0]?.id??"A",te=r[1]?.id??"B",ve=r[2]?.id??r[0]?.id??"A";d(pe=>[...pe,{id:D,type:"cablePulley",startNodeId:P,pulleyNodeId:te,endNodeId:ve}])},R=()=>{const D=`cb${u.filter(ve=>ve.type==="cable").length+1}`,P=r[0]?.id??"A",te=r[1]?.id??"B";d(ve=>[...ve,{id:D,type:"cable",startNodeId:P,endNodeId:te}])},k=()=>{const D=`n${u.filter(te=>te.type==="smoothContact").length+1}`,P=r[0]?.id??"A";d(te=>[...te,{id:D,type:"smoothContact",nodeId:P,normalAngleDegText:"90"}])},B=()=>{const D=`W${u.filter(te=>te.type==="weight").length+1}`,P=r[0]?.id??"A";d(te=>[...te,{id:D,type:"weight",nodeId:P,massText:"10",massUnitLabel:"kg",gravityText:""}])},N=()=>{const D=`F${u.filter(te=>te.type==="appliedForce").length+1}`,P=r[0]?.id??"A";d(te=>[...te,{id:D,type:"appliedForce",nodeId:P,fxText:"0",fyText:"0",unitLabel:"N"}])},I=D=>{d(P=>P.filter(te=>te.id!==D))},K=D=>{if(r.length<=1){j("Cannot remove the last node.");return}d(P=>P.filter(te=>te.type==="spring"?te.startNodeId!==D&&te.endNodeId!==D:te.type==="cablePulley"?te.startNodeId!==D&&te.pulleyNodeId!==D&&te.endNodeId!==D:te.type==="cable"?te.startNodeId!==D&&te.endNodeId!==D:(te.type==="smoothContact"||te.type==="weight",te.nodeId!==D))),l(P=>P.filter(te=>te.id!==D)),g===D&&y(null),p===D&&_(null),W(null),q([]),j(null)},F=(D,P)=>{l(te=>te.map(ve=>ve.id===D?{...ve,...P}:ve))},ne=D=>/^[A-Za-z][A-Za-z0-9_]*$/.test(D),me=D=>{const P=r.find(ve=>ve.id===D);if(!P)return;const te=P.idText.trim();if(te!==D){if(!ne(te)){j("Invalid node id. Use letters/numbers/underscore and start with a letter (e.g. A, N3, node_1).");return}if(r.some(ve=>ve.id!==D&&ve.id===te)){j(`Duplicate node id "${te}". Node ids must be unique.`);return}l(ve=>ve.map(pe=>pe.id===D?{...pe,id:te,idText:te}:pe)),d(ve=>ve.map(pe=>pe.type==="spring"?{...pe,startNodeId:pe.startNodeId===D?te:pe.startNodeId,endNodeId:pe.endNodeId===D?te:pe.endNodeId}:pe.type==="cablePulley"?{...pe,startNodeId:pe.startNodeId===D?te:pe.startNodeId,pulleyNodeId:pe.pulleyNodeId===D?te:pe.pulleyNodeId,endNodeId:pe.endNodeId===D?te:pe.endNodeId}:pe.type==="cable"?{...pe,startNodeId:pe.startNodeId===D?te:pe.startNodeId,endNodeId:pe.endNodeId===D?te:pe.endNodeId}:pe.type==="smoothContact"?{...pe,nodeId:pe.nodeId===D?te:pe.nodeId}:pe.type==="weight"?{...pe,nodeId:pe.nodeId===D?te:pe.nodeId}:{...pe,nodeId:pe.nodeId===D?te:pe.nodeId})),g===D&&y(te),p===D&&_(te),W(null),q([]),j(null)}},Ne=(D,P)=>{d(te=>te.map(ve=>ve.id===D?{...ve,...P}:ve))},Ve=D=>{if(!t.current)return;const P=PN(D,t.current),te=Y.nodes.map(ve=>({id:ve.id,p:_i(ve.positionMeters)})).find(ve=>Math.hypot(ve.p.x-P.x,ve.p.y-P.y)<=12);te&&(t.current.setPointerCapture(D.pointerId),_(te.id),y(te.id))},V=D=>{if(!t.current||!p)return;const P=PN(D,t.current),te=n6(P),ve=r.find(Mn=>Mn.id===p);if(!ve)return;const pe=Xc(ve.unitLabel),lt=ft(te.x,[Xn],[],[pe],[]),_n=ft(te.y,[Xn],[],[pe],[]);F(p,{xText:Kg(lt),yText:Kg(_n)})},le=D=>{t.current&&p&&(t.current.releasePointerCapture(D.pointerId),_(null))},ge=O.useMemo(()=>{const D=[],P=pu;for(let te=0;te<=ls;te+=P)D.push({x1:te,y1:0,x2:te,y2:ls});for(let te=0;te<=ls;te+=P)D.push({x1:0,y1:te,x2:ls,y2:te});return D},[]),je=O.useMemo(()=>M?Object.entries(M).map(([D,P])=>{const te=D.endsWith(".l0"),ve=te?Xc("m"):Mp("N"),pe=te?ft(P,[Xn],[],[ve],[]):ft(P,[Le],[],[ve],[]);return{id:D,value:pe,unitLabel:ve.abbreviation}}):[],[M]);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Rt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-3",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx(_e,{to:"/toolbox",className:"border-b border-gray-300 hover:border-gray-500 transition-colors",children:"Toolbox"})," ",a.jsx("span",{className:"text-gray-400",children:"/"})," Static system"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Static system"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Assemble springs, cables/pulleys, and smooth contacts, then solve for static equilibrium (Î£Fx = 0, Î£Fy = 0)."}),a.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>e("2d"),className:`text-sm border px-2 py-1 ${s==="2d"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"2D"}),a.jsx("button",{type:"button",onClick:()=>e("3d"),className:`text-sm border px-2 py-1 ${s==="3d"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"3D"})]})]}),s==="3d"?a.jsx(Jk,{}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-6",children:[a.jsxs("section",{className:"border border-gray-200 bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[a.jsx("div",{className:"text-sm text-gray-700",children:"Drag nodes to reposition."}),a.jsx("button",{type:"button",onClick:xe,className:"px-3 py-1.5 text-sm bg-gray-900 text-white hover:bg-gray-800 transition-colors",children:"Solve equilibrium"})]}),a.jsx("div",{className:"p-4",children:a.jsxs("svg",{ref:t,viewBox:`0 0 ${ls} ${ls}`,className:"w-full h-[520px] touch-none select-none bg-gray-50 border border-gray-200",onPointerDown:Ve,onPointerMove:V,onPointerUp:le,children:[a.jsx("defs",{children:a.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"8",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:a.jsx("path",{d:"M0,0 L8,3 L0,6 Z",fill:"currentColor"})})}),a.jsx("g",{className:"text-gray-200",children:ge.map((D,P)=>a.jsx("line",{x1:D.x1,y1:D.y1,x2:D.x2,y2:D.y2,stroke:"currentColor",strokeWidth:1},P))}),a.jsxs("g",{className:"text-gray-400",children:[a.jsx("line",{x1:0,y1:ea.y,x2:ls,y2:ea.y,stroke:"currentColor",strokeWidth:2}),a.jsx("line",{x1:ea.x,y1:0,x2:ea.x,y2:ls,stroke:"currentColor",strokeWidth:2})]}),a.jsx("g",{className:"text-gray-500",children:u.map(D=>{if(D.type==="spring"){const P=Y.nodes.find(lt=>lt.id===D.startNodeId),te=Y.nodes.find(lt=>lt.id===D.endNodeId);if(!P||!te)return null;const ve=_i(P.positionMeters),pe=_i(te.positionMeters);return a.jsx("line",{x1:ve.x,y1:ve.y,x2:pe.x,y2:pe.y,stroke:"currentColor",strokeWidth:3,strokeDasharray:"6 4"},D.id)}if(D.type==="cablePulley"){const P=Y.nodes.find(Mn=>Mn.id===D.startNodeId),te=Y.nodes.find(Mn=>Mn.id===D.pulleyNodeId),ve=Y.nodes.find(Mn=>Mn.id===D.endNodeId);if(!P||!te||!ve)return null;const pe=_i(P.positionMeters),lt=_i(te.positionMeters),_n=_i(ve.positionMeters);return a.jsxs("g",{children:[a.jsx("line",{x1:pe.x,y1:pe.y,x2:lt.x,y2:lt.y,stroke:"currentColor",strokeWidth:3}),a.jsx("line",{x1:_n.x,y1:_n.y,x2:lt.x,y2:lt.y,stroke:"currentColor",strokeWidth:3}),a.jsx("circle",{cx:lt.x,cy:lt.y,r:7,fill:"none",stroke:"currentColor",strokeWidth:2})]},D.id)}if(D.type==="cable"){const P=Y.nodes.find(lt=>lt.id===D.startNodeId),te=Y.nodes.find(lt=>lt.id===D.endNodeId);if(!P||!te)return null;const ve=_i(P.positionMeters),pe=_i(te.positionMeters);return a.jsx("line",{x1:ve.x,y1:ve.y,x2:pe.x,y2:pe.y,stroke:"currentColor",strokeWidth:3},D.id)}return null})}),M&&a.jsx("g",{className:"text-blue-700",children:ee.map((D,P)=>{const te=Y.nodes.find(lt=>lt.id===D.nodeId);if(!te)return null;const ve=_i(te.positionMeters),pe={x:ve.x+D.fxN*fe,y:ve.y-D.fyN*fe};return a.jsx("g",{children:a.jsx("line",{x1:ve.x,y1:ve.y,x2:pe.x,y2:pe.y,stroke:"currentColor",strokeWidth:3,markerEnd:"url(#arrowhead)"})},`${D.nodeId}-${P}`)})}),a.jsx("g",{children:Y.nodes.map(D=>{const P=_i(D.positionMeters),te=D.id===g;return a.jsxs("g",{onClick:ve=>{ve.stopPropagation(),y(D.id)},style:{cursor:"pointer"},children:[a.jsx("circle",{cx:P.x,cy:P.y,r:10,fill:te?"#111827":"#374151"}),a.jsx("text",{x:P.x+12,y:P.y-12,fill:"#111827",fontSize:14,children:D.id})]},D.id)})})]})})]}),a.jsxs("aside",{className:"border border-gray-200 bg-white",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex flex-wrap gap-2 items-center justify-between",children:[a.jsx("div",{className:"text-lg font-serif text-gray-900",children:"Model"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{type:"button",onClick:S,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add node"}),a.jsx("button",{type:"button",onClick:A,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add spring"}),a.jsx("button",{type:"button",onClick:C,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add cable/pulley"}),a.jsx("button",{type:"button",onClick:R,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add cable"}),a.jsx("button",{type:"button",onClick:k,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add contact"}),a.jsx("button",{type:"button",onClick:B,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add weight"}),a.jsx("button",{type:"button",onClick:N,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add force"})]})]}),a.jsxs("div",{className:"p-4 space-y-6",children:[E&&a.jsx("div",{className:"border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-800",children:E}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Nodes"}),a.jsx("div",{className:"space-y-2",children:r.map(D=>a.jsxs("div",{className:"border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex flex-col gap-2 mb-2 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.id}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("input",{className:"w-28 border border-gray-300 px-2 py-1 text-xs",value:D.idText,onChange:P=>F(D.id,{idText:P.target.value}),placeholder:"Node id"}),a.jsx("button",{type:"button",onClick:()=>me(D.id),className:"px-2 py-1 text-xs border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",title:"Rename node (updates connected components)",children:"Rename"}),a.jsx("button",{type:"button",onClick:()=>K(D.id),className:"px-2 py-1 text-xs border border-gray-300 text-gray-700 hover:border-gray-500 hover:text-gray-900 transition-colors",title:"Remove node (also removes connected components)",children:"Remove"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("label",{className:"text-xs text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Support"}),a.jsxs("select",{className:"border border-gray-300 bg-white px-2 py-1 text-xs",value:D.support,onChange:P=>{const te=P.target.value;F(D.id,{support:te,includeInEquilibrium:te==="pinned"?!0:D.includeInEquilibrium})},children:[a.jsx("option",{value:"none",children:"None"}),a.jsx("option",{value:"pinned",children:"Pinned (Rx,Ry)"})]})]}),a.jsxs("label",{className:"text-xs text-gray-700 flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:D.includeInEquilibrium||D.support==="pinned",disabled:D.support==="pinned",onChange:P=>F(D.id,{includeInEquilibrium:P.target.checked})}),"Include in equilibrium"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"x"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:D.xText,onChange:P=>F(D.id,{xText:P.target.value}),inputMode:"decimal"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"y"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:D.yText,onChange:P=>F(D.id,{yText:P.target.value}),inputMode:"decimal"})]})]}),a.jsx("div",{className:"mt-2",children:a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Unit"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:D.unitLabel,onChange:P=>F(D.id,{unitLabel:P.target.value}),children:Ch.map(P=>a.jsx("option",{value:P.label,children:P.label},P.label))})]})})]},D.id))})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Components"}),a.jsx("div",{className:"space-y-2",children:u.map(D=>a.jsxs("div",{className:"border border-gray-200 p-3 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[D.id," ",a.jsx("span",{className:"text-gray-500 font-normal",children:D.type==="spring"?"(spring)":D.type==="cablePulley"?"(cable/pulley)":D.type==="cable"?"(cable)":D.type==="smoothContact"?"(smooth contact)":D.type==="weight"?"(weight)":"(applied force)"})]}),a.jsx("button",{type:"button",onClick:()=>I(D.id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),D.type==="spring"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:D.startNodeId,onChange:P=>Ne(D.id,{startNodeId:P.target.value}),children:r.map(P=>a.jsx("option",{value:P.id,children:P.id},P.id))})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:D.endNodeId,onChange:P=>Ne(D.id,{endNodeId:P.target.value}),children:r.map(P=>a.jsx("option",{value:P.id,children:P.id},P.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"k value"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:D.kText,onChange:P=>Ne(D.id,{kText:P.target.value}),inputMode:"decimal"})]}),a.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[a.jsx("div",{className:"text-xs text-gray-600",children:"k units"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:D.kForceUnitLabel,onChange:P=>Ne(D.id,{kForceUnitLabel:P.target.value}),children:Rp.map(P=>a.jsx("option",{value:P.label,children:P.label},P.label))}),a.jsx("span",{className:"text-gray-500",children:"/"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:D.kLengthUnitLabel,onChange:P=>Ne(D.id,{kLengthUnitLabel:P.target.value}),children:Ch.map(P=>a.jsx("option",{value:P.label,children:P.label},P.label))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"l0 (optional)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:D.l0Text,onChange:P=>Ne(D.id,{l0Text:P.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"l0 unit"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:D.l0UnitLabel,onChange:P=>Ne(D.id,{l0UnitLabel:P.target.value}),children:Ch.map(P=>a.jsx("option",{value:P.label,children:P.label},P.label))})]})]})]}):D.type==="cablePulley"?a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:D.startNodeId,onChange:P=>Ne(D.id,{startNodeId:P.target.value}),children:r.map(P=>a.jsx("option",{value:P.id,children:P.id},P.id))})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Pulley"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:D.pulleyNodeId,onChange:P=>Ne(D.id,{pulleyNodeId:P.target.value}),children:r.map(P=>a.jsx("option",{value:P.id,children:P.id},P.id))})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:D.endNodeId,onChange:P=>Ne(D.id,{endNodeId:P.target.value}),children:r.map(P=>a.jsx("option",{value:P.id,children:P.id},P.id))})]})]}):D.type==="cable"?a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:D.startNodeId,onChange:P=>Ne(D.id,{startNodeId:P.target.value}),children:r.map(P=>a.jsx("option",{value:P.id,children:P.id},P.id))})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:D.endNodeId,onChange:P=>Ne(D.id,{endNodeId:P.target.value}),children:r.map(P=>a.jsx("option",{value:P.id,children:P.id},P.id))})]})]}):D.type==="smoothContact"?a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Node"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:D.nodeId,onChange:P=>Ne(D.id,{nodeId:P.target.value}),children:r.map(P=>a.jsx("option",{value:P.id,children:P.id},P.id))})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Normal angle (deg)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:D.normalAngleDegText,onChange:P=>Ne(D.id,{normalAngleDegText:P.target.value}),inputMode:"decimal"})]})]}):D.type==="weight"?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Node"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:D.nodeId,onChange:P=>Ne(D.id,{nodeId:P.target.value}),children:r.map(P=>a.jsx("option",{value:P.id,children:P.id},P.id))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Mass"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:D.massText,onChange:P=>Ne(D.id,{massText:P.target.value}),inputMode:"decimal"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Unit"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:D.massUnitLabel,onChange:P=>Ne(D.id,{massUnitLabel:P.target.value}),children:oj.map(P=>a.jsx("option",{value:P.label,children:P.label},P.label))})]})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Gravity (m/sÂ², optional)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:D.gravityText,onChange:P=>Ne(D.id,{gravityText:P.target.value}),inputMode:"decimal",placeholder:"9.80665"})]})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Node"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:D.nodeId,onChange:P=>Ne(D.id,{nodeId:P.target.value}),children:r.map(P=>a.jsx("option",{value:P.id,children:P.id},P.id))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Fx"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:D.fxText,onChange:P=>Ne(D.id,{fxText:P.target.value}),inputMode:"decimal"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Fy"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:D.fyText,onChange:P=>Ne(D.id,{fyText:P.target.value}),inputMode:"decimal"})]})]}),a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Unit"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:D.unitLabel,onChange:P=>Ne(D.id,{unitLabel:P.target.value}),children:Rp.map(P=>a.jsx("option",{value:P.label,children:P.label},P.label))})]})]})]},D.id))})]}),a.jsxs("section",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Solution"}),M?a.jsxs("div",{className:"border border-gray-200 p-3 space-y-2",children:[a.jsx("div",{className:"text-xs text-gray-600",children:"Variables are solved in SI internally (N, m)."}),a.jsx("div",{className:"space-y-1",children:je.map(D=>a.jsxs("div",{className:"text-sm text-gray-800",children:[a.jsx("span",{className:"font-mono",children:D.id})," = ",Kg(D.value)," ",D.unitLabel]},D.id))})]}):a.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œSolve equilibriumâ€."})]}),a.jsxs("section",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Equations"}),a.jsx("div",{className:"text-xs text-gray-600",children:H.length?a.jsx("ul",{className:"list-disc pl-5 space-y-1",children:H.map((D,P)=>a.jsx("li",{children:D||"(unnamed)"},P))}):"Equations will appear after a solve attempt."})]})]})]})]})]})}),a.jsx(Ct,{})]})}function r6(){return a.jsxs(V2,{children:[a.jsx(At,{path:"/",element:a.jsx(EO,{})}),a.jsx(At,{path:"/contact",element:a.jsx(TO,{})}),a.jsx(At,{path:"/portal",element:a.jsx(wO,{})}),a.jsx(At,{path:"/dashboard",element:a.jsx(jO,{})}),a.jsx(At,{path:"/legal",element:a.jsx(AO,{})}),a.jsx(At,{path:"/toolbox",element:a.jsx($O,{})}),a.jsx(At,{path:"/toolbox/unit-conversion",element:a.jsx(ak,{})}),a.jsx(At,{path:"/toolbox/force-vectors",element:a.jsx(_k,{})}),a.jsx(At,{path:"/toolbox/static-system",element:a.jsx(i6,{})}),a.jsx(At,{path:"/blog",element:a.jsx(SO,{})}),a.jsx(At,{path:"/blog/professional-engineering-st-louis-missouri",element:a.jsx(IO,{})}),a.jsx(At,{path:"/blog/engineering-review-professional-judgment-st-louis-missouri",element:a.jsx(CO,{})}),a.jsx(At,{path:"/blog/forensic-engineering-missouri-technical-analysis",element:a.jsx(RO,{})}),a.jsx(At,{path:"/blog/professional-engineer-expert-witness-missouri",element:a.jsx(MO,{})}),a.jsx(At,{path:"/blog/engineering-standards-assumptions-failure-analysis",element:a.jsx(DO,{})}),a.jsx(At,{path:"/blog/when-professional-engineer-required-missouri",element:a.jsx(PO,{})}),a.jsx(At,{path:"/blog/what-does-engineering-expert-witness-do",element:a.jsx(OO,{})}),a.jsx(At,{path:"/blog/what-does-professional-engineer-seal-mean",element:a.jsx(kO,{})}),a.jsx(At,{path:"/blog/engineering-causation-failure-analysis",element:a.jsx(LO,{})}),a.jsx(At,{path:"/blog/courts-evaluate-engineering-causation-testimony",element:a.jsx(VO,{})}),a.jsx(At,{path:"/blog/root-cause-vs-legal-cause-engineering",element:a.jsx(UO,{})}),a.jsx(At,{path:"/blog/common-mistakes-engineering-expert-reports",element:a.jsx(zO,{})}),a.jsx(At,{path:"/blog/structural-analysis-building-approval-missouri",element:a.jsx(qO,{})}),a.jsx(At,{path:"/blog/property-condition-assessment-pca",element:a.jsx(FO,{})}),a.jsx(At,{path:"/blog/pca-vs-cna-understanding-the-difference",element:a.jsx(BO,{})}),a.jsx(At,{path:"/blog/how-lenders-use-property-condition-assessments-pca",element:a.jsx(HO,{})})]})}const a6=TA.createRoot(document.getElementById("root"));a6.render(a.jsx(O.StrictMode,{children:a.jsx(lA,{children:a.jsx(r6,{})})}));
