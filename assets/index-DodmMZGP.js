(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function t(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=t(l);fetch(l.href,c)}})();var Cg={exports:{}},Bc={};var Rv;function g1(){if(Rv)return Bc;Rv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var f in l)f!=="key"&&(c[f]=l[f])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Bc.Fragment=e,Bc.jsx=t,Bc.jsxs=t,Bc}var Mv;function p1(){return Mv||(Mv=1,Cg.exports=g1()),Cg.exports}var i=p1(),Rg={exports:{}},Xe={};var Dv;function y1(){if(Dv)return Xe;Dv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.iterator;function M(L){return L===null||typeof L!="object"?null:(L=I&&L[I]||L["@@iterator"],typeof L=="function"?L:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,$={};function X(L,ue,_e){this.props=L,this.context=ue,this.refs=$,this.updater=_e||G}X.prototype.isReactComponent={},X.prototype.setState=function(L,ue){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ue,"setState")},X.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function ie(){}ie.prototype=X.prototype;function ne(L,ue,_e){this.props=L,this.context=ue,this.refs=$,this.updater=_e||G}var Re=ne.prototype=new ie;Re.constructor=ne,W(Re,X.prototype),Re.isPureReactComponent=!0;var ke=Array.isArray;function Me(){}var O={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function k(L,ue,_e){var Ie=_e.ref;return{$$typeof:s,type:L,key:ue,ref:Ie!==void 0?Ie:null,props:_e}}function z(L,ue){return k(L.type,ue,L.props)}function P(L){return typeof L=="object"&&L!==null&&L.$$typeof===s}function B(L){var ue={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(_e){return ue[_e]})}var E=/\/+/g;function xe(L,ue){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):ue.toString(36)}function pe(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(Me,Me):(L.status="pending",L.then(function(ue){L.status==="pending"&&(L.status="fulfilled",L.value=ue)},function(ue){L.status==="pending"&&(L.status="rejected",L.reason=ue)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function H(L,ue,_e,Ie,Fe){var Ge=typeof L;(Ge==="undefined"||Ge==="boolean")&&(L=null);var A=!1;if(L===null)A=!0;else switch(Ge){case"bigint":case"string":case"number":A=!0;break;case"object":switch(L.$$typeof){case s:case e:A=!0;break;case N:return A=L._init,H(A(L._payload),ue,_e,Ie,Fe)}}if(A)return Fe=Fe(L),A=Ie===""?"."+xe(L,0):Ie,ke(Fe)?(_e="",A!=null&&(_e=A.replace(E,"$&/")+"/"),H(Fe,ue,_e,"",function(de){return de})):Fe!=null&&(P(Fe)&&(Fe=z(Fe,_e+(Fe.key==null||L&&L.key===Fe.key?"":(""+Fe.key).replace(E,"$&/")+"/")+A)),ue.push(Fe)),1;A=0;var R=Ie===""?".":Ie+":";if(ke(L))for(var Q=0;Q<L.length;Q++)Ie=L[Q],Ge=R+xe(Ie,Q),A+=H(Ie,ue,_e,Ge,Fe);else if(Q=M(L),typeof Q=="function")for(L=Q.call(L),Q=0;!(Ie=L.next()).done;)Ie=Ie.value,Ge=R+xe(Ie,Q++),A+=H(Ie,ue,_e,Ge,Fe);else if(Ge==="object"){if(typeof L.then=="function")return H(pe(L),ue,_e,Ie,Fe);throw ue=String(L),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return A}function ce(L,ue,_e){if(L==null)return L;var Ie=[],Fe=0;return H(L,Ie,"","",function(Ge){return ue.call(_e,Ge,Fe++)}),Ie}function be(L){if(L._status===-1){var ue=L._result;ue=ue(),ue.then(function(_e){(L._status===0||L._status===-1)&&(L._status=1,L._result=_e)},function(_e){(L._status===0||L._status===-1)&&(L._status=2,L._result=_e)}),L._status===-1&&(L._status=0,L._result=ue)}if(L._status===1)return L._result.default;throw L._result}var ae=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},et={map:ce,forEach:function(L,ue,_e){ce(L,function(){ue.apply(this,arguments)},_e)},count:function(L){var ue=0;return ce(L,function(){ue++}),ue},toArray:function(L){return ce(L,function(ue){return ue})||[]},only:function(L){if(!P(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Xe.Activity=w,Xe.Children=et,Xe.Component=X,Xe.Fragment=t,Xe.Profiler=l,Xe.PureComponent=ne,Xe.StrictMode=a,Xe.Suspense=y,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return O.H.useMemoCache(L)}},Xe.cache=function(L){return function(){return L.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(L,ue,_e){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Ie=W({},L.props),Fe=L.key;if(ue!=null)for(Ge in ue.key!==void 0&&(Fe=""+ue.key),ue)!C.call(ue,Ge)||Ge==="key"||Ge==="__self"||Ge==="__source"||Ge==="ref"&&ue.ref===void 0||(Ie[Ge]=ue[Ge]);var Ge=arguments.length-2;if(Ge===1)Ie.children=_e;else if(1<Ge){for(var A=Array(Ge),R=0;R<Ge;R++)A[R]=arguments[R+2];Ie.children=A}return k(L.type,Fe,Ie)},Xe.createContext=function(L){return L={$$typeof:d,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:c,_context:L},L},Xe.createElement=function(L,ue,_e){var Ie,Fe={},Ge=null;if(ue!=null)for(Ie in ue.key!==void 0&&(Ge=""+ue.key),ue)C.call(ue,Ie)&&Ie!=="key"&&Ie!=="__self"&&Ie!=="__source"&&(Fe[Ie]=ue[Ie]);var A=arguments.length-2;if(A===1)Fe.children=_e;else if(1<A){for(var R=Array(A),Q=0;Q<A;Q++)R[Q]=arguments[Q+2];Fe.children=R}if(L&&L.defaultProps)for(Ie in A=L.defaultProps,A)Fe[Ie]===void 0&&(Fe[Ie]=A[Ie]);return k(L,Ge,Fe)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(L){return{$$typeof:f,render:L}},Xe.isValidElement=P,Xe.lazy=function(L){return{$$typeof:N,_payload:{_status:-1,_result:L},_init:be}},Xe.memo=function(L,ue){return{$$typeof:g,type:L,compare:ue===void 0?null:ue}},Xe.startTransition=function(L){var ue=O.T,_e={};O.T=_e;try{var Ie=L(),Fe=O.S;Fe!==null&&Fe(_e,Ie),typeof Ie=="object"&&Ie!==null&&typeof Ie.then=="function"&&Ie.then(Me,ae)}catch(Ge){ae(Ge)}finally{ue!==null&&_e.types!==null&&(ue.types=_e.types),O.T=ue}},Xe.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Xe.use=function(L){return O.H.use(L)},Xe.useActionState=function(L,ue,_e){return O.H.useActionState(L,ue,_e)},Xe.useCallback=function(L,ue){return O.H.useCallback(L,ue)},Xe.useContext=function(L){return O.H.useContext(L)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(L,ue){return O.H.useDeferredValue(L,ue)},Xe.useEffect=function(L,ue){return O.H.useEffect(L,ue)},Xe.useEffectEvent=function(L){return O.H.useEffectEvent(L)},Xe.useId=function(){return O.H.useId()},Xe.useImperativeHandle=function(L,ue,_e){return O.H.useImperativeHandle(L,ue,_e)},Xe.useInsertionEffect=function(L,ue){return O.H.useInsertionEffect(L,ue)},Xe.useLayoutEffect=function(L,ue){return O.H.useLayoutEffect(L,ue)},Xe.useMemo=function(L,ue){return O.H.useMemo(L,ue)},Xe.useOptimistic=function(L,ue){return O.H.useOptimistic(L,ue)},Xe.useReducer=function(L,ue,_e){return O.H.useReducer(L,ue,_e)},Xe.useRef=function(L){return O.H.useRef(L)},Xe.useState=function(L){return O.H.useState(L)},Xe.useSyncExternalStore=function(L,ue,_e){return O.H.useSyncExternalStore(L,ue,_e)},Xe.useTransition=function(){return O.H.useTransition()},Xe.version="19.2.3",Xe}var kv;function Wp(){return kv||(kv=1,Rg.exports=y1()),Rg.exports}var D=Wp();var Pv="popstate";function x1(s={}){function e(a,l){let{pathname:c,search:d,hash:f}=a.location;return lp("",{pathname:c,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){return typeof l=="string"?l:gu(l)}return v1(e,t,null,s)}function Zt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function yi(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b1(){return Math.random().toString(36).substring(2,10)}function Ov(s,e){return{usr:s.state,key:s.key,idx:e}}function lp(s,e,t=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Ol(e):e,state:t,key:e&&e.key||a||b1()}}function gu({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function Ol(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function v1(s,e,t,a={}){let{window:l=document.defaultView,v5Compat:c=!1}=a,d=l.history,f="POP",y=null,g=N();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function N(){return(d.state||{idx:null}).idx}function w(){f="POP";let $=N(),X=$==null?null:$-g;g=$,y&&y({action:f,location:W.location,delta:X})}function I($,X){f="PUSH";let ie=lp(W.location,$,X);g=N()+1;let ne=Ov(ie,g),Re=W.createHref(ie);try{d.pushState(ne,"",Re)}catch(ke){if(ke instanceof DOMException&&ke.name==="DataCloneError")throw ke;l.location.assign(Re)}c&&y&&y({action:f,location:W.location,delta:1})}function M($,X){f="REPLACE";let ie=lp(W.location,$,X);g=N();let ne=Ov(ie,g),Re=W.createHref(ie);d.replaceState(ne,"",Re),c&&y&&y({action:f,location:W.location,delta:0})}function G($){return N1($)}let W={get action(){return f},get location(){return s(l,d)},listen($){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(Pv,w),y=$,()=>{l.removeEventListener(Pv,w),y=null}},createHref($){return e(l,$)},createURL:G,encodeLocation($){let X=G($);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:I,replace:M,go($){return d.go($)}};return W}function N1(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(t,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:gu(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function rw(s,e,t="/"){return j1(s,e,t,!1)}function j1(s,e,t,a){let l=typeof e=="string"?Ol(e):e,c=_r(l.pathname||"/",t);if(c==null)return null;let d=aw(s);w1(d);let f=null;for(let y=0;f==null&&y<d.length;++y){let g=k1(c);f=M1(d[y],g,a)}return f}function aw(s,e=[],t=[],a="",l=!1){let c=(d,f,y=l,g)=>{let N={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(N.relativePath.startsWith("/")){if(!N.relativePath.startsWith(a)&&y)return;Zt(N.relativePath.startsWith(a),`Absolute route path "${N.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),N.relativePath=N.relativePath.slice(a.length)}let w=Nr([a,N.relativePath]),I=t.concat(N);d.children&&d.children.length>0&&(Zt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),aw(d.children,e,I,w,y)),!(d.path==null&&!d.index)&&e.push({path:w,score:C1(w,d.index),routesMeta:I})};return s.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))c(d,f);else for(let y of ow(d.path))c(d,f,!0,y)}),e}function ow(s){let e=s.split("/");if(e.length===0)return[];let[t,...a]=e,l=t.endsWith("?"),c=t.replace(/\?$/,"");if(a.length===0)return l?[c,""]:[c];let d=ow(a.join("/")),f=[];return f.push(...d.map(y=>y===""?c:[c,y].join("/"))),l&&f.push(...d),f.map(y=>s.startsWith("/")&&y===""?"/":y)}function w1(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:R1(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var _1=/^:[\w-]+$/,E1=3,T1=2,I1=1,S1=10,A1=-2,Lv=s=>s==="*";function C1(s,e){let t=s.split("/"),a=t.length;return t.some(Lv)&&(a+=A1),e&&(a+=T1),t.filter(l=>!Lv(l)).reduce((l,c)=>l+(_1.test(c)?E1:c===""?I1:S1),a)}function R1(s,e){return s.length===e.length&&s.slice(0,-1).every((a,l)=>a===e[l])?s[s.length-1]-e[e.length-1]:0}function M1(s,e,t=!1){let{routesMeta:a}=s,l={},c="/",d=[];for(let f=0;f<a.length;++f){let y=a[f],g=f===a.length-1,N=c==="/"?e:e.slice(c.length)||"/",w=qh({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},N),I=y.route;if(!w&&g&&t&&!a[a.length-1].route.index&&(w=qh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},N)),!w)return null;Object.assign(l,w.params),d.push({params:l,pathname:Nr([c,w.pathname]),pathnameBase:V1(Nr([c,w.pathnameBase])),route:I}),w.pathnameBase!=="/"&&(c=Nr([c,w.pathnameBase]))}return d}function qh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,a]=D1(s.path,s.caseSensitive,s.end),l=e.match(t);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:a.reduce((g,{paramName:N,isOptional:w},I)=>{if(N==="*"){let G=f[I]||"";d=c.slice(0,c.length-G.length).replace(/(.)\/+$/,"$1")}const M=f[I];return w&&!M?g[N]=void 0:g[N]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:s}}function D1(s,e=!1,t=!0){yi(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,y)=>(a.push({paramName:f,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function k1(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yi(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function _r(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=s.charAt(t);return a&&a!=="/"?null:s.slice(t)||"/"}var lw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P1=s=>lw.test(s);function O1(s,e="/"){let{pathname:t,search:a="",hash:l=""}=typeof s=="string"?Ol(s):s,c;if(t)if(P1(t))c=t;else{if(t.includes("//")){let d=t;t=t.replace(/\/\/+/g,"/"),yi(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${t}`)}t.startsWith("/")?c=Vv(t.substring(1),"/"):c=Vv(t,e)}else c=e;return{pathname:c,search:U1(a),hash:z1(l)}}function Vv(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function Mg(s,e,t,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L1(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cw(s){let e=L1(s);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function uw(s,e,t,a=!1){let l;typeof s=="string"?l=Ol(s):(l={...s},Zt(!l.pathname||!l.pathname.includes("?"),Mg("?","pathname","search",l)),Zt(!l.pathname||!l.pathname.includes("#"),Mg("#","pathname","hash",l)),Zt(!l.search||!l.search.includes("#"),Mg("#","search","hash",l)));let c=s===""||l.pathname==="",d=c?"/":l.pathname,f;if(d==null)f=t;else{let w=e.length-1;if(!a&&d.startsWith("..")){let I=d.split("/");for(;I[0]==="..";)I.shift(),w-=1;l.pathname=I.join("/")}f=w>=0?e[w]:"/"}let y=O1(l,f),g=d&&d!=="/"&&d.endsWith("/"),N=(c||d===".")&&t.endsWith("/");return!y.pathname.endsWith("/")&&(g||N)&&(y.pathname+="/"),y}var Nr=s=>s.join("/").replace(/\/\/+/g,"/"),V1=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),U1=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,z1=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,F1=class{constructor(s,e,t,a=!1){this.status=s,this.statusText=e||"",this.internal=a,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function q1(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function B1(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hw(s,e){let t=s;if(typeof t!="string"||!lw.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let a=t,l=!1;if(dw)try{let c=new URL(window.location.href),d=t.startsWith("//")?new URL(c.protocol+t):new URL(t),f=_r(d.pathname,e);d.origin===c.origin&&f!=null?t=f+d.search+d.hash:l=!0}catch{yi(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:l,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mw=["POST","PUT","PATCH","DELETE"];new Set(mw);var $1=["GET",...mw];new Set($1);var Ll=D.createContext(null);Ll.displayName="DataRouter";var dm=D.createContext(null);dm.displayName="DataRouterState";var H1=D.createContext(!1),fw=D.createContext({isTransitioning:!1});fw.displayName="ViewTransition";var G1=D.createContext(new Map);G1.displayName="Fetchers";var W1=D.createContext(null);W1.displayName="Await";var Xs=D.createContext(null);Xs.displayName="Navigation";var Mu=D.createContext(null);Mu.displayName="Location";var Qi=D.createContext({outlet:null,matches:[],isDataRoute:!1});Qi.displayName="Route";var Yp=D.createContext(null);Yp.displayName="RouteError";var gw="REACT_ROUTER_ERROR",Y1="REDIRECT",K1="ROUTE_ERROR_RESPONSE";function Q1(s){if(s.startsWith(`${gw}:${Y1}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function X1(s){if(s.startsWith(`${gw}:${K1}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new F1(e.status,e.statusText,e.data)}catch{}}function J1(s,{relative:e}={}){Zt(Du(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=D.useContext(Xs),{hash:l,pathname:c,search:d}=ku(s,{relative:e}),f=c;return t!=="/"&&(f=c==="/"?t:Nr([t,c])),a.createHref({pathname:f,search:d,hash:l})}function Du(){return D.useContext(Mu)!=null}function Sa(){return Zt(Du(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Mu).location}var pw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yw(s){D.useContext(Xs).static||D.useLayoutEffect(s)}function Z1(){let{isDataRoute:s}=D.useContext(Qi);return s?mI():eI()}function eI(){Zt(Du(),"useNavigate() may be used only in the context of a <Router> component.");let s=D.useContext(Ll),{basename:e,navigator:t}=D.useContext(Xs),{matches:a}=D.useContext(Qi),{pathname:l}=Sa(),c=JSON.stringify(cw(a)),d=D.useRef(!1);return yw(()=>{d.current=!0}),D.useCallback((y,g={})=>{if(yi(d.current,pw),!d.current)return;if(typeof y=="number"){t.go(y);return}let N=uw(y,JSON.parse(c),l,g.relative==="path");s==null&&e!=="/"&&(N.pathname=N.pathname==="/"?e:Nr([e,N.pathname])),(g.replace?t.replace:t.push)(N,g.state,g)},[e,t,c,l,s])}D.createContext(null);function tI(){let{matches:s}=D.useContext(Qi),e=s[s.length-1];return e?e.params:{}}function ku(s,{relative:e}={}){let{matches:t}=D.useContext(Qi),{pathname:a}=Sa(),l=JSON.stringify(cw(t));return D.useMemo(()=>uw(s,JSON.parse(l),a,e==="path"),[s,l,a,e])}function nI(s,e){return xw(s,e)}function xw(s,e,t,a,l){Zt(Du(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=D.useContext(Xs),{matches:d}=D.useContext(Qi),f=d[d.length-1],y=f?f.params:{},g=f?f.pathname:"/",N=f?f.pathnameBase:"/",w=f&&f.route;{let ie=w&&w.path||"";vw(g,!w||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let I=Sa(),M;if(e){let ie=typeof e=="string"?Ol(e):e;Zt(N==="/"||ie.pathname?.startsWith(N),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${N}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),M=ie}else M=I;let G=M.pathname||"/",W=G;if(N!=="/"){let ie=N.replace(/^\//,"").split("/");W="/"+G.replace(/^\//,"").split("/").slice(ie.length).join("/")}let $=rw(s,{pathname:W});yi(w||$!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),yi($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=oI($&&$.map(ie=>Object.assign({},ie,{params:Object.assign({},y,ie.params),pathname:Nr([N,c.encodeLocation?c.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?N:Nr([N,c.encodeLocation?c.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),d,t,a,l);return e&&X?D.createElement(Mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},X):X}function sI(){let s=hI(),e=q1(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=D.createElement(D.Fragment,null,D.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:c},"ErrorBoundary")," or"," ",D.createElement("code",{style:c},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:l},t):null,d)}var iI=D.createElement(sI,null),bw=class extends D.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const t=X1(s.digest);t&&(s=t)}let e=s!==void 0?D.createElement(Qi.Provider,{value:this.props.routeContext},D.createElement(Yp.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?D.createElement(rI,{error:s},e):e}};bw.contextType=H1;var Dg=new WeakMap;function rI({children:s,error:e}){let{basename:t}=D.useContext(Xs);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=Q1(e.digest);if(a){let l=Dg.get(e);if(l)throw l;let c=hw(a.location,t);if(dw&&!Dg.get(e))if(c.isExternal||a.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:a.replace}));throw Dg.set(e,d),d}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return s}function aI({routeContext:s,match:e,children:t}){let a=D.useContext(Ll);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Qi.Provider,{value:s},t)}function oI(s,e=[],t=null,a=null,l=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let c=s,d=t?.errors;if(d!=null){let N=c.findIndex(w=>w.route.id&&d?.[w.route.id]!==void 0);Zt(N>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,N+1))}let f=!1,y=-1;if(t)for(let N=0;N<c.length;N++){let w=c[N];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=N),w.route.id){let{loaderData:I,errors:M}=t,G=w.route.loader&&!I.hasOwnProperty(w.route.id)&&(!M||M[w.route.id]===void 0);if(w.route.lazy||G){f=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}let g=t&&a?(N,w)=>{a(N,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:B1(t.matches),errorInfo:w})}:void 0;return c.reduceRight((N,w,I)=>{let M,G=!1,W=null,$=null;t&&(M=d&&w.route.id?d[w.route.id]:void 0,W=w.route.errorElement||iI,f&&(y<0&&I===0?(vw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,$=null):y===I&&(G=!0,$=w.route.hydrateFallbackElement||null)));let X=e.concat(c.slice(0,I+1)),ie=()=>{let ne;return M?ne=W:G?ne=$:w.route.Component?ne=D.createElement(w.route.Component,null):w.route.element?ne=w.route.element:ne=N,D.createElement(aI,{match:w,routeContext:{outlet:N,matches:X,isDataRoute:t!=null},children:ne})};return t&&(w.route.ErrorBoundary||w.route.errorElement||I===0)?D.createElement(bw,{location:t.location,revalidation:t.revalidation,component:W,error:M,children:ie(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:g}):ie()},null)}function Kp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lI(s){let e=D.useContext(Ll);return Zt(e,Kp(s)),e}function cI(s){let e=D.useContext(dm);return Zt(e,Kp(s)),e}function uI(s){let e=D.useContext(Qi);return Zt(e,Kp(s)),e}function Qp(s){let e=uI(s),t=e.matches[e.matches.length-1];return Zt(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function dI(){return Qp("useRouteId")}function hI(){let s=D.useContext(Yp),e=cI("useRouteError"),t=Qp("useRouteError");return s!==void 0?s:e.errors?.[t]}function mI(){let{router:s}=lI("useNavigate"),e=Qp("useNavigate"),t=D.useRef(!1);return yw(()=>{t.current=!0}),D.useCallback(async(l,c={})=>{yi(t.current,pw),t.current&&(typeof l=="number"?await s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var Uv={};function vw(s,e,t){!e&&!Uv[s]&&(Uv[s]=!0,yi(!1,t))}D.memo(fI);function fI({routes:s,future:e,state:t,onError:a}){return xw(s,void 0,t,a,e)}function pt(s){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gI({basename:s="/",children:e=null,location:t,navigationType:a="POP",navigator:l,static:c=!1,unstable_useTransitions:d}){Zt(!Du(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=s.replace(/^\/*/,"/"),y=D.useMemo(()=>({basename:f,navigator:l,static:c,unstable_useTransitions:d,future:{}}),[f,l,c,d]);typeof t=="string"&&(t=Ol(t));let{pathname:g="/",search:N="",hash:w="",state:I=null,key:M="default"}=t,G=D.useMemo(()=>{let W=_r(g,f);return W==null?null:{location:{pathname:W,search:N,hash:w,state:I,key:M},navigationType:a}},[f,g,N,w,I,M,a]);return yi(G!=null,`<Router basename="${f}"> is not able to match the URL "${g}${N}${w}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:D.createElement(Xs.Provider,{value:y},D.createElement(Mu.Provider,{children:e,value:G}))}function pI({children:s,location:e}){return nI(cp(s),e)}function cp(s,e=[]){let t=[];return D.Children.forEach(s,(a,l)=>{if(!D.isValidElement(a))return;let c=[...e,l];if(a.type===D.Fragment){t.push.apply(t,cp(a.props.children,c));return}Zt(a.type===pt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=cp(a.props.children,c)),t.push(d)}),t}var Sh="get",Ah="application/x-www-form-urlencoded";function hm(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function yI(s){return hm(s)&&s.tagName.toLowerCase()==="button"}function xI(s){return hm(s)&&s.tagName.toLowerCase()==="form"}function bI(s){return hm(s)&&s.tagName.toLowerCase()==="input"}function vI(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function NI(s,e){return s.button===0&&(!e||e==="_self")&&!vI(s)}var ph=null;function jI(){if(ph===null)try{new FormData(document.createElement("form"),0),ph=!1}catch{ph=!0}return ph}var wI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function kg(s){return s!=null&&!wI.has(s)?(yi(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ah}"`),null):s}function _I(s,e){let t,a,l,c,d;if(xI(s)){let f=s.getAttribute("action");a=f?_r(f,e):null,t=s.getAttribute("method")||Sh,l=kg(s.getAttribute("enctype"))||Ah,c=new FormData(s)}else if(yI(s)||bI(s)&&(s.type==="submit"||s.type==="image")){let f=s.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||f.getAttribute("action");if(a=y?_r(y,e):null,t=s.getAttribute("formmethod")||f.getAttribute("method")||Sh,l=kg(s.getAttribute("formenctype"))||kg(f.getAttribute("enctype"))||Ah,c=new FormData(f,s),!jI()){let{name:g,type:N,value:w}=s;if(N==="image"){let I=g?`${g}.`:"";c.append(`${I}x`,"0"),c.append(`${I}y`,"0")}else g&&c.append(g,w)}}else{if(hm(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sh,a=null,l=Ah,d=s}return c&&l==="text/plain"&&(d=c,c=void 0),{action:a,method:t.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function EI(s,e,t,a){let l=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return t?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${a}`:l.pathname=`${l.pathname}.${a}`:l.pathname==="/"?l.pathname=`_root.${a}`:e&&_r(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${a}`,l}async function TI(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function II(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function SI(s,e,t){let a=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let d=await TI(c,t);return d.links?d.links():[]}return[]}));return MI(a.flat(1).filter(II).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function zv(s,e,t,a,l,c){let d=(y,g)=>t[g]?y.route.id!==t[g].route.id:!0,f=(y,g)=>t[g].pathname!==y.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,g)=>d(y,g)||f(y,g)):c==="data"?e.filter((y,g)=>{let N=a.routes[y.route.id];if(!N||!N.hasLoader)return!1;if(d(y,g)||f(y,g))return!0;if(y.route.shouldRevalidate){let w=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function AI(s,e,{includeHydrateFallback:t}={}){return CI(s.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function CI(s){return[...new Set(s)]}function RI(s){let e={},t=Object.keys(s).sort();for(let a of t)e[a]=s[a];return e}function MI(s,e){let t=new Set;return new Set(e),s.reduce((a,l)=>{let c=JSON.stringify(RI(l));return t.has(c)||(t.add(c),a.push({key:c,link:l})),a},[])}function Nw(){let s=D.useContext(Ll);return Xp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function DI(){let s=D.useContext(dm);return Xp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Jp=D.createContext(void 0);Jp.displayName="FrameworkContext";function jw(){let s=D.useContext(Jp);return Xp(s,"You must render this element inside a <HydratedRouter> element"),s}function kI(s,e){let t=D.useContext(Jp),[a,l]=D.useState(!1),[c,d]=D.useState(!1),{onFocus:f,onBlur:y,onMouseEnter:g,onMouseLeave:N,onTouchStart:w}=e,I=D.useRef(null);D.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let W=X=>{X.forEach(ie=>{d(ie.isIntersecting)})},$=new IntersectionObserver(W,{threshold:.5});return I.current&&$.observe(I.current),()=>{$.disconnect()}}},[s]),D.useEffect(()=>{if(a){let W=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(W)}}},[a]);let M=()=>{l(!0)},G=()=>{l(!1),d(!1)};return t?s!=="intent"?[c,I,{}]:[c,I,{onFocus:$c(f,M),onBlur:$c(y,G),onMouseEnter:$c(g,M),onMouseLeave:$c(N,G),onTouchStart:$c(w,M)}]:[!1,I,{}]}function $c(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function PI({page:s,...e}){let{router:t}=Nw(),a=D.useMemo(()=>rw(t.routes,s,t.basename),[t.routes,s,t.basename]);return a?D.createElement(LI,{page:s,matches:a,...e}):null}function OI(s){let{manifest:e,routeModules:t}=jw(),[a,l]=D.useState([]);return D.useEffect(()=>{let c=!1;return SI(s,e,t).then(d=>{c||l(d)}),()=>{c=!0}},[s,e,t]),a}function LI({page:s,matches:e,...t}){let a=Sa(),{future:l,manifest:c,routeModules:d}=jw(),{basename:f}=Nw(),{loaderData:y,matches:g}=DI(),N=D.useMemo(()=>zv(s,e,g,c,a,"data"),[s,e,g,c,a]),w=D.useMemo(()=>zv(s,e,g,c,a,"assets"),[s,e,g,c,a]),I=D.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let W=new Set,$=!1;if(e.forEach(ie=>{let ne=c.routes[ie.route.id];!ne||!ne.hasLoader||(!N.some(Re=>Re.route.id===ie.route.id)&&ie.route.id in y&&d[ie.route.id]?.shouldRevalidate||ne.hasClientLoader?$=!0:W.add(ie.route.id))}),W.size===0)return[];let X=EI(s,f,l.unstable_trailingSlashAwareDataRequests,"data");return $&&W.size>0&&X.searchParams.set("_routes",e.filter(ie=>W.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[X.pathname+X.search]},[f,l.unstable_trailingSlashAwareDataRequests,y,a,c,N,e,s,d]),M=D.useMemo(()=>AI(w,c),[w,c]),G=OI(w);return D.createElement(D.Fragment,null,I.map(W=>D.createElement("link",{key:W,rel:"prefetch",as:"fetch",href:W,...t})),M.map(W=>D.createElement("link",{key:W,rel:"modulepreload",href:W,...t})),G.map(({key:W,link:$})=>D.createElement("link",{key:W,nonce:t.nonce,...$})))}function VI(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var UI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UI&&(window.__reactRouterVersion="7.12.0")}catch{}function zI({basename:s,children:e,unstable_useTransitions:t,window:a}){let l=D.useRef();l.current==null&&(l.current=x1({window:a,v5Compat:!0}));let c=l.current,[d,f]=D.useState({action:c.action,location:c.location}),y=D.useCallback(g=>{t===!1?f(g):D.startTransition(()=>f(g))},[t]);return D.useLayoutEffect(()=>c.listen(y),[c,y]),D.createElement(gI,{basename:s,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:t})}var ww=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,le=D.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:l,reloadDocument:c,replace:d,state:f,target:y,to:g,preventScrollReset:N,viewTransition:w,unstable_defaultShouldRevalidate:I,...M},G){let{basename:W,unstable_useTransitions:$}=D.useContext(Xs),X=typeof g=="string"&&ww.test(g),ie=hw(g,W);g=ie.to;let ne=J1(g,{relative:l}),[Re,ke,Me]=kI(a,M),O=$I(g,{replace:d,state:f,target:y,preventScrollReset:N,relative:l,viewTransition:w,unstable_defaultShouldRevalidate:I,unstable_useTransitions:$});function C(z){e&&e(z),z.defaultPrevented||O(z)}let k=D.createElement("a",{...M,...Me,href:ie.absoluteURL||ne,onClick:ie.isExternal||c?e:C,ref:VI(G,ke),target:y,"data-discover":!X&&t==="render"?"true":void 0});return Re&&!X?D.createElement(D.Fragment,null,k,D.createElement(PI,{page:ne})):k});le.displayName="Link";var FI=D.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:l=!1,style:c,to:d,viewTransition:f,children:y,...g},N){let w=ku(d,{relative:g.relative}),I=Sa(),M=D.useContext(dm),{navigator:G,basename:W}=D.useContext(Xs),$=M!=null&&KI(w)&&f===!0,X=G.encodeLocation?G.encodeLocation(w).pathname:w.pathname,ie=I.pathname,ne=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;t||(ie=ie.toLowerCase(),ne=ne?ne.toLowerCase():null,X=X.toLowerCase()),ne&&W&&(ne=_r(ne,W)||ne);const Re=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ke=ie===X||!l&&ie.startsWith(X)&&ie.charAt(Re)==="/",Me=ne!=null&&(ne===X||!l&&ne.startsWith(X)&&ne.charAt(X.length)==="/"),O={isActive:ke,isPending:Me,isTransitioning:$},C=ke?e:void 0,k;typeof a=="function"?k=a(O):k=[a,ke?"active":null,Me?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let z=typeof c=="function"?c(O):c;return D.createElement(le,{...g,"aria-current":C,className:k,ref:N,style:z,to:d,viewTransition:f},typeof y=="function"?y(O):y)});FI.displayName="NavLink";var qI=D.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:l,state:c,method:d=Sh,action:f,onSubmit:y,relative:g,preventScrollReset:N,viewTransition:w,unstable_defaultShouldRevalidate:I,...M},G)=>{let{unstable_useTransitions:W}=D.useContext(Xs),$=WI(),X=YI(f,{relative:g}),ie=d.toLowerCase()==="get"?"get":"post",ne=typeof f=="string"&&ww.test(f),Re=ke=>{if(y&&y(ke),ke.defaultPrevented)return;ke.preventDefault();let Me=ke.nativeEvent.submitter,O=Me?.getAttribute("formmethod")||d,C=()=>$(Me||ke.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:l,state:c,relative:g,preventScrollReset:N,viewTransition:w,unstable_defaultShouldRevalidate:I});W&&t!==!1?D.startTransition(()=>C()):C()};return D.createElement("form",{ref:G,method:ie,action:X,onSubmit:a?y:Re,...M,"data-discover":!ne&&s==="render"?"true":void 0})});qI.displayName="Form";function BI(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _w(s){let e=D.useContext(Ll);return Zt(e,BI(s)),e}function $I(s,{target:e,replace:t,state:a,preventScrollReset:l,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:y}={}){let g=Z1(),N=Sa(),w=ku(s,{relative:c});return D.useCallback(I=>{if(NI(I,e)){I.preventDefault();let M=t!==void 0?t:gu(N)===gu(w),G=()=>g(s,{replace:M,state:a,preventScrollReset:l,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:f});y?D.startTransition(()=>G()):G()}},[N,g,w,t,a,e,s,l,c,d,f,y])}var HI=0,GI=()=>`__${String(++HI)}__`;function WI(){let{router:s}=_w("useSubmit"),{basename:e}=D.useContext(Xs),t=dI(),a=s.fetch,l=s.navigate;return D.useCallback(async(c,d={})=>{let{action:f,method:y,encType:g,formData:N,body:w}=_I(c,e);if(d.navigate===!1){let I=d.fetcherKey||GI();await a(I,t,d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:N,body:w,formMethod:d.method||y,formEncType:d.encType||g,flushSync:d.flushSync})}else await l(d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:N,body:w,formMethod:d.method||y,formEncType:d.encType||g,replace:d.replace,state:d.state,fromRouteId:t,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,l,e,t])}function YI(s,{relative:e}={}){let{basename:t}=D.useContext(Xs),a=D.useContext(Qi);Zt(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),c={...ku(s||".",{relative:e})},d=Sa();if(s==null){c.search=d.search;let f=new URLSearchParams(c.search),y=f.getAll("index");if(y.some(N=>N==="")){f.delete("index"),y.filter(w=>w).forEach(w=>f.append("index",w));let N=f.toString();c.search=N?`?${N}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:Nr([t,c.pathname])),gu(c)}function KI(s,{relative:e}={}){let t=D.useContext(fw);Zt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=_w("useViewTransitionState"),l=ku(s,{relative:e});if(!t.isTransitioning)return!1;let c=_r(t.currentLocation.pathname,a)||t.currentLocation.pathname,d=_r(t.nextLocation.pathname,a)||t.nextLocation.pathname;return qh(l.pathname,d)!=null||qh(l.pathname,c)!=null}var Pg={exports:{}},Qn={};var Fv;function QI(){if(Fv)return Qn;Fv=1;var s=Wp();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)g+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,g,N){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:y,containerInfo:g,implementation:N}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qn.createPortal=function(y,g){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(y,g,null,N)},Qn.flushSync=function(y){var g=d.T,N=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=g,a.p=N,a.d.f()}},Qn.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},Qn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Qn.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var N=g.as,w=f(N,g.crossOrigin),I=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;N==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:I,fetchPriority:M}):N==="script"&&a.d.X(y,{crossOrigin:w,integrity:I,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qn.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var N=f(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:N,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},Qn.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var N=g.as,w=f(N,g.crossOrigin);a.d.L(y,N,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qn.preloadModule=function(y,g){if(typeof y=="string")if(g){var N=f(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:N,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},Qn.requestFormReset=function(y){a.d.r(y)},Qn.unstable_batchedUpdates=function(y,g){return y(g)},Qn.useFormState=function(y,g,N){return d.H.useFormState(y,g,N)},Qn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qn.version="19.2.3",Qn}var qv;function XI(){if(qv)return Pg.exports;qv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pg.exports=QI(),Pg.exports}var Og={exports:{}},Hc={},Lg={exports:{}},Vg={};var Bv;function JI(){return Bv||(Bv=1,(function(s){function e(H,ce){var be=H.length;H.push(ce);e:for(;0<be;){var ae=be-1>>>1,et=H[ae];if(0<l(et,ce))H[ae]=ce,H[be]=et,be=ae;else break e}}function t(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var ce=H[0],be=H.pop();if(be!==ce){H[0]=be;e:for(var ae=0,et=H.length,L=et>>>1;ae<L;){var ue=2*(ae+1)-1,_e=H[ue],Ie=ue+1,Fe=H[Ie];if(0>l(_e,be))Ie<et&&0>l(Fe,_e)?(H[ae]=Fe,H[Ie]=be,ae=Ie):(H[ae]=_e,H[ue]=be,ae=ue);else if(Ie<et&&0>l(Fe,be))H[ae]=Fe,H[Ie]=be,ae=Ie;else break e}}return ce}function l(H,ce){var be=H.sortIndex-ce.sortIndex;return be!==0?be:H.id-ce.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();s.unstable_now=function(){return d.now()-f}}var y=[],g=[],N=1,w=null,I=3,M=!1,G=!1,W=!1,$=!1,X=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function Re(H){for(var ce=t(g);ce!==null;){if(ce.callback===null)a(g);else if(ce.startTime<=H)a(g),ce.sortIndex=ce.expirationTime,e(y,ce);else break;ce=t(g)}}function ke(H){if(W=!1,Re(H),!G)if(t(y)!==null)G=!0,Me||(Me=!0,B());else{var ce=t(g);ce!==null&&pe(ke,ce.startTime-H)}}var Me=!1,O=-1,C=5,k=-1;function z(){return $?!0:!(s.unstable_now()-k<C)}function P(){if($=!1,Me){var H=s.unstable_now();k=H;var ce=!0;try{e:{G=!1,W&&(W=!1,ie(O),O=-1),M=!0;var be=I;try{t:{for(Re(H),w=t(y);w!==null&&!(w.expirationTime>H&&z());){var ae=w.callback;if(typeof ae=="function"){w.callback=null,I=w.priorityLevel;var et=ae(w.expirationTime<=H);if(H=s.unstable_now(),typeof et=="function"){w.callback=et,Re(H),ce=!0;break t}w===t(y)&&a(y),Re(H)}else a(y);w=t(y)}if(w!==null)ce=!0;else{var L=t(g);L!==null&&pe(ke,L.startTime-H),ce=!1}}break e}finally{w=null,I=be,M=!1}ce=void 0}}finally{ce?B():Me=!1}}}var B;if(typeof ne=="function")B=function(){ne(P)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,xe=E.port2;E.port1.onmessage=P,B=function(){xe.postMessage(null)}}else B=function(){X(P,0)};function pe(H,ce){O=X(function(){H(s.unstable_now())},ce)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(H){switch(I){case 1:case 2:case 3:var ce=3;break;default:ce=I}var be=I;I=ce;try{return H()}finally{I=be}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(H,ce){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var be=I;I=H;try{return ce()}finally{I=be}},s.unstable_scheduleCallback=function(H,ce,be){var ae=s.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?ae+be:ae):be=ae,H){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=be+et,H={id:N++,callback:ce,priorityLevel:H,startTime:be,expirationTime:et,sortIndex:-1},be>ae?(H.sortIndex=be,e(g,H),t(y)===null&&H===t(g)&&(W?(ie(O),O=-1):W=!0,pe(ke,be-ae))):(H.sortIndex=et,e(y,H),G||M||(G=!0,Me||(Me=!0,B()))),H},s.unstable_shouldYield=z,s.unstable_wrapCallback=function(H){var ce=I;return function(){var be=I;I=ce;try{return H.apply(this,arguments)}finally{I=be}}}})(Vg)),Vg}var $v;function ZI(){return $v||($v=1,Lg.exports=JI()),Lg.exports}var Hv;function eS(){if(Hv)return Hc;Hv=1;var s=ZI(),e=Wp(),t=XI();function a(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function d(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function f(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function y(n){if(c(n)!==n)throw Error(a(188))}function g(n){var r=n.alternate;if(!r){if(r=c(n),r===null)throw Error(a(188));return r!==n?null:n}for(var o=n,u=r;;){var m=o.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){o=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===o)return y(m),n;if(p===u)return y(m),r;p=p.sibling}throw Error(a(188))}if(o.return!==u.return)o=m,u=p;else{for(var v=!1,T=m.child;T;){if(T===o){v=!0,o=m,u=p;break}if(T===u){v=!0,u=m,o=p;break}T=T.sibling}if(!v){for(T=p.child;T;){if(T===o){v=!0,o=p,u=m;break}if(T===u){v=!0,u=p,o=m;break}T=T.sibling}if(!v)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:r}function N(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=N(n),r!==null)return r;n=n.sibling}return null}var w=Object.assign,I=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var E=Symbol.for("react.client.reference");function xe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===E?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case W:return"Fragment";case X:return"Profiler";case $:return"StrictMode";case ke:return"Suspense";case Me:return"SuspenseList";case k:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case G:return"Portal";case ne:return n.displayName||"Context";case ie:return(n._context.displayName||"Context")+".Consumer";case Re:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case O:return r=n.displayName||null,r!==null?r:xe(n.type)||"Memo";case C:r=n._payload,n=n._init;try{return xe(n(r))}catch{}}return null}var pe=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},ae=[],et=-1;function L(n){return{current:n}}function ue(n){0>et||(n.current=ae[et],ae[et]=null,et--)}function _e(n,r){et++,ae[et]=n.current,n.current=r}var Ie=L(null),Fe=L(null),Ge=L(null),A=L(null);function R(n,r){switch(_e(Ge,r),_e(Fe,n),_e(Ie,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?ev(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=ev(r),n=tv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(Ie),_e(Ie,n)}function Q(){ue(Ie),ue(Fe),ue(Ge)}function de(n){n.memoizedState!==null&&_e(A,n);var r=Ie.current,o=tv(r,n.type);r!==o&&(_e(Fe,n),_e(Ie,o))}function we(n){Fe.current===n&&(ue(Ie),ue(Fe)),A.current===n&&(ue(A),Uc._currentValue=be)}var Ue,b;function _(n){if(Ue===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Ue=r&&r[1]||"",b=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+n+b}var F=!1;function U(n,r){if(!n||F)return"";F=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(re){var te=re}Reflect.construct(n,[],fe)}else{try{fe.call()}catch(re){te=re}n.call(fe.prototype)}}else{try{throw Error()}catch(re){te=re}(fe=n())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(re){if(re&&te&&typeof re.stack=="string")return[re.stack,te.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),v=p[0],T=p[1];if(v&&T){var V=v.split(`
`),ee=T.split(`
`);for(m=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;m<ee.length&&!ee[m].includes("DetermineComponentFrameRoot");)m++;if(u===V.length||m===ee.length)for(u=V.length-1,m=ee.length-1;1<=u&&0<=m&&V[u]!==ee[m];)m--;for(;1<=u&&0<=m;u--,m--)if(V[u]!==ee[m]){if(u!==1||m!==1)do if(u--,m--,0>m||V[u]!==ee[m]){var oe=`
`+V[u].replace(" at new "," at ");return n.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",n.displayName)),oe}while(1<=u&&0<=m);break}}}finally{F=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?_(o):""}function K(n,r){switch(n.tag){case 26:case 27:case 5:return _(n.type);case 16:return _("Lazy");case 13:return n.child!==r&&r!==null?_("Suspense Fallback"):_("Suspense");case 19:return _("SuspenseList");case 0:case 15:return U(n.type,!1);case 11:return U(n.type.render,!1);case 1:return U(n.type,!0);case 31:return _("Activity");default:return""}}function je(n){try{var r="",o=null;do r+=K(n,o),o=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ve=Object.prototype.hasOwnProperty,he=s.unstable_scheduleCallback,st=s.unstable_cancelCallback,jt=s.unstable_shouldYield,Pe=s.unstable_requestPaint,it=s.unstable_now,Ct=s.unstable_getCurrentPriorityLevel,gn=s.unstable_ImmediatePriority,Jt=s.unstable_UserBlockingPriority,tn=s.unstable_NormalPriority,Yn=s.unstable_LowPriority,Ke=s.unstable_IdlePriority,at=s.log,Pt=s.unstable_setDisableYieldValue,Tt=null,Ne=null;function Ye(n){if(typeof at=="function"&&Pt(n),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(Tt,n)}catch{}}var Be=Math.clz32?Math.clz32:yn,nn=Math.log,pn=Math.LN2;function yn(n){return n>>>=0,n===0?32:31-(nn(n)/pn|0)|0}var sn=256,ns=262144,Bt=4194304;function Vn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Kn(n,r,o){var u=n.pendingLanes;if(u===0)return 0;var m=0,p=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var T=u&134217727;return T!==0?(u=T&~p,u!==0?m=Vn(u):(v&=T,v!==0?m=Vn(v):o||(o=T&~n,o!==0&&(m=Vn(o))))):(T=u&~p,T!==0?m=Vn(T):v!==0?m=Vn(v):o||(o=u&~n,o!==0&&(m=Vn(o)))),m===0?0:r!==0&&r!==m&&(r&p)===0&&(p=m&-m,o=r&-r,p>=o||p===32&&(o&4194048)!==0)?r:m}function Rt(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ka(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ni(){var n=Bt;return Bt<<=1,(Bt&62914560)===0&&(Bt=4194304),n}function un(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function ss(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Js(n,r,o,u,m,p){var v=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var T=n.entanglements,V=n.expirationTimes,ee=n.hiddenUpdates;for(o=v&~o;0<o;){var oe=31-Be(o),fe=1<<oe;T[oe]=0,V[oe]=-1;var te=ee[oe];if(te!==null)for(ee[oe]=null,oe=0;oe<te.length;oe++){var re=te[oe];re!==null&&(re.lane&=-536870913)}o&=~fe}u!==0&&Ms(n,u,0),p!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=p&~(v&~r))}function Ms(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-Be(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function Ar(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var u=31-Be(o),m=1<<u;m&r|n[u]&r&&(n[u]|=r),o&=~m}}function Xi(n,r){var o=r&-r;return o=(o&42)!==0?1:Ji(o),(o&(n.suspendedLanes|r))!==0?0:o}function Ji(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Zi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Yu(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:_v(n.type))}function Zs(n,r){var o=ce.p;try{return ce.p=n,r()}finally{ce.p=o}}var ei=Math.random().toString(36).slice(2),xn="__reactFiber$"+ei,Dn="__reactProps$"+ei,ji="__reactContainer$"+ei,So="__reactEvents$"+ei,Pm="__reactListeners$"+ei,Ku="__reactHandles$"+ei,Qu="__reactResources$"+ei,wi="__reactMarker$"+ei;function Ao(n){delete n[xn],delete n[Dn],delete n[So],delete n[Pm],delete n[Ku]}function _i(n){var r=n[xn];if(r)return r;for(var o=n.parentNode;o;){if(r=o[ji]||o[xn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=lv(n);n!==null;){if(o=n[xn])return o;n=lv(n)}return r}n=o,o=n.parentNode}return null}function Ds(n){if(n=n[xn]||n[ji]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function xs(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(a(33))}function Ei(n){var r=n[Qu];return r||(r=n[Qu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function bn(n){n[wi]=!0}var Gl=new Set,Wl={};function Ti(n,r){Ii(n,r),Ii(n+"Capture",r)}function Ii(n,r){for(Wl[n]=r,n=0;n<r.length;n++)Gl.add(r[n])}var Yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kl={},Ql={};function Xu(n){return ve.call(Ql,n)?!0:ve.call(Kl,n)?!1:Yl.test(n)?Ql[n]=!0:(Kl[n]=!0,!1)}function Co(n,r,o){if(Xu(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function bs(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function vn(n,r,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+u)}}function kn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Cr(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Xl(n,r,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,p=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return m.call(this)},set:function(v){o=""+v,p.call(this,v)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Mt(n){if(!n._valueTracker){var r=Cr(n)?"checked":"value";n._valueTracker=Xl(n,r,""+n[r])}}function Pa(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return n&&(u=Cr(n)?n.checked?"true":"false":n.value),n=u,n!==o?(r.setValue(n),!0):!1}function Si(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Oa=/[\n"\\]/g;function ls(n){return n.replace(Oa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ro(n,r,o,u,m,p,v,T){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+kn(r)):n.value!==""+kn(r)&&(n.value=""+kn(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?Jl(n,v,kn(r)):o!=null?Jl(n,v,kn(o)):u!=null&&n.removeAttribute("value"),m==null&&p!=null&&(n.defaultChecked=!!p),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+kn(T):n.removeAttribute("name")}function Ju(n,r,o,u,m,p,v,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),r!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Mt(n);return}o=o!=null?""+kn(o):"",r=r!=null?""+kn(r):o,T||r===n.value||(n.value=r),n.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=T?n.checked:!!u,n.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v),Mt(n)}function Jl(n,r,o){r==="number"&&Si(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Rr(n,r,o,u){if(n=n.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<n.length;o++)m=r.hasOwnProperty("$"+n[o].value),n[o].selected!==m&&(n[o].selected=m),m&&u&&(n[o].defaultSelected=!0)}else{for(o=""+kn(o),r=null,m=0;m<n.length;m++){if(n[m].value===o){n[m].selected=!0,u&&(n[m].defaultSelected=!0);return}r!==null||n[m].disabled||(r=n[m])}r!==null&&(r.selected=!0)}}function Zu(n,r,o){if(r!=null&&(r=""+kn(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+kn(o):""}function Mr(n,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(a(92));if(pe(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=kn(r),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),Mt(n)}function cs(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var ed=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zl(n,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,o):typeof o!="number"||o===0||ed.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function ec(n,r,o){if(r!=null&&typeof r!="object")throw Error(a(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&o[m]!==u&&Zl(n,m,u)}else for(var p in r)r.hasOwnProperty(p)&&Zl(n,p,r[p])}function Mo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var td=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Do(n){return Dr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ti(){}var tc=null;function ks(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var kr=null,Ai=null;function La(n){var r=Ds(n);if(r&&(n=r.stateNode)){var o=n[Dn]||null;e:switch(n=r.stateNode,r.type){case"input":if(Ro(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ls(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==n&&u.form===n.form){var m=u[Dn]||null;if(!m)throw Error(a(90));Ro(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===n.form&&Pa(u)}break e;case"textarea":Zu(n,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Rr(n,!!o.multiple,r,!1)}}}var ko=!1;function Pr(n,r,o){if(ko)return n(r,o);ko=!0;try{var u=n(r);return u}finally{if(ko=!1,(kr!==null||Ai!==null)&&(Yd(),kr&&(r=kr,n=Ai,Ai=kr=null,La(r),n)))for(r=0;r<n.length;r++)La(n[r])}}function ni(n,r){var o=n.stateNode;if(o===null)return null;var u=o[Dn]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,r,typeof o));return o}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Va=!1;if(Ps)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){Va=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch{Va=!1}var Ci=null,nc=null,Ua=null;function sc(){if(Ua)return Ua;var n,r=nc,o=r.length,u,m="value"in Ci?Ci.value:Ci.textContent,p=m.length;for(n=0;n<o&&r[n]===m[n];n++);var v=o-n;for(u=1;u<=v&&r[o-u]===m[p-u];u++);return Ua=m.slice(n,1<u?1-u:void 0)}function za(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function er(){return!0}function si(){return!1}function Un(n){function r(o,u,m,p,v){this._reactName=o,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(o=n[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?er:si,this.isPropagationStopped=si,this}return w(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),r}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Un(tr),Or=w({},tr,{view:0,detail:0}),ic=Un(Or),Lr,Po,Mi,Oo=w({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Mi&&(Mi&&n.type==="mousemove"?(Lr=n.screenX-Mi.screenX,Po=n.screenY-Mi.screenY):Po=Lr=0,Mi=n),Lr)},movementY:function(n){return"movementY"in n?n.movementY:Po}}),rc=Un(Oo),Fa=w({},Oo,{dataTransfer:0}),nd=Un(Fa),sd=w({},Or,{relatedTarget:0}),qa=Un(sd),ac=w({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),id=Un(ac),Lo=w({},tr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),rd=Un(Lo),ad=w({},tr,{data:0}),Di=Un(ad),od={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ld={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ud(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=cd[n])?!!r[n]:!1}function Vr(){return ud}var is=w({},Or,{key:function(n){if(n.key){var r=od[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=za(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ld[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(n){return n.type==="keypress"?za(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?za(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),dd=Un(is),hd=w({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nr=Un(hd),h=w({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),x=Un(h),j=w({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Un(j),J=w({},Oo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),se=Un(J),Ee=w({},tr,{newState:0,oldState:0}),tt=Un(Ee),dn=[9,13,27,32],It=Ps&&"CompositionEvent"in window,Qt=null;Ps&&"documentMode"in document&&(Qt=document.documentMode);var Os=Ps&&"TextEvent"in window&&!Qt,ki=Ps&&(!It||Qt&&8<Qt&&11>=Qt),ii=" ",ri=!1;function Ba(n,r){switch(n){case"keyup":return dn.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vo(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Uo=!1;function UT(n,r){switch(n){case"compositionend":return Vo(r);case"keypress":return r.which!==32?null:(ri=!0,ii);case"textInput":return n=r.data,n===ii&&ri?null:n;default:return null}}function zT(n,r){if(Uo)return n==="compositionend"||!It&&Ba(n,r)?(n=sc(),Ua=nc=Ci=null,Uo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ki&&r.locale!=="ko"?null:r.data;default:return null}}var FT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dx(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!FT[n.type]:r==="textarea"}function hx(n,r,o,u){kr?Ai?Ai.push(u):Ai=[u]:kr=u,r=th(r,"onChange"),0<r.length&&(o=new Ri("onChange","change",null,o,u),n.push({event:o,listeners:r}))}var oc=null,lc=null;function qT(n){Yb(n,0)}function md(n){var r=xs(n);if(Pa(r))return n}function mx(n,r){if(n==="change")return r}var fx=!1;if(Ps){var Om;if(Ps){var Lm="oninput"in document;if(!Lm){var gx=document.createElement("div");gx.setAttribute("oninput","return;"),Lm=typeof gx.oninput=="function"}Om=Lm}else Om=!1;fx=Om&&(!document.documentMode||9<document.documentMode)}function px(){oc&&(oc.detachEvent("onpropertychange",yx),lc=oc=null)}function yx(n){if(n.propertyName==="value"&&md(lc)){var r=[];hx(r,lc,n,ks(n)),Pr(qT,r)}}function BT(n,r,o){n==="focusin"?(px(),oc=r,lc=o,oc.attachEvent("onpropertychange",yx)):n==="focusout"&&px()}function $T(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return md(lc)}function HT(n,r){if(n==="click")return md(r)}function GT(n,r){if(n==="input"||n==="change")return md(r)}function WT(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var vs=typeof Object.is=="function"?Object.is:WT;function cc(n,r){if(vs(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var m=o[u];if(!ve.call(r,m)||!vs(n[m],r[m]))return!1}return!0}function xx(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function bx(n,r){var o=xx(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=r&&u>=r)return{node:o,offset:r-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=xx(o)}}function vx(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?vx(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Nx(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Si(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=Si(n.document)}return r}function Vm(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var YT=Ps&&"documentMode"in document&&11>=document.documentMode,zo=null,Um=null,uc=null,zm=!1;function jx(n,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;zm||zo==null||zo!==Si(u)||(u=zo,"selectionStart"in u&&Vm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),uc&&cc(uc,u)||(uc=u,u=th(Um,"onSelect"),0<u.length&&(r=new Ri("onSelect","select",null,r,o),n.push({event:r,listeners:u}),r.target=zo)))}function $a(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var Fo={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Fm={},wx={};Ps&&(wx=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Ha(n){if(Fm[n])return Fm[n];if(!Fo[n])return n;var r=Fo[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in wx)return Fm[n]=r[o];return n}var _x=Ha("animationend"),Ex=Ha("animationiteration"),Tx=Ha("animationstart"),KT=Ha("transitionrun"),QT=Ha("transitionstart"),XT=Ha("transitioncancel"),Ix=Ha("transitionend"),Sx=new Map,qm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qm.push("scrollEnd");function ai(n,r){Sx.set(n,r),Ti(r,[n])}var fd=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Ls=[],qo=0,Bm=0;function gd(){for(var n=qo,r=Bm=qo=0;r<n;){var o=Ls[r];Ls[r++]=null;var u=Ls[r];Ls[r++]=null;var m=Ls[r];Ls[r++]=null;var p=Ls[r];if(Ls[r++]=null,u!==null&&m!==null){var v=u.pending;v===null?m.next=m:(m.next=v.next,v.next=m),u.pending=m}p!==0&&Ax(o,m,p)}}function pd(n,r,o,u){Ls[qo++]=n,Ls[qo++]=r,Ls[qo++]=o,Ls[qo++]=u,Bm|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function $m(n,r,o,u){return pd(n,r,o,u),yd(n)}function Ga(n,r){return pd(n,null,null,r),yd(n)}function Ax(n,r,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var m=!1,p=n.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(m=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,m&&r!==null&&(m=31-Be(o),n=p.hiddenUpdates,u=n[m],u===null?n[m]=[r]:u.push(r),r.lane=o|536870912),p):null}function yd(n){if(50<Mc)throw Mc=0,eg=null,Error(a(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Bo={};function JT(n,r,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ns(n,r,o,u){return new JT(n,r,o,u)}function Hm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function sr(n,r){var o=n.alternate;return o===null?(o=Ns(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Cx(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function xd(n,r,o,u,m,p){var v=0;if(u=n,typeof n=="function")Hm(n)&&(v=1);else if(typeof n=="string")v=s1(n,o,Ie.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case k:return n=Ns(31,o,r,m),n.elementType=k,n.lanes=p,n;case W:return Wa(o.children,m,p,r);case $:v=8,m|=24;break;case X:return n=Ns(12,o,r,m|2),n.elementType=X,n.lanes=p,n;case ke:return n=Ns(13,o,r,m),n.elementType=ke,n.lanes=p,n;case Me:return n=Ns(19,o,r,m),n.elementType=Me,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ne:v=10;break e;case ie:v=9;break e;case Re:v=11;break e;case O:v=14;break e;case C:v=16,u=null;break e}v=29,o=Error(a(130,n===null?"null":typeof n,"")),u=null}return r=Ns(v,o,r,m),r.elementType=n,r.type=u,r.lanes=p,r}function Wa(n,r,o,u){return n=Ns(7,n,u,r),n.lanes=o,n}function Gm(n,r,o){return n=Ns(6,n,null,r),n.lanes=o,n}function Rx(n){var r=Ns(18,null,null,0);return r.stateNode=n,r}function Wm(n,r,o){return r=Ns(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Mx=new WeakMap;function Vs(n,r){if(typeof n=="object"&&n!==null){var o=Mx.get(n);return o!==void 0?o:(r={value:n,source:r,stack:je(r)},Mx.set(n,r),r)}return{value:n,source:r,stack:je(r)}}var $o=[],Ho=0,bd=null,dc=0,Us=[],zs=0,Ur=null,Pi=1,Oi="";function ir(n,r){$o[Ho++]=dc,$o[Ho++]=bd,bd=n,dc=r}function Dx(n,r,o){Us[zs++]=Pi,Us[zs++]=Oi,Us[zs++]=Ur,Ur=n;var u=Pi;n=Oi;var m=32-Be(u)-1;u&=~(1<<m),o+=1;var p=32-Be(r)+m;if(30<p){var v=m-m%5;p=(u&(1<<v)-1).toString(32),u>>=v,m-=v,Pi=1<<32-Be(r)+m|o<<m|u,Oi=p+n}else Pi=1<<p|o<<m|u,Oi=n}function Ym(n){n.return!==null&&(ir(n,1),Dx(n,1,0))}function Km(n){for(;n===bd;)bd=$o[--Ho],$o[Ho]=null,dc=$o[--Ho],$o[Ho]=null;for(;n===Ur;)Ur=Us[--zs],Us[zs]=null,Oi=Us[--zs],Us[zs]=null,Pi=Us[--zs],Us[zs]=null}function kx(n,r){Us[zs++]=Pi,Us[zs++]=Oi,Us[zs++]=Ur,Pi=r.id,Oi=r.overflow,Ur=n}var zn=null,Gt=null,gt=!1,zr=null,Fs=!1,Qm=Error(a(519));function Fr(n){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hc(Vs(r,n)),Qm}function Px(n){var r=n.stateNode,o=n.type,u=n.memoizedProps;switch(r[xn]=n,r[Dn]=u,o){case"dialog":lt("cancel",r),lt("close",r);break;case"iframe":case"object":case"embed":lt("load",r);break;case"video":case"audio":for(o=0;o<kc.length;o++)lt(kc[o],r);break;case"source":lt("error",r);break;case"img":case"image":case"link":lt("error",r),lt("load",r);break;case"details":lt("toggle",r);break;case"input":lt("invalid",r),Ju(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":lt("invalid",r);break;case"textarea":lt("invalid",r),Mr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Jb(r.textContent,o)?(u.popover!=null&&(lt("beforetoggle",r),lt("toggle",r)),u.onScroll!=null&&lt("scroll",r),u.onScrollEnd!=null&&lt("scrollend",r),u.onClick!=null&&(r.onclick=ti),r=!0):r=!1,r||Fr(n,!0)}function Ox(n){for(zn=n.return;zn;)switch(zn.tag){case 5:case 31:case 13:Fs=!1;return;case 27:case 3:Fs=!0;return;default:zn=zn.return}}function Go(n){if(n!==zn)return!1;if(!gt)return Ox(n),gt=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||gg(n.type,n.memoizedProps)),o=!o),o&&Gt&&Fr(n),Ox(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Gt=ov(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Gt=ov(n)}else r===27?(r=Gt,ta(n.type)?(n=vg,vg=null,Gt=n):Gt=r):Gt=zn?Bs(n.stateNode.nextSibling):null;return!0}function Ya(){Gt=zn=null,gt=!1}function Xm(){var n=zr;return n!==null&&(ms===null?ms=n:ms.push.apply(ms,n),zr=null),n}function hc(n){zr===null?zr=[n]:zr.push(n)}var Jm=L(null),Ka=null,rr=null;function qr(n,r,o){_e(Jm,r._currentValue),r._currentValue=o}function ar(n){n._currentValue=Jm.current,ue(Jm)}function Zm(n,r,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===o)break;n=n.return}}function ef(n,r,o,u){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var p=m.dependencies;if(p!==null){var v=m.child;p=p.firstContext;e:for(;p!==null;){var T=p;p=m;for(var V=0;V<r.length;V++)if(T.context===r[V]){p.lanes|=o,T=p.alternate,T!==null&&(T.lanes|=o),Zm(p.return,o,n),u||(v=null);break e}p=T.next}}else if(m.tag===18){if(v=m.return,v===null)throw Error(a(341));v.lanes|=o,p=v.alternate,p!==null&&(p.lanes|=o),Zm(v,o,n),v=null}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===n){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}}function Wo(n,r,o,u){n=null;for(var m=r,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var v=m.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=m.type;vs(m.pendingProps.value,v.value)||(n!==null?n.push(T):n=[T])}}else if(m===A.current){if(v=m.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(Uc):n=[Uc])}m=m.return}n!==null&&ef(r,n,o,u),r.flags|=262144}function vd(n){for(n=n.firstContext;n!==null;){if(!vs(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Qa(n){Ka=n,rr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Fn(n){return Lx(Ka,n)}function Nd(n,r){return Ka===null&&Qa(n),Lx(n,r)}function Lx(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},rr===null){if(n===null)throw Error(a(308));rr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else rr=rr.next=r;return o}var ZT=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},e2=s.unstable_scheduleCallback,t2=s.unstable_NormalPriority,Nn={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new ZT,data:new Map,refCount:0}}function mc(n){n.refCount--,n.refCount===0&&e2(t2,function(){n.controller.abort()})}var fc=null,nf=0,Yo=0,Ko=null;function n2(n,r){if(fc===null){var o=fc=[];nf=0,Yo=ag(),Ko={status:"pending",value:void 0,then:function(u){o.push(u)}}}return nf++,r.then(Vx,Vx),r}function Vx(){if(--nf===0&&fc!==null){Ko!==null&&(Ko.status="fulfilled");var n=fc;fc=null,Yo=0,Ko=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function s2(n,r){var o=[],u={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),u}var Ux=H.S;H.S=function(n,r){jb=it(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&n2(n,r),Ux!==null&&Ux(n,r)};var Xa=L(null);function sf(){var n=Xa.current;return n!==null?n:$t.pooledCache}function jd(n,r){r===null?_e(Xa,Xa.current):_e(Xa,r.pool)}function zx(){var n=sf();return n===null?null:{parent:Nn._currentValue,pool:n}}var Qo=Error(a(460)),rf=Error(a(474)),wd=Error(a(542)),_d={then:function(){}};function Fx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function qx(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(ti,ti),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,$x(n),n;default:if(typeof r.status=="string")r.then(ti,ti);else{if(n=$t,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,$x(n),n}throw Za=r,Qo}}function Ja(n){try{var r=n._init;return r(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Za=o,Qo):o}}var Za=null;function Bx(){if(Za===null)throw Error(a(459));var n=Za;return Za=null,n}function $x(n){if(n===Qo||n===wd)throw Error(a(483))}var Xo=null,gc=0;function Ed(n){var r=gc;return gc+=1,Xo===null&&(Xo=[]),qx(Xo,n,r)}function pc(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Td(n,r){throw r.$$typeof===I?Error(a(525)):(n=Object.prototype.toString.call(r),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Hx(n){function r(Y,q){if(n){var Z=Y.deletions;Z===null?(Y.deletions=[q],Y.flags|=16):Z.push(q)}}function o(Y,q){if(!n)return null;for(;q!==null;)r(Y,q),q=q.sibling;return null}function u(Y){for(var q=new Map;Y!==null;)Y.key!==null?q.set(Y.key,Y):q.set(Y.index,Y),Y=Y.sibling;return q}function m(Y,q){return Y=sr(Y,q),Y.index=0,Y.sibling=null,Y}function p(Y,q,Z){return Y.index=Z,n?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<q?(Y.flags|=67108866,q):Z):(Y.flags|=67108866,q)):(Y.flags|=1048576,q)}function v(Y){return n&&Y.alternate===null&&(Y.flags|=67108866),Y}function T(Y,q,Z,me){return q===null||q.tag!==6?(q=Gm(Z,Y.mode,me),q.return=Y,q):(q=m(q,Z),q.return=Y,q)}function V(Y,q,Z,me){var Le=Z.type;return Le===W?oe(Y,q,Z.props.children,me,Z.key):q!==null&&(q.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===C&&Ja(Le)===q.type)?(q=m(q,Z.props),pc(q,Z),q.return=Y,q):(q=xd(Z.type,Z.key,Z.props,null,Y.mode,me),pc(q,Z),q.return=Y,q)}function ee(Y,q,Z,me){return q===null||q.tag!==4||q.stateNode.containerInfo!==Z.containerInfo||q.stateNode.implementation!==Z.implementation?(q=Wm(Z,Y.mode,me),q.return=Y,q):(q=m(q,Z.children||[]),q.return=Y,q)}function oe(Y,q,Z,me,Le){return q===null||q.tag!==7?(q=Wa(Z,Y.mode,me,Le),q.return=Y,q):(q=m(q,Z),q.return=Y,q)}function fe(Y,q,Z){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Gm(""+q,Y.mode,Z),q.return=Y,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case M:return Z=xd(q.type,q.key,q.props,null,Y.mode,Z),pc(Z,q),Z.return=Y,Z;case G:return q=Wm(q,Y.mode,Z),q.return=Y,q;case C:return q=Ja(q),fe(Y,q,Z)}if(pe(q)||B(q))return q=Wa(q,Y.mode,Z,null),q.return=Y,q;if(typeof q.then=="function")return fe(Y,Ed(q),Z);if(q.$$typeof===ne)return fe(Y,Nd(Y,q),Z);Td(Y,q)}return null}function te(Y,q,Z,me){var Le=q!==null?q.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Le!==null?null:T(Y,q,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case M:return Z.key===Le?V(Y,q,Z,me):null;case G:return Z.key===Le?ee(Y,q,Z,me):null;case C:return Z=Ja(Z),te(Y,q,Z,me)}if(pe(Z)||B(Z))return Le!==null?null:oe(Y,q,Z,me,null);if(typeof Z.then=="function")return te(Y,q,Ed(Z),me);if(Z.$$typeof===ne)return te(Y,q,Nd(Y,Z),me);Td(Y,Z)}return null}function re(Y,q,Z,me,Le){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return Y=Y.get(Z)||null,T(q,Y,""+me,Le);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case M:return Y=Y.get(me.key===null?Z:me.key)||null,V(q,Y,me,Le);case G:return Y=Y.get(me.key===null?Z:me.key)||null,ee(q,Y,me,Le);case C:return me=Ja(me),re(Y,q,Z,me,Le)}if(pe(me)||B(me))return Y=Y.get(Z)||null,oe(q,Y,me,Le,null);if(typeof me.then=="function")return re(Y,q,Z,Ed(me),Le);if(me.$$typeof===ne)return re(Y,q,Z,Nd(q,me),Le);Td(q,me)}return null}function De(Y,q,Z,me){for(var Le=null,wt=null,Oe=q,rt=q=0,ut=null;Oe!==null&&rt<Z.length;rt++){Oe.index>rt?(ut=Oe,Oe=null):ut=Oe.sibling;var _t=te(Y,Oe,Z[rt],me);if(_t===null){Oe===null&&(Oe=ut);break}n&&Oe&&_t.alternate===null&&r(Y,Oe),q=p(_t,q,rt),wt===null?Le=_t:wt.sibling=_t,wt=_t,Oe=ut}if(rt===Z.length)return o(Y,Oe),gt&&ir(Y,rt),Le;if(Oe===null){for(;rt<Z.length;rt++)Oe=fe(Y,Z[rt],me),Oe!==null&&(q=p(Oe,q,rt),wt===null?Le=Oe:wt.sibling=Oe,wt=Oe);return gt&&ir(Y,rt),Le}for(Oe=u(Oe);rt<Z.length;rt++)ut=re(Oe,Y,rt,Z[rt],me),ut!==null&&(n&&ut.alternate!==null&&Oe.delete(ut.key===null?rt:ut.key),q=p(ut,q,rt),wt===null?Le=ut:wt.sibling=ut,wt=ut);return n&&Oe.forEach(function(aa){return r(Y,aa)}),gt&&ir(Y,rt),Le}function qe(Y,q,Z,me){if(Z==null)throw Error(a(151));for(var Le=null,wt=null,Oe=q,rt=q=0,ut=null,_t=Z.next();Oe!==null&&!_t.done;rt++,_t=Z.next()){Oe.index>rt?(ut=Oe,Oe=null):ut=Oe.sibling;var aa=te(Y,Oe,_t.value,me);if(aa===null){Oe===null&&(Oe=ut);break}n&&Oe&&aa.alternate===null&&r(Y,Oe),q=p(aa,q,rt),wt===null?Le=aa:wt.sibling=aa,wt=aa,Oe=ut}if(_t.done)return o(Y,Oe),gt&&ir(Y,rt),Le;if(Oe===null){for(;!_t.done;rt++,_t=Z.next())_t=fe(Y,_t.value,me),_t!==null&&(q=p(_t,q,rt),wt===null?Le=_t:wt.sibling=_t,wt=_t);return gt&&ir(Y,rt),Le}for(Oe=u(Oe);!_t.done;rt++,_t=Z.next())_t=re(Oe,Y,rt,_t.value,me),_t!==null&&(n&&_t.alternate!==null&&Oe.delete(_t.key===null?rt:_t.key),q=p(_t,q,rt),wt===null?Le=_t:wt.sibling=_t,wt=_t);return n&&Oe.forEach(function(f1){return r(Y,f1)}),gt&&ir(Y,rt),Le}function Ut(Y,q,Z,me){if(typeof Z=="object"&&Z!==null&&Z.type===W&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case M:e:{for(var Le=Z.key;q!==null;){if(q.key===Le){if(Le=Z.type,Le===W){if(q.tag===7){o(Y,q.sibling),me=m(q,Z.props.children),me.return=Y,Y=me;break e}}else if(q.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===C&&Ja(Le)===q.type){o(Y,q.sibling),me=m(q,Z.props),pc(me,Z),me.return=Y,Y=me;break e}o(Y,q);break}else r(Y,q);q=q.sibling}Z.type===W?(me=Wa(Z.props.children,Y.mode,me,Z.key),me.return=Y,Y=me):(me=xd(Z.type,Z.key,Z.props,null,Y.mode,me),pc(me,Z),me.return=Y,Y=me)}return v(Y);case G:e:{for(Le=Z.key;q!==null;){if(q.key===Le)if(q.tag===4&&q.stateNode.containerInfo===Z.containerInfo&&q.stateNode.implementation===Z.implementation){o(Y,q.sibling),me=m(q,Z.children||[]),me.return=Y,Y=me;break e}else{o(Y,q);break}else r(Y,q);q=q.sibling}me=Wm(Z,Y.mode,me),me.return=Y,Y=me}return v(Y);case C:return Z=Ja(Z),Ut(Y,q,Z,me)}if(pe(Z))return De(Y,q,Z,me);if(B(Z)){if(Le=B(Z),typeof Le!="function")throw Error(a(150));return Z=Le.call(Z),qe(Y,q,Z,me)}if(typeof Z.then=="function")return Ut(Y,q,Ed(Z),me);if(Z.$$typeof===ne)return Ut(Y,q,Nd(Y,Z),me);Td(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,q!==null&&q.tag===6?(o(Y,q.sibling),me=m(q,Z),me.return=Y,Y=me):(o(Y,q),me=Gm(Z,Y.mode,me),me.return=Y,Y=me),v(Y)):o(Y,q)}return function(Y,q,Z,me){try{gc=0;var Le=Ut(Y,q,Z,me);return Xo=null,Le}catch(Oe){if(Oe===Qo||Oe===wd)throw Oe;var wt=Ns(29,Oe,null,Y.mode);return wt.lanes=me,wt.return=Y,wt}}}var eo=Hx(!0),Gx=Hx(!1),Br=!1;function af(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function $r(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Hr(n,r,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(St&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=yd(n),Ax(n,null,o),r}return pd(n,u,r,o),yd(n)}function yc(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,Ar(n,o)}}function lf(n,r){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var m=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?m=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?m=p=r:p=p.next=r}else m=p=r;o={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var cf=!1;function xc(){if(cf){var n=Ko;if(n!==null)throw n}}function bc(n,r,o,u){cf=!1;var m=n.updateQueue;Br=!1;var p=m.firstBaseUpdate,v=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var V=T,ee=V.next;V.next=null,v===null?p=ee:v.next=ee,v=V;var oe=n.alternate;oe!==null&&(oe=oe.updateQueue,T=oe.lastBaseUpdate,T!==v&&(T===null?oe.firstBaseUpdate=ee:T.next=ee,oe.lastBaseUpdate=V))}if(p!==null){var fe=m.baseState;v=0,oe=ee=V=null,T=p;do{var te=T.lane&-536870913,re=te!==T.lane;if(re?(ct&te)===te:(u&te)===te){te!==0&&te===Yo&&(cf=!0),oe!==null&&(oe=oe.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var De=n,qe=T;te=r;var Ut=o;switch(qe.tag){case 1:if(De=qe.payload,typeof De=="function"){fe=De.call(Ut,fe,te);break e}fe=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=qe.payload,te=typeof De=="function"?De.call(Ut,fe,te):De,te==null)break e;fe=w({},fe,te);break e;case 2:Br=!0}}te=T.callback,te!==null&&(n.flags|=64,re&&(n.flags|=8192),re=m.callbacks,re===null?m.callbacks=[te]:re.push(te))}else re={lane:te,tag:T.tag,payload:T.payload,callback:T.callback,next:null},oe===null?(ee=oe=re,V=fe):oe=oe.next=re,v|=te;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;re=T,T=re.next,re.next=null,m.lastBaseUpdate=re,m.shared.pending=null}}while(!0);oe===null&&(V=fe),m.baseState=V,m.firstBaseUpdate=ee,m.lastBaseUpdate=oe,p===null&&(m.shared.lanes=0),Qr|=v,n.lanes=v,n.memoizedState=fe}}function Wx(n,r){if(typeof n!="function")throw Error(a(191,n));n.call(r)}function Yx(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Wx(o[n],r)}var Jo=L(null),Id=L(0);function Kx(n,r){n=gr,_e(Id,n),_e(Jo,r),gr=n|r.baseLanes}function uf(){_e(Id,gr),_e(Jo,Jo.current)}function df(){gr=Id.current,ue(Jo),ue(Id)}var js=L(null),qs=null;function Gr(n){var r=n.alternate;_e(hn,hn.current&1),_e(js,n),qs===null&&(r===null||Jo.current!==null||r.memoizedState!==null)&&(qs=n)}function hf(n){_e(hn,hn.current),_e(js,n),qs===null&&(qs=n)}function Qx(n){n.tag===22?(_e(hn,hn.current),_e(js,n),qs===null&&(qs=n)):Wr()}function Wr(){_e(hn,hn.current),_e(js,js.current)}function ws(n){ue(js),qs===n&&(qs=null),ue(hn)}var hn=L(0);function Sd(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||xg(o)||bg(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var or=0,nt=null,Lt=null,jn=null,Ad=!1,Zo=!1,to=!1,Cd=0,vc=0,el=null,i2=0;function rn(){throw Error(a(321))}function mf(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!vs(n[o],r[o]))return!1;return!0}function ff(n,r,o,u,m,p){return or=p,nt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=n===null||n.memoizedState===null?D0:Af,to=!1,p=o(u,m),to=!1,Zo&&(p=Jx(r,o,u,m)),Xx(n),p}function Xx(n){H.H=wc;var r=Lt!==null&&Lt.next!==null;if(or=0,jn=Lt=nt=null,Ad=!1,vc=0,el=null,r)throw Error(a(300));n===null||wn||(n=n.dependencies,n!==null&&vd(n)&&(wn=!0))}function Jx(n,r,o,u){nt=n;var m=0;do{if(Zo&&(el=null),vc=0,Zo=!1,25<=m)throw Error(a(301));if(m+=1,jn=Lt=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}H.H=k0,p=r(o,u)}while(Zo);return p}function r2(){var n=H.H,r=n.useState()[0];return r=typeof r.then=="function"?Nc(r):r,n=n.useState()[0],(Lt!==null?Lt.memoizedState:null)!==n&&(nt.flags|=1024),r}function gf(){var n=Cd!==0;return Cd=0,n}function pf(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function yf(n){if(Ad){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Ad=!1}or=0,jn=Lt=nt=null,Zo=!1,vc=Cd=0,el=null}function rs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?nt.memoizedState=jn=n:jn=jn.next=n,jn}function mn(){if(Lt===null){var n=nt.alternate;n=n!==null?n.memoizedState:null}else n=Lt.next;var r=jn===null?nt.memoizedState:jn.next;if(r!==null)jn=r,Lt=n;else{if(n===null)throw nt.alternate===null?Error(a(467)):Error(a(310));Lt=n,n={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},jn===null?nt.memoizedState=jn=n:jn=jn.next=n}return jn}function Rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nc(n){var r=vc;return vc+=1,el===null&&(el=[]),n=qx(el,n,r),r=nt,(jn===null?r.memoizedState:jn.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?D0:Af),n}function Md(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Nc(n);if(n.$$typeof===ne)return Fn(n)}throw Error(a(438,String(n)))}function xf(n){var r=null,o=nt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=nt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Rd(),nt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),u=0;u<n;u++)o[u]=z;return r.index++,o}function lr(n,r){return typeof r=="function"?r(n):r}function Dd(n){var r=mn();return bf(r,Lt,n)}function bf(n,r,o){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var m=n.baseQueue,p=u.pending;if(p!==null){if(m!==null){var v=m.next;m.next=p.next,p.next=v}r.baseQueue=m=p,u.pending=null}if(p=n.baseState,m===null)n.memoizedState=p;else{r=m.next;var T=v=null,V=null,ee=r,oe=!1;do{var fe=ee.lane&-536870913;if(fe!==ee.lane?(ct&fe)===fe:(or&fe)===fe){var te=ee.revertLane;if(te===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),fe===Yo&&(oe=!0);else if((or&te)===te){ee=ee.next,te===Yo&&(oe=!0);continue}else fe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},V===null?(T=V=fe,v=p):V=V.next=fe,nt.lanes|=te,Qr|=te;fe=ee.action,to&&o(p,fe),p=ee.hasEagerState?ee.eagerState:o(p,fe)}else te={lane:fe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},V===null?(T=V=te,v=p):V=V.next=te,nt.lanes|=fe,Qr|=fe;ee=ee.next}while(ee!==null&&ee!==r);if(V===null?v=p:V.next=T,!vs(p,n.memoizedState)&&(wn=!0,oe&&(o=Ko,o!==null)))throw o;n.memoizedState=p,n.baseState=v,n.baseQueue=V,u.lastRenderedState=p}return m===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function vf(n){var r=mn(),o=r.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var u=o.dispatch,m=o.pending,p=r.memoizedState;if(m!==null){o.pending=null;var v=m=m.next;do p=n(p,v.action),v=v.next;while(v!==m);vs(p,r.memoizedState)||(wn=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function Zx(n,r,o){var u=nt,m=mn(),p=gt;if(p){if(o===void 0)throw Error(a(407));o=o()}else o=r();var v=!vs((Lt||m).memoizedState,o);if(v&&(m.memoizedState=o,wn=!0),m=m.queue,wf(n0.bind(null,u,m,n),[n]),m.getSnapshot!==r||v||jn!==null&&jn.memoizedState.tag&1){if(u.flags|=2048,tl(9,{destroy:void 0},t0.bind(null,u,m,o,r),null),$t===null)throw Error(a(349));p||(or&127)!==0||e0(u,r,o)}return o}function e0(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=nt.updateQueue,r===null?(r=Rd(),nt.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function t0(n,r,o,u){r.value=o,r.getSnapshot=u,s0(r)&&i0(n)}function n0(n,r,o){return o(function(){s0(r)&&i0(n)})}function s0(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!vs(n,o)}catch{return!0}}function i0(n){var r=Ga(n,2);r!==null&&fs(r,n,2)}function Nf(n){var r=rs();if(typeof n=="function"){var o=n;if(n=o(),to){Ye(!0);try{o()}finally{Ye(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:n},r}function r0(n,r,o,u){return n.baseState=o,bf(n,Lt,typeof u=="function"?u:lr)}function a2(n,r,o,u,m){if(Od(n))throw Error(a(485));if(n=r.action,n!==null){var p={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};H.T!==null?o(!0):p.isTransition=!1,u(p),o=r.pending,o===null?(p.next=r.pending=p,a0(r,p)):(p.next=o.next,r.pending=o.next=p)}}function a0(n,r){var o=r.action,u=r.payload,m=n.state;if(r.isTransition){var p=H.T,v={};H.T=v;try{var T=o(m,u),V=H.S;V!==null&&V(v,T),o0(n,r,T)}catch(ee){jf(n,r,ee)}finally{p!==null&&v.types!==null&&(p.types=v.types),H.T=p}}else try{p=o(m,u),o0(n,r,p)}catch(ee){jf(n,r,ee)}}function o0(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){l0(n,r,u)},function(u){return jf(n,r,u)}):l0(n,r,o)}function l0(n,r,o){r.status="fulfilled",r.value=o,c0(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,a0(n,o)))}function jf(n,r,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,c0(r),r=r.next;while(r!==u)}n.action=null}function c0(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function u0(n,r){return r}function d0(n,r){if(gt){var o=$t.formState;if(o!==null){e:{var u=nt;if(gt){if(Gt){t:{for(var m=Gt,p=Fs;m.nodeType!==8;){if(!p){m=null;break t}if(m=Bs(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){Gt=Bs(m.nextSibling),u=m.data==="F!";break e}}Fr(u)}u=!1}u&&(r=o[0])}}return o=rs(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u0,lastRenderedState:r},o.queue=u,o=C0.bind(null,nt,u),u.dispatch=o,u=Nf(!1),p=Sf.bind(null,nt,!1,u.queue),u=rs(),m={state:r,dispatch:null,action:n,pending:null},u.queue=m,o=a2.bind(null,nt,m,p,o),m.dispatch=o,u.memoizedState=n,[r,o,!1]}function h0(n){var r=mn();return m0(r,Lt,n)}function m0(n,r,o){if(r=bf(n,r,u0)[0],n=Dd(lr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Nc(r)}catch(v){throw v===Qo?wd:v}else u=r;r=mn();var m=r.queue,p=m.dispatch;return o!==r.memoizedState&&(nt.flags|=2048,tl(9,{destroy:void 0},o2.bind(null,m,o),null)),[u,p,n]}function o2(n,r){n.action=r}function f0(n){var r=mn(),o=Lt;if(o!==null)return m0(r,o,n);mn(),r=r.memoizedState,o=mn();var u=o.queue.dispatch;return o.memoizedState=n,[r,u,!1]}function tl(n,r,o,u){return n={tag:n,create:o,deps:u,inst:r,next:null},r=nt.updateQueue,r===null&&(r=Rd(),nt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,r.lastEffect=n),n}function g0(){return mn().memoizedState}function kd(n,r,o,u){var m=rs();nt.flags|=n,m.memoizedState=tl(1|r,{destroy:void 0},o,u===void 0?null:u)}function Pd(n,r,o,u){var m=mn();u=u===void 0?null:u;var p=m.memoizedState.inst;Lt!==null&&u!==null&&mf(u,Lt.memoizedState.deps)?m.memoizedState=tl(r,p,o,u):(nt.flags|=n,m.memoizedState=tl(1|r,p,o,u))}function p0(n,r){kd(8390656,8,n,r)}function wf(n,r){Pd(2048,8,n,r)}function l2(n){nt.flags|=4;var r=nt.updateQueue;if(r===null)r=Rd(),nt.updateQueue=r,r.events=[n];else{var o=r.events;o===null?r.events=[n]:o.push(n)}}function y0(n){var r=mn().memoizedState;return l2({ref:r,nextImpl:n}),function(){if((St&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function x0(n,r){return Pd(4,2,n,r)}function b0(n,r){return Pd(4,4,n,r)}function v0(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function N0(n,r,o){o=o!=null?o.concat([n]):null,Pd(4,4,v0.bind(null,r,n),o)}function _f(){}function j0(n,r){var o=mn();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&mf(r,u[1])?u[0]:(o.memoizedState=[n,r],n)}function w0(n,r){var o=mn();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&mf(r,u[1]))return u[0];if(u=n(),to){Ye(!0);try{n()}finally{Ye(!1)}}return o.memoizedState=[u,r],u}function Ef(n,r,o){return o===void 0||(or&1073741824)!==0&&(ct&261930)===0?n.memoizedState=r:(n.memoizedState=o,n=_b(),nt.lanes|=n,Qr|=n,o)}function _0(n,r,o,u){return vs(o,r)?o:Jo.current!==null?(n=Ef(n,o,u),vs(n,r)||(wn=!0),n):(or&42)===0||(or&1073741824)!==0&&(ct&261930)===0?(wn=!0,n.memoizedState=o):(n=_b(),nt.lanes|=n,Qr|=n,r)}function E0(n,r,o,u,m){var p=ce.p;ce.p=p!==0&&8>p?p:8;var v=H.T,T={};H.T=T,Sf(n,!1,r,o);try{var V=m(),ee=H.S;if(ee!==null&&ee(T,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var oe=s2(V,u);jc(n,r,oe,Ts(n))}else jc(n,r,u,Ts(n))}catch(fe){jc(n,r,{then:function(){},status:"rejected",reason:fe},Ts())}finally{ce.p=p,v!==null&&T.types!==null&&(v.types=T.types),H.T=v}}function c2(){}function Tf(n,r,o,u){if(n.tag!==5)throw Error(a(476));var m=T0(n).queue;E0(n,m,r,be,o===null?c2:function(){return I0(n),o(u)})}function T0(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:be},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function I0(n){var r=T0(n);r.next===null&&(r=n.alternate.memoizedState),jc(n,r.next.queue,{},Ts())}function If(){return Fn(Uc)}function S0(){return mn().memoizedState}function A0(){return mn().memoizedState}function u2(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ts();n=$r(o);var u=Hr(r,n,o);u!==null&&(fs(u,r,o),yc(u,r,o)),r={cache:tf()},n.payload=r;return}r=r.return}}function d2(n,r,o){var u=Ts();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Od(n)?R0(r,o):(o=$m(n,r,o,u),o!==null&&(fs(o,n,u),M0(o,r,u)))}function C0(n,r,o){var u=Ts();jc(n,r,o,u)}function jc(n,r,o,u){var m={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Od(n))R0(r,m);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,T=p(v,o);if(m.hasEagerState=!0,m.eagerState=T,vs(T,v))return pd(n,r,m,0),$t===null&&gd(),!1}catch{}if(o=$m(n,r,m,u),o!==null)return fs(o,n,u),M0(o,r,u),!0}return!1}function Sf(n,r,o,u){if(u={lane:2,revertLane:ag(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Od(n)){if(r)throw Error(a(479))}else r=$m(n,o,u,2),r!==null&&fs(r,n,2)}function Od(n){var r=n.alternate;return n===nt||r!==null&&r===nt}function R0(n,r){Zo=Ad=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function M0(n,r,o){if((o&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,Ar(n,o)}}var wc={readContext:Fn,use:Md,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn};wc.useEffectEvent=rn;var D0={readContext:Fn,use:Md,useCallback:function(n,r){return rs().memoizedState=[n,r===void 0?null:r],n},useContext:Fn,useEffect:p0,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,kd(4194308,4,v0.bind(null,r,n),o)},useLayoutEffect:function(n,r){return kd(4194308,4,n,r)},useInsertionEffect:function(n,r){kd(4,2,n,r)},useMemo:function(n,r){var o=rs();r=r===void 0?null:r;var u=n();if(to){Ye(!0);try{n()}finally{Ye(!1)}}return o.memoizedState=[u,r],u},useReducer:function(n,r,o){var u=rs();if(o!==void 0){var m=o(r);if(to){Ye(!0);try{o(r)}finally{Ye(!1)}}}else m=r;return u.memoizedState=u.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},u.queue=n,n=n.dispatch=d2.bind(null,nt,n),[u.memoizedState,n]},useRef:function(n){var r=rs();return n={current:n},r.memoizedState=n},useState:function(n){n=Nf(n);var r=n.queue,o=C0.bind(null,nt,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:_f,useDeferredValue:function(n,r){var o=rs();return Ef(o,n,r)},useTransition:function(){var n=Nf(!1);return n=E0.bind(null,nt,n.queue,!0,!1),rs().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var u=nt,m=rs();if(gt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=r(),$t===null)throw Error(a(349));(ct&127)!==0||e0(u,r,o)}m.memoizedState=o;var p={value:o,getSnapshot:r};return m.queue=p,p0(n0.bind(null,u,p,n),[n]),u.flags|=2048,tl(9,{destroy:void 0},t0.bind(null,u,p,o,r),null),o},useId:function(){var n=rs(),r=$t.identifierPrefix;if(gt){var o=Oi,u=Pi;o=(u&~(1<<32-Be(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Cd++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=i2++,r="_"+r+"r_"+o.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:If,useFormState:d0,useActionState:d0,useOptimistic:function(n){var r=rs();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Sf.bind(null,nt,!0,o),o.dispatch=r,[n,r]},useMemoCache:xf,useCacheRefresh:function(){return rs().memoizedState=u2.bind(null,nt)},useEffectEvent:function(n){var r=rs(),o={impl:n};return r.memoizedState=o,function(){if((St&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Af={readContext:Fn,use:Md,useCallback:j0,useContext:Fn,useEffect:wf,useImperativeHandle:N0,useInsertionEffect:x0,useLayoutEffect:b0,useMemo:w0,useReducer:Dd,useRef:g0,useState:function(){return Dd(lr)},useDebugValue:_f,useDeferredValue:function(n,r){var o=mn();return _0(o,Lt.memoizedState,n,r)},useTransition:function(){var n=Dd(lr)[0],r=mn().memoizedState;return[typeof n=="boolean"?n:Nc(n),r]},useSyncExternalStore:Zx,useId:S0,useHostTransitionStatus:If,useFormState:h0,useActionState:h0,useOptimistic:function(n,r){var o=mn();return r0(o,Lt,n,r)},useMemoCache:xf,useCacheRefresh:A0};Af.useEffectEvent=y0;var k0={readContext:Fn,use:Md,useCallback:j0,useContext:Fn,useEffect:wf,useImperativeHandle:N0,useInsertionEffect:x0,useLayoutEffect:b0,useMemo:w0,useReducer:vf,useRef:g0,useState:function(){return vf(lr)},useDebugValue:_f,useDeferredValue:function(n,r){var o=mn();return Lt===null?Ef(o,n,r):_0(o,Lt.memoizedState,n,r)},useTransition:function(){var n=vf(lr)[0],r=mn().memoizedState;return[typeof n=="boolean"?n:Nc(n),r]},useSyncExternalStore:Zx,useId:S0,useHostTransitionStatus:If,useFormState:f0,useActionState:f0,useOptimistic:function(n,r){var o=mn();return Lt!==null?r0(o,Lt,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:xf,useCacheRefresh:A0};k0.useEffectEvent=y0;function Cf(n,r,o,u){r=n.memoizedState,o=o(u,r),o=o==null?r:w({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Rf={enqueueSetState:function(n,r,o){n=n._reactInternals;var u=Ts(),m=$r(u);m.payload=r,o!=null&&(m.callback=o),r=Hr(n,m,u),r!==null&&(fs(r,n,u),yc(r,n,u))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var u=Ts(),m=$r(u);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Hr(n,m,u),r!==null&&(fs(r,n,u),yc(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=Ts(),u=$r(o);u.tag=2,r!=null&&(u.callback=r),r=Hr(n,u,o),r!==null&&(fs(r,n,o),yc(r,n,o))}};function P0(n,r,o,u,m,p,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,v):r.prototype&&r.prototype.isPureReactComponent?!cc(o,u)||!cc(m,p):!0}function O0(n,r,o,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==n&&Rf.enqueueReplaceState(r,r.state,null)}function no(n,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(n=n.defaultProps){o===r&&(o=w({},o));for(var m in n)o[m]===void 0&&(o[m]=n[m])}return o}function L0(n){fd(n)}function V0(n){console.error(n)}function U0(n){fd(n)}function Ld(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function z0(n,r,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Mf(n,r,o){return o=$r(o),o.tag=3,o.payload={element:null},o.callback=function(){Ld(n,r)},o}function F0(n){return n=$r(n),n.tag=3,n}function q0(n,r,o,u){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;n.payload=function(){return m(p)},n.callback=function(){z0(r,o,u)}}var v=o.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){z0(r,o,u),typeof m!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function h2(n,r,o,u,m){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Wo(r,o,m,!0),o=js.current,o!==null){switch(o.tag){case 31:case 13:return qs===null?Kd():o.alternate===null&&an===0&&(an=3),o.flags&=-257,o.flags|=65536,o.lanes=m,u===_d?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),sg(n,u,m)),!1;case 22:return o.flags|=65536,u===_d?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),sg(n,u,m)),!1}throw Error(a(435,o.tag))}return sg(n,u,m),Kd(),!1}if(gt)return r=js.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==Qm&&(n=Error(a(422),{cause:u}),hc(Vs(n,o)))):(u!==Qm&&(r=Error(a(423),{cause:u}),hc(Vs(r,o))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,u=Vs(u,o),m=Mf(n.stateNode,u,m),lf(n,m),an!==4&&(an=2)),!1;var p=Error(a(520),{cause:u});if(p=Vs(p,o),Rc===null?Rc=[p]:Rc.push(p),an!==4&&(an=2),r===null)return!0;u=Vs(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=m&-m,o.lanes|=n,n=Mf(o.stateNode,u,n),lf(o,n),!1;case 1:if(r=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xr===null||!Xr.has(p))))return o.flags|=65536,m&=-m,o.lanes|=m,m=F0(m),q0(m,n,o,u),lf(o,m),!1}o=o.return}while(o!==null);return!1}var Df=Error(a(461)),wn=!1;function qn(n,r,o,u){r.child=n===null?Gx(r,null,o,u):eo(r,n.child,o,u)}function B0(n,r,o,u,m){o=o.render;var p=r.ref;if("ref"in u){var v={};for(var T in u)T!=="ref"&&(v[T]=u[T])}else v=u;return Qa(r),u=ff(n,r,o,v,p,m),T=gf(),n!==null&&!wn?(pf(n,r,m),cr(n,r,m)):(gt&&T&&Ym(r),r.flags|=1,qn(n,r,u,m),r.child)}function $0(n,r,o,u,m){if(n===null){var p=o.type;return typeof p=="function"&&!Hm(p)&&p.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=p,H0(n,r,p,u,m)):(n=xd(o.type,null,u,r,r.mode,m),n.ref=r.ref,n.return=r,r.child=n)}if(p=n.child,!Ff(n,m)){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:cc,o(v,u)&&n.ref===r.ref)return cr(n,r,m)}return r.flags|=1,n=sr(p,u),n.ref=r.ref,n.return=r,r.child=n}function H0(n,r,o,u,m){if(n!==null){var p=n.memoizedProps;if(cc(p,u)&&n.ref===r.ref)if(wn=!1,r.pendingProps=u=p,Ff(n,m))(n.flags&131072)!==0&&(wn=!0);else return r.lanes=n.lanes,cr(n,r,m)}return kf(n,r,o,u,m)}function G0(n,r,o,u){var m=u.children,p=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,n!==null){for(u=r.child=n.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~p}else u=0,r.child=null;return W0(n,r,p,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&jd(r,p!==null?p.cachePool:null),p!==null?Kx(r,p):uf(),Qx(r);else return u=r.lanes=536870912,W0(n,r,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(jd(r,p.cachePool),Kx(r,p),Wr(),r.memoizedState=null):(n!==null&&jd(r,null),uf(),Wr());return qn(n,r,m,o),r.child}function _c(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function W0(n,r,o,u,m){var p=sf();return p=p===null?null:{parent:Nn._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},n!==null&&jd(r,null),uf(),Qx(r),n!==null&&Wo(n,r,u,!0),r.childLanes=m,null}function Vd(n,r){return r=zd({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function Y0(n,r,o){return eo(r,n.child,null,o),n=Vd(r,r.pendingProps),n.flags|=2,ws(r),r.memoizedState=null,n}function m2(n,r,o){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(gt){if(u.mode==="hidden")return n=Vd(r,u),r.lanes=536870912,_c(null,n);if(hf(r),(n=Gt)?(n=av(n,Fs),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Ur!==null?{id:Pi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},o=Rx(n),o.return=r,r.child=o,zn=r,Gt=null)):n=null,n===null)throw Fr(r);return r.lanes=536870912,null}return Vd(r,u)}var p=n.memoizedState;if(p!==null){var v=p.dehydrated;if(hf(r),m)if(r.flags&256)r.flags&=-257,r=Y0(n,r,o);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(a(558));else if(wn||Wo(n,r,o,!1),m=(o&n.childLanes)!==0,wn||m){if(u=$t,u!==null&&(v=Xi(u,o),v!==0&&v!==p.retryLane))throw p.retryLane=v,Ga(n,v),fs(u,n,v),Df;Kd(),r=Y0(n,r,o)}else n=p.treeContext,Gt=Bs(v.nextSibling),zn=r,gt=!0,zr=null,Fs=!1,n!==null&&kx(r,n),r=Vd(r,u),r.flags|=4096;return r}return n=sr(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Ud(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function kf(n,r,o,u,m){return Qa(r),o=ff(n,r,o,u,void 0,m),u=gf(),n!==null&&!wn?(pf(n,r,m),cr(n,r,m)):(gt&&u&&Ym(r),r.flags|=1,qn(n,r,o,m),r.child)}function K0(n,r,o,u,m,p){return Qa(r),r.updateQueue=null,o=Jx(r,u,o,m),Xx(n),u=gf(),n!==null&&!wn?(pf(n,r,p),cr(n,r,p)):(gt&&u&&Ym(r),r.flags|=1,qn(n,r,o,p),r.child)}function Q0(n,r,o,u,m){if(Qa(r),r.stateNode===null){var p=Bo,v=o.contextType;typeof v=="object"&&v!==null&&(p=Fn(v)),p=new o(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Rf,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},af(r),v=o.contextType,p.context=typeof v=="object"&&v!==null?Fn(v):Bo,p.state=r.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Cf(r,o,v,u),p.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&Rf.enqueueReplaceState(p,p.state,null),bc(r,u,p,m),xc(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){p=r.stateNode;var T=r.memoizedProps,V=no(o,T);p.props=V;var ee=p.context,oe=o.contextType;v=Bo,typeof oe=="object"&&oe!==null&&(v=Fn(oe));var fe=o.getDerivedStateFromProps;oe=typeof fe=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,oe||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||ee!==v)&&O0(r,p,u,v),Br=!1;var te=r.memoizedState;p.state=te,bc(r,u,p,m),xc(),ee=r.memoizedState,T||te!==ee||Br?(typeof fe=="function"&&(Cf(r,o,fe,u),ee=r.memoizedState),(V=Br||P0(r,o,V,u,te,ee,v))?(oe||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=ee),p.props=u,p.state=ee,p.context=v,u=V):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,of(n,r),v=r.memoizedProps,oe=no(o,v),p.props=oe,fe=r.pendingProps,te=p.context,ee=o.contextType,V=Bo,typeof ee=="object"&&ee!==null&&(V=Fn(ee)),T=o.getDerivedStateFromProps,(ee=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==fe||te!==V)&&O0(r,p,u,V),Br=!1,te=r.memoizedState,p.state=te,bc(r,u,p,m),xc();var re=r.memoizedState;v!==fe||te!==re||Br||n!==null&&n.dependencies!==null&&vd(n.dependencies)?(typeof T=="function"&&(Cf(r,o,T,u),re=r.memoizedState),(oe=Br||P0(r,o,oe,u,te,re,V)||n!==null&&n.dependencies!==null&&vd(n.dependencies))?(ee||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,re,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,re,V)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===n.memoizedProps&&te===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&te===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=re),p.props=u,p.state=re,p.context=V,u=oe):(typeof p.componentDidUpdate!="function"||v===n.memoizedProps&&te===n.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&te===n.memoizedState||(r.flags|=1024),u=!1)}return p=u,Ud(n,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,n!==null&&u?(r.child=eo(r,n.child,null,m),r.child=eo(r,null,o,m)):qn(n,r,o,m),r.memoizedState=p.state,n=r.child):n=cr(n,r,m),n}function X0(n,r,o,u){return Ya(),r.flags|=256,qn(n,r,o,u),r.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(n){return{baseLanes:n,cachePool:zx()}}function Lf(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=Es),n}function J0(n,r,o){var u=r.pendingProps,m=!1,p=(r.flags&128)!==0,v;if((v=p)||(v=n!==null&&n.memoizedState===null?!1:(hn.current&2)!==0),v&&(m=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(gt){if(m?Gr(r):Wr(),(n=Gt)?(n=av(n,Fs),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:Ur!==null?{id:Pi,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},o=Rx(n),o.return=r,r.child=o,zn=r,Gt=null)):n=null,n===null)throw Fr(r);return bg(n)?r.lanes=32:r.lanes=536870912,null}var T=u.children;return u=u.fallback,m?(Wr(),m=r.mode,T=zd({mode:"hidden",children:T},m),u=Wa(u,m,o,null),T.return=r,u.return=r,T.sibling=u,r.child=T,u=r.child,u.memoizedState=Of(o),u.childLanes=Lf(n,v,o),r.memoizedState=Pf,_c(null,u)):(Gr(r),Vf(r,T))}var V=n.memoizedState;if(V!==null&&(T=V.dehydrated,T!==null)){if(p)r.flags&256?(Gr(r),r.flags&=-257,r=Uf(n,r,o)):r.memoizedState!==null?(Wr(),r.child=n.child,r.flags|=128,r=null):(Wr(),T=u.fallback,m=r.mode,u=zd({mode:"visible",children:u.children},m),T=Wa(T,m,o,null),T.flags|=2,u.return=r,T.return=r,u.sibling=T,r.child=u,eo(r,n.child,null,o),u=r.child,u.memoizedState=Of(o),u.childLanes=Lf(n,v,o),r.memoizedState=Pf,r=_c(null,u));else if(Gr(r),bg(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var ee=v.dgst;v=ee,u=Error(a(419)),u.stack="",u.digest=v,hc({value:u,source:null,stack:null}),r=Uf(n,r,o)}else if(wn||Wo(n,r,o,!1),v=(o&n.childLanes)!==0,wn||v){if(v=$t,v!==null&&(u=Xi(v,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,Ga(n,u),fs(v,n,u),Df;xg(T)||Kd(),r=Uf(n,r,o)}else xg(T)?(r.flags|=192,r.child=n.child,r=null):(n=V.treeContext,Gt=Bs(T.nextSibling),zn=r,gt=!0,zr=null,Fs=!1,n!==null&&kx(r,n),r=Vf(r,u.children),r.flags|=4096);return r}return m?(Wr(),T=u.fallback,m=r.mode,V=n.child,ee=V.sibling,u=sr(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,ee!==null?T=sr(ee,T):(T=Wa(T,m,o,null),T.flags|=2),T.return=r,u.return=r,u.sibling=T,r.child=u,_c(null,u),u=r.child,T=n.child.memoizedState,T===null?T=Of(o):(m=T.cachePool,m!==null?(V=Nn._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=zx(),T={baseLanes:T.baseLanes|o,cachePool:m}),u.memoizedState=T,u.childLanes=Lf(n,v,o),r.memoizedState=Pf,_c(n.child,u)):(Gr(r),o=n.child,n=o.sibling,o=sr(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=o,r.memoizedState=null,o)}function Vf(n,r){return r=zd({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function zd(n,r){return n=Ns(22,n,null,r),n.lanes=0,n}function Uf(n,r,o){return eo(r,n.child,null,o),n=Vf(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Z0(n,r,o){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Zm(n.return,r,o)}function zf(n,r,o,u,m,p){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:m,treeForkCount:p}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=o,v.tailMode=m,v.treeForkCount=p)}function eb(n,r,o){var u=r.pendingProps,m=u.revealOrder,p=u.tail;u=u.children;var v=hn.current,T=(v&2)!==0;if(T?(v=v&1|2,r.flags|=128):v&=1,_e(hn,v),qn(n,r,u,o),u=gt?dc:0,!T&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Z0(n,o,r);else if(n.tag===19)Z0(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)n=o.alternate,n!==null&&Sd(n)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),zf(r,!1,m,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(n=m.alternate,n!==null&&Sd(n)===null){r.child=m;break}n=m.sibling,m.sibling=o,o=m,m=n}zf(r,!0,o,null,p,u);break;case"together":zf(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function cr(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Qr|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(Wo(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(a(153));if(r.child!==null){for(n=r.child,o=sr(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=sr(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function Ff(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&vd(n)))}function f2(n,r,o){switch(r.tag){case 3:R(r,r.stateNode.containerInfo),qr(r,Nn,n.memoizedState.cache),Ya();break;case 27:case 5:de(r);break;case 4:R(r,r.stateNode.containerInfo);break;case 10:qr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,hf(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Gr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?J0(n,r,o):(Gr(r),n=cr(n,r,o),n!==null?n.sibling:null);Gr(r);break;case 19:var m=(n.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Wo(n,r,o,!1),u=(o&r.childLanes)!==0),m){if(u)return eb(n,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),_e(hn,hn.current),u)break;return null;case 22:return r.lanes=0,G0(n,r,o,r.pendingProps);case 24:qr(r,Nn,n.memoizedState.cache)}return cr(n,r,o)}function tb(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)wn=!0;else{if(!Ff(n,o)&&(r.flags&128)===0)return wn=!1,f2(n,r,o);wn=(n.flags&131072)!==0}else wn=!1,gt&&(r.flags&1048576)!==0&&Dx(r,dc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=Ja(r.elementType),r.type=n,typeof n=="function")Hm(n)?(u=no(n,u),r.tag=1,r=Q0(null,r,n,u,o)):(r.tag=0,r=kf(null,r,n,u,o));else{if(n!=null){var m=n.$$typeof;if(m===Re){r.tag=11,r=B0(null,r,n,u,o);break e}else if(m===O){r.tag=14,r=$0(null,r,n,u,o);break e}}throw r=xe(n)||n,Error(a(306,r,""))}}return r;case 0:return kf(n,r,r.type,r.pendingProps,o);case 1:return u=r.type,m=no(u,r.pendingProps),Q0(n,r,u,m,o);case 3:e:{if(R(r,r.stateNode.containerInfo),n===null)throw Error(a(387));u=r.pendingProps;var p=r.memoizedState;m=p.element,of(n,r),bc(r,u,null,o);var v=r.memoizedState;if(u=v.cache,qr(r,Nn,u),u!==p.cache&&ef(r,[Nn],o,!0),xc(),u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=X0(n,r,u,o);break e}else if(u!==m){m=Vs(Error(a(424)),r),hc(m),r=X0(n,r,u,o);break e}else for(n=r.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,Gt=Bs(n.firstChild),zn=r,gt=!0,zr=null,Fs=!0,o=Gx(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ya(),u===m){r=cr(n,r,o);break e}qn(n,r,u,o)}r=r.child}return r;case 26:return Ud(n,r),n===null?(o=hv(r.type,null,r.pendingProps,null))?r.memoizedState=o:gt||(o=r.type,n=r.pendingProps,u=nh(Ge.current).createElement(o),u[xn]=r,u[Dn]=n,Bn(u,o,n),bn(u),r.stateNode=u):r.memoizedState=hv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return de(r),n===null&&gt&&(u=r.stateNode=cv(r.type,r.pendingProps,Ge.current),zn=r,Fs=!0,m=Gt,ta(r.type)?(vg=m,Gt=Bs(u.firstChild)):Gt=m),qn(n,r,r.pendingProps.children,o),Ud(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&gt&&((m=u=Gt)&&(u=$2(u,r.type,r.pendingProps,Fs),u!==null?(r.stateNode=u,zn=r,Gt=Bs(u.firstChild),Fs=!1,m=!0):m=!1),m||Fr(r)),de(r),m=r.type,p=r.pendingProps,v=n!==null?n.memoizedProps:null,u=p.children,gg(m,p)?u=null:v!==null&&gg(m,v)&&(r.flags|=32),r.memoizedState!==null&&(m=ff(n,r,r2,null,null,o),Uc._currentValue=m),Ud(n,r),qn(n,r,u,o),r.child;case 6:return n===null&&gt&&((n=o=Gt)&&(o=H2(o,r.pendingProps,Fs),o!==null?(r.stateNode=o,zn=r,Gt=null,n=!0):n=!1),n||Fr(r)),null;case 13:return J0(n,r,o);case 4:return R(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=eo(r,null,u,o):qn(n,r,u,o),r.child;case 11:return B0(n,r,r.type,r.pendingProps,o);case 7:return qn(n,r,r.pendingProps,o),r.child;case 8:return qn(n,r,r.pendingProps.children,o),r.child;case 12:return qn(n,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,qr(r,r.type,u.value),qn(n,r,u.children,o),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,Qa(r),m=Fn(m),u=u(m),r.flags|=1,qn(n,r,u,o),r.child;case 14:return $0(n,r,r.type,r.pendingProps,o);case 15:return H0(n,r,r.type,r.pendingProps,o);case 19:return eb(n,r,o);case 31:return m2(n,r,o);case 22:return G0(n,r,o,r.pendingProps);case 24:return Qa(r),u=Fn(Nn),n===null?(m=sf(),m===null&&(m=$t,p=tf(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=o),m=p),r.memoizedState={parent:u,cache:m},af(r),qr(r,Nn,m)):((n.lanes&o)!==0&&(of(n,r),bc(r,null,null,o),xc()),m=n.memoizedState,p=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),qr(r,Nn,u)):(u=p.cache,qr(r,Nn,u),u!==m.cache&&ef(r,[Nn],o,!0))),qn(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function ur(n){n.flags|=4}function qf(n,r,o,u,m){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(Sb())n.flags|=8192;else throw Za=_d,rf}else n.flags&=-16777217}function nb(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!yv(r))if(Sb())n.flags|=8192;else throw Za=_d,rf}function Fd(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Ni():536870912,n.lanes|=r,rl|=r)}function Ec(n,r){if(!gt)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Wt(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(r)for(var m=n.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)o|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=u,n.childLanes=o,r}function g2(n,r,o){var u=r.pendingProps;switch(Km(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(r),null;case 1:return Wt(r),null;case 3:return o=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ar(Nn),Q(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Go(r)?ur(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Xm())),Wt(r),null;case 26:var m=r.type,p=r.memoizedState;return n===null?(ur(r),p!==null?(Wt(r),nb(r,p)):(Wt(r),qf(r,m,null,u,o))):p?p!==n.memoizedState?(ur(r),Wt(r),nb(r,p)):(Wt(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&ur(r),Wt(r),qf(r,m,n,u,o)),null;case 27:if(we(r),o=Ge.current,m=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&ur(r);else{if(!u){if(r.stateNode===null)throw Error(a(166));return Wt(r),null}n=Ie.current,Go(r)?Px(r):(n=cv(m,u,o),r.stateNode=n,ur(r))}return Wt(r),null;case 5:if(we(r),m=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&ur(r);else{if(!u){if(r.stateNode===null)throw Error(a(166));return Wt(r),null}if(p=Ie.current,Go(r))Px(r);else{var v=nh(Ge.current);switch(p){case 1:p=v.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=v.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=v.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=v.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=v.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?v.createElement(m,{is:u.is}):v.createElement(m)}}p[xn]=r,p[Dn]=u;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)p.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=p;e:switch(Bn(p,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ur(r)}}return Wt(r),qf(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,o),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&ur(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(a(166));if(n=Ge.current,Go(r)){if(n=r.stateNode,o=r.memoizedProps,u=null,m=zn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}n[xn]=r,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Jb(n.nodeValue,o)),n||Fr(r,!0)}else n=nh(n).createTextNode(u),n[xn]=r,r.stateNode=n}return Wt(r),null;case 31:if(o=r.memoizedState,n===null||n.memoizedState!==null){if(u=Go(r),o!==null){if(n===null){if(!u)throw Error(a(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[xn]=r}else Ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Wt(r),n=!1}else o=Xm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return r.flags&256?(ws(r),r):(ws(r),null);if((r.flags&128)!==0)throw Error(a(558))}return Wt(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=Go(r),u!==null&&u.dehydrated!==null){if(n===null){if(!m)throw Error(a(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[xn]=r}else Ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Wt(r),m=!1}else m=Xm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(ws(r),r):(ws(r),null)}return ws(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)),o!==n&&o&&(r.child.flags|=8192),Fd(r,r.updateQueue),Wt(r),null);case 4:return Q(),n===null&&ug(r.stateNode.containerInfo),Wt(r),null;case 10:return ar(r.type),Wt(r),null;case 19:if(ue(hn),u=r.memoizedState,u===null)return Wt(r),null;if(m=(r.flags&128)!==0,p=u.rendering,p===null)if(m)Ec(u,!1);else{if(an!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(p=Sd(n),p!==null){for(r.flags|=128,Ec(u,!1),n=p.updateQueue,r.updateQueue=n,Fd(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)Cx(o,n),o=o.sibling;return _e(hn,hn.current&1|2),gt&&ir(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&it()>Gd&&(r.flags|=128,m=!0,Ec(u,!1),r.lanes=4194304)}else{if(!m)if(n=Sd(p),n!==null){if(r.flags|=128,m=!0,n=n.updateQueue,r.updateQueue=n,Fd(r,n),Ec(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!gt)return Wt(r),null}else 2*it()-u.renderingStartTime>Gd&&o!==536870912&&(r.flags|=128,m=!0,Ec(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(n=u.last,n!==null?n.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=it(),n.sibling=null,o=hn.current,_e(hn,m?o&1|2:o&1),gt&&ir(r,u.treeForkCount),n):(Wt(r),null);case 22:case 23:return ws(r),df(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(Wt(r),r.subtreeFlags&6&&(r.flags|=8192)):Wt(r),o=r.updateQueue,o!==null&&Fd(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),n!==null&&ue(Xa),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ar(Nn),Wt(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function p2(n,r){switch(Km(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return ar(Nn),Q(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return we(r),null;case 31:if(r.memoizedState!==null){if(ws(r),r.alternate===null)throw Error(a(340));Ya()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(ws(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Ya()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ue(hn),null;case 4:return Q(),null;case 10:return ar(r.type),null;case 22:case 23:return ws(r),df(),n!==null&&ue(Xa),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return ar(Nn),null;case 25:return null;default:return null}}function sb(n,r){switch(Km(r),r.tag){case 3:ar(Nn),Q();break;case 26:case 27:case 5:we(r);break;case 4:Q();break;case 31:r.memoizedState!==null&&ws(r);break;case 13:ws(r);break;case 19:ue(hn);break;case 10:ar(r.type);break;case 22:case 23:ws(r),df(),n!==null&&ue(Xa);break;case 24:ar(Nn)}}function Tc(n,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&n)===n){u=void 0;var p=o.create,v=o.inst;u=p(),v.destroy=u}o=o.next}while(o!==m)}}catch(T){kt(r,r.return,T)}}function Yr(n,r,o){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&n)===n){var v=u.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,m=r;var V=o,ee=T;try{ee()}catch(oe){kt(m,V,oe)}}}u=u.next}while(u!==p)}}catch(oe){kt(r,r.return,oe)}}function ib(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{Yx(r,o)}catch(u){kt(n,n.return,u)}}}function rb(n,r,o){o.props=no(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){kt(n,r,u)}}function Ic(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(m){kt(n,r,m)}}function Li(n,r){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(m){kt(n,r,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){kt(n,r,m)}else o.current=null}function ab(n){var r=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(m){kt(n,n.return,m)}}function Bf(n,r,o){try{var u=n.stateNode;V2(u,n.type,o,r),u[Dn]=r}catch(m){kt(n,n.return,m)}}function ob(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ta(n.type)||n.tag===4}function $f(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ob(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ta(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Hf(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ti));else if(u!==4&&(u===27&&ta(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(Hf(n,r,o),n=n.sibling;n!==null;)Hf(n,r,o),n=n.sibling}function qd(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(u!==4&&(u===27&&ta(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(qd(n,r,o),n=n.sibling;n!==null;)qd(n,r,o),n=n.sibling}function lb(n){var r=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);Bn(r,u,o),r[xn]=n,r[Dn]=o}catch(p){kt(n,n.return,p)}}var dr=!1,_n=!1,Gf=!1,cb=typeof WeakSet=="function"?WeakSet:Set,Pn=null;function y2(n,r){if(n=n.containerInfo,mg=ch,n=Nx(n),Vm(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,T=-1,V=-1,ee=0,oe=0,fe=n,te=null;t:for(;;){for(var re;fe!==o||m!==0&&fe.nodeType!==3||(T=v+m),fe!==p||u!==0&&fe.nodeType!==3||(V=v+u),fe.nodeType===3&&(v+=fe.nodeValue.length),(re=fe.firstChild)!==null;)te=fe,fe=re;for(;;){if(fe===n)break t;if(te===o&&++ee===m&&(T=v),te===p&&++oe===u&&(V=v),(re=fe.nextSibling)!==null)break;fe=te,te=fe.parentNode}fe=re}o=T===-1||V===-1?null:{start:T,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(fg={focusedElem:n,selectionRange:o},ch=!1,Pn=r;Pn!==null;)if(r=Pn,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Pn=n;else for(;Pn!==null;){switch(r=Pn,p=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)m=n[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=r,m=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var De=no(o.type,m);n=u.getSnapshotBeforeUpdate(De,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(qe){kt(o,o.return,qe)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)yg(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":yg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=r.sibling,n!==null){n.return=r.return,Pn=n;break}Pn=r.return}}function ub(n,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:mr(n,o),u&4&&Tc(5,o);break;case 1:if(mr(n,o),u&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(v){kt(o,o.return,v)}else{var m=no(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(m,r,n.__reactInternalSnapshotBeforeUpdate)}catch(v){kt(o,o.return,v)}}u&64&&ib(o),u&512&&Ic(o,o.return);break;case 3:if(mr(n,o),u&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Yx(n,r)}catch(v){kt(o,o.return,v)}}break;case 27:r===null&&u&4&&lb(o);case 26:case 5:mr(n,o),r===null&&u&4&&ab(o),u&512&&Ic(o,o.return);break;case 12:mr(n,o);break;case 31:mr(n,o),u&4&&mb(n,o);break;case 13:mr(n,o),u&4&&fb(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=T2.bind(null,o),G2(n,o))));break;case 22:if(u=o.memoizedState!==null||dr,!u){r=r!==null&&r.memoizedState!==null||_n,m=dr;var p=_n;dr=u,(_n=r)&&!p?fr(n,o,(o.subtreeFlags&8772)!==0):mr(n,o),dr=m,_n=p}break;case 30:break;default:mr(n,o)}}function db(n){var r=n.alternate;r!==null&&(n.alternate=null,db(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Ao(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Xt=null,us=!1;function hr(n,r,o){for(o=o.child;o!==null;)hb(n,r,o),o=o.sibling}function hb(n,r,o){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(Tt,o)}catch{}switch(o.tag){case 26:_n||Li(o,r),hr(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:_n||Li(o,r);var u=Xt,m=us;ta(o.type)&&(Xt=o.stateNode,us=!1),hr(n,r,o),Oc(o.stateNode),Xt=u,us=m;break;case 5:_n||Li(o,r);case 6:if(u=Xt,m=us,Xt=null,hr(n,r,o),Xt=u,us=m,Xt!==null)if(us)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(o.stateNode)}catch(p){kt(o,r,p)}else try{Xt.removeChild(o.stateNode)}catch(p){kt(o,r,p)}break;case 18:Xt!==null&&(us?(n=Xt,iv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),ml(n)):iv(Xt,o.stateNode));break;case 4:u=Xt,m=us,Xt=o.stateNode.containerInfo,us=!0,hr(n,r,o),Xt=u,us=m;break;case 0:case 11:case 14:case 15:Yr(2,o,r),_n||Yr(4,o,r),hr(n,r,o);break;case 1:_n||(Li(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&rb(o,r,u)),hr(n,r,o);break;case 21:hr(n,r,o);break;case 22:_n=(u=_n)||o.memoizedState!==null,hr(n,r,o),_n=u;break;default:hr(n,r,o)}}function mb(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{ml(n)}catch(o){kt(r,r.return,o)}}}function fb(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ml(n)}catch(o){kt(r,r.return,o)}}function x2(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new cb),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new cb),r;default:throw Error(a(435,n.tag))}}function Bd(n,r){var o=x2(n);r.forEach(function(u){if(!o.has(u)){o.add(u);var m=I2.bind(null,n,u);u.then(m,m)}})}function ds(n,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var m=o[u],p=n,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(ta(T.type)){Xt=T.stateNode,us=!1;break e}break;case 5:Xt=T.stateNode,us=!1;break e;case 3:case 4:Xt=T.stateNode.containerInfo,us=!0;break e}T=T.return}if(Xt===null)throw Error(a(160));hb(p,v,m),Xt=null,us=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)gb(r,n),r=r.sibling}var oi=null;function gb(n,r){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ds(r,n),hs(n),u&4&&(Yr(3,n,n.return),Tc(3,n),Yr(5,n,n.return));break;case 1:ds(r,n),hs(n),u&512&&(_n||o===null||Li(o,o.return)),u&64&&dr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var m=oi;if(ds(r,n),hs(n),u&512&&(_n||o===null||Li(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[wi]||p[xn]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),Bn(p,u,o),p[xn]=n,bn(p),u=p;break e;case"link":var v=gv("link","href",m).get(u+(o.href||""));if(v){for(var T=0;T<v.length;T++)if(p=v[T],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){v.splice(T,1);break t}}p=m.createElement(u),Bn(p,u,o),m.head.appendChild(p);break;case"meta":if(v=gv("meta","content",m).get(u+(o.content||""))){for(T=0;T<v.length;T++)if(p=v[T],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){v.splice(T,1);break t}}p=m.createElement(u),Bn(p,u,o),m.head.appendChild(p);break;default:throw Error(a(468,u))}p[xn]=n,bn(p),u=p}n.stateNode=u}else pv(m,n.type,n.stateNode);else n.stateNode=fv(m,u,n.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?pv(m,n.type,n.stateNode):fv(m,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Bf(n,n.memoizedProps,o.memoizedProps)}break;case 27:ds(r,n),hs(n),u&512&&(_n||o===null||Li(o,o.return)),o!==null&&u&4&&Bf(n,n.memoizedProps,o.memoizedProps);break;case 5:if(ds(r,n),hs(n),u&512&&(_n||o===null||Li(o,o.return)),n.flags&32){m=n.stateNode;try{cs(m,"")}catch(De){kt(n,n.return,De)}}u&4&&n.stateNode!=null&&(m=n.memoizedProps,Bf(n,m,o!==null?o.memoizedProps:m)),u&1024&&(Gf=!0);break;case 6:if(ds(r,n),hs(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(De){kt(n,n.return,De)}}break;case 3:if(rh=null,m=oi,oi=sh(r.containerInfo),ds(r,n),oi=m,hs(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ml(r.containerInfo)}catch(De){kt(n,n.return,De)}Gf&&(Gf=!1,pb(n));break;case 4:u=oi,oi=sh(n.stateNode.containerInfo),ds(r,n),hs(n),oi=u;break;case 12:ds(r,n),hs(n);break;case 31:ds(r,n),hs(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Bd(n,u)));break;case 13:ds(r,n),hs(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Hd=it()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Bd(n,u)));break;case 22:m=n.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,ee=dr,oe=_n;if(dr=ee||m,_n=oe||V,ds(r,n),_n=oe,dr=ee,hs(n),u&8192)e:for(r=n.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||V||dr||_n||so(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){V=o=r;try{if(p=V.stateNode,m)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=V.stateNode;var fe=V.memoizedProps.style,te=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;T.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(De){kt(V,V.return,De)}}}else if(r.tag===6){if(o===null){V=r;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(De){kt(V,V.return,De)}}}else if(r.tag===18){if(o===null){V=r;try{var re=V.stateNode;m?rv(re,!0):rv(V.stateNode,!1)}catch(De){kt(V,V.return,De)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Bd(n,o))));break;case 19:ds(r,n),hs(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Bd(n,u)));break;case 30:break;case 21:break;default:ds(r,n),hs(n)}}function hs(n){var r=n.flags;if(r&2){try{for(var o,u=n.return;u!==null;){if(ob(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var m=o.stateNode,p=$f(n);qd(n,p,m);break;case 5:var v=o.stateNode;o.flags&32&&(cs(v,""),o.flags&=-33);var T=$f(n);qd(n,T,v);break;case 3:case 4:var V=o.stateNode.containerInfo,ee=$f(n);Hf(n,ee,V);break;default:throw Error(a(161))}}catch(oe){kt(n,n.return,oe)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function pb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;pb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function mr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ub(n,r.alternate,r),r=r.sibling}function so(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Yr(4,r,r.return),so(r);break;case 1:Li(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&rb(r,r.return,o),so(r);break;case 27:Oc(r.stateNode);case 26:case 5:Li(r,r.return),so(r);break;case 22:r.memoizedState===null&&so(r);break;case 30:so(r);break;default:so(r)}n=n.sibling}}function fr(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=n,p=r,v=p.flags;switch(p.tag){case 0:case 11:case 15:fr(m,p,o),Tc(4,p);break;case 1:if(fr(m,p,o),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ee){kt(u,u.return,ee)}if(u=p,m=u.updateQueue,m!==null){var T=u.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)Wx(V[m],T)}catch(ee){kt(u,u.return,ee)}}o&&v&64&&ib(p),Ic(p,p.return);break;case 27:lb(p);case 26:case 5:fr(m,p,o),o&&u===null&&v&4&&ab(p),Ic(p,p.return);break;case 12:fr(m,p,o);break;case 31:fr(m,p,o),o&&v&4&&mb(m,p);break;case 13:fr(m,p,o),o&&v&4&&fb(m,p);break;case 22:p.memoizedState===null&&fr(m,p,o),Ic(p,p.return);break;case 30:break;default:fr(m,p,o)}r=r.sibling}}function Wf(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&mc(o))}function Yf(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&mc(n))}function li(n,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)yb(n,r,o,u),r=r.sibling}function yb(n,r,o,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:li(n,r,o,u),m&2048&&Tc(9,r);break;case 1:li(n,r,o,u);break;case 3:li(n,r,o,u),m&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&mc(n)));break;case 12:if(m&2048){li(n,r,o,u),n=r.stateNode;try{var p=r.memoizedProps,v=p.id,T=p.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(V){kt(r,r.return,V)}}else li(n,r,o,u);break;case 31:li(n,r,o,u);break;case 13:li(n,r,o,u);break;case 23:break;case 22:p=r.stateNode,v=r.alternate,r.memoizedState!==null?p._visibility&2?li(n,r,o,u):Sc(n,r):p._visibility&2?li(n,r,o,u):(p._visibility|=2,nl(n,r,o,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Wf(v,r);break;case 24:li(n,r,o,u),m&2048&&Yf(r.alternate,r);break;default:li(n,r,o,u)}}function nl(n,r,o,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=n,v=r,T=o,V=u,ee=v.flags;switch(v.tag){case 0:case 11:case 15:nl(p,v,T,V,m),Tc(8,v);break;case 23:break;case 22:var oe=v.stateNode;v.memoizedState!==null?oe._visibility&2?nl(p,v,T,V,m):Sc(p,v):(oe._visibility|=2,nl(p,v,T,V,m)),m&&ee&2048&&Wf(v.alternate,v);break;case 24:nl(p,v,T,V,m),m&&ee&2048&&Yf(v.alternate,v);break;default:nl(p,v,T,V,m)}r=r.sibling}}function Sc(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,u=r,m=u.flags;switch(u.tag){case 22:Sc(o,u),m&2048&&Wf(u.alternate,u);break;case 24:Sc(o,u),m&2048&&Yf(u.alternate,u);break;default:Sc(o,u)}r=r.sibling}}var Ac=8192;function sl(n,r,o){if(n.subtreeFlags&Ac)for(n=n.child;n!==null;)xb(n,r,o),n=n.sibling}function xb(n,r,o){switch(n.tag){case 26:sl(n,r,o),n.flags&Ac&&n.memoizedState!==null&&i1(o,oi,n.memoizedState,n.memoizedProps);break;case 5:sl(n,r,o);break;case 3:case 4:var u=oi;oi=sh(n.stateNode.containerInfo),sl(n,r,o),oi=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Ac,Ac=16777216,sl(n,r,o),Ac=u):sl(n,r,o));break;default:sl(n,r,o)}}function bb(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Cc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Pn=u,Nb(u,n)}bb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vb(n),n=n.sibling}function vb(n){switch(n.tag){case 0:case 11:case 15:Cc(n),n.flags&2048&&Yr(9,n,n.return);break;case 3:Cc(n);break;case 12:Cc(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,$d(n)):Cc(n);break;default:Cc(n)}}function $d(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Pn=u,Nb(u,n)}bb(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Yr(8,r,r.return),$d(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,$d(r));break;default:$d(r)}n=n.sibling}}function Nb(n,r){for(;Pn!==null;){var o=Pn;switch(o.tag){case 0:case 11:case 15:Yr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:mc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Pn=u;else e:for(o=n;Pn!==null;){u=Pn;var m=u.sibling,p=u.return;if(db(u),u===o){Pn=null;break e}if(m!==null){m.return=p,Pn=m;break e}Pn=p}}}var b2={getCacheForType:function(n){var r=Fn(Nn),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o},cacheSignal:function(){return Fn(Nn).controller.signal}},v2=typeof WeakMap=="function"?WeakMap:Map,St=0,$t=null,ot=null,ct=0,Dt=0,_s=null,Kr=!1,il=!1,Kf=!1,gr=0,an=0,Qr=0,io=0,Qf=0,Es=0,rl=0,Rc=null,ms=null,Xf=!1,Hd=0,jb=0,Gd=1/0,Wd=null,Xr=null,Cn=0,Jr=null,al=null,pr=0,Jf=0,Zf=null,wb=null,Mc=0,eg=null;function Ts(){return(St&2)!==0&&ct!==0?ct&-ct:H.T!==null?ag():Yu()}function _b(){if(Es===0)if((ct&536870912)===0||gt){var n=ns;ns<<=1,(ns&3932160)===0&&(ns=262144),Es=n}else Es=536870912;return n=js.current,n!==null&&(n.flags|=32),Es}function fs(n,r,o){(n===$t&&(Dt===2||Dt===9)||n.cancelPendingCommit!==null)&&(ol(n,0),Zr(n,ct,Es,!1)),ss(n,o),((St&2)===0||n!==$t)&&(n===$t&&((St&2)===0&&(io|=o),an===4&&Zr(n,ct,Es,!1)),Vi(n))}function Eb(n,r,o){if((St&6)!==0)throw Error(a(327));var u=!o&&(r&127)===0&&(r&n.expiredLanes)===0||Rt(n,r),m=u?w2(n,r):ng(n,r,!0),p=u;do{if(m===0){il&&!u&&Zr(n,r,0,!1);break}else{if(o=n.current.alternate,p&&!N2(o)){m=ng(n,r,!1),p=!1;continue}if(m===2){if(p=r,n.errorRecoveryDisabledLanes&p)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=n;m=Rc;var V=T.current.memoizedState.isDehydrated;if(V&&(ol(T,v).flags|=256),v=ng(T,v,!1),v!==2){if(Kf&&!V){T.errorRecoveryDisabledLanes|=p,io|=p,m=4;break e}p=ms,ms=m,p!==null&&(ms===null?ms=p:ms.push.apply(ms,p))}m=v}if(p=!1,m!==2)continue}}if(m===1){ol(n,0),Zr(n,r,0,!0);break}e:{switch(u=n,p=m,p){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Zr(u,r,Es,!Kr);break e;case 2:ms=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(m=Hd+300-it(),10<m)){if(Zr(u,r,Es,!Kr),Kn(u,0,!0)!==0)break e;pr=r,u.timeoutHandle=nv(Tb.bind(null,u,o,ms,Wd,Xf,r,Es,io,rl,Kr,p,"Throttled",-0,0),m);break e}Tb(u,o,ms,Wd,Xf,r,Es,io,rl,Kr,p,null,-0,0)}}break}while(!0);Vi(n)}function Tb(n,r,o,u,m,p,v,T,V,ee,oe,fe,te,re){if(n.timeoutHandle=-1,fe=r.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},xb(r,p,fe);var De=(p&62914560)===p?Hd-it():(p&4194048)===p?jb-it():0;if(De=r1(fe,De),De!==null){pr=p,n.cancelPendingCommit=De(kb.bind(null,n,r,p,o,u,m,v,T,V,oe,fe,null,te,re)),Zr(n,p,v,!ee);return}}kb(n,r,p,o,u,m,v,T,V)}function N2(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var m=o[u],p=m.getSnapshot;m=m.value;try{if(!vs(p(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zr(n,r,o,u){r&=~Qf,r&=~io,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var m=r;0<m;){var p=31-Be(m),v=1<<p;u[p]=-1,m&=~v}o!==0&&Ms(n,o,r)}function Yd(){return(St&6)===0?(Dc(0),!1):!0}function tg(){if(ot!==null){if(Dt===0)var n=ot.return;else n=ot,rr=Ka=null,yf(n),Xo=null,gc=0,n=ot;for(;n!==null;)sb(n.alternate,n),n=n.return;ot=null}}function ol(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,F2(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),pr=0,tg(),$t=n,ot=o=sr(n.current,null),ct=r,Dt=0,_s=null,Kr=!1,il=Rt(n,r),Kf=!1,rl=Es=Qf=io=Qr=an=0,ms=Rc=null,Xf=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var m=31-Be(u),p=1<<m;r|=n[m],u&=~p}return gr=r,gd(),o}function Ib(n,r){nt=null,H.H=wc,r===Qo||r===wd?(r=Bx(),Dt=3):r===rf?(r=Bx(),Dt=4):Dt=r===Df?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,_s=r,ot===null&&(an=1,Ld(n,Vs(r,n.current)))}function Sb(){var n=js.current;return n===null?!0:(ct&4194048)===ct?qs===null:(ct&62914560)===ct||(ct&536870912)!==0?n===qs:!1}function Ab(){var n=H.H;return H.H=wc,n===null?wc:n}function Cb(){var n=H.A;return H.A=b2,n}function Kd(){an=4,Kr||(ct&4194048)!==ct&&js.current!==null||(il=!0),(Qr&134217727)===0&&(io&134217727)===0||$t===null||Zr($t,ct,Es,!1)}function ng(n,r,o){var u=St;St|=2;var m=Ab(),p=Cb();($t!==n||ct!==r)&&(Wd=null,ol(n,r)),r=!1;var v=an;e:do try{if(Dt!==0&&ot!==null){var T=ot,V=_s;switch(Dt){case 8:tg(),v=6;break e;case 3:case 2:case 9:case 6:js.current===null&&(r=!0);var ee=Dt;if(Dt=0,_s=null,ll(n,T,V,ee),o&&il){v=0;break e}break;default:ee=Dt,Dt=0,_s=null,ll(n,T,V,ee)}}j2(),v=an;break}catch(oe){Ib(n,oe)}while(!0);return r&&n.shellSuspendCounter++,rr=Ka=null,St=u,H.H=m,H.A=p,ot===null&&($t=null,ct=0,gd()),v}function j2(){for(;ot!==null;)Rb(ot)}function w2(n,r){var o=St;St|=2;var u=Ab(),m=Cb();$t!==n||ct!==r?(Wd=null,Gd=it()+500,ol(n,r)):il=Rt(n,r);e:do try{if(Dt!==0&&ot!==null){r=ot;var p=_s;t:switch(Dt){case 1:Dt=0,_s=null,ll(n,r,p,1);break;case 2:case 9:if(Fx(p)){Dt=0,_s=null,Mb(r);break}r=function(){Dt!==2&&Dt!==9||$t!==n||(Dt=7),Vi(n)},p.then(r,r);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:Fx(p)?(Dt=0,_s=null,Mb(r)):(Dt=0,_s=null,ll(n,r,p,7));break;case 5:var v=null;switch(ot.tag){case 26:v=ot.memoizedState;case 5:case 27:var T=ot;if(v?yv(v):T.stateNode.complete){Dt=0,_s=null;var V=T.sibling;if(V!==null)ot=V;else{var ee=T.return;ee!==null?(ot=ee,Qd(ee)):ot=null}break t}}Dt=0,_s=null,ll(n,r,p,5);break;case 6:Dt=0,_s=null,ll(n,r,p,6);break;case 8:tg(),an=6;break e;default:throw Error(a(462))}}_2();break}catch(oe){Ib(n,oe)}while(!0);return rr=Ka=null,H.H=u,H.A=m,St=o,ot!==null?0:($t=null,ct=0,gd(),an)}function _2(){for(;ot!==null&&!jt();)Rb(ot)}function Rb(n){var r=tb(n.alternate,n,gr);n.memoizedProps=n.pendingProps,r===null?Qd(n):ot=r}function Mb(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=K0(o,r,r.pendingProps,r.type,void 0,ct);break;case 11:r=K0(o,r,r.pendingProps,r.type.render,r.ref,ct);break;case 5:yf(r);default:sb(o,r),r=ot=Cx(r,gr),r=tb(o,r,gr)}n.memoizedProps=n.pendingProps,r===null?Qd(n):ot=r}function ll(n,r,o,u){rr=Ka=null,yf(r),Xo=null,gc=0;var m=r.return;try{if(h2(n,m,r,o,ct)){an=1,Ld(n,Vs(o,n.current)),ot=null;return}}catch(p){if(m!==null)throw ot=m,p;an=1,Ld(n,Vs(o,n.current)),ot=null;return}r.flags&32768?(gt||u===1?n=!0:il||(ct&536870912)!==0?n=!1:(Kr=n=!0,(u===2||u===9||u===3||u===6)&&(u=js.current,u!==null&&u.tag===13&&(u.flags|=16384))),Db(r,n)):Qd(r)}function Qd(n){var r=n;do{if((r.flags&32768)!==0){Db(r,Kr);return}n=r.return;var o=g2(r.alternate,r,gr);if(o!==null){ot=o;return}if(r=r.sibling,r!==null){ot=r;return}ot=r=n}while(r!==null);an===0&&(an=5)}function Db(n,r){do{var o=p2(n.alternate,n);if(o!==null){o.flags&=32767,ot=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){ot=n;return}ot=n=o}while(n!==null);an=6,ot=null}function kb(n,r,o,u,m,p,v,T,V){n.cancelPendingCommit=null;do Xd();while(Cn!==0);if((St&6)!==0)throw Error(a(327));if(r!==null){if(r===n.current)throw Error(a(177));if(p=r.lanes|r.childLanes,p|=Bm,Js(n,o,p,v,T,V),n===$t&&(ot=$t=null,ct=0),al=r,Jr=n,pr=o,Jf=p,Zf=m,wb=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,S2(tn,function(){return Ub(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,m=ce.p,ce.p=2,v=St,St|=4;try{y2(n,r,o)}finally{St=v,ce.p=m,H.T=u}}Cn=1,Pb(),Ob(),Lb()}}function Pb(){if(Cn===1){Cn=0;var n=Jr,r=al,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var u=ce.p;ce.p=2;var m=St;St|=4;try{gb(r,n);var p=fg,v=Nx(n.containerInfo),T=p.focusedElem,V=p.selectionRange;if(v!==T&&T&&T.ownerDocument&&vx(T.ownerDocument.documentElement,T)){if(V!==null&&Vm(T)){var ee=V.start,oe=V.end;if(oe===void 0&&(oe=ee),"selectionStart"in T)T.selectionStart=ee,T.selectionEnd=Math.min(oe,T.value.length);else{var fe=T.ownerDocument||document,te=fe&&fe.defaultView||window;if(te.getSelection){var re=te.getSelection(),De=T.textContent.length,qe=Math.min(V.start,De),Ut=V.end===void 0?qe:Math.min(V.end,De);!re.extend&&qe>Ut&&(v=Ut,Ut=qe,qe=v);var Y=bx(T,qe),q=bx(T,Ut);if(Y&&q&&(re.rangeCount!==1||re.anchorNode!==Y.node||re.anchorOffset!==Y.offset||re.focusNode!==q.node||re.focusOffset!==q.offset)){var Z=fe.createRange();Z.setStart(Y.node,Y.offset),re.removeAllRanges(),qe>Ut?(re.addRange(Z),re.extend(q.node,q.offset)):(Z.setEnd(q.node,q.offset),re.addRange(Z))}}}}for(fe=[],re=T;re=re.parentNode;)re.nodeType===1&&fe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<fe.length;T++){var me=fe[T];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}ch=!!mg,fg=mg=null}finally{St=m,ce.p=u,H.T=o}}n.current=r,Cn=2}}function Ob(){if(Cn===2){Cn=0;var n=Jr,r=al,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var u=ce.p;ce.p=2;var m=St;St|=4;try{ub(n,r.alternate,r)}finally{St=m,ce.p=u,H.T=o}}Cn=3}}function Lb(){if(Cn===4||Cn===3){Cn=0,Pe();var n=Jr,r=al,o=pr,u=wb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Cn=5:(Cn=0,al=Jr=null,Vb(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(Xr=null),Zi(o),r=r.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(Tt,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=H.T,m=ce.p,ce.p=2,H.T=null;try{for(var p=n.onRecoverableError,v=0;v<u.length;v++){var T=u[v];p(T.value,{componentStack:T.stack})}}finally{H.T=r,ce.p=m}}(pr&3)!==0&&Xd(),Vi(n),m=n.pendingLanes,(o&261930)!==0&&(m&42)!==0?n===eg?Mc++:(Mc=0,eg=n):Mc=0,Dc(0)}}function Vb(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,mc(r)))}function Xd(){return Pb(),Ob(),Lb(),Ub()}function Ub(){if(Cn!==5)return!1;var n=Jr,r=Jf;Jf=0;var o=Zi(pr),u=H.T,m=ce.p;try{ce.p=32>o?32:o,H.T=null,o=Zf,Zf=null;var p=Jr,v=pr;if(Cn=0,al=Jr=null,pr=0,(St&6)!==0)throw Error(a(331));var T=St;if(St|=4,vb(p.current),yb(p,p.current,v,o),St=T,Dc(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(Tt,p)}catch{}return!0}finally{ce.p=m,H.T=u,Vb(n,r)}}function zb(n,r,o){r=Vs(o,r),r=Mf(n.stateNode,r,2),n=Hr(n,r,2),n!==null&&(ss(n,2),Vi(n))}function kt(n,r,o){if(n.tag===3)zb(n,n,o);else for(;r!==null;){if(r.tag===3){zb(r,n,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Xr===null||!Xr.has(u))){n=Vs(o,n),o=F0(2),u=Hr(r,o,2),u!==null&&(q0(o,u,r,n),ss(u,2),Vi(u));break}}r=r.return}}function sg(n,r,o){var u=n.pingCache;if(u===null){u=n.pingCache=new v2;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(o)||(Kf=!0,m.add(o),n=E2.bind(null,n,r,o),r.then(n,n))}function E2(n,r,o){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,$t===n&&(ct&o)===o&&(an===4||an===3&&(ct&62914560)===ct&&300>it()-Hd?(St&2)===0&&ol(n,0):Qf|=o,rl===ct&&(rl=0)),Vi(n)}function Fb(n,r){r===0&&(r=Ni()),n=Ga(n,r),n!==null&&(ss(n,r),Vi(n))}function T2(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),Fb(n,o)}function I2(n,r){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,m=n.memoizedState;m!==null&&(o=m.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(r),Fb(n,o)}function S2(n,r){return he(n,r)}var Jd=null,cl=null,ig=!1,Zd=!1,rg=!1,ea=0;function Vi(n){n!==cl&&n.next===null&&(cl===null?Jd=cl=n:cl=cl.next=n),Zd=!0,ig||(ig=!0,C2())}function Dc(n,r){if(!rg&&Zd){rg=!0;do for(var o=!1,u=Jd;u!==null;){if(n!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var v=u.suspendedLanes,T=u.pingedLanes;p=(1<<31-Be(42|n)+1)-1,p&=m&~(v&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Hb(u,p))}else p=ct,p=Kn(u,u===$t?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Rt(u,p)||(o=!0,Hb(u,p));u=u.next}while(o);rg=!1}}function A2(){qb()}function qb(){Zd=ig=!1;var n=0;ea!==0&&z2()&&(n=ea);for(var r=it(),o=null,u=Jd;u!==null;){var m=u.next,p=Bb(u,r);p===0?(u.next=null,o===null?Jd=m:o.next=m,m===null&&(cl=o)):(o=u,(n!==0||(p&3)!==0)&&(Zd=!0)),u=m}Cn!==0&&Cn!==5||Dc(n),ea!==0&&(ea=0)}function Bb(n,r){for(var o=n.suspendedLanes,u=n.pingedLanes,m=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var v=31-Be(p),T=1<<v,V=m[v];V===-1?((T&o)===0||(T&u)!==0)&&(m[v]=ka(T,r)):V<=r&&(n.expiredLanes|=T),p&=~T}if(r=$t,o=ct,o=Kn(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===r&&(Dt===2||Dt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&st(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Rt(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(u!==null&&st(u),Zi(o)){case 2:case 8:o=Jt;break;case 32:o=tn;break;case 268435456:o=Ke;break;default:o=tn}return u=$b.bind(null,n),o=he(o,u),n.callbackPriority=r,n.callbackNode=o,r}return u!==null&&u!==null&&st(u),n.callbackPriority=2,n.callbackNode=null,2}function $b(n,r){if(Cn!==0&&Cn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Xd()&&n.callbackNode!==o)return null;var u=ct;return u=Kn(n,n===$t?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Eb(n,u,r),Bb(n,it()),n.callbackNode!=null&&n.callbackNode===o?$b.bind(null,n):null)}function Hb(n,r){if(Xd())return null;Eb(n,r,!0)}function C2(){q2(function(){(St&6)!==0?he(gn,A2):qb()})}function ag(){if(ea===0){var n=Yo;n===0&&(n=sn,sn<<=1,(sn&261888)===0&&(sn=256)),ea=n}return ea}function Gb(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Do(""+n)}function Wb(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function R2(n,r,o,u,m){if(r==="submit"&&o&&o.stateNode===m){var p=Gb((m[Dn]||null).action),v=u.submitter;v&&(r=(r=v[Dn]||null)?Gb(r.formAction):v.getAttribute("formAction"),r!==null&&(p=r,v=null));var T=new Ri("action","action",null,u,m);n.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ea!==0){var V=v?Wb(m,v):new FormData(m);Tf(o,{pending:!0,data:V,method:m.method,action:p},null,V)}}else typeof p=="function"&&(T.preventDefault(),V=v?Wb(m,v):new FormData(m),Tf(o,{pending:!0,data:V,method:m.method,action:p},p,V))},currentTarget:m}]})}}for(var og=0;og<qm.length;og++){var lg=qm[og],M2=lg.toLowerCase(),D2=lg[0].toUpperCase()+lg.slice(1);ai(M2,"on"+D2)}ai(_x,"onAnimationEnd"),ai(Ex,"onAnimationIteration"),ai(Tx,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(KT,"onTransitionRun"),ai(QT,"onTransitionStart"),ai(XT,"onTransitionCancel"),ai(Ix,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kc));function Yb(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],m=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var v=u.length-1;0<=v;v--){var T=u[v],V=T.instance,ee=T.currentTarget;if(T=T.listener,V!==p&&m.isPropagationStopped())break e;p=T,m.currentTarget=ee;try{p(m)}catch(oe){fd(oe)}m.currentTarget=null,p=V}else for(v=0;v<u.length;v++){if(T=u[v],V=T.instance,ee=T.currentTarget,T=T.listener,V!==p&&m.isPropagationStopped())break e;p=T,m.currentTarget=ee;try{p(m)}catch(oe){fd(oe)}m.currentTarget=null,p=V}}}}function lt(n,r){var o=r[So];o===void 0&&(o=r[So]=new Set);var u=n+"__bubble";o.has(u)||(Kb(r,n,2,!1),o.add(u))}function cg(n,r,o){var u=0;r&&(u|=4),Kb(o,n,u,r)}var eh="_reactListening"+Math.random().toString(36).slice(2);function ug(n){if(!n[eh]){n[eh]=!0,Gl.forEach(function(o){o!=="selectionchange"&&(k2.has(o)||cg(o,!1,n),cg(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[eh]||(r[eh]=!0,cg("selectionchange",!1,r))}}function Kb(n,r,o,u){switch(_v(r)){case 2:var m=l1;break;case 8:m=c1;break;default:m=Eg}o=m.bind(null,r,o,n),m=void 0,!Va||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?n.addEventListener(r,o,{capture:!0,passive:m}):n.addEventListener(r,o,!0):m!==void 0?n.addEventListener(r,o,{passive:m}):n.addEventListener(r,o,!1)}function dg(n,r,o,u,m){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var T=u.stateNode.containerInfo;if(T===m)break;if(v===4)for(v=u.return;v!==null;){var V=v.tag;if((V===3||V===4)&&v.stateNode.containerInfo===m)return;v=v.return}for(;T!==null;){if(v=_i(T),v===null)return;if(V=v.tag,V===5||V===6||V===26||V===27){u=p=v;continue e}T=T.parentNode}}u=u.return}Pr(function(){var ee=p,oe=ks(o),fe=[];e:{var te=Sx.get(n);if(te!==void 0){var re=Ri,De=n;switch(n){case"keypress":if(za(o)===0)break e;case"keydown":case"keyup":re=dd;break;case"focusin":De="focus",re=qa;break;case"focusout":De="blur",re=qa;break;case"beforeblur":case"afterblur":re=qa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=nd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=x;break;case _x:case Ex:case Tx:re=id;break;case Ix:re=S;break;case"scroll":case"scrollend":re=ic;break;case"wheel":re=se;break;case"copy":case"cut":case"paste":re=rd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=nr;break;case"toggle":case"beforetoggle":re=tt}var qe=(r&4)!==0,Ut=!qe&&(n==="scroll"||n==="scrollend"),Y=qe?te!==null?te+"Capture":null:te;qe=[];for(var q=ee,Z;q!==null;){var me=q;if(Z=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||Z===null||Y===null||(me=ni(q,Y),me!=null&&qe.push(Pc(q,me,Z))),Ut)break;q=q.return}0<qe.length&&(te=new re(te,De,null,o,oe),fe.push({event:te,listeners:qe}))}}if((r&7)===0){e:{if(te=n==="mouseover"||n==="pointerover",re=n==="mouseout"||n==="pointerout",te&&o!==tc&&(De=o.relatedTarget||o.fromElement)&&(_i(De)||De[ji]))break e;if((re||te)&&(te=oe.window===oe?oe:(te=oe.ownerDocument)?te.defaultView||te.parentWindow:window,re?(De=o.relatedTarget||o.toElement,re=ee,De=De?_i(De):null,De!==null&&(Ut=c(De),qe=De.tag,De!==Ut||qe!==5&&qe!==27&&qe!==6)&&(De=null)):(re=null,De=ee),re!==De)){if(qe=rc,me="onMouseLeave",Y="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(qe=nr,me="onPointerLeave",Y="onPointerEnter",q="pointer"),Ut=re==null?te:xs(re),Z=De==null?te:xs(De),te=new qe(me,q+"leave",re,o,oe),te.target=Ut,te.relatedTarget=Z,me=null,_i(oe)===ee&&(qe=new qe(Y,q+"enter",De,o,oe),qe.target=Z,qe.relatedTarget=Ut,me=qe),Ut=me,re&&De)t:{for(qe=P2,Y=re,q=De,Z=0,me=Y;me;me=qe(me))Z++;me=0;for(var Le=q;Le;Le=qe(Le))me++;for(;0<Z-me;)Y=qe(Y),Z--;for(;0<me-Z;)q=qe(q),me--;for(;Z--;){if(Y===q||q!==null&&Y===q.alternate){qe=Y;break t}Y=qe(Y),q=qe(q)}qe=null}else qe=null;re!==null&&Qb(fe,te,re,qe,!1),De!==null&&Ut!==null&&Qb(fe,Ut,De,qe,!0)}}e:{if(te=ee?xs(ee):window,re=te.nodeName&&te.nodeName.toLowerCase(),re==="select"||re==="input"&&te.type==="file")var wt=mx;else if(dx(te))if(fx)wt=GT;else{wt=$T;var Oe=BT}else re=te.nodeName,!re||re.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Mo(ee.elementType)&&(wt=mx):wt=HT;if(wt&&(wt=wt(n,ee))){hx(fe,wt,o,oe);break e}Oe&&Oe(n,te,ee),n==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Jl(te,"number",te.value)}switch(Oe=ee?xs(ee):window,n){case"focusin":(dx(Oe)||Oe.contentEditable==="true")&&(zo=Oe,Um=ee,uc=null);break;case"focusout":uc=Um=zo=null;break;case"mousedown":zm=!0;break;case"contextmenu":case"mouseup":case"dragend":zm=!1,jx(fe,o,oe);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":jx(fe,o,oe)}var rt;if(It)e:{switch(n){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else Uo?Ba(n,o)&&(ut="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(ut="onCompositionStart");ut&&(ki&&o.locale!=="ko"&&(Uo||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Uo&&(rt=sc()):(Ci=oe,nc="value"in Ci?Ci.value:Ci.textContent,Uo=!0)),Oe=th(ee,ut),0<Oe.length&&(ut=new Di(ut,n,null,o,oe),fe.push({event:ut,listeners:Oe}),rt?ut.data=rt:(rt=Vo(o),rt!==null&&(ut.data=rt)))),(rt=Os?UT(n,o):zT(n,o))&&(ut=th(ee,"onBeforeInput"),0<ut.length&&(Oe=new Di("onBeforeInput","beforeinput",null,o,oe),fe.push({event:Oe,listeners:ut}),Oe.data=rt)),R2(fe,n,ee,o,oe)}Yb(fe,r)})}function Pc(n,r,o){return{instance:n,listener:r,currentTarget:o}}function th(n,r){for(var o=r+"Capture",u=[];n!==null;){var m=n,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=ni(n,o),m!=null&&u.unshift(Pc(n,m,p)),m=ni(n,r),m!=null&&u.push(Pc(n,m,p))),n.tag===3)return u;n=n.return}return[]}function P2(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Qb(n,r,o,u,m){for(var p=r._reactName,v=[];o!==null&&o!==u;){var T=o,V=T.alternate,ee=T.stateNode;if(T=T.tag,V!==null&&V===u)break;T!==5&&T!==26&&T!==27||ee===null||(V=ee,m?(ee=ni(o,p),ee!=null&&v.unshift(Pc(o,ee,V))):m||(ee=ni(o,p),ee!=null&&v.push(Pc(o,ee,V)))),o=o.return}v.length!==0&&n.push({event:r,listeners:v})}var O2=/\r\n?/g,L2=/\u0000|\uFFFD/g;function Xb(n){return(typeof n=="string"?n:""+n).replace(O2,`
`).replace(L2,"")}function Jb(n,r){return r=Xb(r),Xb(n)===r}function Vt(n,r,o,u,m,p){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||cs(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&cs(n,""+u);break;case"className":bs(n,"class",u);break;case"tabIndex":bs(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":bs(n,o,u);break;case"style":ec(n,u,p);break;case"data":if(r!=="object"){bs(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Do(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(r!=="input"&&Vt(n,r,"name",m.name,m,null),Vt(n,r,"formEncType",m.formEncType,m,null),Vt(n,r,"formMethod",m.formMethod,m,null),Vt(n,r,"formTarget",m.formTarget,m,null)):(Vt(n,r,"encType",m.encType,m,null),Vt(n,r,"method",m.method,m,null),Vt(n,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Do(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=ti);break;case"onScroll":u!=null&&lt("scroll",n);break;case"onScrollEnd":u!=null&&lt("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Do(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":lt("beforetoggle",n),lt("toggle",n),Co(n,"popover",u);break;case"xlinkActuate":vn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":vn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":vn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":vn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":vn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":vn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":vn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":vn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":vn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Co(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=td.get(o)||o,Co(n,o,u))}}function hg(n,r,o,u,m,p){switch(o){case"style":ec(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(m.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof u=="string"?cs(n,u):(typeof u=="number"||typeof u=="bigint")&&cs(n,""+u);break;case"onScroll":u!=null&&lt("scroll",n);break;case"onScrollEnd":u!=null&&lt("scrollend",n);break;case"onClick":u!=null&&(n.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),p=n[Dn]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(r,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,u,m);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Co(n,o,u)}}}function Bn(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",n),lt("load",n);var u=!1,m=!1,p;for(p in o)if(o.hasOwnProperty(p)){var v=o[p];if(v!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Vt(n,r,p,v,o,null)}}m&&Vt(n,r,"srcSet",o.srcSet,o,null),u&&Vt(n,r,"src",o.src,o,null);return;case"input":lt("invalid",n);var T=p=v=m=null,V=null,ee=null;for(u in o)if(o.hasOwnProperty(u)){var oe=o[u];if(oe!=null)switch(u){case"name":m=oe;break;case"type":v=oe;break;case"checked":V=oe;break;case"defaultChecked":ee=oe;break;case"value":p=oe;break;case"defaultValue":T=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(a(137,r));break;default:Vt(n,r,u,oe,o,null)}}Ju(n,p,T,V,ee,v,m,!1);return;case"select":lt("invalid",n),u=v=p=null;for(m in o)if(o.hasOwnProperty(m)&&(T=o[m],T!=null))switch(m){case"value":p=T;break;case"defaultValue":v=T;break;case"multiple":u=T;default:Vt(n,r,m,T,o,null)}r=p,o=v,n.multiple=!!u,r!=null?Rr(n,!!u,r,!1):o!=null&&Rr(n,!!u,o,!0);return;case"textarea":lt("invalid",n),p=m=u=null;for(v in o)if(o.hasOwnProperty(v)&&(T=o[v],T!=null))switch(v){case"value":u=T;break;case"defaultValue":m=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Vt(n,r,v,T,o,null)}Mr(n,u,m,p);return;case"option":for(V in o)o.hasOwnProperty(V)&&(u=o[V],u!=null)&&(V==="selected"?n.selected=u&&typeof u!="function"&&typeof u!="symbol":Vt(n,r,V,u,o,null));return;case"dialog":lt("beforetoggle",n),lt("toggle",n),lt("cancel",n),lt("close",n);break;case"iframe":case"object":lt("load",n);break;case"video":case"audio":for(u=0;u<kc.length;u++)lt(kc[u],n);break;case"image":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"embed":case"source":case"link":lt("error",n),lt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in o)if(o.hasOwnProperty(ee)&&(u=o[ee],u!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Vt(n,r,ee,u,o,null)}return;default:if(Mo(r)){for(oe in o)o.hasOwnProperty(oe)&&(u=o[oe],u!==void 0&&hg(n,r,oe,u,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(u=o[T],u!=null&&Vt(n,r,T,u,o,null))}function V2(n,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,v=null,T=null,V=null,ee=null,oe=null;for(re in o){var fe=o[re];if(o.hasOwnProperty(re)&&fe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":V=fe;default:u.hasOwnProperty(re)||Vt(n,r,re,null,u,fe)}}for(var te in u){var re=u[te];if(fe=o[te],u.hasOwnProperty(te)&&(re!=null||fe!=null))switch(te){case"type":p=re;break;case"name":m=re;break;case"checked":ee=re;break;case"defaultChecked":oe=re;break;case"value":v=re;break;case"defaultValue":T=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,r));break;default:re!==fe&&Vt(n,r,te,re,u,fe)}}Ro(n,v,T,V,ee,oe,p,m);return;case"select":re=v=T=te=null;for(p in o)if(V=o[p],o.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":re=V;default:u.hasOwnProperty(p)||Vt(n,r,p,null,u,V)}for(m in u)if(p=u[m],V=o[m],u.hasOwnProperty(m)&&(p!=null||V!=null))switch(m){case"value":te=p;break;case"defaultValue":T=p;break;case"multiple":v=p;default:p!==V&&Vt(n,r,m,p,u,V)}r=T,o=v,u=re,te!=null?Rr(n,!!o,te,!1):!!u!=!!o&&(r!=null?Rr(n,!!o,r,!0):Rr(n,!!o,o?[]:"",!1));return;case"textarea":re=te=null;for(T in o)if(m=o[T],o.hasOwnProperty(T)&&m!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Vt(n,r,T,null,u,m)}for(v in u)if(m=u[v],p=o[v],u.hasOwnProperty(v)&&(m!=null||p!=null))switch(v){case"value":te=m;break;case"defaultValue":re=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(a(91));break;default:m!==p&&Vt(n,r,v,m,u,p)}Zu(n,te,re);return;case"option":for(var De in o)te=o[De],o.hasOwnProperty(De)&&te!=null&&!u.hasOwnProperty(De)&&(De==="selected"?n.selected=!1:Vt(n,r,De,null,u,te));for(V in u)te=u[V],re=o[V],u.hasOwnProperty(V)&&te!==re&&(te!=null||re!=null)&&(V==="selected"?n.selected=te&&typeof te!="function"&&typeof te!="symbol":Vt(n,r,V,te,u,re));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in o)te=o[qe],o.hasOwnProperty(qe)&&te!=null&&!u.hasOwnProperty(qe)&&Vt(n,r,qe,null,u,te);for(ee in u)if(te=u[ee],re=o[ee],u.hasOwnProperty(ee)&&te!==re&&(te!=null||re!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,r));break;default:Vt(n,r,ee,te,u,re)}return;default:if(Mo(r)){for(var Ut in o)te=o[Ut],o.hasOwnProperty(Ut)&&te!==void 0&&!u.hasOwnProperty(Ut)&&hg(n,r,Ut,void 0,u,te);for(oe in u)te=u[oe],re=o[oe],!u.hasOwnProperty(oe)||te===re||te===void 0&&re===void 0||hg(n,r,oe,te,u,re);return}}for(var Y in o)te=o[Y],o.hasOwnProperty(Y)&&te!=null&&!u.hasOwnProperty(Y)&&Vt(n,r,Y,null,u,te);for(fe in u)te=u[fe],re=o[fe],!u.hasOwnProperty(fe)||te===re||te==null&&re==null||Vt(n,r,fe,te,u,re)}function Zb(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U2(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var m=o[u],p=m.transferSize,v=m.initiatorType,T=m.duration;if(p&&T&&Zb(v)){for(v=0,T=m.responseEnd,u+=1;u<o.length;u++){var V=o[u],ee=V.startTime;if(ee>T)break;var oe=V.transferSize,fe=V.initiatorType;oe&&Zb(fe)&&(V=V.responseEnd,v+=oe*(V<T?1:(T-ee)/(V-ee)))}if(--u,r+=8*(p+v)/(m.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var mg=null,fg=null;function nh(n){return n.nodeType===9?n:n.ownerDocument}function ev(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function gg(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var pg=null;function z2(){var n=window.event;return n&&n.type==="popstate"?n===pg?!1:(pg=n,!0):(pg=null,!1)}var nv=typeof setTimeout=="function"?setTimeout:void 0,F2=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,q2=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(n){return sv.resolve(null).then(n).catch(B2)}:nv;function B2(n){setTimeout(function(){throw n})}function ta(n){return n==="head"}function iv(n,r){var o=r,u=0;do{var m=o.nextSibling;if(n.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(m),ml(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Oc(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Oc(o);for(var p=o.firstChild;p;){var v=p.nextSibling,T=p.nodeName;p[wi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=v}}else o==="body"&&Oc(n.ownerDocument.body);o=m}while(o);ml(r)}function rv(n,r){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function yg(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":yg(o),Ao(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function $2(n,r,o,u){for(;n.nodeType===1;){var m=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[wi])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Bs(n.nextSibling),n===null)break}return null}function H2(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Bs(n.nextSibling),n===null))return null;return n}function av(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Bs(n.nextSibling),n===null))return null;return n}function xg(n){return n.data==="$?"||n.data==="$~"}function bg(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function G2(n,r){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Bs(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var vg=null;function ov(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(r===0)return Bs(n.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}n=n.nextSibling}return null}function lv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return n;r--}else o!=="/$"&&o!=="/&"||r++}n=n.previousSibling}return null}function cv(n,r,o){switch(r=nh(o),n){case"html":if(n=r.documentElement,!n)throw Error(a(452));return n;case"head":if(n=r.head,!n)throw Error(a(453));return n;case"body":if(n=r.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Oc(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Ao(n)}var $s=new Map,uv=new Set;function sh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var yr=ce.d;ce.d={f:W2,r:Y2,D:K2,C:Q2,L:X2,m:J2,X:e1,S:Z2,M:t1};function W2(){var n=yr.f(),r=Yd();return n||r}function Y2(n){var r=Ds(n);r!==null&&r.tag===5&&r.type==="form"?I0(r):yr.r(n)}var ul=typeof document>"u"?null:document;function dv(n,r,o){var u=ul;if(u&&typeof r=="string"&&r){var m=ls(r);m='link[rel="'+n+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),uv.has(m)||(uv.add(m),n={rel:n,crossOrigin:o,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),Bn(r,"link",n),bn(r),u.head.appendChild(r)))}}function K2(n){yr.D(n),dv("dns-prefetch",n,null)}function Q2(n,r){yr.C(n,r),dv("preconnect",n,r)}function X2(n,r,o){yr.L(n,r,o);var u=ul;if(u&&n&&r){var m='link[rel="preload"][as="'+ls(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+ls(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+ls(o.imageSizes)+'"]')):m+='[href="'+ls(n)+'"]';var p=m;switch(r){case"style":p=dl(n);break;case"script":p=hl(n)}$s.has(p)||(n=w({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),$s.set(p,n),u.querySelector(m)!==null||r==="style"&&u.querySelector(Lc(p))||r==="script"&&u.querySelector(Vc(p))||(r=u.createElement("link"),Bn(r,"link",n),bn(r),u.head.appendChild(r)))}}function J2(n,r){yr.m(n,r);var o=ul;if(o&&n){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+ls(u)+'"][href="'+ls(n)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=hl(n)}if(!$s.has(p)&&(n=w({rel:"modulepreload",href:n},r),$s.set(p,n),o.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Vc(p)))return}u=o.createElement("link"),Bn(u,"link",n),bn(u),o.head.appendChild(u)}}}function Z2(n,r,o){yr.S(n,r,o);var u=ul;if(u&&n){var m=Ei(u).hoistableStyles,p=dl(n);r=r||"default";var v=m.get(p);if(!v){var T={loading:0,preload:null};if(v=u.querySelector(Lc(p)))T.loading=5;else{n=w({rel:"stylesheet",href:n,"data-precedence":r},o),(o=$s.get(p))&&Ng(n,o);var V=v=u.createElement("link");bn(V),Bn(V,"link",n),V._p=new Promise(function(ee,oe){V.onload=ee,V.onerror=oe}),V.addEventListener("load",function(){T.loading|=1}),V.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ih(v,r,u)}v={type:"stylesheet",instance:v,count:1,state:T},m.set(p,v)}}}function e1(n,r){yr.X(n,r);var o=ul;if(o&&n){var u=Ei(o).hoistableScripts,m=hl(n),p=u.get(m);p||(p=o.querySelector(Vc(m)),p||(n=w({src:n,async:!0},r),(r=$s.get(m))&&jg(n,r),p=o.createElement("script"),bn(p),Bn(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function t1(n,r){yr.M(n,r);var o=ul;if(o&&n){var u=Ei(o).hoistableScripts,m=hl(n),p=u.get(m);p||(p=o.querySelector(Vc(m)),p||(n=w({src:n,async:!0,type:"module"},r),(r=$s.get(m))&&jg(n,r),p=o.createElement("script"),bn(p),Bn(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function hv(n,r,o,u){var m=(m=Ge.current)?sh(m):null;if(!m)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=dl(o.href),o=Ei(m).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=dl(o.href);var p=Ei(m).hoistableStyles,v=p.get(n);if(v||(m=m.ownerDocument||m,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,v),(p=m.querySelector(Lc(n)))&&!p._p&&(v.instance=p,v.state.loading=5),$s.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},$s.set(n,o),p||n1(m,n,o,v.state))),r&&u===null)throw Error(a(528,""));return v}if(r&&u!==null)throw Error(a(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=hl(o),o=Ei(m).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function dl(n){return'href="'+ls(n)+'"'}function Lc(n){return'link[rel="stylesheet"]['+n+"]"}function mv(n){return w({},n,{"data-precedence":n.precedence,precedence:null})}function n1(n,r,o,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Bn(r,"link",o),bn(r),n.head.appendChild(r))}function hl(n){return'[src="'+ls(n)+'"]'}function Vc(n){return"script[async]"+n}function fv(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+ls(o.href)+'"]');if(u)return r.instance=u,bn(u),u;var m=w({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),bn(u),Bn(u,"style",m),ih(u,o.precedence,n),r.instance=u;case"stylesheet":m=dl(o.href);var p=n.querySelector(Lc(m));if(p)return r.state.loading|=4,r.instance=p,bn(p),p;u=mv(o),(m=$s.get(m))&&Ng(u,m),p=(n.ownerDocument||n).createElement("link"),bn(p);var v=p;return v._p=new Promise(function(T,V){v.onload=T,v.onerror=V}),Bn(p,"link",u),r.state.loading|=4,ih(p,o.precedence,n),r.instance=p;case"script":return p=hl(o.src),(m=n.querySelector(Vc(p)))?(r.instance=m,bn(m),m):(u=o,(m=$s.get(p))&&(u=w({},o),jg(u,m)),n=n.ownerDocument||n,m=n.createElement("script"),bn(m),Bn(m,"link",u),n.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,ih(u,o.precedence,n));return r.instance}function ih(n,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,v=0;v<u.length;v++){var T=u[v];if(T.dataset.precedence===r)p=T;else if(p!==m)break}p?p.parentNode.insertBefore(n,p.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function Ng(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function jg(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var rh=null;function gv(n,r,o){if(rh===null){var u=new Map,m=rh=new Map;m.set(o,u)}else m=rh,u=m.get(o),u||(u=new Map,m.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),m=0;m<o.length;m++){var p=o[m];if(!(p[wi]||p[xn]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(r)||"";v=n+v;var T=u.get(v);T?T.push(p):u.set(v,[p])}}return u}function pv(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function s1(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(n=r.disabled,typeof r.precedence=="string"&&n==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function yv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function i1(n,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=dl(u.href),p=r.querySelector(Lc(m));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=ah.bind(n),r.then(n,n)),o.state.loading|=4,o.instance=p,bn(p);return}p=r.ownerDocument||r,u=mv(u),(m=$s.get(m))&&Ng(u,m),p=p.createElement("link"),bn(p);var v=p;v._p=new Promise(function(T,V){v.onload=T,v.onerror=V}),Bn(p,"link",u),o.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=ah.bind(n),r.addEventListener("load",o),r.addEventListener("error",o))}}var wg=0;function r1(n,r){return n.stylesheets&&n.count===0&&lh(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&lh(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+r);0<n.imgBytes&&wg===0&&(wg=62500*U2());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&lh(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>wg?50:800)+r);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var oh=null;function lh(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,oh=new Map,r.forEach(a1,n),oh=null,ah.call(n))}function a1(n,r){if(!(r.state.loading&4)){var o=oh.get(n);if(o)var u=o.get(null);else{o=new Map,oh.set(n,o);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var v=m[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(o.set(v.dataset.precedence,v),u=v)}u&&o.set(null,u)}m=r.instance,v=m.getAttribute("data-precedence"),p=o.get(v)||u,p===u&&o.set(null,m),o.set(v,m),this.count++,u=ah.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),r.state.loading|=4}}var Uc={$$typeof:ne,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function o1(n,r,o,u,m,p,v,T,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=un(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=un(0),this.hiddenUpdates=un(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function xv(n,r,o,u,m,p,v,T,V,ee,oe,fe){return n=new o1(n,r,o,v,V,ee,oe,fe,T),r=1,p===!0&&(r|=24),p=Ns(3,null,null,r),n.current=p,p.stateNode=n,r=tf(),r.refCount++,n.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:r},af(p),n}function bv(n){return n?(n=Bo,n):Bo}function vv(n,r,o,u,m,p){m=bv(m),u.context===null?u.context=m:u.pendingContext=m,u=$r(r),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Hr(n,u,r),o!==null&&(fs(o,n,r),yc(o,n,r))}function Nv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function _g(n,r){Nv(n,r),(n=n.alternate)&&Nv(n,r)}function jv(n){if(n.tag===13||n.tag===31){var r=Ga(n,67108864);r!==null&&fs(r,n,67108864),_g(n,67108864)}}function wv(n){if(n.tag===13||n.tag===31){var r=Ts();r=Ji(r);var o=Ga(n,r);o!==null&&fs(o,n,r),_g(n,r)}}var ch=!0;function l1(n,r,o,u){var m=H.T;H.T=null;var p=ce.p;try{ce.p=2,Eg(n,r,o,u)}finally{ce.p=p,H.T=m}}function c1(n,r,o,u){var m=H.T;H.T=null;var p=ce.p;try{ce.p=8,Eg(n,r,o,u)}finally{ce.p=p,H.T=m}}function Eg(n,r,o,u){if(ch){var m=Tg(u);if(m===null)dg(n,r,u,uh,o),Ev(n,u);else if(d1(m,n,r,o,u))u.stopPropagation();else if(Ev(n,u),r&4&&-1<u1.indexOf(n)){for(;m!==null;){var p=Ds(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=Vn(p.pendingLanes);if(v!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var V=1<<31-Be(v);T.entanglements[1]|=V,v&=~V}Vi(p),(St&6)===0&&(Gd=it()+500,Dc(0))}}break;case 31:case 13:T=Ga(p,2),T!==null&&fs(T,p,2),Yd(),_g(p,2)}if(p=Tg(u),p===null&&dg(n,r,u,uh,o),p===m)break;m=p}m!==null&&u.stopPropagation()}else dg(n,r,u,null,o)}}function Tg(n){return n=ks(n),Ig(n)}var uh=null;function Ig(n){if(uh=null,n=_i(n),n!==null){var r=c(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=d(r),n!==null)return n;n=null}else if(o===31){if(n=f(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return uh=n,null}function _v(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ct()){case gn:return 2;case Jt:return 8;case tn:case Yn:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var Sg=!1,na=null,sa=null,ia=null,zc=new Map,Fc=new Map,ra=[],u1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ev(n,r){switch(n){case"focusin":case"focusout":na=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":zc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fc.delete(r.pointerId)}}function qc(n,r,o,u,m,p){return n===null||n.nativeEvent!==p?(n={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},r!==null&&(r=Ds(r),r!==null&&jv(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),n)}function d1(n,r,o,u,m){switch(r){case"focusin":return na=qc(na,n,r,o,u,m),!0;case"dragenter":return sa=qc(sa,n,r,o,u,m),!0;case"mouseover":return ia=qc(ia,n,r,o,u,m),!0;case"pointerover":var p=m.pointerId;return zc.set(p,qc(zc.get(p)||null,n,r,o,u,m)),!0;case"gotpointercapture":return p=m.pointerId,Fc.set(p,qc(Fc.get(p)||null,n,r,o,u,m)),!0}return!1}function Tv(n){var r=_i(n.target);if(r!==null){var o=c(r);if(o!==null){if(r=o.tag,r===13){if(r=d(o),r!==null){n.blockedOn=r,Zs(n.priority,function(){wv(o)});return}}else if(r===31){if(r=f(o),r!==null){n.blockedOn=r,Zs(n.priority,function(){wv(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function dh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Tg(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);tc=u,o.target.dispatchEvent(u),tc=null}else return r=Ds(o),r!==null&&jv(r),n.blockedOn=o,!1;r.shift()}return!0}function Iv(n,r,o){dh(n)&&o.delete(r)}function h1(){Sg=!1,na!==null&&dh(na)&&(na=null),sa!==null&&dh(sa)&&(sa=null),ia!==null&&dh(ia)&&(ia=null),zc.forEach(Iv),Fc.forEach(Iv)}function hh(n,r){n.blockedOn===r&&(n.blockedOn=null,Sg||(Sg=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,h1)))}var mh=null;function Sv(n){mh!==n&&(mh=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){mh===n&&(mh=null);for(var r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],m=n[r+2];if(typeof u!="function"){if(Ig(u||o)===null)continue;break}var p=Ds(o);p!==null&&(n.splice(r,3),r-=3,Tf(p,{pending:!0,data:m,method:o.method,action:u},u,m))}}))}function ml(n){function r(V){return hh(V,n)}na!==null&&hh(na,n),sa!==null&&hh(sa,n),ia!==null&&hh(ia,n),zc.forEach(r),Fc.forEach(r);for(var o=0;o<ra.length;o++){var u=ra[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<ra.length&&(o=ra[0],o.blockedOn===null);)Tv(o),o.blockedOn===null&&ra.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var m=o[u],p=o[u+1],v=m[Dn]||null;if(typeof p=="function")v||Sv(o);else if(v){var T=null;if(p&&p.hasAttribute("formAction")){if(m=p,v=p[Dn]||null)T=v.formAction;else if(Ig(m)!==null)continue}else T=v.action;typeof T=="function"?o[u+1]=T:(o.splice(u,3),u-=3),Sv(o)}}}function Av(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(v){return m=v})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function Ag(n){this._internalRoot=n}fh.prototype.render=Ag.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(a(409));var o=r.current,u=Ts();vv(o,u,n,r,null,null)},fh.prototype.unmount=Ag.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;vv(n.current,2,null,n,null,null),Yd(),r[ji]=null}};function fh(n){this._internalRoot=n}fh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Yu();n={blockedOn:null,target:n,priority:r};for(var o=0;o<ra.length&&r!==0&&r<ra[o].priority;o++);ra.splice(o,0,n),o===0&&Tv(n)}};var Cv=e.version;if(Cv!=="19.2.3")throw Error(a(527,Cv,"19.2.3"));ce.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=g(r),n=n!==null?N(n):null,n=n===null?null:n.stateNode,n};var m1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{Tt=gh.inject(m1),Ne=gh}catch{}}return Hc.createRoot=function(n,r){if(!l(n))throw Error(a(299));var o=!1,u="",m=L0,p=V0,v=U0;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=xv(n,1,!1,null,null,o,u,null,m,p,v,Av),n[ji]=r.current,ug(n),new Ag(r)},Hc.hydrateRoot=function(n,r,o){if(!l(n))throw Error(a(299));var u=!1,m="",p=L0,v=V0,T=U0,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),r=xv(n,1,!0,r,o??null,u,m,V,p,v,T,Av),r.context=bv(null),o=r.current,u=Ts(),u=Ji(u),m=$r(u),m.callback=null,Hr(o,m,u),o=u,r.current.lanes=o,ss(r,o),Vi(r),n[ji]=r.current,ug(n),new fh(r)},Hc.version="19.2.3",Hc}var Gv;function tS(){if(Gv)return Og.exports;Gv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Og.exports=eS(),Og.exports}var nS=tS();const sS="/assets/face2-BnorMDId.webp",iS="/assets/face2-B6YhBnC2.png";function bt(){return i.jsx("footer",{className:"bg-gray-900 text-gray-300 py-8",children:i.jsx("div",{className:"max-w-4xl mx-auto px-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white font-medium",children:"Seth Jamison Kitchen"}),i.jsx("p",{children:"Professional Engineer, Missouri"}),i.jsx("p",{className:"text-sm",children:"License No. PE-2026001392"})]}),i.jsxs("nav",{"aria-label":"Footer navigation",className:"flex flex-wrap gap-4 text-sm",children:[i.jsx(le,{to:"/contact",className:"hover:text-white transition-colors",children:"Contact"}),i.jsx(le,{to:"/services",className:"hover:text-white transition-colors",children:"Services"}),i.jsx(le,{to:"/portal",className:"hover:text-white transition-colors",children:"Portal Login"}),i.jsx(le,{to:"/legal",className:"hover:text-white transition-colors",children:"Legal / Disclaimer"})]})]})})})}const rS=()=>{};var Wv={};const Ew=function(s){const e=[];let t=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[t++]=l:l<2048?(e[t++]=l>>6|192,e[t++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[t++]=l>>18|240,e[t++]=l>>12&63|128,e[t++]=l>>6&63|128,e[t++]=l&63|128):(e[t++]=l>>12|224,e[t++]=l>>6&63|128,e[t++]=l&63|128)}return e},aS=function(s){const e=[];let t=0,a=0;for(;t<s.length;){const l=s[t++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[t++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[t++],d=s[t++],f=s[t++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|f&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[t++],d=s[t++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Tw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,f=d?s[l+1]:0,y=l+2<s.length,g=y?s[l+2]:0,N=c>>2,w=(c&3)<<4|f>>4;let I=(f&15)<<2|g>>6,M=g&63;y||(M=64,d||(I=64)),a.push(t[N],t[w],t[I],t[M])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Ew(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):aS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=t[s.charAt(l++)],f=l<s.length?t[s.charAt(l)]:0;++l;const g=l<s.length?t[s.charAt(l)]:64;++l;const w=l<s.length?t[s.charAt(l)]:64;if(++l,c==null||f==null||g==null||w==null)throw new oS;const I=c<<2|f>>4;if(a.push(I),g!==64){const M=f<<4&240|g>>2;if(a.push(M),w!==64){const G=g<<6&192|w;a.push(G)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class oS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lS=function(s){const e=Ew(s);return Tw.encodeByteArray(e,!0)},Bh=function(s){return lS(s).replace(/\./g,"")},Iw=function(s){try{return Tw.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function cS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uS=()=>cS().__FIREBASE_DEFAULTS__,dS=()=>{if(typeof process>"u"||typeof Wv>"u")return;const s=Wv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},hS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Iw(s[1]);return e&&JSON.parse(e)},mm=()=>{try{return rS()||uS()||dS()||hS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Sw=s=>mm()?.emulatorHosts?.[s],mS=s=>{const e=Sw(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},Aw=()=>mm()?.config,Cw=s=>mm()?.[`_${s}`];class fS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}function Vl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Rw(s){return(await fetch(s,{credentials:"include"})).ok}function gS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Bh(JSON.stringify(t)),Bh(JSON.stringify(d)),""].join(".")}const su={};function pS(){const s={prod:[],emulator:[]};for(const e of Object.keys(su))su[e]?s.emulator.push(e):s.prod.push(e);return s}function yS(s){let e=document.getElementById(s),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),t=!0),{created:t,element:e}}let Yv=!1;function Mw(s,e){if(typeof window>"u"||typeof document>"u"||!Vl(window.location.host)||su[s]===e||su[s]||Yv)return;su[s]=e;function t(I){return`__firebase__banner__${I}`}const a="__firebase__banner",c=pS().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function f(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function y(I,M){I.setAttribute("width","24"),I.setAttribute("id",M),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function g(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Yv=!0,d()},I}function N(I,M){I.setAttribute("id",M),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function w(){const I=yS(a),M=t("text"),G=document.getElementById(M)||document.createElement("span"),W=t("learnmore"),$=document.getElementById(W)||document.createElement("a"),X=t("preprendIcon"),ie=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ne=I.element;f(ne),N($,W);const Re=g();y(ie,X),ne.append(ie,G,$,Re),document.body.appendChild(ne)}c?(G.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function ts(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ts())}function bS(){const s=mm()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Zp(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function NS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jS(){const s=ts();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function wS(){return!bS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ey(){try{return typeof indexedDB=="object"}catch{return!1}}function ty(){return new Promise((s,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),t||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{t=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(t){e(t)}})}function Dw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const _S="FirebaseError";class vi extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=_S,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wo.prototype.create)}}class wo{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?ES(c,a):"Error",f=`${this.serviceName}: ${d} (${l}).`;return new vi(l,f,a)}}function ES(s,e){return s.replace(TS,(t,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const TS=/\{\$([^}]+)}/g;function IS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ba(s,e){if(s===e)return!0;const t=Object.keys(s),a=Object.keys(e);for(const l of t){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(Kv(c)&&Kv(d)){if(!ba(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!t.includes(l))return!1;return!0}function Kv(s){return s!==null&&typeof s=="object"}function Pu(s){const e=[];for(const[t,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Yc(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Kc(s){const e=s.indexOf("?");if(!e)return"";const t=s.indexOf("#",e);return s.substring(e,t>0?t:void 0)}function SS(s,e){const t=new AS(s,e);return t.subscribe.bind(t)}class AS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let l;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");CS(e,["next","error","complete"])?l=e:l={next:e,error:t,complete:a},l.next===void 0&&(l.next=Ug),l.error===void 0&&(l.error=Ug),l.complete===void 0&&(l.complete=Ug);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CS(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function Ug(){}const RS=1e3,MS=2,DS=14400*1e3,kS=.5;function Qv(s,e=RS,t=MS){const a=e*Math.pow(t,s),l=Math.round(kS*a*(Math.random()-.5)*2);return Math.min(DS,a+l)}function cn(s){return s&&s._delegate?s._delegate:s}class xi{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ro="[DEFAULT]";class PS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new fS;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:t});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LS(e))try{this.getOrInitializeService({instanceIdentifier:ro})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ro){return this.instances.has(e)}getOptions(e=ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[c,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(c);a===f&&d.resolve(l)}return l}onInit(e,t){const a=this.normalizeInstanceIdentifier(t),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const l of a)try{l(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:OS(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ro){return this.component?this.component.multipleInstances?e:ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OS(s){return s===ro?void 0:s}function LS(s){return s.instantiationMode==="EAGER"}class VS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var dt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(dt||(dt={}));const US={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},zS=dt.INFO,FS={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},qS=(s,e,...t)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=FS[e];if(l)console[l](`[${a}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fm{constructor(e){this.name=e,this._logLevel=zS,this._logHandler=qS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?US[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...e),this._logHandler(this,dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...e),this._logHandler(this,dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...e),this._logHandler(this,dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...e),this._logHandler(this,dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...e),this._logHandler(this,dt.ERROR,...e)}}const BS=(s,e)=>e.some(t=>s instanceof t);let Xv,Jv;function $S(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HS(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kw=new WeakMap,up=new WeakMap,Pw=new WeakMap,zg=new WeakMap,ny=new WeakMap;function GS(s){const e=new Promise((t,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{t(ga(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&kw.set(t,s)}).catch(()=>{}),ny.set(e,s),e}function WS(s){if(up.has(s))return;const e=new Promise((t,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{t(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});up.set(s,e)}let dp={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return up.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Pw.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ga(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function YS(s){dp=s(dp)}function KS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=s.call(Fg(this),e,...t);return Pw.set(a,e.sort?e.sort():[e]),ga(a)}:HS().includes(s)?function(...e){return s.apply(Fg(this),e),ga(kw.get(this))}:function(...e){return ga(s.apply(Fg(this),e))}}function QS(s){return typeof s=="function"?KS(s):(s instanceof IDBTransaction&&WS(s),BS(s,$S())?new Proxy(s,dp):s)}function ga(s){if(s instanceof IDBRequest)return GS(s);if(zg.has(s))return zg.get(s);const e=QS(s);return e!==s&&(zg.set(s,e),ny.set(e,s)),e}const Fg=s=>ny.get(s);function Ow(s,e,{blocked:t,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),f=ga(d);return a&&d.addEventListener("upgradeneeded",y=>{a(ga(d.result),y.oldVersion,y.newVersion,ga(d.transaction),y)}),t&&d.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),f.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const XS=["get","getKey","getAll","getAllKeys","count"],JS=["put","add","delete","clear"],qg=new Map;function Zv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(qg.get(e))return qg.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,l=JS.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(l||XS.includes(t)))return;const c=async function(d,...f){const y=this.transaction(d,l?"readwrite":"readonly");let g=y.store;return a&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),l&&y.done]))[0]};return qg.set(e,c),c}YS(s=>({...s,get:(e,t,a)=>Zv(e,t)||s.get(e,t,a),has:(e,t)=>!!Zv(e,t)||s.has(e,t)}));class ZS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(eA(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function eA(s){return s.getComponent()?.type==="VERSION"}const hp="@firebase/app",eN="0.14.7";const Er=new fm("@firebase/app"),tA="@firebase/app-compat",nA="@firebase/analytics-compat",sA="@firebase/analytics",iA="@firebase/app-check-compat",rA="@firebase/app-check",aA="@firebase/auth",oA="@firebase/auth-compat",lA="@firebase/database",cA="@firebase/data-connect",uA="@firebase/database-compat",dA="@firebase/functions",hA="@firebase/functions-compat",mA="@firebase/installations",fA="@firebase/installations-compat",gA="@firebase/messaging",pA="@firebase/messaging-compat",yA="@firebase/performance",xA="@firebase/performance-compat",bA="@firebase/remote-config",vA="@firebase/remote-config-compat",NA="@firebase/storage",jA="@firebase/storage-compat",wA="@firebase/firestore",_A="@firebase/ai",EA="@firebase/firestore-compat",TA="firebase",IA="12.8.0";const mp="[DEFAULT]",SA={[hp]:"fire-core",[tA]:"fire-core-compat",[sA]:"fire-analytics",[nA]:"fire-analytics-compat",[rA]:"fire-app-check",[iA]:"fire-app-check-compat",[aA]:"fire-auth",[oA]:"fire-auth-compat",[lA]:"fire-rtdb",[cA]:"fire-data-connect",[uA]:"fire-rtdb-compat",[dA]:"fire-fn",[hA]:"fire-fn-compat",[mA]:"fire-iid",[fA]:"fire-iid-compat",[gA]:"fire-fcm",[pA]:"fire-fcm-compat",[yA]:"fire-perf",[xA]:"fire-perf-compat",[bA]:"fire-rc",[vA]:"fire-rc-compat",[NA]:"fire-gcs",[jA]:"fire-gcs-compat",[wA]:"fire-fst",[EA]:"fire-fst-compat",[_A]:"fire-vertex","fire-js":"fire-js",[TA]:"fire-js-all"};const pu=new Map,AA=new Map,fp=new Map;function tN(s,e){try{s.container.addComponent(e)}catch(t){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function Yi(s){const e=s.name;if(fp.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,s);for(const t of pu.values())tN(t,s);for(const t of AA.values())tN(t,s);return!0}function _o(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function As(s){return s==null?!1:s.settings!==void 0}const CA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pa=new wo("app","Firebase",CA);class RA{constructor(e,t,a){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pa.create("app-deleted",{appName:this._name})}}const Ul=IA;function Lw(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const a={name:mp,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw pa.create("bad-app-name",{appName:String(l)});if(t||(t=Aw()),!t)throw pa.create("no-options");const c=pu.get(l);if(c){if(ba(t,c.options)&&ba(a,c.config))return c;throw pa.create("duplicate-app",{appName:l})}const d=new VS(l);for(const y of fp.values())d.addComponent(y);const f=new RA(t,a,d);return pu.set(l,f),f}function sy(s=mp){const e=pu.get(s);if(!e&&s===mp&&Aw())return Lw();if(!e)throw pa.create("no-app",{appName:s});return e}function nN(){return Array.from(pu.values())}function Ks(s,e,t){let a=SA[s]??s;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(d.join(" "));return}Yi(new xi(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const MA="firebase-heartbeat-database",DA=1,yu="firebase-heartbeat-store";let Bg=null;function Vw(){return Bg||(Bg=Ow(MA,DA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(yu)}catch(t){console.warn(t)}}}}).catch(s=>{throw pa.create("idb-open",{originalErrorMessage:s.message})})),Bg}async function kA(s){try{const t=(await Vw()).transaction(yu),a=await t.objectStore(yu).get(Uw(s));return await t.done,a}catch(e){if(e instanceof vi)Er.warn(e.message);else{const t=pa.create("idb-get",{originalErrorMessage:e?.message});Er.warn(t.message)}}}async function sN(s,e){try{const a=(await Vw()).transaction(yu,"readwrite");await a.objectStore(yu).put(e,Uw(s)),await a.done}catch(t){if(t instanceof vi)Er.warn(t.message);else{const a=pa.create("idb-set",{originalErrorMessage:t?.message});Er.warn(a.message)}}}function Uw(s){return`${s.name}!${s.options.appId}`}const PA=1024,OA=30;class LA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new UA(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=iN();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:t}),this._heartbeatsCache.heartbeats.length>OA){const l=zA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Er.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=iN(),{heartbeatsToSend:t,unsentEntries:a}=VA(this._heartbeatsCache.heartbeats),l=Bh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Er.warn(e),""}}}function iN(){return new Date().toISOString().substring(0,10)}function VA(s,e=PA){const t=[];let a=s.slice();for(const l of s){const c=t.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),rN(t)>e){c.dates.pop();break}}else if(t.push({agent:l.agent,dates:[l.date]}),rN(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class UA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ey()?ty().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await kA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return sN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return sN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function rN(s){return Bh(JSON.stringify({version:2,heartbeats:s})).length}function zA(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let a=1;a<s.length;a++)s[a].date<t&&(t=s[a].date,e=a);return e}function FA(s){Yi(new xi("platform-logger",e=>new ZS(e),"PRIVATE")),Yi(new xi("heartbeat",e=>new LA(e),"PRIVATE")),Ks(hp,eN,s),Ks(hp,eN,"esm2020"),Ks("fire-js","")}FA("");function zw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qA=zw,Fw=new wo("auth","Firebase",zw());const $h=new fm("@firebase/auth");function BA(s,...e){$h.logLevel<=dt.WARN&&$h.warn(`Auth (${Ul}): ${s}`,...e)}function Ch(s,...e){$h.logLevel<=dt.ERROR&&$h.error(`Auth (${Ul}): ${s}`,...e)}function Qs(s,...e){throw ry(s,...e)}function gi(s,...e){return ry(s,...e)}function iy(s,e,t){const a={...qA(),[e]:t};return new wo("auth","Firebase",a).create(e,{appName:s.name})}function jr(s){return iy(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $A(s,e,t){const a=t;if(!(e instanceof a))throw a.name!==e.constructor.name&&Qs(s,"argument-error"),iy(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ry(s,...e){if(typeof s!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(t,...a)}return Fw.create(s,...e)}function $e(s,e,...t){if(!s)throw ry(e,...t)}function br(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Ch(e),new Error(e)}function Tr(s,e){s||br(e)}function gp(){return typeof self<"u"&&self.location?.href||""}function HA(){return aN()==="http:"||aN()==="https:"}function aN(){return typeof self<"u"&&self.location?.protocol||null}function GA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HA()||Zp()||"connection"in navigator)?navigator.onLine:!0}function WA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ou{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tr(t>e,"Short delay should be less than long delay!"),this.isMobile=xS()||NS()}get(){return GA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ay(s,e){Tr(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class qw{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QA=new Ou(3e4,6e4);function Aa(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Ca(s,e,t,a,l={}){return Bw(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const f=Pu({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const g={method:e,headers:y,...c};return vS()||(g.referrerPolicy="no-referrer"),s.emulatorConfig&&Vl(s.emulatorConfig.host)&&(g.credentials="include"),qw.fetch()(await $w(s,s.config.apiHost,t,f),g)})}async function Bw(s,e,t){s._canInitEmulator=!1;const a={...YA,...e};try{const l=new JA(s),c=await Promise.race([t(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw yh(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const f=c.ok?d.errorMessage:d.error.message,[y,g]=f.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw yh(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw yh(s,"user-disabled",d);const N=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw iy(s,N,g);Qs(s,N)}}catch(l){if(l instanceof vi)throw l;Qs(s,"network-request-failed",{message:String(l)})}}async function Lu(s,e,t,a,l={}){const c=await Ca(s,e,t,a,l);return"mfaPendingCredential"in c&&Qs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function $w(s,e,t,a){const l=`${e}${t}?${a}`,c=s,d=c.config.emulator?ay(s.config,l):`${s.config.apiScheme}://${l}`;return KA.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function XA(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(gi(this.auth,"network-request-failed")),QA.get())})}}function yh(s,e,t){const a={appName:s.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const l=gi(s,e,a);return l.customData._tokenResponse=t,l}function oN(s){return s!==void 0&&s.enterprise!==void 0}class ZA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return XA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eC(s,e){return Ca(s,"GET","/v2/recaptchaConfig",Aa(s,e))}async function tC(s,e){return Ca(s,"POST","/v1/accounts:delete",e)}async function Hh(s,e){return Ca(s,"POST","/v1/accounts:lookup",e)}function iu(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nC(s,e=!1){const t=cn(s),a=await t.getIdToken(e),l=oy(a);$e(l&&l.exp&&l.auth_time&&l.iat,t.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:iu($g(l.auth_time)),issuedAtTime:iu($g(l.iat)),expirationTime:iu($g(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function $g(s){return Number(s)*1e3}function oy(s){const[e,t,a]=s.split(".");if(e===void 0||t===void 0||a===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const l=Iw(t);return l?JSON.parse(l):(Ch("Failed to decode base64 JWT payload"),null)}catch(l){return Ch("Caught error parsing JWT payload as JSON",l?.toString()),null}}function lN(s){const e=oy(s);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function xu(s,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof vi&&sC(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function sC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class iC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class pp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Gh(s){const e=s.auth,t=await s.getIdToken(),a=await xu(s,Hh(e,{idToken:t}));$e(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Hw(l.providerUserInfo):[],d=aC(s.providerData,c),f=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,g=f?y:!1,N={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new pp(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(s,N)}async function rC(s){const e=cn(s);await Gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aC(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Hw(s){return s.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function oC(s,e){const t=await Bw(s,{},async()=>{const a=Pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await $w(s,l,"/v1/token",`key=${c}`),f=await s._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:f,body:a};return s.emulatorConfig&&Vl(s.emulatorConfig.host)&&(y.credentials="include"),qw.fetch()(d,y)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function lC(s,e){return Ca(s,"POST","/v2/accounts:revokeToken",Aa(s,e))}class bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const t=lN(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:l,expiresIn:c}=await oC(e,t);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:l,expirationTime:c}=t,d=new bl;return a&&($e(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&($e(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&($e(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bl,this.toJSON())}_performRefresh(){return br("not implemented")}}function oa(s,e){$e(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class di{constructor({uid:e,auth:t,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new iC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new pp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await xu(this,this.stsTokenManager.getToken(this.auth,e));return $e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return nC(this,e)}reload(){return rC(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await Gh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(As(this.auth.app))return Promise.reject(jr(this.auth));const e=await this.getIdToken();return await xu(this,tC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const a=t.displayName??void 0,l=t.email??void 0,c=t.phoneNumber??void 0,d=t.photoURL??void 0,f=t.tenantId??void 0,y=t._redirectEventId??void 0,g=t.createdAt??void 0,N=t.lastLoginAt??void 0,{uid:w,emailVerified:I,isAnonymous:M,providerData:G,stsTokenManager:W}=t;$e(w&&W,e,"internal-error");const $=bl.fromJSON(this.name,W);$e(typeof w=="string",e,"internal-error"),oa(a,e.name),oa(l,e.name),$e(typeof I=="boolean",e,"internal-error"),$e(typeof M=="boolean",e,"internal-error"),oa(c,e.name),oa(d,e.name),oa(f,e.name),oa(y,e.name),oa(g,e.name),oa(N,e.name);const X=new di({uid:w,auth:e,email:l,emailVerified:I,displayName:a,isAnonymous:M,photoURL:d,phoneNumber:c,tenantId:f,stsTokenManager:$,createdAt:g,lastLoginAt:N});return G&&Array.isArray(G)&&(X.providerData=G.map(ie=>({...ie}))),y&&(X._redirectEventId=y),X}static async _fromIdTokenResponse(e,t,a=!1){const l=new bl;l.updateFromServerResponse(t);const c=new di({uid:t.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Gh(c),c}static async _fromGetAccountInfoResponse(e,t,a){const l=t.users[0];$e(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Hw(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,f=new bl;f.updateFromIdToken(a);const y=new di({uid:l.localId,auth:e,stsTokenManager:f,isAnonymous:d}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new pp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,g),y}}const cN=new Map;function vr(s){Tr(s instanceof Function,"Expected a class definition");let e=cN.get(s);return e?(Tr(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,cN.set(s,e),e)}class Gw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Gw.type="NONE";const uN=Gw;function Rh(s,e,t){return`firebase:${s}:${e}:${t}`}class vl{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Rh(this.userKey,l.apiKey,c),this.fullPersistenceKey=Rh("persistence",l.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Hh(this.auth,{idToken:e}).catch(()=>{});return t?di._fromGetAccountInfoResponse(this.auth,t,e):null}return di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new vl(vr(uN),e,a);const l=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=l[0]||vr(uN);const d=Rh(a,e.config.apiKey,e.name);let f=null;for(const g of t)try{const N=await g._get(d);if(N){let w;if(typeof N=="string"){const I=await Hh(e,{idToken:N}).catch(()=>{});if(!I)break;w=await di._fromGetAccountInfoResponse(e,I,N)}else w=di._fromJSON(e,N);g!==c&&(f=w),c=g;break}}catch{}const y=l.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new vl(c,e,a):(c=y[0],f&&await c._set(d,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new vl(c,e,a))}}function dN(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ww(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jw(e))return"Blackberry";if(Zw(e))return"Webos";if(Yw(e))return"Safari";if((e.includes("chrome/")||Kw(e))&&!e.includes("edge/"))return"Chrome";if(Xw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(t);if(a?.length===2)return a[1]}return"Other"}function Ww(s=ts()){return/firefox\//i.test(s)}function Yw(s=ts()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kw(s=ts()){return/crios\//i.test(s)}function Qw(s=ts()){return/iemobile/i.test(s)}function Xw(s=ts()){return/android/i.test(s)}function Jw(s=ts()){return/blackberry/i.test(s)}function Zw(s=ts()){return/webos/i.test(s)}function ly(s=ts()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function cC(s=ts()){return ly(s)&&!!window.navigator?.standalone}function uC(){return jS()&&document.documentMode===10}function e_(s=ts()){return ly(s)||Xw(s)||Zw(s)||Jw(s)||/windows phone/i.test(s)||Qw(s)}function t_(s,e=[]){let t;switch(s){case"Browser":t=dN(ts());break;case"Worker":t=`${dN(ts())}-${s}`;break;default:t=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ul}/${a}`}class dC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=c=>new Promise((d,f)=>{try{const y=e(c);d(y)}catch(y){f(y)}});a.onAbort=t,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const l of t)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function hC(s,e={}){return Ca(s,"GET","/v2/passwordPolicy",Aa(s,e))}const mC=6;class fC{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??mC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),l&&(t.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class gC{constructor(e,t,a,l){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hN(this),this.idTokenSubscription=new hN(this),this.beforeStateQueue=new dC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hh(this,{idToken:e}),a=await di._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(As(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let a=t,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===d)&&f?.user&&(a=f.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(As(this.app))return Promise.reject(jr(this));const t=e?cn(e):null;return t&&$e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return As(this.app)?Promise.reject(jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return As(this.app)?Promise.reject(jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hC(this),t=new fC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wo("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await lC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vr(e)||this._popupRedirectResolver;$e(t,this,"argument-error"),this.redirectPersistenceManager=await vl.create(this,[vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,l){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(f,this,"internal-error"),f.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,a,l);return()=>{d=!0,y()}}else{const y=e.addObserver(t);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(As(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&BA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ra(s){return cn(s)}class hN{constructor(e){this.auth=e,this.observer=null,this.addObserver=SS(t=>this.observer=t)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pC(s){gm=s}function n_(s){return gm.loadJS(s)}function yC(){return gm.recaptchaEnterpriseScript}function xC(){return gm.gapiScript}function bC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class vC{constructor(){this.enterprise=new NC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class NC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const jC="recaptcha-enterprise",s_="NO_RECAPTCHA";class wC{constructor(e){this.type=jC,this.auth=Ra(e)}async verify(e="verify",t=!1){async function a(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,f)=>{eC(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new ZA(y);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,d(g.siteKey)}}).catch(y=>{f(y)})})}function l(c,d,f){const y=window.grecaptcha;oN(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(g=>{d(g)}).catch(()=>{d(s_)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(f=>{if(!t&&oN(window.grecaptcha))l(f,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=yC();y.length!==0&&(y+=f),n_(y).then(()=>{l(f,c,d)}).catch(g=>{d(g)})}}).catch(f=>{d(f)})})}}async function mN(s,e,t,a=!1,l=!1){const c=new wC(s);let d;if(l)d=s_;else try{d=await c.verify(t)}catch{d=await c.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const y=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const y=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return a?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function yp(s,e,t,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await mN(s,e,t,t==="getOobCode");return a(s,c)}else return a(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await mN(s,e,t,t==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function _C(s,e){const t=_o(s,"auth");if(t.isInitialized()){const l=t.getImmediate(),c=t.getOptions();if(ba(c,e??{}))return l;Qs(l,"already-initialized")}return t.initialize({options:e})}function EC(s,e){const t=e?.persistence||[],a=(Array.isArray(t)?t:[t]).map(vr);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function TC(s,e,t){const a=Ra(s);$e(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=i_(e),{host:d,port:f}=IC(e),y=f===null?"":`:${f}`,g={url:`${c}//${d}${y}/`},N=Object.freeze({host:d,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){$e(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),$e(ba(g,a.config.emulator)&&ba(N,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=N,a.settings.appVerificationDisabledForTesting=!0,Vl(d)?(Rw(`${c}//${d}${y}`),Mw("Auth",!0)):SC()}function i_(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function IC(s){const e=i_(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:fN(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:fN(d)}}}function fN(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function SC(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class cy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,t){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}async function AC(s,e){return Ca(s,"POST","/v1/accounts:signUp",e)}async function CC(s,e){return Lu(s,"POST","/v1/accounts:signInWithPassword",Aa(s,e))}async function RC(s,e){return Lu(s,"POST","/v1/accounts:signInWithEmailLink",Aa(s,e))}async function MC(s,e){return Lu(s,"POST","/v1/accounts:signInWithEmailLink",Aa(s,e))}class bu extends cy{constructor(e,t,a,l=null){super("password",a),this._email=e,this._password=t,this._tenantId=l}static _fromEmailAndPassword(e,t){return new bu(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new bu(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yp(e,t,"signInWithPassword",CC);case"emailLink":return RC(e,{email:this._email,oobCode:this._password});default:Qs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yp(e,a,"signUpPassword",AC);case"emailLink":return MC(e,{idToken:t,email:this._email,oobCode:this._password});default:Qs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Nl(s,e){return Lu(s,"POST","/v1/accounts:signInWithIdp",Aa(s,e))}const DC="http://localhost";class go extends cy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new go(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=t;if(!a||!l)return null;const d=new go(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Nl(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Nl(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Nl(e,t)}buildRequest(){const e={requestUri:DC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Pu(t)}return e}}function kC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PC(s){const e=Yc(Kc(s)).link,t=e?Yc(Kc(e)).deep_link_id:null,a=Yc(Kc(s)).deep_link_id;return(a?Yc(Kc(a)).link:null)||a||t||e||s}class uy{constructor(e){const t=Yc(Kc(e)),a=t.apiKey??null,l=t.oobCode??null,c=kC(t.mode??null);$e(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=PC(e);try{return new uy(t)}catch{return null}}}class zl{constructor(){this.providerId=zl.PROVIDER_ID}static credential(e,t){return bu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=uy.parseLink(t);return $e(a,"argument-error"),bu._fromEmailAndCode(e,a.code,a.tenantId)}}zl.PROVIDER_ID="password";zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class dy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vu extends dy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ua extends Vu{constructor(){super("facebook.com")}static credential(e){return go._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ua.credential(e.oauthAccessToken)}catch{return null}}}ua.FACEBOOK_SIGN_IN_METHOD="facebook.com";ua.PROVIDER_ID="facebook.com";class xr extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return go._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return xr.credential(t,a)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";class da extends Vu{constructor(){super("github.com")}static credential(e){return go._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return da.credential(e.oauthAccessToken)}catch{return null}}}da.GITHUB_SIGN_IN_METHOD="github.com";da.PROVIDER_ID="github.com";class ha extends Vu{constructor(){super("twitter.com")}static credential(e,t){return go._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return ha.credential(t,a)}catch{return null}}}ha.TWITTER_SIGN_IN_METHOD="twitter.com";ha.PROVIDER_ID="twitter.com";async function OC(s,e){return Lu(s,"POST","/v1/accounts:signUp",Aa(s,e))}class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,l=!1){const c=await di._fromIdTokenResponse(e,a,l),d=gN(a);return new po({user:c,providerId:d,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const l=gN(a);return new po({user:e,providerId:l,_tokenResponse:a,operationType:t})}}function gN(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Wh extends vi{constructor(e,t,a,l){super(t.code,t.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,l){return new Wh(e,t,a,l)}}function r_(s,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(s,c,e,a):c})}async function LC(s,e,t=!1){const a=await xu(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return po._forOperation(s,"link",a)}async function VC(s,e,t=!1){const{auth:a}=s;if(As(a.app))return Promise.reject(jr(a));const l="reauthenticate";try{const c=await xu(s,r_(a,l,e,s),t);$e(c.idToken,a,"internal-error");const d=oy(c.idToken);$e(d,a,"internal-error");const{sub:f}=d;return $e(s.uid===f,a,"user-mismatch"),po._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Qs(a,"user-mismatch"),c}}async function a_(s,e,t=!1){if(As(s.app))return Promise.reject(jr(s));const a="signIn",l=await r_(s,a,e),c=await po._fromIdTokenResponse(s,a,l);return t||await s._updateCurrentUser(c.user),c}async function UC(s,e){return a_(Ra(s),e)}async function o_(s){const e=Ra(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zC(s,e,t){if(As(s.app))return Promise.reject(jr(s));const a=Ra(s),d=await yp(a,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OC).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&o_(s),y}),f=await po._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(f.user),f}function FC(s,e,t){return As(s.app)?Promise.reject(jr(s)):UC(cn(s),zl.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&o_(s),a})}function qC(s,e,t,a){return cn(s).onIdTokenChanged(e,t,a)}function BC(s,e,t){return cn(s).beforeAuthStateChanged(e,t)}function hy(s,e,t,a){return cn(s).onAuthStateChanged(e,t,a)}function $C(s){return cn(s).signOut()}const Yh="__sak";class l_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const HC=1e3,GC=10;class c_ extends l_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),l=this.localCache[t];a!==l&&e(t,l,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,f,y)=>{this.notifyListeners(d,y)});return}const a=e.key;t?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!t&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);uC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,GC):l()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},HC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}c_.type="LOCAL";const WC=c_;class u_ extends l_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}u_.type="SESSION";const d_=u_;function YC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class pm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(l=>l.isListeningto(e));if(t)return t;const a=new pm(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:l,data:c}=t.data,d=this.handlersMap[l];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const f=Array.from(d).map(async g=>g(t.origin,c)),y=await YC(f);t.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pm.receivers=[];function my(s="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return s+t}class KC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((f,y)=>{const g=my("",20);l.port1.start();const N=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const I=w;if(I.data.eventId===g)switch(I.data.status){case"ack":clearTimeout(N),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),f(I.data.response);break;default:clearTimeout(N),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function qi(){return window}function QC(s){qi().location.href=s}function h_(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function XC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JC(){return navigator?.serviceWorker?.controller||null}function ZC(){return h_()?self:null}const m_="firebaseLocalStorageDb",eR=1,Kh="firebaseLocalStorage",f_="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ym(s,e){return s.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function tR(){const s=indexedDB.deleteDatabase(m_);return new Uu(s).toPromise()}function xp(){const s=indexedDB.open(m_,eR);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Kh,{keyPath:f_})}catch(l){t(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Kh)?e(a):(a.close(),await tR(),e(await xp()))})})}async function pN(s,e,t){const a=ym(s,!0).put({[f_]:e,value:t});return new Uu(a).toPromise()}async function nR(s,e){const t=ym(s,!1).get(e),a=await new Uu(t).toPromise();return a===void 0?null:a.value}function yN(s,e){const t=ym(s,!0).delete(e);return new Uu(t).toPromise()}const sR=800,iR=3;class g_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>iR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pm._getInstance(ZC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XC(),!this.activeServiceWorker)return;this.sender=new KC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xp();return await pN(e,Yh,"1"),await yN(e,Yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>pN(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>nR(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yN(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=ym(l,!1).getAll();return new Uu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),t.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),t.push(l));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g_.type="LOCAL";const rR=g_;new Ou(3e4,6e4);function p_(s,e){return e?vr(e):($e(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class fy extends cy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function aR(s){return a_(s.auth,new fy(s),s.bypassAuthState)}function oR(s){const{auth:e,user:t}=s;return $e(t,e,"internal-error"),VC(t,new fy(s),s.bypassAuthState)}async function lR(s){const{auth:e,user:t}=s;return $e(t,e,"internal-error"),LC(t,new fy(s),s.bypassAuthState)}class y_{constructor(e,t,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:l,tenantId:c,error:d,type:f}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:t,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aR;case"linkViaPopup":case"linkViaRedirect":return lR;case"reauthViaPopup":case"reauthViaRedirect":return oR;default:Qs(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cR=new Ou(2e3,1e4);async function uR(s,e,t){if(As(s.app))return Promise.reject(gi(s,"operation-not-supported-in-this-environment"));const a=Ra(s);$A(s,e,dy);const l=p_(a,t);return new oo(a,"signInViaPopup",e,l).executeNotNull()}class oo extends y_{constructor(e,t,a,l,c){super(e,t,l,c),this.provider=a,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const e=my();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cR.get())};e()}}oo.currentPopupAction=null;const dR="pendingRedirect",Mh=new Map;class hR extends y_{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Mh.get(this.auth._key());if(!e){try{const a=await mR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Mh.set(this.auth._key(),e)}return this.bypassAuthState||Mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mR(s,e){const t=pR(e),a=gR(s);if(!await a._isAvailable())return!1;const l=await a._get(t)==="true";return await a._remove(t),l}function fR(s,e){Mh.set(s._key(),e)}function gR(s){return vr(s._redirectPersistence)}function pR(s){return Rh(dR,s.config.apiKey,s.name)}async function yR(s,e,t=!1){if(As(s.app))return Promise.reject(jr(s));const a=Ra(s),l=p_(a,e),d=await new hR(a,l,t).execute();return d&&!t&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const xR=600*1e3;class bR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!x_(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";t.onError(gi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xR&&this.cachedEventUids.clear(),this.cachedEventUids.has(xN(e))}saveEventToCache(e){this.cachedEventUids.add(xN(e)),this.lastProcessedEventTime=Date.now()}}function xN(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function x_({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function vR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x_(s);default:return!1}}async function NR(s,e={}){return Ca(s,"GET","/v1/projects",e)}const jR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wR=/^https?/;async function _R(s){if(s.config.emulator)return;const{authorizedDomains:e}=await NR(s);for(const t of e)try{if(ER(t))return}catch{}Qs(s,"unauthorized-domain")}function ER(s){const e=gp(),{protocol:t,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===a}if(!wR.test(t))return!1;if(jR.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const TR=new Ou(3e4,6e4);function bN(){const s=qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function IR(s){return new Promise((e,t)=>{function a(){bN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bN(),t(gi(s,"network-request-failed"))},timeout:TR.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)a();else{const l=bC("iframefcb");return qi()[l]=()=>{gapi.load?a():t(gi(s,"network-request-failed"))},n_(`${xC()}?onload=${l}`).catch(c=>t(c))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function SR(s){return Dh=Dh||IR(s),Dh}const AR=new Ou(5e3,15e3),CR="__/auth/iframe",RR="emulator/auth/iframe",MR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kR(s){const e=s.config;$e(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?ay(e,RR):`https://${s.config.authDomain}/${CR}`,a={apiKey:e.apiKey,appName:s.name,v:Ul},l=DR.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${t}?${Pu(a).slice(1)}`}async function PR(s){const e=await SR(s),t=qi().gapi;return $e(t,s,"internal-error"),e.open({where:document.body,url:kR(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=gi(s,"network-request-failed"),f=qi().setTimeout(()=>{c(d)},AR.get());function y(){qi().clearTimeout(f),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const OR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LR=500,VR=600,UR="_blank",zR="http://localhost";class vN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FR(s,e,t,a=LR,l=VR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let f="";const y={...OR,width:a.toString(),height:l.toString(),top:c,left:d},g=ts().toLowerCase();t&&(f=Kw(g)?UR:t),Ww(g)&&(e=e||zR,y.scrollbars="yes");const N=Object.entries(y).reduce((I,[M,G])=>`${I}${M}=${G},`,"");if(cC(g)&&f!=="_self")return qR(e||"",f),new vN(null);const w=window.open(e||"",f,N);$e(w,s,"popup-blocked");try{w.focus()}catch{}return new vN(w)}function qR(s,e){const t=document.createElement("a");t.href=s,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}const BR="__/auth/handler",$R="emulator/auth/handler",HR=encodeURIComponent("fac");async function NN(s,e,t,a,l,c){$e(s.config.authDomain,s,"auth-domain-config-required"),$e(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:a,v:Ul,eventId:l};if(e instanceof dy){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",IS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[N,w]of Object.entries({}))d[N]=w}if(e instanceof Vu){const N=e.getScopes().filter(w=>w!=="");N.length>0&&(d.scopes=N.join(","))}s.tenantId&&(d.tid=s.tenantId);const f=d;for(const N of Object.keys(f))f[N]===void 0&&delete f[N];const y=await s._getAppCheckToken(),g=y?`#${HR}=${encodeURIComponent(y)}`:"";return`${GR(s)}?${Pu(f).slice(1)}${g}`}function GR({config:s}){return s.emulator?ay(s,$R):`https://${s.authDomain}/${BR}`}const Hg="webStorageSupport";class WR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d_,this._completeRedirectFn=yR,this._overrideRedirectResult=fR}async _openPopup(e,t,a,l){Tr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await NN(e,t,a,gp(),l);return FR(e,c,my())}async _openRedirect(e,t,a,l){await this._originValidation(e);const c=await NN(e,t,a,gp(),l);return QC(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:l,promise:c}=this.eventManagers[t];return l?Promise.resolve(l):(Tr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await PR(e),a=new bR(e);return t.register("authEvent",l=>($e(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hg,{type:Hg},l=>{const c=l?.[0]?.[Hg];c!==void 0&&t(!!c),Qs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_R(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return e_()||Yw()||ly()}}const YR=WR;var jN="@firebase/auth",wN="1.12.0";class KR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function QR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XR(s){Yi(new xi("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=a.options;$e(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:f,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t_(s)},g=new gC(a,l,c,y);return EC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),Yi(new xi("auth-internal",e=>{const t=Ra(e.getProvider("auth").getImmediate());return(a=>new KR(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ks(jN,wN,QR(s)),Ks(jN,wN,"esm2020")}const JR=300,ZR=Cw("authIdTokenMaxAge")||JR;let _N=null;const e3=s=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>ZR)return;const l=t?.token;_N!==l&&(_N=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function t3(s=sy()){const e=_o(s,"auth");if(e.isInitialized())return e.getImmediate();const t=_C(s,{popupRedirectResolver:YR,persistence:[rR,WC,d_]}),a=Cw("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=e3(c.toString());BC(t,d,()=>d(t.currentUser)),qC(t,f=>d(f))}}const l=Sw("auth");return l&&TC(t,`http://${l}`),t}function n3(){return document.getElementsByTagName("head")?.[0]??document}pC({loadJS(s){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=gi("internal-error");c.customData=l,t(c)},a.type="text/javascript",a.charset="UTF-8",n3().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XR("Browser");var s3="firebase",i3="12.8.0";Ks(s3,i3,"app");const b_="@firebase/installations",gy="0.6.19";const v_=1e4,N_=`w:${gy}`,j_="FIS_v2",r3="https://firebaseinstallations.googleapis.com/v1",a3=3600*1e3,o3="installations",l3="Installations";const c3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},yo=new wo(o3,l3,c3);function w_(s){return s instanceof vi&&s.code.includes("request-failed")}function __({projectId:s}){return`${r3}/projects/${s}/installations`}function E_(s){return{token:s.token,requestStatus:2,expiresIn:d3(s.expiresIn),creationTime:Date.now()}}async function T_(s,e){const a=(await e.json()).error;return yo.create("request-failed",{requestName:s,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function I_({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function u3(s,{refreshToken:e}){const t=I_(s);return t.append("Authorization",h3(e)),t}async function S_(s){const e=await s();return e.status>=500&&e.status<600?s():e}function d3(s){return Number(s.replace("s","000"))}function h3(s){return`${j_} ${s}`}async function m3({appConfig:s,heartbeatServiceProvider:e},{fid:t}){const a=__(s),l=I_(s),c=e.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={fid:t,authVersion:j_,appId:s.appId,sdkVersion:N_},f={method:"POST",headers:l,body:JSON.stringify(d)},y=await S_(()=>fetch(a,f));if(y.ok){const g=await y.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:E_(g.authToken)}}else throw await T_("Create Installation",y)}function A_(s){return new Promise(e=>{setTimeout(e,s)})}function f3(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const g3=/^[cdef][\w-]{21}$/,bp="";function p3(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const t=y3(s);return g3.test(t)?t:bp}catch{return bp}}function y3(s){return f3(s).substr(0,22)}function xm(s){return`${s.appName}!${s.appId}`}const C_=new Map;function R_(s,e){const t=xm(s);M_(t,e),x3(t,e)}function M_(s,e){const t=C_.get(s);if(t)for(const a of t)a(e)}function x3(s,e){const t=b3();t&&t.postMessage({key:s,fid:e}),v3()}let lo=null;function b3(){return!lo&&"BroadcastChannel"in self&&(lo=new BroadcastChannel("[Firebase] FID Change"),lo.onmessage=s=>{M_(s.data.key,s.data.fid)}),lo}function v3(){C_.size===0&&lo&&(lo.close(),lo=null)}const N3="firebase-installations-database",j3=1,xo="firebase-installations-store";let Gg=null;function py(){return Gg||(Gg=Ow(N3,j3,{upgrade:(s,e)=>{e===0&&s.createObjectStore(xo)}})),Gg}async function Qh(s,e){const t=xm(s),l=(await py()).transaction(xo,"readwrite"),c=l.objectStore(xo),d=await c.get(t);return await c.put(e,t),await l.done,(!d||d.fid!==e.fid)&&R_(s,e.fid),e}async function D_(s){const e=xm(s),a=(await py()).transaction(xo,"readwrite");await a.objectStore(xo).delete(e),await a.done}async function bm(s,e){const t=xm(s),l=(await py()).transaction(xo,"readwrite"),c=l.objectStore(xo),d=await c.get(t),f=e(d);return f===void 0?await c.delete(t):await c.put(f,t),await l.done,f&&(!d||d.fid!==f.fid)&&R_(s,f.fid),f}async function yy(s){let e;const t=await bm(s.appConfig,a=>{const l=w3(a),c=_3(s,l);return e=c.registrationPromise,c.installationEntry});return t.fid===bp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function w3(s){const e=s||{fid:p3(),registrationStatus:0};return k_(e)}function _3(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(yo.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=E3(s,t);return{installationEntry:t,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:T3(s)}:{installationEntry:e}}async function E3(s,e){try{const t=await m3(s,e);return Qh(s.appConfig,t)}catch(t){throw w_(t)&&t.customData.serverCode===409?await D_(s.appConfig):await Qh(s.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function T3(s){let e=await EN(s.appConfig);for(;e.registrationStatus===1;)await A_(100),e=await EN(s.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:a}=await yy(s);return a||t}return e}function EN(s){return bm(s,e=>{if(!e)throw yo.create("installation-not-found");return k_(e)})}function k_(s){return I3(s)?{fid:s.fid,registrationStatus:0}:s}function I3(s){return s.registrationStatus===1&&s.registrationTime+v_<Date.now()}async function S3({appConfig:s,heartbeatServiceProvider:e},t){const a=A3(s,t),l=u3(s,t),c=e.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&l.append("x-firebase-client",g)}const d={installation:{sdkVersion:N_,appId:s.appId}},f={method:"POST",headers:l,body:JSON.stringify(d)},y=await S_(()=>fetch(a,f));if(y.ok){const g=await y.json();return E_(g)}else throw await T_("Generate Auth Token",y)}function A3(s,{fid:e}){return`${__(s)}/${e}/authTokens:generate`}async function xy(s,e=!1){let t;const a=await bm(s.appConfig,c=>{if(!P_(c))throw yo.create("not-registered");const d=c.authToken;if(!e&&M3(d))return c;if(d.requestStatus===1)return t=C3(s,e),c;{if(!navigator.onLine)throw yo.create("app-offline");const f=k3(c);return t=R3(s,f),f}});return t?await t:a.authToken}async function C3(s,e){let t=await TN(s.appConfig);for(;t.authToken.requestStatus===1;)await A_(100),t=await TN(s.appConfig);const a=t.authToken;return a.requestStatus===0?xy(s,e):a}function TN(s){return bm(s,e=>{if(!P_(e))throw yo.create("not-registered");const t=e.authToken;return P3(t)?{...e,authToken:{requestStatus:0}}:e})}async function R3(s,e){try{const t=await S3(s,e),a={...e,authToken:t};return await Qh(s.appConfig,a),t}catch(t){if(w_(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await D_(s.appConfig);else{const a={...e,authToken:{requestStatus:0}};await Qh(s.appConfig,a)}throw t}}function P_(s){return s!==void 0&&s.registrationStatus===2}function M3(s){return s.requestStatus===2&&!D3(s)}function D3(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+a3}function k3(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function P3(s){return s.requestStatus===1&&s.requestTime+v_<Date.now()}async function O3(s){const e=s,{installationEntry:t,registrationPromise:a}=await yy(e);return a?a.catch(console.error):xy(e).catch(console.error),t.fid}async function L3(s,e=!1){const t=s;return await V3(t),(await xy(t,e)).token}async function V3(s){const{registrationPromise:e}=await yy(s);e&&await e}function U3(s){if(!s||!s.options)throw Wg("App Configuration");if(!s.name)throw Wg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!s.options[t])throw Wg(t);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Wg(s){return yo.create("missing-app-config-values",{valueName:s})}const O_="installations",z3="installations-internal",F3=s=>{const e=s.getProvider("app").getImmediate(),t=U3(e),a=_o(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},q3=s=>{const e=s.getProvider("app").getImmediate(),t=_o(e,O_).getImmediate();return{getId:()=>O3(t),getToken:l=>L3(t,l)}};function B3(){Yi(new xi(O_,F3,"PUBLIC")),Yi(new xi(z3,q3,"PRIVATE"))}B3();Ks(b_,gy);Ks(b_,gy,"esm2020");const Xh="analytics",$3="firebase_id",H3="origin",G3=60*1e3,W3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",by="https://www.googletagmanager.com/gtag/js";const os=new fm("@firebase/analytics");const Y3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Rs=new wo("analytics","Analytics",Y3);function K3(s){if(!s.startsWith(by)){const e=Rs.create("invalid-gtag-resource",{gtagURL:s});return os.warn(e.message),""}return s}function L_(s){return Promise.all(s.map(e=>e.catch(t=>t)))}function Q3(s,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(s,e)),t}function X3(s,e){const t=Q3("firebase-js-sdk-policy",{createScriptURL:K3}),a=document.createElement("script"),l=`${by}?l=${s}&id=${e}`;a.src=t?t?.createScriptURL(l):l,a.async=!0,document.head.appendChild(a)}function J3(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function Z3(s,e,t,a,l,c){const d=a[l];try{if(d)await e[d];else{const y=(await L_(t)).find(g=>g.measurementId===l);y&&await e[y.appId]}}catch(f){os.error(f)}s("config",l,c)}async function eM(s,e,t,a,l){try{let c=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const f=await L_(t);for(const y of d){const g=f.find(w=>w.measurementId===y),N=g&&e[g.appId];if(N)c.push(N);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),s("event",a,l||{})}catch(c){os.error(c)}}function tM(s,e,t,a){async function l(c,...d){try{if(c==="event"){const[f,y]=d;await eM(s,e,t,f,y)}else if(c==="config"){const[f,y]=d;await Z3(s,e,t,a,f,y)}else if(c==="consent"){const[f,y]=d;s("consent",f,y)}else if(c==="get"){const[f,y,g]=d;s("get",f,y,g)}else if(c==="set"){const[f]=d;s("set",f)}else s(c,...d)}catch(f){os.error(f)}}return l}function nM(s,e,t,a,l){let c=function(...d){window[a].push(arguments)};return window[l]&&typeof window[l]=="function"&&(c=window[l]),window[l]=tM(c,s,e,t),{gtagCore:c,wrappedGtag:window[l]}}function sM(s){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(by)&&t.src.includes(s))return t;return null}const iM=30,rM=1e3;class aM{constructor(e={},t=rM){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const V_=new aM;function oM(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function lM(s){const{appId:e,apiKey:t}=s,a={method:"GET",headers:oM(t)},l=W3.replace("{app-id}",e),c=await fetch(l,a);if(c.status!==200&&c.status!==304){let d="";try{const f=await c.json();f.error?.message&&(d=f.error.message)}catch{}throw Rs.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function cM(s,e=V_,t){const{appId:a,apiKey:l,measurementId:c}=s.options;if(!a)throw Rs.create("no-app-id");if(!l){if(c)return{measurementId:c,appId:a};throw Rs.create("no-api-key")}const d=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new hM;return setTimeout(async()=>{f.abort()},G3),U_({appId:a,apiKey:l,measurementId:c},d,f,e)}async function U_(s,{throttleEndTimeMillis:e,backoffCount:t},a,l=V_){const{appId:c,measurementId:d}=s;try{await uM(a,e)}catch(f){if(d)return os.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:c,measurementId:d};throw f}try{const f=await lM(s);return l.deleteThrottleMetadata(c),f}catch(f){const y=f;if(!dM(y)){if(l.deleteThrottleMetadata(c),d)return os.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:c,measurementId:d};throw f}const g=Number(y?.customData?.httpStatus)===503?Qv(t,l.intervalMillis,iM):Qv(t,l.intervalMillis),N={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return l.setThrottleMetadata(c,N),os.debug(`Calling attemptFetch again in ${g} millis`),U_(s,N,a,l)}}function uM(s,e){return new Promise((t,a)=>{const l=Math.max(e-Date.now(),0),c=setTimeout(t,l);s.addEventListener(()=>{clearTimeout(c),a(Rs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function dM(s){if(!(s instanceof vi)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class hM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function mM(s,e,t,a,l){if(l&&l.global){s("event",t,a);return}else{const c=await e,d={...a,send_to:c};s("event",t,d)}}async function fM(s,e,t,a){if(a&&a.global){const l={};for(const c of Object.keys(t))l[`user_properties.${c}`]=t[c];return s("set",l),Promise.resolve()}else{const l=await e;s("config",l,{update:!0,user_properties:t})}}async function gM(){if(ey())try{await ty()}catch(s){return os.warn(Rs.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return os.warn(Rs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function pM(s,e,t,a,l,c,d){const f=cM(s);f.then(I=>{t[I.measurementId]=I.appId,s.options.measurementId&&I.measurementId!==s.options.measurementId&&os.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>os.error(I)),e.push(f);const y=gM().then(I=>{if(I)return a.getId()}),[g,N]=await Promise.all([f,y]);sM(c)||X3(c,g.measurementId),l("js",new Date);const w=d?.config??{};return w[H3]="firebase",w.update=!0,N!=null&&(w[$3]=N),l("config",g.measurementId,w),g.measurementId}class yM{constructor(e){this.app=e}_delete(){return delete jl[this.app.options.appId],Promise.resolve()}}let jl={},IN=[];const SN={};let Yg="dataLayer",xM="gtag",AN,vy,CN=!1;function bM(){const s=[];if(Zp()&&s.push("This is a browser extension environment."),Dw()||s.push("Cookies are not available."),s.length>0){const e=s.map((a,l)=>`(${l+1}) ${a}`).join(" "),t=Rs.create("invalid-analytics-context",{errorInfo:e});os.warn(t.message)}}function vM(s,e,t){bM();const a=s.options.appId;if(!a)throw Rs.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)os.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Rs.create("no-api-key");if(jl[a]!=null)throw Rs.create("already-exists",{id:a});if(!CN){J3(Yg);const{wrappedGtag:c,gtagCore:d}=nM(jl,IN,SN,Yg,xM);vy=c,AN=d,CN=!0}return jl[a]=pM(s,IN,SN,e,AN,Yg,t),new yM(s)}function NM(s=sy()){s=cn(s);const e=_o(s,Xh);return e.isInitialized()?e.getImmediate():jM(s)}function jM(s,e={}){const t=_o(s,Xh);if(t.isInitialized()){const l=t.getImmediate();if(ba(e,t.getOptions()))return l;throw Rs.create("already-initialized")}return t.initialize({options:e})}async function wM(){if(Zp()||!Dw()||!ey())return!1;try{return await ty()}catch{return!1}}function _M(s,e,t){s=cn(s),fM(vy,jl[s.app.options.appId],e,t).catch(a=>os.error(a))}function EM(s,e,t,a){s=cn(s),mM(vy,jl[s.app.options.appId],e,t,a).catch(l=>os.error(l))}const RN="@firebase/analytics",MN="0.10.19";function TM(){Yi(new xi(Xh,(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return vM(a,l,t)},"PUBLIC")),Yi(new xi("analytics-internal",s,"PRIVATE")),Ks(RN,MN),Ks(RN,MN,"esm2020");function s(e){try{const t=e.getProvider(Xh).getImmediate();return{logEvent:(a,l,c)=>EM(t,a,l,c),setUserProperties:(a,l)=>_M(t,a,l)}}catch(t){throw Rs.create("interop-component-reg-failed",{reason:t})}}}TM();var DN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ya,z_;(function(){var s;function e(O,C){function k(){}k.prototype=C.prototype,O.F=C.prototype,O.prototype=new k,O.prototype.constructor=O,O.D=function(z,P,B){for(var E=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)E[xe-2]=arguments[xe];return C.prototype[P].apply(z,E)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,t),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,C,k){k||(k=0);const z=Array(16);if(typeof C=="string")for(var P=0;P<16;++P)z[P]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(P=0;P<16;++P)z[P]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=O.g[0],k=O.g[1],P=O.g[2];let B=O.g[3],E;E=C+(B^k&(P^B))+z[0]+3614090360&4294967295,C=k+(E<<7&4294967295|E>>>25),E=B+(P^C&(k^P))+z[1]+3905402710&4294967295,B=C+(E<<12&4294967295|E>>>20),E=P+(k^B&(C^k))+z[2]+606105819&4294967295,P=B+(E<<17&4294967295|E>>>15),E=k+(C^P&(B^C))+z[3]+3250441966&4294967295,k=P+(E<<22&4294967295|E>>>10),E=C+(B^k&(P^B))+z[4]+4118548399&4294967295,C=k+(E<<7&4294967295|E>>>25),E=B+(P^C&(k^P))+z[5]+1200080426&4294967295,B=C+(E<<12&4294967295|E>>>20),E=P+(k^B&(C^k))+z[6]+2821735955&4294967295,P=B+(E<<17&4294967295|E>>>15),E=k+(C^P&(B^C))+z[7]+4249261313&4294967295,k=P+(E<<22&4294967295|E>>>10),E=C+(B^k&(P^B))+z[8]+1770035416&4294967295,C=k+(E<<7&4294967295|E>>>25),E=B+(P^C&(k^P))+z[9]+2336552879&4294967295,B=C+(E<<12&4294967295|E>>>20),E=P+(k^B&(C^k))+z[10]+4294925233&4294967295,P=B+(E<<17&4294967295|E>>>15),E=k+(C^P&(B^C))+z[11]+2304563134&4294967295,k=P+(E<<22&4294967295|E>>>10),E=C+(B^k&(P^B))+z[12]+1804603682&4294967295,C=k+(E<<7&4294967295|E>>>25),E=B+(P^C&(k^P))+z[13]+4254626195&4294967295,B=C+(E<<12&4294967295|E>>>20),E=P+(k^B&(C^k))+z[14]+2792965006&4294967295,P=B+(E<<17&4294967295|E>>>15),E=k+(C^P&(B^C))+z[15]+1236535329&4294967295,k=P+(E<<22&4294967295|E>>>10),E=C+(P^B&(k^P))+z[1]+4129170786&4294967295,C=k+(E<<5&4294967295|E>>>27),E=B+(k^P&(C^k))+z[6]+3225465664&4294967295,B=C+(E<<9&4294967295|E>>>23),E=P+(C^k&(B^C))+z[11]+643717713&4294967295,P=B+(E<<14&4294967295|E>>>18),E=k+(B^C&(P^B))+z[0]+3921069994&4294967295,k=P+(E<<20&4294967295|E>>>12),E=C+(P^B&(k^P))+z[5]+3593408605&4294967295,C=k+(E<<5&4294967295|E>>>27),E=B+(k^P&(C^k))+z[10]+38016083&4294967295,B=C+(E<<9&4294967295|E>>>23),E=P+(C^k&(B^C))+z[15]+3634488961&4294967295,P=B+(E<<14&4294967295|E>>>18),E=k+(B^C&(P^B))+z[4]+3889429448&4294967295,k=P+(E<<20&4294967295|E>>>12),E=C+(P^B&(k^P))+z[9]+568446438&4294967295,C=k+(E<<5&4294967295|E>>>27),E=B+(k^P&(C^k))+z[14]+3275163606&4294967295,B=C+(E<<9&4294967295|E>>>23),E=P+(C^k&(B^C))+z[3]+4107603335&4294967295,P=B+(E<<14&4294967295|E>>>18),E=k+(B^C&(P^B))+z[8]+1163531501&4294967295,k=P+(E<<20&4294967295|E>>>12),E=C+(P^B&(k^P))+z[13]+2850285829&4294967295,C=k+(E<<5&4294967295|E>>>27),E=B+(k^P&(C^k))+z[2]+4243563512&4294967295,B=C+(E<<9&4294967295|E>>>23),E=P+(C^k&(B^C))+z[7]+1735328473&4294967295,P=B+(E<<14&4294967295|E>>>18),E=k+(B^C&(P^B))+z[12]+2368359562&4294967295,k=P+(E<<20&4294967295|E>>>12),E=C+(k^P^B)+z[5]+4294588738&4294967295,C=k+(E<<4&4294967295|E>>>28),E=B+(C^k^P)+z[8]+2272392833&4294967295,B=C+(E<<11&4294967295|E>>>21),E=P+(B^C^k)+z[11]+1839030562&4294967295,P=B+(E<<16&4294967295|E>>>16),E=k+(P^B^C)+z[14]+4259657740&4294967295,k=P+(E<<23&4294967295|E>>>9),E=C+(k^P^B)+z[1]+2763975236&4294967295,C=k+(E<<4&4294967295|E>>>28),E=B+(C^k^P)+z[4]+1272893353&4294967295,B=C+(E<<11&4294967295|E>>>21),E=P+(B^C^k)+z[7]+4139469664&4294967295,P=B+(E<<16&4294967295|E>>>16),E=k+(P^B^C)+z[10]+3200236656&4294967295,k=P+(E<<23&4294967295|E>>>9),E=C+(k^P^B)+z[13]+681279174&4294967295,C=k+(E<<4&4294967295|E>>>28),E=B+(C^k^P)+z[0]+3936430074&4294967295,B=C+(E<<11&4294967295|E>>>21),E=P+(B^C^k)+z[3]+3572445317&4294967295,P=B+(E<<16&4294967295|E>>>16),E=k+(P^B^C)+z[6]+76029189&4294967295,k=P+(E<<23&4294967295|E>>>9),E=C+(k^P^B)+z[9]+3654602809&4294967295,C=k+(E<<4&4294967295|E>>>28),E=B+(C^k^P)+z[12]+3873151461&4294967295,B=C+(E<<11&4294967295|E>>>21),E=P+(B^C^k)+z[15]+530742520&4294967295,P=B+(E<<16&4294967295|E>>>16),E=k+(P^B^C)+z[2]+3299628645&4294967295,k=P+(E<<23&4294967295|E>>>9),E=C+(P^(k|~B))+z[0]+4096336452&4294967295,C=k+(E<<6&4294967295|E>>>26),E=B+(k^(C|~P))+z[7]+1126891415&4294967295,B=C+(E<<10&4294967295|E>>>22),E=P+(C^(B|~k))+z[14]+2878612391&4294967295,P=B+(E<<15&4294967295|E>>>17),E=k+(B^(P|~C))+z[5]+4237533241&4294967295,k=P+(E<<21&4294967295|E>>>11),E=C+(P^(k|~B))+z[12]+1700485571&4294967295,C=k+(E<<6&4294967295|E>>>26),E=B+(k^(C|~P))+z[3]+2399980690&4294967295,B=C+(E<<10&4294967295|E>>>22),E=P+(C^(B|~k))+z[10]+4293915773&4294967295,P=B+(E<<15&4294967295|E>>>17),E=k+(B^(P|~C))+z[1]+2240044497&4294967295,k=P+(E<<21&4294967295|E>>>11),E=C+(P^(k|~B))+z[8]+1873313359&4294967295,C=k+(E<<6&4294967295|E>>>26),E=B+(k^(C|~P))+z[15]+4264355552&4294967295,B=C+(E<<10&4294967295|E>>>22),E=P+(C^(B|~k))+z[6]+2734768916&4294967295,P=B+(E<<15&4294967295|E>>>17),E=k+(B^(P|~C))+z[13]+1309151649&4294967295,k=P+(E<<21&4294967295|E>>>11),E=C+(P^(k|~B))+z[4]+4149444226&4294967295,C=k+(E<<6&4294967295|E>>>26),E=B+(k^(C|~P))+z[11]+3174756917&4294967295,B=C+(E<<10&4294967295|E>>>22),E=P+(C^(B|~k))+z[2]+718787259&4294967295,P=B+(E<<15&4294967295|E>>>17),E=k+(B^(P|~C))+z[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(P+(E<<21&4294967295|E>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+B&4294967295}a.prototype.v=function(O,C){C===void 0&&(C=O.length);const k=C-this.blockSize,z=this.C;let P=this.h,B=0;for(;B<C;){if(P==0)for(;B<=k;)l(this,O,B),B+=this.blockSize;if(typeof O=="string"){for(;B<C;)if(z[P++]=O.charCodeAt(B++),P==this.blockSize){l(this,z),P=0;break}}else for(;B<C;)if(z[P++]=O[B++],P==this.blockSize){l(this,z),P=0;break}}this.h=P,this.o+=C},a.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;C=this.o*8;for(var k=O.length-8;k<O.length;++k)O[k]=C&255,C/=256;for(this.v(O),O=Array(16),C=0,k=0;k<4;++k)for(let z=0;z<32;z+=8)O[C++]=this.g[k]>>>z&255;return O};function c(O,C){var k=f;return Object.prototype.hasOwnProperty.call(k,O)?k[O]:k[O]=C(O)}function d(O,C){this.h=C;const k=[];let z=!0;for(let P=O.length-1;P>=0;P--){const B=O[P]|0;z&&B==C||(k[P]=B,z=!1)}this.g=k}var f={};function y(O){return-128<=O&&O<128?c(O,function(C){return new d([C|0],C<0?-1:0)}):new d([O|0],O<0?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return w;if(O<0)return $(g(-O));const C=[];let k=1;for(let z=0;O>=k;z++)C[z]=O/k|0,k*=4294967296;return new d(C,0)}function N(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return $(N(O.substring(1),C));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=g(Math.pow(C,8));let z=w;for(let B=0;B<O.length;B+=8){var P=Math.min(8,O.length-B);const E=parseInt(O.substring(B,B+P),C);P<8?(P=g(Math.pow(C,P)),z=z.j(P).add(g(E))):(z=z.j(k),z=z.add(g(E)))}return z}var w=y(0),I=y(1),M=y(16777216);s=d.prototype,s.m=function(){if(W(this))return-$(this).m();let O=0,C=1;for(let k=0;k<this.g.length;k++){const z=this.i(k);O+=(z>=0?z:4294967296+z)*C,C*=4294967296}return O},s.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(G(this))return"0";if(W(this))return"-"+$(this).toString(O);const C=g(Math.pow(O,6));var k=this;let z="";for(;;){const P=Re(k,C).g;k=X(k,P.j(C));let B=((k.g.length>0?k.g[0]:k.h)>>>0).toString(O);if(k=P,G(k))return B+z;for(;B.length<6;)B="0"+B;z=B+z}},s.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function G(O){if(O.h!=0)return!1;for(let C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function W(O){return O.h==-1}s.l=function(O){return O=X(this,O),W(O)?-1:G(O)?0:1};function $(O){const C=O.g.length,k=[];for(let z=0;z<C;z++)k[z]=~O.g[z];return new d(k,~O.h).add(I)}s.abs=function(){return W(this)?$(this):this},s.add=function(O){const C=Math.max(this.g.length,O.g.length),k=[];let z=0;for(let P=0;P<=C;P++){let B=z+(this.i(P)&65535)+(O.i(P)&65535),E=(B>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);z=E>>>16,B&=65535,E&=65535,k[P]=E<<16|B}return new d(k,k[k.length-1]&-2147483648?-1:0)};function X(O,C){return O.add($(C))}s.j=function(O){if(G(this)||G(O))return w;if(W(this))return W(O)?$(this).j($(O)):$($(this).j(O));if(W(O))return $(this.j($(O)));if(this.l(M)<0&&O.l(M)<0)return g(this.m()*O.m());const C=this.g.length+O.g.length,k=[];for(var z=0;z<2*C;z++)k[z]=0;for(z=0;z<this.g.length;z++)for(let P=0;P<O.g.length;P++){const B=this.i(z)>>>16,E=this.i(z)&65535,xe=O.i(P)>>>16,pe=O.i(P)&65535;k[2*z+2*P]+=E*pe,ie(k,2*z+2*P),k[2*z+2*P+1]+=B*pe,ie(k,2*z+2*P+1),k[2*z+2*P+1]+=E*xe,ie(k,2*z+2*P+1),k[2*z+2*P+2]+=B*xe,ie(k,2*z+2*P+2)}for(O=0;O<C;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=C;O<2*C;O++)k[O]=0;return new d(k,0)};function ie(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function ne(O,C){this.g=O,this.h=C}function Re(O,C){if(G(C))throw Error("division by zero");if(G(O))return new ne(w,w);if(W(O))return C=Re($(O),C),new ne($(C.g),$(C.h));if(W(C))return C=Re(O,$(C)),new ne($(C.g),C.h);if(O.g.length>30){if(W(O)||W(C))throw Error("slowDivide_ only works with positive integers.");for(var k=I,z=C;z.l(O)<=0;)k=ke(k),z=ke(z);var P=Me(k,1),B=Me(z,1);for(z=Me(z,2),k=Me(k,2);!G(z);){var E=B.add(z);E.l(O)<=0&&(P=P.add(k),B=E),z=Me(z,1),k=Me(k,1)}return C=X(O,P.j(C)),new ne(P,C)}for(P=w;O.l(C)>=0;){for(k=Math.max(1,Math.floor(O.m()/C.m())),z=Math.ceil(Math.log(k)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),B=g(k),E=B.j(C);W(E)||E.l(O)>0;)k-=z,B=g(k),E=B.j(C);G(B)&&(B=I),P=P.add(B),O=X(O,E)}return new ne(P,O)}s.B=function(O){return Re(this,O).h},s.and=function(O){const C=Math.max(this.g.length,O.g.length),k=[];for(let z=0;z<C;z++)k[z]=this.i(z)&O.i(z);return new d(k,this.h&O.h)},s.or=function(O){const C=Math.max(this.g.length,O.g.length),k=[];for(let z=0;z<C;z++)k[z]=this.i(z)|O.i(z);return new d(k,this.h|O.h)},s.xor=function(O){const C=Math.max(this.g.length,O.g.length),k=[];for(let z=0;z<C;z++)k[z]=this.i(z)^O.i(z);return new d(k,this.h^O.h)};function ke(O){const C=O.g.length+1,k=[];for(let z=0;z<C;z++)k[z]=O.i(z)<<1|O.i(z-1)>>>31;return new d(k,O.h)}function Me(O,C){const k=C>>5;C%=32;const z=O.g.length-k,P=[];for(let B=0;B<z;B++)P[B]=C>0?O.i(B+k)>>>C|O.i(B+k+1)<<32-C:O.i(B+k);return new d(P,O.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,z_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=N,ya=d}).apply(typeof DN<"u"?DN:typeof self<"u"?self:typeof window<"u"?window:{});var xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var F_,Qc,q_,kh,vp,B_,$_,H_;(function(){var s,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof xh=="object"&&xh];for(var x=0;x<h.length;++x){var j=h[x];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var a=t(this);function l(h,x){if(x)e:{var j=a;h=h.split(".");for(var S=0;S<h.length-1;S++){var J=h[S];if(!(J in j))break e;j=j[J]}h=h[h.length-1],S=j[h],x=x(S),x!=S&&x!=null&&e(j,h,{configurable:!0,writable:!0,value:x})}}l("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(h){return h||function(x){var j=[],S;for(S in x)Object.prototype.hasOwnProperty.call(x,S)&&j.push([S,x[S]]);return j}});var c=c||{},d=this||self;function f(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function y(h,x,j){return h.call.apply(h.bind,arguments)}function g(h,x,j){return g=y,g.apply(null,arguments)}function N(h,x){var j=Array.prototype.slice.call(arguments,1);return function(){var S=j.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function w(h,x){function j(){}j.prototype=x.prototype,h.Z=x.prototype,h.prototype=new j,h.prototype.constructor=h,h.Ob=function(S,J,se){for(var Ee=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)Ee[tt-2]=arguments[tt];return x.prototype[J].apply(S,Ee)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function M(h){const x=h.length;if(x>0){const j=Array(x);for(let S=0;S<x;S++)j[S]=h[S];return j}return[]}function G(h,x){for(let S=1;S<arguments.length;S++){const J=arguments[S];var j=typeof J;if(j=j!="object"?j:J?Array.isArray(J)?"array":j:"null",j=="array"||j=="object"&&typeof J.length=="number"){j=h.length||0;const se=J.length||0;h.length=j+se;for(let Ee=0;Ee<se;Ee++)h[j+Ee]=J[Ee]}else h.push(J)}}class W{constructor(x,j){this.i=x,this.j=j,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function $(h){d.setTimeout(()=>{throw h},0)}function X(){var h=O;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class ie{constructor(){this.h=this.g=null}add(x,j){const S=ne.get();S.set(x,j),this.h?this.h.next=S:this.g=S,this.h=S}}var ne=new W(()=>new Re,h=>h.reset());class Re{constructor(){this.next=this.g=this.h=null}set(x,j){this.h=x,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,Me=!1,O=new ie,C=()=>{const h=Promise.resolve(void 0);ke=()=>{h.then(k)}};function k(){for(var h;h=X();){try{h.h.call(h.g)}catch(j){$(j)}var x=ne;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}Me=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const j=()=>{};d.addEventListener("test",j,x),d.removeEventListener("test",j,x)}catch{}return h})();function E(h){return/^[\s\xa0]*$/.test(h)}function xe(h,x){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}w(xe,P),xe.prototype.init=function(h,x){const j=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(j=="mouseover"?x=h.fromElement:j=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),H=0;function ce(h,x,j,S,J){this.listener=h,this.proxy=null,this.src=x,this.type=j,this.capture=!!S,this.ha=J,this.key=++H,this.da=this.fa=!1}function be(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ae(h,x,j){for(const S in h)x.call(j,h[S],S,h)}function et(h,x){for(const j in h)x.call(void 0,h[j],j,h)}function L(h){const x={};for(const j in h)x[j]=h[j];return x}const ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(h,x){let j,S;for(let J=1;J<arguments.length;J++){S=arguments[J];for(j in S)h[j]=S[j];for(let se=0;se<ue.length;se++)j=ue[se],Object.prototype.hasOwnProperty.call(S,j)&&(h[j]=S[j])}}function Ie(h){this.src=h,this.g={},this.h=0}Ie.prototype.add=function(h,x,j,S,J){const se=h.toString();h=this.g[se],h||(h=this.g[se]=[],this.h++);const Ee=Ge(h,x,S,J);return Ee>-1?(x=h[Ee],j||(x.fa=!1)):(x=new ce(x,this.src,se,!!S,J),x.fa=j,h.push(x)),x};function Fe(h,x){const j=x.type;if(j in h.g){var S=h.g[j],J=Array.prototype.indexOf.call(S,x,void 0),se;(se=J>=0)&&Array.prototype.splice.call(S,J,1),se&&(be(x),h.g[j].length==0&&(delete h.g[j],h.h--))}}function Ge(h,x,j,S){for(let J=0;J<h.length;++J){const se=h[J];if(!se.da&&se.listener==x&&se.capture==!!j&&se.ha==S)return J}return-1}var A="closure_lm_"+(Math.random()*1e6|0),R={};function Q(h,x,j,S,J){if(Array.isArray(x)){for(let se=0;se<x.length;se++)Q(h,x[se],j,S,J);return null}return j=je(j),h&&h[pe]?h.J(x,j,f(S)?!!S.capture:!1,J):de(h,x,j,!1,S,J)}function de(h,x,j,S,J,se){if(!x)throw Error("Invalid event type");const Ee=f(J)?!!J.capture:!!J;let tt=U(h);if(tt||(h[A]=tt=new Ie(h)),j=tt.add(x,j,S,Ee,se),j.proxy)return j;if(S=we(),j.proxy=S,S.src=h,S.listener=j,h.addEventListener)B||(J=Ee),J===void 0&&(J=!1),h.addEventListener(x.toString(),S,J);else if(h.attachEvent)h.attachEvent(_(x.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return j}function we(){function h(j){return x.call(h.src,h.listener,j)}const x=F;return h}function Ue(h,x,j,S,J){if(Array.isArray(x))for(var se=0;se<x.length;se++)Ue(h,x[se],j,S,J);else S=f(S)?!!S.capture:!!S,j=je(j),h&&h[pe]?(h=h.i,se=String(x).toString(),se in h.g&&(x=h.g[se],j=Ge(x,j,S,J),j>-1&&(be(x[j]),Array.prototype.splice.call(x,j,1),x.length==0&&(delete h.g[se],h.h--)))):h&&(h=U(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Ge(x,j,S,J)),(j=h>-1?x[h]:null)&&b(j))}function b(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[pe])Fe(x.i,h);else{var j=h.type,S=h.proxy;x.removeEventListener?x.removeEventListener(j,S,h.capture):x.detachEvent?x.detachEvent(_(j),S):x.addListener&&x.removeListener&&x.removeListener(S),(j=U(x))?(Fe(j,h),j.h==0&&(j.src=null,x[A]=null)):be(h)}}}function _(h){return h in R?R[h]:R[h]="on"+h}function F(h,x){if(h.da)h=!0;else{x=new xe(x,this);const j=h.listener,S=h.ha||h.src;h.fa&&b(h),h=j.call(S,x)}return h}function U(h){return h=h[A],h instanceof Ie?h:null}var K="__closure_events_fn_"+(Math.random()*1e9>>>0);function je(h){return typeof h=="function"?h:(h[K]||(h[K]=function(x){return h.handleEvent(x)}),h[K])}function ve(){z.call(this),this.i=new Ie(this),this.M=this,this.G=null}w(ve,z),ve.prototype[pe]=!0,ve.prototype.removeEventListener=function(h,x,j,S){Ue(this,h,x,j,S)};function he(h,x){var j,S=h.G;if(S)for(j=[];S;S=S.G)j.push(S);if(h=h.M,S=x.type||x,typeof x=="string")x=new P(x,h);else if(x instanceof P)x.target=x.target||h;else{var J=x;x=new P(S,h),_e(x,J)}J=!0;let se,Ee;if(j)for(Ee=j.length-1;Ee>=0;Ee--)se=x.g=j[Ee],J=st(se,S,!0,x)&&J;if(se=x.g=h,J=st(se,S,!0,x)&&J,J=st(se,S,!1,x)&&J,j)for(Ee=0;Ee<j.length;Ee++)se=x.g=j[Ee],J=st(se,S,!1,x)&&J}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const j=h.g[x];for(let S=0;S<j.length;S++)be(j[S]);delete h.g[x],h.h--}}this.G=null},ve.prototype.J=function(h,x,j,S){return this.i.add(String(h),x,!1,j,S)},ve.prototype.K=function(h,x,j,S){return this.i.add(String(h),x,!0,j,S)};function st(h,x,j,S){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let J=!0;for(let se=0;se<x.length;++se){const Ee=x[se];if(Ee&&!Ee.da&&Ee.capture==j){const tt=Ee.listener,dn=Ee.ha||Ee.src;Ee.fa&&Fe(h.i,Ee),J=tt.call(dn,S)!==!1&&J}}return J&&!S.defaultPrevented}function jt(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:d.setTimeout(h,x||0)}function Pe(h){h.g=jt(()=>{h.g=null,h.i&&(h.i=!1,Pe(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class it extends z{constructor(x,j){super(),this.m=x,this.l=j,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Pe(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ct(h){z.call(this),this.h=h,this.g={}}w(Ct,z);var gn=[];function Jt(h){ae(h.g,function(x,j){this.g.hasOwnProperty(j)&&b(x)},h),h.g={}}Ct.prototype.N=function(){Ct.Z.N.call(this),Jt(this)},Ct.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tn=d.JSON.stringify,Yn=d.JSON.parse,Ke=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function at(){}function Pt(){}var Tt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ne(){P.call(this,"d")}w(Ne,P);function Ye(){P.call(this,"c")}w(Ye,P);var Be={},nn=null;function pn(){return nn=nn||new ve}Be.Ia="serverreachability";function yn(h){P.call(this,Be.Ia,h)}w(yn,P);function sn(h){const x=pn();he(x,new yn(x))}Be.STAT_EVENT="statevent";function ns(h,x){P.call(this,Be.STAT_EVENT,h),this.stat=x}w(ns,P);function Bt(h){const x=pn();he(x,new ns(x,h))}Be.Ja="timingevent";function Vn(h,x){P.call(this,Be.Ja,h),this.size=x}w(Vn,P);function Kn(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},x)}function Rt(){this.g=!0}Rt.prototype.ua=function(){this.g=!1};function ka(h,x,j,S,J,se){h.info(function(){if(h.g)if(se){var Ee="",tt=se.split("&");for(let It=0;It<tt.length;It++){var dn=tt[It].split("=");if(dn.length>1){const Qt=dn[0];dn=dn[1];const Os=Qt.split("_");Ee=Os.length>=2&&Os[1]=="type"?Ee+(Qt+"="+dn+"&"):Ee+(Qt+"=redacted&")}}}else Ee=null;else Ee=se;return"XMLHTTP REQ ("+S+") [attempt "+J+"]: "+x+`
`+j+`
`+Ee})}function Ni(h,x,j,S,J,se,Ee){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+J+"]: "+x+`
`+j+`
`+se+" "+Ee})}function un(h,x,j,S){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+Js(h,j)+(S?" "+S:"")})}function ss(h,x){h.info(function(){return"TIMEOUT: "+x})}Rt.prototype.info=function(){};function Js(h,x){if(!h.g)return x;if(!x)return null;try{const se=JSON.parse(x);if(se){for(h=0;h<se.length;h++)if(Array.isArray(se[h])){var j=se[h];if(!(j.length<2)){var S=j[1];if(Array.isArray(S)&&!(S.length<1)){var J=S[0];if(J!="noop"&&J!="stop"&&J!="close")for(let Ee=1;Ee<S.length;Ee++)S[Ee]=""}}}}return tn(se)}catch{return x}}var Ms={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ar={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xi;function Ji(){}w(Ji,at),Ji.prototype.g=function(){return new XMLHttpRequest},Xi=new Ji;function Zi(h){return encodeURIComponent(String(h))}function Yu(h){var x=1;h=h.split(":");const j=[];for(;x>0&&h.length;)j.push(h.shift()),x--;return h.length&&j.push(h.join(":")),j}function Zs(h,x,j,S){this.j=h,this.i=x,this.l=j,this.S=S||1,this.V=new Ct(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var xn={},Dn={};function ji(h,x,j){h.M=1,h.A=Pa(vn(x)),h.u=j,h.R=!0,So(h,null)}function So(h,x){h.F=Date.now(),wi(h),h.B=vn(h.A);var j=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),Mo(j.i,"t",S),h.C=0,j=h.j.L,h.h=new ei,h.g=cd(h.j,j?x:null,!h.u),h.P>0&&(h.O=new it(g(h.Y,h,h.g),h.P)),x=h.V,j=h.g,S=h.ba;var J="readystatechange";Array.isArray(J)||(J&&(gn[0]=J.toString()),J=gn);for(let se=0;se<J.length;se++){const Ee=Q(j,J[se],S||x.handleEvent,!1,x.h||x);if(!Ee)break;x.g[Ee.key]=Ee}x=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),sn(),ka(h.i,h.v,h.B,h.l,h.S,h.u)}Zs.prototype.ba=function(h){h=h.target;const x=this.O;x&&si(h)==3?x.j():this.Y(h)},Zs.prototype.Y=function(h){try{if(h==this.g)e:{const tt=si(this.g),dn=this.g.ya(),It=this.g.ca();if(!(tt<3)&&(tt!=3||this.g&&(this.h.h||this.g.la()||Un(this.g)))){this.K||tt!=4||dn==7||(dn==8||It<=0?sn(3):sn(2)),_i(this);var x=this.g.ca();this.X=x;var j=Pm(this);if(this.o=x==200,Ni(this.i,this.v,this.B,this.l,this.S,tt,x),this.o){if(this.U&&!this.L){t:{if(this.g){var S,J=this.g;if((S=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(S)){var se=S;break t}}se=null}if(h=se)un(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,h);else{this.o=!1,this.m=3,Bt(12),xs(this),Ds(this);break e}}if(this.R){h=!0;let Qt;for(;!this.K&&this.C<j.length;)if(Qt=Qu(this,j),Qt==Dn){tt==4&&(this.m=4,Bt(14),h=!1),un(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==xn){this.m=4,Bt(15),un(this.i,this.l,j,"[Invalid Chunk]"),h=!1;break}else un(this.i,this.l,Qt,null),Ei(this,Qt);if(Ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tt!=4||j.length!=0||this.h.h||(this.m=1,Bt(16),h=!1),this.o=this.o&&h,!h)un(this.i,this.l,j,"[Invalid Chunked Response]"),xs(this),Ds(this);else if(j.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),ac(Ee),Ee.P=!0,Bt(11))}}else un(this.i,this.l,j,null),Ei(this,j);tt==4&&xs(this),this.o&&!this.K&&(tt==4?rd(this.j,this):(this.o=!1,wi(this)))}else tr(this.g),x==400&&j.indexOf("Unknown SID")>0?(this.m=3,Bt(12)):(this.m=0,Bt(13)),xs(this),Ds(this)}}}catch{}};function Pm(h){if(!Ku(h))return h.g.la();const x=Un(h.g);if(x==="")return"";let j="";const S=x.length,J=si(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return xs(h),Ds(h),"";h.h.i=new d.TextDecoder}for(let se=0;se<S;se++)h.h.h=!0,j+=h.h.i.decode(x[se],{stream:!(J&&se==S-1)});return x.length=0,h.h.g+=j,h.C=0,h.h.g}function Ku(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Qu(h,x){var j=h.C,S=x.indexOf(`
`,j);return S==-1?Dn:(j=Number(x.substring(j,S)),isNaN(j)?xn:(S+=1,S+j>x.length?Dn:(x=x.slice(S,S+j),h.C=S+j,x)))}Zs.prototype.cancel=function(){this.K=!0,xs(this)};function wi(h){h.T=Date.now()+h.H,Ao(h,h.H)}function Ao(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Kn(g(h.aa,h),x)}function _i(h){h.D&&(d.clearTimeout(h.D),h.D=null)}Zs.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ss(this.i,this.B),this.M!=2&&(sn(),Bt(17)),xs(this),this.m=2,Ds(this)):Ao(this,this.T-h)};function Ds(h){h.j.I==0||h.K||rd(h.j,h)}function xs(h){_i(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,Jt(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Ei(h,x){try{var j=h.j;if(j.I!=0&&(j.g==h||Ii(j.h,h))){if(!h.L&&Ii(j.h,h)&&j.I==3){try{var S=j.Ba.g.parse(x)}catch{S=null}if(Array.isArray(S)&&S.length==3){var J=S;if(J[0]==0){e:if(!j.v){if(j.g)if(j.g.F+3e3<h.F)Lo(j),Lr(j);else break e;qa(j),Bt(18)}}else j.xa=J[1],0<j.xa-j.K&&J[2]<37500&&j.F&&j.A==0&&!j.C&&(j.C=Kn(g(j.Va,j),6e3));Ti(j.h)<=1&&j.ta&&(j.ta=void 0)}else Di(j,11)}else if((h.L||j.g==h)&&Lo(j),!E(x))for(J=j.Ba.g.parse(x),x=0;x<J.length;x++){let It=J[x];const Qt=It[0];if(!(Qt<=j.K))if(j.K=Qt,It=It[1],j.I==2)if(It[0]=="c"){j.M=It[1],j.ba=It[2];const Os=It[3];Os!=null&&(j.ka=Os,j.j.info("VER="+j.ka));const ki=It[4];ki!=null&&(j.za=ki,j.j.info("SVER="+j.za));const ii=It[5];ii!=null&&typeof ii=="number"&&ii>0&&(S=1.5*ii,j.O=S,j.j.info("backChannelRequestTimeoutMs_="+S)),S=j;const ri=h.g;if(ri){const Ba=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ba){var se=S.h;se.g||Ba.indexOf("spdy")==-1&&Ba.indexOf("quic")==-1&&Ba.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Yl(se,se.h),se.h=null))}if(S.G){const Vo=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Vo&&(S.wa=Vo,Mt(S.J,S.G,Vo))}}j.I=3,j.l&&j.l.ra(),j.aa&&(j.T=Date.now()-h.F,j.j.info("Handshake RTT: "+j.T+"ms")),S=j;var Ee=h;if(S.na=ld(S,S.L?S.ba:null,S.W),Ee.L){Kl(S.h,Ee);var tt=Ee,dn=S.O;dn&&(tt.H=dn),tt.D&&(_i(tt),wi(tt)),S.g=Ee}else sd(S);j.i.length>0&&Mi(j)}else It[0]!="stop"&&It[0]!="close"||Di(j,7);else j.I==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?Di(j,7):ic(j):It[0]!="noop"&&j.l&&j.l.qa(It),j.A=0)}}sn(4)}catch{}}var bn=class{constructor(h,x){this.g=h,this.map=x}};function Gl(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ti(h){return h.h?1:h.g?h.g.size:0}function Ii(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Yl(h,x){h.g?h.g.add(x):h.h=x}function Kl(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}Gl.prototype.cancel=function(){if(this.i=Ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ql(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const j of h.g.values())x=x.concat(j.G);return x}return M(h.i)}var Xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Co(h,x){if(h){h=h.split("&");for(let j=0;j<h.length;j++){const S=h[j].indexOf("=");let J,se=null;S>=0?(J=h[j].substring(0,S),se=h[j].substring(S+1)):J=h[j],x(J,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function bs(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof bs?(this.l=h.l,kn(this,h.j),this.o=h.o,this.g=h.g,Cr(this,h.u),this.h=h.h,Xl(this,td(h.i)),this.m=h.m):h&&(x=String(h).match(Xu))?(this.l=!1,kn(this,x[1]||"",!0),this.o=Si(x[2]||""),this.g=Si(x[3]||"",!0),Cr(this,x[4]),this.h=Si(x[5]||"",!0),Xl(this,x[6]||"",!0),this.m=Si(x[7]||"")):(this.l=!1,this.i=new Mr(null,this.l))}bs.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(Oa(x,Ro,!0),":");var j=this.g;return(j||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Oa(x,Ro,!0),"@"),h.push(Zi(j).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.u,j!=null&&h.push(":",String(j))),(j=this.h)&&(this.g&&j.charAt(0)!="/"&&h.push("/"),h.push(Oa(j,j.charAt(0)=="/"?Jl:Ju,!0))),(j=this.i.toString())&&h.push("?",j),(j=this.m)&&h.push("#",Oa(j,Zu)),h.join("")},bs.prototype.resolve=function(h){const x=vn(this);let j=!!h.j;j?kn(x,h.j):j=!!h.o,j?x.o=h.o:j=!!h.g,j?x.g=h.g:j=h.u!=null;var S=h.h;if(j)Cr(x,h.u);else if(j=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var J=x.h.lastIndexOf("/");J!=-1&&(S=x.h.slice(0,J+1)+S)}if(J=S,J==".."||J==".")S="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){S=J.lastIndexOf("/",0)==0,J=J.split("/");const se=[];for(let Ee=0;Ee<J.length;){const tt=J[Ee++];tt=="."?S&&Ee==J.length&&se.push(""):tt==".."?((se.length>1||se.length==1&&se[0]!="")&&se.pop(),S&&Ee==J.length&&se.push("")):(se.push(tt),S=!0)}S=se.join("/")}else S=J}return j?x.h=S:j=h.i.toString()!=="",j?Xl(x,td(h.i)):j=!!h.m,j&&(x.m=h.m),x};function vn(h){return new bs(h)}function kn(h,x,j){h.j=j?Si(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function Cr(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function Xl(h,x,j){x instanceof Mr?(h.i=x,Do(h.i,h.l)):(j||(x=Oa(x,Rr)),h.i=new Mr(x,h.l))}function Mt(h,x,j){h.i.set(x,j)}function Pa(h){return Mt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Si(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Oa(h,x,j){return typeof h=="string"?(h=encodeURI(h).replace(x,ls),j&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ls(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ro=/[#\/\?@]/g,Ju=/[#\?:]/g,Jl=/[#\?]/g,Rr=/[#\?@]/g,Zu=/#/g;function Mr(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function cs(h){h.g||(h.g=new Map,h.h=0,h.i&&Co(h.i,function(x,j){h.add(decodeURIComponent(x.replace(/\+/g," ")),j)}))}s=Mr.prototype,s.add=function(h,x){cs(this),this.i=null,h=Dr(this,h);let j=this.g.get(h);return j||this.g.set(h,j=[]),j.push(x),this.h+=1,this};function ed(h,x){cs(h),x=Dr(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Zl(h,x){return cs(h),x=Dr(h,x),h.g.has(x)}s.forEach=function(h,x){cs(this),this.g.forEach(function(j,S){j.forEach(function(J){h.call(x,J,S,this)},this)},this)};function ec(h,x){cs(h);let j=[];if(typeof x=="string")Zl(h,x)&&(j=j.concat(h.g.get(Dr(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)j=j.concat(h[x]);return j}s.set=function(h,x){return cs(this),this.i=null,h=Dr(this,h),Zl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},s.get=function(h,x){return h?(h=ec(this,h),h.length>0?String(h[0]):x):x};function Mo(h,x,j){ed(h,x),j.length>0&&(h.i=null,h.g.set(Dr(h,x),M(j)),h.h+=j.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let S=0;S<x.length;S++){var j=x[S];const J=Zi(j);j=ec(this,j);for(let se=0;se<j.length;se++){let Ee=J;j[se]!==""&&(Ee+="="+Zi(j[se])),h.push(Ee)}}return this.i=h.join("&")};function td(h){const x=new Mr;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function Dr(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function Do(h,x){x&&!h.j&&(cs(h),h.i=null,h.g.forEach(function(j,S){const J=S.toLowerCase();S!=J&&(ed(this,S),Mo(this,J,j))},h)),h.j=x}function ti(h,x){const j=new Rt;if(d.Image){const S=new Image;S.onload=N(ks,j,"TestLoadImage: loaded",!0,x,S),S.onerror=N(ks,j,"TestLoadImage: error",!1,x,S),S.onabort=N(ks,j,"TestLoadImage: abort",!1,x,S),S.ontimeout=N(ks,j,"TestLoadImage: timeout",!1,x,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else x(!1)}function tc(h,x){const j=new Rt,S=new AbortController,J=setTimeout(()=>{S.abort(),ks(j,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:S.signal}).then(se=>{clearTimeout(J),se.ok?ks(j,"TestPingServer: ok",!0,x):ks(j,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(J),ks(j,"TestPingServer: error",!1,x)})}function ks(h,x,j,S,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),S(j)}catch{}}function kr(){this.g=new Ke}function Ai(h){this.i=h.Sb||null,this.h=h.ab||!1}w(Ai,at),Ai.prototype.g=function(){return new La(this.i,this.h)};function La(h,x){ve.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(La,ve),s=La.prototype,s.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,ni(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||d).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Pr(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ko(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function ko(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Pr(this):ni(this),this.readyState==3&&ko(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,Pr(this))},s.Na=function(h){this.g&&(this.response=h,Pr(this))},s.ga=function(){this.g&&Pr(this)};function Pr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ni(h)}s.setRequestHeader=function(h,x){this.A.append(h,x)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var j=x.next();!j.done;)j=j.value,h.push(j[0]+": "+j[1]),j=x.next();return h.join(`\r
`)};function ni(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(La.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ps(h){let x="";return ae(h,function(j,S){x+=S,x+=":",x+=j,x+=`\r
`}),x}function Va(h,x,j){e:{for(S in j){var S=!1;break e}S=!0}S||(j=Ps(j),typeof h=="string"?j!=null&&Zi(j):Mt(h,x,j))}function Ot(h){ve.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Ot,ve);var Ci=/^https?$/i,nc=["POST","PUT"];s=Ot.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,x,j,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xi.g(),this.g.onreadystatechange=I(g(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(se){Ua(this,se);return}if(h=j||"",j=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var J in S)j.set(J,S[J]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const se of S.keys())j.set(se,S.get(se));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(j.keys()).find(se=>se.toLowerCase()=="content-type"),J=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(nc,x,void 0)>=0)||S||J||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,Ee]of j)this.g.setRequestHeader(se,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(se){Ua(this,se)}};function Ua(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,sc(h),er(h)}function sc(h){h.A||(h.A=!0,he(h,"complete"),he(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,he(this,"complete"),he(this,"abort"),er(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),er(this,!0)),Ot.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?za(this):this.Xa())},s.Xa=function(){za(this)};function za(h){if(h.h&&typeof c<"u"){if(h.v&&si(h)==4)setTimeout(h.Ca.bind(h),0);else if(he(h,"readystatechange"),si(h)==4){h.h=!1;try{const se=h.ca();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var j;if(!(j=x)){var S;if(S=se===0){let Ee=String(h.D).match(Xu)[1]||null;!Ee&&d.self&&d.self.location&&(Ee=d.self.location.protocol.slice(0,-1)),S=!Ci.test(Ee?Ee.toLowerCase():"")}j=S}if(j)he(h,"complete"),he(h,"success");else{h.o=6;try{var J=si(h)>2?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.ca()+"]",sc(h)}}finally{er(h)}}}}function er(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const j=h.g;h.g=null,x||he(h,"ready");try{j.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function si(h){return h.g?h.g.readyState:0}s.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),Yn(x)}};function Un(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function tr(h){const x={};h=(h.g&&si(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(E(h[S]))continue;var j=Yu(h[S]);const J=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const se=x[J]||[];x[J]=se,se.push(j)}et(x,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(h,x,j){return j&&j.internalChannelParams&&j.internalChannelParams[h]||x}function Or(h){this.za=0,this.i=[],this.j=new Rt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,h),this.Za=Ri("retryDelaySeedMs",1e4,h),this.Ta=Ri("forwardChannelMaxRetries",2,h),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Gl(h&&h.concurrentRequestLimit),this.Ba=new kr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Or.prototype,s.ka=8,s.I=1,s.connect=function(h,x,j,S){Bt(0),this.W=h,this.H=x||{},j&&S!==void 0&&(this.H.OSID=j,this.H.OAID=S),this.F=this.X,this.J=ld(this,null,this.W),Mi(this)};function ic(h){if(Po(h),h.I==3){var x=h.V++,j=vn(h.J);if(Mt(j,"SID",h.M),Mt(j,"RID",x),Mt(j,"TYPE","terminate"),Fa(h,j),x=new Zs(h,h.j,x),x.M=2,x.A=Pa(vn(j)),j=!1,d.navigator&&d.navigator.sendBeacon)try{j=d.navigator.sendBeacon(x.A.toString(),"")}catch{}!j&&d.Image&&(new Image().src=x.A,j=!0),j||(x.g=cd(x.j,null),x.g.ea(x.A)),x.F=Date.now(),wi(x)}od(h)}function Lr(h){h.g&&(ac(h),h.g.cancel(),h.g=null)}function Po(h){Lr(h),h.v&&(d.clearTimeout(h.v),h.v=null),Lo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function Mi(h){if(!Wl(h.h)&&!h.m){h.m=!0;var x=h.Ea;ke||C(),Me||(ke(),Me=!0),O.add(x,h),h.D=0}}function Oo(h,x){return Ti(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Kn(g(h.Ea,h,x),ad(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const J=new Zs(this,this.j,h);let se=this.o;if(this.U&&(se?(se=L(se),_e(se,this.U)):se=this.U),this.u!==null||this.R||(J.J=se,se=null),this.S)e:{for(var x=0,j=0;j<this.i.length;j++){t:{var S=this.i[j];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(x+=S,x>4096){x=j;break e}if(x===4096||j===this.i.length-1){x=j+1;break e}}x=1e3}else x=1e3;x=nd(this,J,x),j=vn(this.J),Mt(j,"RID",h),Mt(j,"CVER",22),this.G&&Mt(j,"X-HTTP-Session-Id",this.G),Fa(this,j),se&&(this.R?x="headers="+Zi(Ps(se))+"&"+x:this.u&&Va(j,this.u,se)),Yl(this.h,J),this.Ra&&Mt(j,"TYPE","init"),this.S?(Mt(j,"$req",x),Mt(j,"SID","null"),J.U=!0,ji(J,j,null)):ji(J,j,x),this.I=2}}else this.I==3&&(h?rc(this,h):this.i.length==0||Wl(this.h)||rc(this))};function rc(h,x){var j;x?j=x.l:j=h.V++;const S=vn(h.J);Mt(S,"SID",h.M),Mt(S,"RID",j),Mt(S,"AID",h.K),Fa(h,S),h.u&&h.o&&Va(S,h.u,h.o),j=new Zs(h,h.j,j,h.D+1),h.u===null&&(j.J=h.o),x&&(h.i=x.G.concat(h.i)),x=nd(h,j,1e3),j.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Yl(h.h,j),ji(j,S,x)}function Fa(h,x){h.H&&ae(h.H,function(j,S){Mt(x,S,j)}),h.l&&ae({},function(j,S){Mt(x,S,j)})}function nd(h,x,j){j=Math.min(h.i.length,j);const S=h.l?g(h.l.Ka,h.l,h):null;e:{var J=h.i;let tt=-1;for(;;){const dn=["count="+j];tt==-1?j>0?(tt=J[0].g,dn.push("ofs="+tt)):tt=0:dn.push("ofs="+tt);let It=!0;for(let Qt=0;Qt<j;Qt++){var se=J[Qt].g;const Os=J[Qt].map;if(se-=tt,se<0)tt=Math.max(0,J[Qt].g-100),It=!1;else try{se="req"+se+"_"||"";try{var Ee=Os instanceof Map?Os:Object.entries(Os);for(const[ki,ii]of Ee){let ri=ii;f(ii)&&(ri=tn(ii)),dn.push(se+ki+"="+encodeURIComponent(ri))}}catch(ki){throw dn.push(se+"type="+encodeURIComponent("_badmap")),ki}}catch{S&&S(Os)}}if(It){Ee=dn.join("&");break e}}Ee=void 0}return h=h.i.splice(0,j),x.G=h,Ee}function sd(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;ke||C(),Me||(ke(),Me=!0),O.add(x,h),h.A=0}}function qa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Kn(g(h.Da,h),ad(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,id(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Kn(g(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Bt(10),Lr(this),id(this))};function ac(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function id(h){h.g=new Zs(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=vn(h.na);Mt(x,"RID","rpc"),Mt(x,"SID",h.M),Mt(x,"AID",h.K),Mt(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&Mt(x,"TO",h.ia),Mt(x,"TYPE","xmlhttp"),Fa(h,x),h.u&&h.o&&Va(x,h.u,h.o),h.O&&(h.g.H=h.O);var j=h.g;h=h.ba,j.M=1,j.A=Pa(vn(x)),j.u=null,j.R=!0,So(j,h)}s.Va=function(){this.C!=null&&(this.C=null,Lr(this),qa(this),Bt(19))};function Lo(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function rd(h,x){var j=null;if(h.g==x){Lo(h),ac(h),h.g=null;var S=2}else if(Ii(h.h,x))j=x.G,Kl(h.h,x),S=1;else return;if(h.I!=0){if(x.o)if(S==1){j=x.u?x.u.length:0,x=Date.now()-x.F;var J=h.D;S=pn(),he(S,new Vn(S,j)),Mi(h)}else sd(h);else if(J=x.m,J==3||J==0&&x.X>0||!(S==1&&Oo(h,x)||S==2&&qa(h)))switch(j&&j.length>0&&(x=h.h,x.i=x.i.concat(j)),J){case 1:Di(h,5);break;case 4:Di(h,10);break;case 3:Di(h,6);break;default:Di(h,2)}}}function ad(h,x){let j=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(j*=2),j*x}function Di(h,x){if(h.j.info("Error code "+x),x==2){var j=g(h.bb,h),S=h.Ua;const J=!S;S=new bs(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||kn(S,"https"),Pa(S),J?ti(S.toString(),j):tc(S.toString(),j)}else Bt(2);h.I=0,h.l&&h.l.pa(x),od(h),Po(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function od(h){if(h.I=0,h.ja=[],h.l){const x=Ql(h.h);(x.length!=0||h.i.length!=0)&&(G(h.ja,x),G(h.ja,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.oa()}}function ld(h,x,j){var S=j instanceof bs?vn(j):new bs(j);if(S.g!="")x&&(S.g=x+"."+S.g),Cr(S,S.u);else{var J=d.location;S=J.protocol,x=x?x+"."+J.hostname:J.hostname,J=+J.port;const se=new bs(null);S&&kn(se,S),x&&(se.g=x),J&&Cr(se,J),j&&(se.h=j),S=se}return j=h.G,x=h.wa,j&&x&&Mt(S,j,x),Mt(S,"VER",h.ka),Fa(h,S),S}function cd(h,x,j){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new Ot(new Ai({ab:j})):new Ot(h.ma),x.Fa(h.L),x}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ud(){}s=ud.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Vr(){}Vr.prototype.g=function(h,x){return new is(h,x)};function is(h,x){ve.call(this),this.g=new Or(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!E(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!E(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new nr(this)}w(is,ve),is.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},is.prototype.close=function(){ic(this.g)},is.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var j={};j.__data__=h,h=j}else this.v&&(j={},j.__data__=tn(h),h=j);x.i.push(new bn(x.Ya++,h)),x.I==3&&Mi(x)},is.prototype.N=function(){this.g.l=null,delete this.j,ic(this.g),delete this.g,is.Z.N.call(this)};function dd(h){Ne.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const j in x){h=j;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}w(dd,Ne);function hd(){Ye.call(this),this.status=1}w(hd,Ye);function nr(h){this.g=h}w(nr,ud),nr.prototype.ra=function(){he(this.g,"a")},nr.prototype.qa=function(h){he(this.g,new dd(h))},nr.prototype.pa=function(h){he(this.g,new hd)},nr.prototype.oa=function(){he(this.g,"b")},Vr.prototype.createWebChannel=Vr.prototype.g,is.prototype.send=is.prototype.o,is.prototype.open=is.prototype.m,is.prototype.close=is.prototype.close,H_=function(){return new Vr},$_=function(){return pn()},B_=Be,vp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,kh=Ms,Ar.COMPLETE="complete",q_=Ar,Pt.EventType=Tt,Tt.OPEN="a",Tt.CLOSE="b",Tt.ERROR="c",Tt.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Qc=Pt,Ot.prototype.listenOnce=Ot.prototype.K,Ot.prototype.getLastError=Ot.prototype.Ha,Ot.prototype.getLastErrorCode=Ot.prototype.ya,Ot.prototype.getStatus=Ot.prototype.ca,Ot.prototype.getResponseJson=Ot.prototype.La,Ot.prototype.getResponseText=Ot.prototype.la,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Fa,F_=Ot}).apply(typeof xh<"u"?xh:typeof self<"u"?self:typeof window<"u"?window:{});class Zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zn.UNAUTHENTICATED=new Zn(null),Zn.GOOGLE_CREDENTIALS=new Zn("google-credentials-uid"),Zn.FIRST_PARTY=new Zn("first-party-uid"),Zn.MOCK_USER=new Zn("mock-user");let Fl="12.8.0";function IM(s){Fl=s}const bo=new fm("@firebase/firestore");function fl(){return bo.logLevel}function Ce(s,...e){if(bo.logLevel<=dt.DEBUG){const t=e.map(Ny);bo.debug(`Firestore (${Fl}): ${s}`,...t)}}function Ir(s,...e){if(bo.logLevel<=dt.ERROR){const t=e.map(Ny);bo.error(`Firestore (${Fl}): ${s}`,...t)}}function Sl(s,...e){if(bo.logLevel<=dt.WARN){const t=e.map(Ny);bo.warn(`Firestore (${Fl}): ${s}`,...t)}}function Ny(s){if(typeof s=="string")return s;try{return(function(t){return JSON.stringify(t)})(s)}catch{return s}}function He(s,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,G_(s,a,t)}function G_(s,e,t){let a=`FIRESTORE (${Fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw Ir(a),new Error(a)}function At(s,e,t,a){let l="Unexpected state";typeof t=="string"?l=t:a=t,s||G_(e,l,a)}function Ze(s,e){return s}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ho{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class W_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Zn.UNAUTHENTICATED)))}shutdown(){}}class AM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class CM{constructor(e){this.t=e,this.currentUser=Zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){At(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,t(y)):Promise.resolve();let c=new ho;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ho,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},f=y=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>f(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?f(y):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ho)}}),0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((a=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(At(typeof a.accessToken=="string",31837,{l:a}),new W_(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new Zn(e)}}class RM{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=Zn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class MM{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new RM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Zn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,As(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){At(this.o===void 0,3512);const a=c=>{c.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,Ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(At(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new kN(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kM(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<s;a++)t[a]=Math.floor(256*Math.random());return t}class jy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=kM(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<t&&(a+=e.charAt(l[c]%62))}return a}}function ht(s,e){return s<e?-1:s>e?1:0}function Np(s,e){const t=Math.min(s.length,e.length);for(let a=0;a<t;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Kg(l)===Kg(c)?ht(l,c):Kg(l)?1:-1}return ht(s.length,e.length)}const PM=55296,OM=57343;function Kg(s){const e=s.charCodeAt(0);return e>=PM&&e<=OM}function Al(s,e,t){return s.length===e.length&&s.every(((a,l)=>t(a,e[l])))}const PN="__name__";class Fi{constructor(e,t,a){t===void 0?t=0:t>e.length&&He(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&He(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach((a=>{t.push(a)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let l=0;l<a;l++){const c=Fi.compareSegments(e.get(l),t.get(l));if(c!==0)return c}return ht(e.length,t.length)}static compareSegments(e,t){const a=Fi.isNumericId(e),l=Fi.isNumericId(t);return a&&!l?-1:!a&&l?1:a&&l?Fi.extractNumericId(e).compare(Fi.extractNumericId(t)):Np(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ya.fromString(e.substring(4,e.length-2))}}class Ht extends Fi{construct(e,t,a){return new Ht(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ae(ge.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter((l=>l.length>0)))}return new Ht(t)}static emptyPath(){return new Ht([])}}const LM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends Fi{construct(e,t,a){return new Gn(e,t,a)}static isValidIdentifier(e){return LM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PN}static keyField(){return new Gn([PN])}static fromServerFormat(e){const t=[];let a="",l=0;const c=()=>{if(a.length===0)throw new Ae(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let d=!1;for(;l<e.length;){const f=e[l];if(f==="\\"){if(l+1===e.length)throw new Ae(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Ae(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,l+=2}else f==="`"?(d=!d,l++):f!=="."||d?(a+=f,l++):(c(),l++)}if(c(),d)throw new Ae(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(t)}static emptyPath(){return new Gn([])}}class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Ht.fromString(e))}static fromName(e){return new Ve(Ht.fromString(e).popFirst(5))}static empty(){return new Ve(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Ht(e.slice()))}}function Y_(s,e,t){if(!t)throw new Ae(ge.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function VM(s,e,t,a){if(e===!0&&a===!0)throw new Ae(ge.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function ON(s){if(!Ve.isDocumentKey(s))throw new Ae(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function LN(s){if(Ve.isDocumentKey(s))throw new Ae(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function K_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function vm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":He(12329,{type:typeof s})}function mo(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Ae(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vm(s);throw new Ae(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}function In(s,e){const t={typeString:s};return e&&(t.value=e),t}function zu(s,e){if(!K_(s))throw new Ae(ge.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){t=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){t=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){t=`Expected '${a}' field to equal '${c.value}'`;break}}if(t)throw new Ae(ge.INVALID_ARGUMENT,t);return!0}const VN=-62135596800,UN=1e6;class Kt{static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*UN);return new Kt(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<VN)throw new Ae(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UN}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zu(e,Kt._jsonSchema))return new Kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kt._jsonSchemaVersion="firestore/timestamp/1.0",Kt._jsonSchema={type:In("string",Kt._jsonSchemaVersion),seconds:In("number"),nanoseconds:In("number")};class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new Kt(0,0))}static max(){return new Qe(new Kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const vu=-1;function UM(s,e){const t=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Qe.fromTimestamp(a===1e9?new Kt(t+1,0):new Kt(t,a));return new va(l,Ve.empty(),e)}function zM(s){return new va(s.readTime,s.key,vu)}class va{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new va(Qe.min(),Ve.empty(),vu)}static max(){return new va(Qe.max(),Ve.empty(),vu)}}function FM(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=Ve.comparator(s.documentKey,e.documentKey),t!==0?t:ht(s.largestBatchId,e.largestBatchId))}const qM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ql(s){if(s.code!==ge.FAILED_PRECONDITION||s.message!==qM)throw s;Ce("LocalStore","Unexpectedly lost primary lease")}class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(t,c).next(a,l)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ye.reject(t)}static resolve(e){return new ye(((t,a)=>{t(e)}))}static reject(e){return new ye(((t,a)=>{a(e)}))}static waitFor(e){return new ye(((t,a)=>{let l=0,c=0,d=!1;e.forEach((f=>{++l,f.next((()=>{++c,d&&c===l&&t()}),(y=>a(y)))})),d=!0,c===l&&t()}))}static or(e){let t=ye.resolve(!1);for(const a of e)t=t.next((l=>l?ye.resolve(l):a()));return t}static forEach(e,t){const a=[];return e.forEach(((l,c)=>{a.push(t.call(this,l,c))})),this.waitFor(a)}static mapArray(e,t){return new ye(((a,l)=>{const c=e.length,d=new Array(c);let f=0;for(let y=0;y<c;y++){const g=y;t(e[g]).next((N=>{d[g]=N,++f,f===c&&a(d)}),(N=>l(N)))}}))}static doWhile(e,t){return new ye(((a,l)=>{const c=()=>{e()===!0?t().next((()=>{c()}),l):a()};c()}))}}function $M(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bl(s){return s.name==="IndexedDbTransactionError"}class Nm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>t.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nm.ce=-1;const wy=-1;function jm(s){return s==null}function Jh(s){return s===0&&1/s==-1/0}function HM(s){return typeof s=="number"&&Number.isInteger(s)&&!Jh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Q_="";function GM(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=zN(e)),e=WM(s.get(t),e);return zN(e)}function WM(s,e){let t=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":t+="";break;case Q_:t+="";break;default:t+=c}}return t}function zN(s){return s+Q_+""}function FN(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function Ma(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function X_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class en{constructor(e,t){this.comparator=e,this.root=t||Hn.EMPTY}insert(e,t){return new en(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new en(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return t+a.left.size;l<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,a)=>(e(t,a),!1)))}toString(){const e=[];return this.inorderTraversal(((t,a)=>(e.push(`${t}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}}class bh{constructor(e,t,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?a(e.key,t):1,t&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hn{constructor(e,t,a,l,c){this.key=e,this.value=t,this.color=a??Hn.RED,this.left=l??Hn.EMPTY,this.right=c??Hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,l,c){return new Hn(e??this.key,t??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,t,a),null):c===0?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),t(e,l.key)===0){if(l.right.isEmpty())return Hn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,t,a,l,c){return this}insert(e,t,a){return new Hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,a)=>(e(t),!1)))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qN(this.data.getIterator())}getIteratorFrom(e){return new qN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((a=>{t=t.add(a)})),t}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Mn(this.comparator);return t.data=e,t}}class qN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cs{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new Cs([])}unionWith(e){let t=new Mn(Gn.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Cs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Al(this.fields,e.fields,((t,a)=>t.isEqual(a)))}}class J_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new J_("Invalid base64 string: "+c):c}})(e);return new Wn(t)}static fromUint8Array(e){const t=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Wn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const a=new Uint8Array(t.length);for(let l=0;l<t.length;l++)a[l]=t.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wn.EMPTY_BYTE_STRING=new Wn("");const YM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(s){if(At(!!s,39018),typeof s=="string"){let e=0;const t=YM.exec(s);if(At(!!t,46558,{timestamp:s}),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:fn(s.seconds),nanos:fn(s.nanos)}}function fn(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ja(s){return typeof s=="string"?Wn.fromBase64String(s):Wn.fromUint8Array(s)}const Z_="server_timestamp",eE="__type__",tE="__previous_value__",nE="__local_write_time__";function _y(s){return(s?.mapValue?.fields||{})[eE]?.stringValue===Z_}function wm(s){const e=s.mapValue.fields[tE];return _y(e)?wm(e):e}function Nu(s){const e=Na(s.mapValue.fields[nE].timestampValue);return new Kt(e.seconds,e.nanos)}class KM{constructor(e,t,a,l,c,d,f,y,g,N,w){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=N,this.apiKey=w}}const Zh="(default)";class ju{constructor(e,t){this.projectId=e,this.database=t||Zh}static empty(){return new ju("","")}get isDefaultDatabase(){return this.database===Zh}isEqual(e){return e instanceof ju&&e.projectId===this.projectId&&e.database===this.database}}function QM(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Ae(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ju(s.options.projectId,e)}const sE="__type__",XM="__max__",vh={mapValue:{}},iE="__vector__",em="value";function wa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?_y(s)?4:ZM(s)?9007199254740991:JM(s)?10:11:He(28295,{value:s})}function Ki(s,e){if(s===e)return!0;const t=wa(s);if(t!==wa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Nu(s).isEqual(Nu(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Na(l.timestampValue),f=Na(c.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return ja(l.bytesValue).isEqual(ja(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return fn(l.geoPointValue.latitude)===fn(c.geoPointValue.latitude)&&fn(l.geoPointValue.longitude)===fn(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return fn(l.integerValue)===fn(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=fn(l.doubleValue),f=fn(c.doubleValue);return d===f?Jh(d)===Jh(f):isNaN(d)&&isNaN(f)}return!1})(s,e);case 9:return Al(s.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},f=c.mapValue.fields||{};if(FN(d)!==FN(f))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(f[y]===void 0||!Ki(d[y],f[y])))return!1;return!0})(s,e);default:return He(52216,{left:s})}}function wu(s,e){return(s.values||[]).find((t=>Ki(t,e)))!==void 0}function Cl(s,e){if(s===e)return 0;const t=wa(s),a=wa(e);if(t!==a)return ht(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return ht(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const f=fn(c.integerValue||c.doubleValue),y=fn(d.integerValue||d.doubleValue);return f<y?-1:f>y?1:f===y?0:isNaN(f)?isNaN(y)?0:-1:1})(s,e);case 3:return BN(s.timestampValue,e.timestampValue);case 4:return BN(Nu(s),Nu(e));case 5:return Np(s.stringValue,e.stringValue);case 6:return(function(c,d){const f=ja(c),y=ja(d);return f.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const f=c.split("/"),y=d.split("/");for(let g=0;g<f.length&&g<y.length;g++){const N=ht(f[g],y[g]);if(N!==0)return N}return ht(f.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const f=ht(fn(c.latitude),fn(d.latitude));return f!==0?f:ht(fn(c.longitude),fn(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return $N(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const f=c.fields||{},y=d.fields||{},g=f[em]?.arrayValue,N=y[em]?.arrayValue,w=ht(g?.values?.length||0,N?.values?.length||0);return w!==0?w:$N(g,N)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===vh.mapValue&&d===vh.mapValue)return 0;if(c===vh.mapValue)return 1;if(d===vh.mapValue)return-1;const f=c.fields||{},y=Object.keys(f),g=d.fields||{},N=Object.keys(g);y.sort(),N.sort();for(let w=0;w<y.length&&w<N.length;++w){const I=Np(y[w],N[w]);if(I!==0)return I;const M=Cl(f[y[w]],g[N[w]]);if(M!==0)return M}return ht(y.length,N.length)})(s.mapValue,e.mapValue);default:throw He(23264,{he:t})}}function BN(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ht(s,e);const t=Na(s),a=Na(e),l=ht(t.seconds,a.seconds);return l!==0?l:ht(t.nanos,a.nanos)}function $N(s,e){const t=s.values||[],a=e.values||[];for(let l=0;l<t.length&&l<a.length;++l){const c=Cl(t[l],a[l]);if(c)return c}return ht(t.length,a.length)}function Rl(s){return jp(s)}function jp(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(t){const a=Na(t);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(t){return ja(t).toBase64()})(s.bytesValue):"referenceValue"in s?(function(t){return Ve.fromName(t).toString()})(s.referenceValue):"geoPointValue"in s?(function(t){return`geo(${t.latitude},${t.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(t){let a="[",l=!0;for(const c of t.values||[])l?l=!1:a+=",",a+=jp(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(t){const a=Object.keys(t.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${jp(t.fields[d])}`;return l+"}"})(s.mapValue):He(61005,{value:s})}function Ph(s){switch(wa(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wm(s);return e?16+Ph(e):16;case 5:return 2*s.stringValue.length;case 6:return ja(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Ph(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Ma(a.fields,((c,d)=>{l+=c.length+Ph(d)})),l})(s.mapValue);default:throw He(13486,{value:s})}}function HN(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function wp(s){return!!s&&"integerValue"in s}function Ey(s){return!!s&&"arrayValue"in s}function GN(s){return!!s&&"nullValue"in s}function WN(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Oh(s){return!!s&&"mapValue"in s}function JM(s){return(s?.mapValue?.fields||{})[sE]?.stringValue===iE}function ru(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ma(s.mapValue.fields,((t,a)=>e.mapValue.fields[t]=ru(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ru(s.arrayValue.values[t]);return e}return{...s}}function ZM(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===XM}class ys{constructor(e){this.value=e}static empty(){return new ys({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Oh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(t)}setAll(e){let t=Gn.emptyPath(),a={},l=[];e.forEach(((d,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,a,l),a={},l=[],t=f.popLast()}d?a[f.lastSegment()]=ru(d):l.push(f.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,a,l)}delete(e){const t=this.field(e.popLast());Oh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=t.mapValue.fields[e.get(a)];Oh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,a){Ma(t,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new ys(ru(this.value))}}function rE(s){const e=[];return Ma(s.fields,((t,a)=>{const l=new Gn([t]);if(Oh(a)){const c=rE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Cs(e)}class es{constructor(e,t,a,l,c,d,f){this.key=e,this.documentType=t,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=f}static newInvalidDocument(e){return new es(e,0,Qe.min(),Qe.min(),Qe.min(),ys.empty(),0)}static newFoundDocument(e,t,a,l){return new es(e,1,t,Qe.min(),a,l,0)}static newNoDocument(e,t){return new es(e,2,t,Qe.min(),Qe.min(),ys.empty(),0)}static newUnknownDocument(e,t){return new es(e,3,t,Qe.min(),Qe.min(),ys.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ys.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ys.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof es&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new es(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tm{constructor(e,t){this.position=e,this.inclusive=t}}function YN(s,e,t){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=Ve.comparator(Ve.fromName(d.referenceValue),t.key):a=Cl(d,t.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function KN(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Ki(s.position[t],e.position[t]))return!1;return!0}class _u{constructor(e,t="asc"){this.field=e,this.dir=t}}function eD(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class aE{}class Tn extends aE{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new nD(e,t,a):t==="array-contains"?new rD(e,a):t==="in"?new aD(e,a):t==="not-in"?new oD(e,a):t==="array-contains-any"?new lD(e,a):new Tn(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new sD(e,a):new iD(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Cl(t,this.value)):t!==null&&wa(this.value)===wa(t)&&this.matchesComparison(Cl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends aE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new bi(e,t)}matches(e){return oE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oE(s){return s.op==="and"}function lE(s){return tD(s)&&oE(s)}function tD(s){for(const e of s.filters)if(e instanceof bi)return!1;return!0}function _p(s){if(s instanceof Tn)return s.field.canonicalString()+s.op.toString()+Rl(s.value);if(lE(s))return s.filters.map((e=>_p(e))).join(",");{const e=s.filters.map((t=>_p(t))).join(",");return`${s.op}(${e})`}}function cE(s,e){return s instanceof Tn?(function(a,l){return l instanceof Tn&&a.op===l.op&&a.field.isEqual(l.field)&&Ki(a.value,l.value)})(s,e):s instanceof bi?(function(a,l){return l instanceof bi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,f)=>c&&cE(d,l.filters[f])),!0):!1})(s,e):void He(19439)}function uE(s){return s instanceof Tn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Rl(t.value)}`})(s):s instanceof bi?(function(t){return t.op.toString()+" {"+t.getFilters().map(uE).join(" ,")+"}"})(s):"Filter"}class nD extends Tn{constructor(e,t,a){super(e,t,a),this.key=Ve.fromName(a.referenceValue)}matches(e){const t=Ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class sD extends Tn{constructor(e,t){super(e,"in",t),this.keys=dE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class iD extends Tn{constructor(e,t){super(e,"not-in",t),this.keys=dE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function dE(s,e){return(e.arrayValue?.values||[]).map((t=>Ve.fromName(t.referenceValue)))}class rD extends Tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ey(t)&&wu(t.arrayValue,this.value)}}class aD extends Tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wu(this.value.arrayValue,t)}}class oD extends Tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!wu(this.value.arrayValue,t)}}class lD extends Tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ey(t)||!t.arrayValue.values)&&t.arrayValue.values.some((a=>wu(this.value.arrayValue,a)))}}class cD{constructor(e,t=null,a=[],l=[],c=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=f,this.Te=null}}function QN(s,e=null,t=[],a=[],l=null,c=null,d=null){return new cD(s,e,t,a,l,c,d)}function Ty(s){const e=Ze(s);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((a=>_p(a))).join(","),t+="|ob:",t+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),jm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((a=>Rl(a))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((a=>Rl(a))).join(",")),e.Te=t}return e.Te}function Iy(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!eD(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!cE(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!KN(s.startAt,e.startAt)&&KN(s.endAt,e.endAt)}function Ep(s){return Ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class $l{constructor(e,t=null,a=[],l=[],c=null,d="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=f,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function uD(s,e,t,a,l,c,d,f){return new $l(s,e,t,a,l,c,d,f)}function Sy(s){return new $l(s)}function XN(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function dD(s){return Ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function hE(s){return s.collectionGroup!==null}function au(s){const e=Ze(s);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new Mn(Gn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new _u(c,a))})),t.has(Gn.keyField().canonicalString())||e.Ie.push(new _u(Gn.keyField(),a))}return e.Ie}function Bi(s){const e=Ze(s);return e.Ee||(e.Ee=hD(e,au(s))),e.Ee}function hD(s,e){if(s.limitType==="F")return QN(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new _u(l.field,c)}));const t=s.endAt?new tm(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new tm(s.startAt.position,s.startAt.inclusive):null;return QN(s.path,s.collectionGroup,e,s.filters,s.limit,t,a)}}function Tp(s,e){const t=s.filters.concat([e]);return new $l(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function mD(s,e){const t=s.explicitOrderBy.concat([e]);return new $l(s.path,s.collectionGroup,t,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Ip(s,e,t){return new $l(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function _m(s,e){return Iy(Bi(s),Bi(e))&&s.limitType===e.limitType}function mE(s){return`${Ty(Bi(s))}|lt:${s.limitType}`}function gl(s){return`Query(target=${(function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map((l=>uE(l))).join(", ")}]`),jm(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((l=>Rl(l))).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((l=>Rl(l))).join(",")),`Target(${a})`})(Bi(s))}; limitType=${s.limitType})`}function Em(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Ve.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of au(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,f,y){const g=YN(d,f,y);return d.inclusive?g<=0:g<0})(a.startAt,au(a),l)||a.endAt&&!(function(d,f,y){const g=YN(d,f,y);return d.inclusive?g>=0:g>0})(a.endAt,au(a),l))})(s,e)}function fD(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function fE(s){return(e,t)=>{let a=!1;for(const l of au(s)){const c=gD(l,e,t);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function gD(s,e,t){const a=s.field.isKeyField()?Ve.comparator(e.key,t.key):(function(c,d,f){const y=d.data.field(c),g=f.data.field(c);return y!==null&&g!==null?Cl(y,g):He(42886)})(s.field,e,t);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return He(19790,{direction:s.dir})}}class Eo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[t]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,((t,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return X_(this.inner)}size(){return this.innerSize}}const pD=new en(Ve.comparator);function Sr(){return pD}const gE=new en(Ve.comparator);function Xc(...s){let e=gE;for(const t of s)e=e.insert(t.key,t);return e}function pE(s){let e=gE;return s.forEach(((t,a)=>e=e.insert(t,a.overlayedDocument))),e}function co(){return ou()}function yE(){return ou()}function ou(){return new Eo((s=>s.toString()),((s,e)=>s.isEqual(e)))}const yD=new en(Ve.comparator),xD=new Mn(Ve.comparator);function ft(...s){let e=xD;for(const t of s)e=e.add(t);return e}const bD=new Mn(ht);function vD(){return bD}function Ay(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jh(e)?"-0":e}}function xE(s){return{integerValue:""+s}}function ND(s,e){return HM(e)?xE(e):Ay(s,e)}class Tm{constructor(){this._=void 0}}function jD(s,e,t){return s instanceof Eu?(function(l,c){const d={fields:{[eE]:{stringValue:Z_},[nE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&_y(c)&&(c=wm(c)),c&&(d.fields[tE]=c),{mapValue:d}})(t,e):s instanceof Tu?vE(s,e):s instanceof Iu?NE(s,e):(function(l,c){const d=bE(l,c),f=JN(d)+JN(l.Ae);return wp(d)&&wp(l.Ae)?xE(f):Ay(l.serializer,f)})(s,e)}function wD(s,e,t){return s instanceof Tu?vE(s,e):s instanceof Iu?NE(s,e):t}function bE(s,e){return s instanceof nm?(function(a){return wp(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Eu extends Tm{}class Tu extends Tm{constructor(e){super(),this.elements=e}}function vE(s,e){const t=jE(e);for(const a of s.elements)t.some((l=>Ki(l,a)))||t.push(a);return{arrayValue:{values:t}}}class Iu extends Tm{constructor(e){super(),this.elements=e}}function NE(s,e){let t=jE(e);for(const a of s.elements)t=t.filter((l=>!Ki(l,a)));return{arrayValue:{values:t}}}class nm extends Tm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function JN(s){return fn(s.integerValue||s.doubleValue)}function jE(s){return Ey(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class _D{constructor(e,t){this.field=e,this.transform=t}}function ED(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof Tu&&l instanceof Tu||a instanceof Iu&&l instanceof Iu?Al(a.elements,l.elements,Ki):a instanceof nm&&l instanceof nm?Ki(a.Ae,l.Ae):a instanceof Eu&&l instanceof Eu})(s.transform,e.transform)}class TD{constructor(e,t){this.version=e,this.transformResults=t}}class $i{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Im{}function wE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new EE(s.key,$i.none()):new Fu(s.key,s.data,$i.none());{const t=s.data,a=ys.empty();let l=new Mn(Gn.comparator);for(let c of e.fields)if(!l.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Da(s.key,a,new Cs(l.toArray()),$i.none())}}function ID(s,e,t){s instanceof Fu?(function(l,c,d){const f=l.value.clone(),y=ej(l.fieldTransforms,c,d.transformResults);f.setAll(y),c.convertToFoundDocument(d.version,f).setHasCommittedMutations()})(s,e,t):s instanceof Da?(function(l,c,d){if(!Lh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const f=ej(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(_E(l)),y.setAll(f),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,t):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,t)}function lu(s,e,t,a){return s instanceof Fu?(function(c,d,f,y){if(!Lh(c.precondition,d))return f;const g=c.value.clone(),N=tj(c.fieldTransforms,y,d);return g.setAll(N),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null})(s,e,t,a):s instanceof Da?(function(c,d,f,y){if(!Lh(c.precondition,d))return f;const g=tj(c.fieldTransforms,y,d),N=d.data;return N.setAll(_E(c)),N.setAll(g),d.convertToFoundDocument(d.version,N).setHasLocalMutations(),f===null?null:f.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,t,a):(function(c,d,f){return Lh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f})(s,e,t)}function SD(s,e){let t=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=bE(a.transform,l||null);c!=null&&(t===null&&(t=ys.empty()),t.set(a.field,c))}return t||null}function ZN(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Al(a,l,((c,d)=>ED(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Fu extends Im{constructor(e,t,a,l=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Da extends Im{constructor(e,t,a,l,c=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function _E(s){const e=new Map;return s.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const a=s.data.field(t);e.set(t,a)}})),e}function ej(s,e,t){const a=new Map;At(s.length===t.length,32656,{Ve:t.length,de:s.length});for(let l=0;l<t.length;l++){const c=s[l],d=c.transform,f=e.data.field(c.field);a.set(c.field,wD(d,f,t[l]))}return a}function tj(s,e,t){const a=new Map;for(const l of s){const c=l.transform,d=t.data.field(l.field);a.set(l.field,jD(c,d,e))}return a}class EE extends Im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AD extends Im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CD{constructor(e,t,a,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&ID(c,e,a[l])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=lu(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=lu(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=yE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let f=this.applyToLocalView(d,c.mutatedFields);f=t.has(l.key)?null:f;const y=wE(d,f);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Qe.min())})),a}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ft())}isEqual(e){return this.batchId===e.batchId&&Al(this.mutations,e.mutations,((t,a)=>ZN(t,a)))&&Al(this.baseMutations,e.baseMutations,((t,a)=>ZN(t,a)))}}class Cy{constructor(e,t,a,l){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=l}static from(e,t,a){At(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return yD})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Cy(e,t,a,l)}}class RD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class MD{constructor(e,t){this.count=e,this.unchangedNames=t}}var En,yt;function DD(s){switch(s){case ge.OK:return He(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return He(15467,{code:s})}}function TE(s){if(s===void 0)return Ir("GRPC error has no .code"),ge.UNKNOWN;switch(s){case En.OK:return ge.OK;case En.CANCELLED:return ge.CANCELLED;case En.UNKNOWN:return ge.UNKNOWN;case En.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case En.INTERNAL:return ge.INTERNAL;case En.UNAVAILABLE:return ge.UNAVAILABLE;case En.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case En.NOT_FOUND:return ge.NOT_FOUND;case En.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case En.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case En.ABORTED:return ge.ABORTED;case En.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case En.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case En.DATA_LOSS:return ge.DATA_LOSS;default:return He(39323,{code:s})}}(yt=En||(En={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";function kD(){return new TextEncoder}const PD=new ya([4294967295,4294967295],0);function nj(s){const e=kD().encode(s),t=new z_;return t.update(e),new Uint8Array(t.digest())}function sj(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ya([t,a],0),new ya([l,c],0)]}class Ry{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new Jc(`Invalid padding: ${t}`);if(a<0)throw new Jc(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Jc(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new Jc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ya.fromNumber(this.ge)}ye(e,t,a){let l=e.add(t.multiply(ya.fromNumber(a)));return l.compare(PD)===1&&(l=new ya([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=nj(e),[a,l]=sj(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,t,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Ry(c,l,t);return a.forEach((f=>d.insert(f))),d}insert(e){if(this.ge===0)return;const t=nj(e),[a,l]=sj(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class Jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sm{constructor(e,t,a,l,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const l=new Map;return l.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Sm(Qe.min(),l,new en(ht),Sr(),ft())}}class qu{constructor(e,t,a,l,c){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new qu(a,t,ft(),ft(),ft())}}class Vh{constructor(e,t,a,l){this.Se=e,this.removedTargetIds=t,this.key=a,this.De=l}}class IE{constructor(e,t){this.targetId=e,this.Ce=t}}class SE{constructor(e,t,a=Wn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=l}}class ij{constructor(){this.ve=0,this.Fe=rj(),this.Me=Wn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ft(),t=ft(),a=ft();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:a=a.add(l);break;default:He(38017,{changeType:c})}})),new qu(this.Me,this.xe,e,t,a)}Ke(){this.Oe=!1,this.Fe=rj()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,At(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class OD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sr(),this.He=Nh(),this.Je=Nh(),this.Ze=new en(ht)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const a=this.nt(t);switch(e.state){case 0:this.rt(t)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),a.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((a,l)=>{this.rt(l)&&t(l)}))}st(e){const t=e.targetId,a=e.Ce.count,l=this.ot(t);if(l){const c=l.target;if(Ep(c))if(a===0){const d=new Ve(c.path);this.et(t,d,es.newNoDocument(d,Qe.min()))}else At(a===1,20013,{expectedCount:a});else{const d=this._t(t);if(d!==a){const f=this.ut(e),y=f?this.ct(f,e,d):1;if(y!==0){this.it(t);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=t;let d,f;try{d=ja(a).toUint8Array()}catch(y){if(y instanceof J_)return Sl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{f=new Ry(d,l,c)}catch(y){return Sl(y instanceof Jc?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return f.ge===0?null:f}ct(e,t,a){return t.Ce.count===a-this.Pt(e,t.targetId)?0:2}Pt(e,t){const a=this.Ge.getRemoteKeysForTarget(t);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),f=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(f)||(this.et(t,c,null),l++)})),l}Tt(e){const t=new Map;this.ze.forEach(((c,d)=>{const f=this.ot(d);if(f){if(c.current&&Ep(f.target)){const y=new Ve(f.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,es.newNoDocument(y,e))}c.Be&&(t.set(d,c.ke()),c.Ke())}}));let a=ft();this.Je.forEach(((c,d)=>{let f=!0;d.forEachWhile((y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Sm(e,t,this.Ze,this.je,a);return this.je=Sr(),this.He=Nh(),this.Je=Nh(),this.Ze=new en(ht),l}Ye(e,t){if(!this.rt(e))return;const a=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,a),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,t)?l.qe(t,1):l.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),a&&(this.je=this.je.insert(t,a))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new ij,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Mn(ht),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Mn(ht),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ij),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Nh(){return new en(Ve.comparator)}function rj(){return new en(Ve.comparator)}const LD={asc:"ASCENDING",desc:"DESCENDING"},VD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UD={and:"AND",or:"OR"};class zD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sp(s,e){return s.useProto3Json||jm(e)?e:{value:e}}function sm(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function FD(s,e){return sm(s,e.toTimestamp())}function Hi(s){return At(!!s,49232),Qe.fromTimestamp((function(t){const a=Na(t);return new Kt(a.seconds,a.nanos)})(s))}function My(s,e){return Ap(s,e).canonicalString()}function Ap(s,e){const t=(function(l){return new Ht(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?t:t.child(e)}function CE(s){const e=Ht.fromString(s);return At(PE(e),10190,{key:e.toString()}),e}function Cp(s,e){return My(s.databaseId,e.path)}function Qg(s,e){const t=CE(e);if(t.get(1)!==s.databaseId.projectId)throw new Ae(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new Ae(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new Ve(ME(t))}function RE(s,e){return My(s.databaseId,e)}function qD(s){const e=CE(s);return e.length===4?Ht.emptyPath():ME(e)}function Rp(s){return new Ht(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ME(s){return At(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function aj(s,e,t){return{name:Cp(s,e),fields:t.value.mapValue.fields}}function BD(s,e){let t;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:He(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(g,N){return g.useProto3Json?(At(N===void 0||typeof N=="string",58123),Wn.fromBase64String(N||"")):(At(N===void 0||N instanceof Buffer||N instanceof Uint8Array,16193),Wn.fromUint8Array(N||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&(function(g){const N=g.code===void 0?ge.UNKNOWN:TE(g.code);return new Ae(N,g.message||"")})(d);t=new SE(a,l,c,f||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Qg(s,a.document.name),c=Hi(a.document.updateTime),d=a.document.createTime?Hi(a.document.createTime):Qe.min(),f=new ys({mapValue:{fields:a.document.fields}}),y=es.newFoundDocument(l,c,d,f),g=a.targetIds||[],N=a.removedTargetIds||[];t=new Vh(g,N,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Qg(s,a.document),c=a.readTime?Hi(a.readTime):Qe.min(),d=es.newNoDocument(l,c),f=a.removedTargetIds||[];t=new Vh([],f,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Qg(s,a.document),c=a.removedTargetIds||[];t=new Vh([],c,l,null)}else{if(!("filter"in e))return He(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new MD(l,c),f=a.targetId;t=new IE(f,d)}}return t}function $D(s,e){let t;if(e instanceof Fu)t={update:aj(s,e.key,e.value)};else if(e instanceof EE)t={delete:Cp(s,e.key)};else if(e instanceof Da)t={update:aj(s,e.key,e.data),updateMask:ZD(e.fieldMask)};else{if(!(e instanceof AD))return He(16599,{dt:e.type});t={verify:Cp(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const f=d.transform;if(f instanceof Eu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Tu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Iu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof nm)return{fieldPath:d.field.canonicalString(),increment:f.Ae};throw He(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(t.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:FD(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:He(27497)})(s,e.precondition)),t}function HD(s,e){return s&&s.length>0?(At(e!==void 0,14353),s.map((t=>(function(l,c){let d=l.updateTime?Hi(l.updateTime):Hi(c);return d.isEqual(Qe.min())&&(d=Hi(c)),new TD(d,l.transformResults||[])})(t,e)))):[]}function GD(s,e){return{documents:[RE(s,e.path)]}}function WD(s,e){const t={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=RE(s,l);const c=(function(g){if(g.length!==0)return kE(bi.create(g,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const d=(function(g){if(g.length!==0)return g.map((N=>(function(I){return{field:pl(I.field),direction:QD(I.dir)}})(N)))})(e.orderBy);d&&(t.structuredQuery.orderBy=d);const f=Sp(s,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:l}}function YD(s){let e=qD(s.parent);const t=s.structuredQuery,a=t.from?t.from.length:0;let l=null;if(a>0){At(a===1,65062);const N=t.from[0];N.allDescendants?l=N.collectionId:e=e.child(N.collectionId)}let c=[];t.where&&(c=(function(w){const I=DE(w);return I instanceof bi&&lE(I)?I.getFilters():[I]})(t.where));let d=[];t.orderBy&&(d=(function(w){return w.map((I=>(function(G){return new _u(yl(G.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(I)))})(t.orderBy));let f=null;t.limit&&(f=(function(w){let I;return I=typeof w=="object"?w.value:w,jm(I)?null:I})(t.limit));let y=null;t.startAt&&(y=(function(w){const I=!!w.before,M=w.values||[];return new tm(M,I)})(t.startAt));let g=null;return t.endAt&&(g=(function(w){const I=!w.before,M=w.values||[];return new tm(M,I)})(t.endAt)),uD(e,l,d,c,f,"F",y,g)}function KD(s,e){const t=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:l})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DE(s){return s.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=yl(t.unaryFilter.field);return Tn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=yl(t.unaryFilter.field);return Tn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=yl(t.unaryFilter.field);return Tn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=yl(t.unaryFilter.field);return Tn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(s):s.fieldFilter!==void 0?(function(t){return Tn.create(yl(t.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(t){return bi.create(t.compositeFilter.filters.map((a=>DE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(t.compositeFilter.op))})(s):He(30097,{filter:s})}function QD(s){return LD[s]}function XD(s){return VD[s]}function JD(s){return UD[s]}function pl(s){return{fieldPath:s.canonicalString()}}function yl(s){return Gn.fromServerFormat(s.fieldPath)}function kE(s){return s instanceof Tn?(function(t){if(t.op==="=="){if(WN(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NAN"}};if(GN(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(WN(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NAN"}};if(GN(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(t.field),op:XD(t.op),value:t.value}}})(s):s instanceof bi?(function(t){const a=t.getFilters().map((l=>kE(l)));return a.length===1?a[0]:{compositeFilter:{op:JD(t.op),filters:a}}})(s):He(54877,{filter:s})}function ZD(s){const e=[];return s.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function PE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function OE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class ma{constructor(e,t,a,l,c=Qe.min(),d=Qe.min(),f=Wn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=y}withSequenceNumber(e){return new ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ek{constructor(e){this.yt=e}}function tk(s){const e=YD({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Ip(e,e.limit,"L"):e}class nk{constructor(){this.Sn=new sk}addToCollectionParentIndex(e,t){return this.Sn.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(va.min())}getMinOffsetFromCollectionGroup(e,t){return ye.resolve(va.min())}updateCollectionGroup(e,t,a){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class sk{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),l=this.index[t]||new Mn(Ht.comparator),c=!l.has(a);return this.index[t]=l.add(a),c}has(e){const t=e.lastSegment(),a=e.popLast(),l=this.index[t];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Mn(Ht.comparator)).toArray()}}const oj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LE=41943040;class ps{static withCacheSize(e){return new ps(e,ps.DEFAULT_COLLECTION_PERCENTILE,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}ps.DEFAULT_COLLECTION_PERCENTILE=10,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ps.DEFAULT=new ps(LE,ps.DEFAULT_COLLECTION_PERCENTILE,ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ps.DISABLED=new ps(-1,0,0);class Ml{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ml(0)}static ar(){return new Ml(-1)}}const lj="LruGarbageCollector",ik=1048576;function cj([s,e],[t,a]){const l=ht(s,t);return l===0?ht(e,a):l}class rk{constructor(e){this.Pr=e,this.buffer=new Mn(cj),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();cj(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ak{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ce(lj,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bl(t)?Ce(lj,"Ignoring IndexedDB error during garbage collection: ",t):await ql(t)}await this.Ar(3e5)}))}}class ok{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((a=>Math.floor(t/100*a)))}nthSequenceNumber(e,t){if(t===0)return ye.resolve(Nm.ce);const a=new rk(t);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,t,a){return this.Vr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(oj)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oj):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let a,l,c,d,f,y,g;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(a=w,f=Date.now(),this.removeTargets(e,a,t)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(g=Date.now(),fl()<=dt.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-N}ms
	Determined least recently used ${l} in `+(f-d)+`ms
	Removed ${c} targets in `+(y-f)+`ms
	Removed ${w} documents in `+(g-y)+`ms
Total Duration: ${g-N}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function lk(s,e){return new ok(s,e)}class ck{constructor(){this.changes=new Eo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,es.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ye.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class dk{constructor(e,t,a,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,t)))).next((l=>(a!==null&&lu(a.mutation,l,Cs.empty(),Kt.now()),l)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.getLocalViewOfDocuments(e,a,ft()).next((()=>a))))}getLocalViewOfDocuments(e,t,a=ft()){const l=co();return this.populateOverlays(e,l,t).next((()=>this.computeViews(e,t,l,a).next((c=>{let d=Xc();return c.forEach(((f,y)=>{d=d.insert(f,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,t){const a=co();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,ft())))}populateOverlays(e,t,a){const l=[];return a.forEach((c=>{t.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,f)=>{t.set(d,f)}))}))}computeViews(e,t,a,l){let c=Sr();const d=ou(),f=(function(){return ou()})();return t.forEach(((y,g)=>{const N=a.get(g.key);l.has(g.key)&&(N===void 0||N.mutation instanceof Da)?c=c.insert(g.key,g):N!==void 0?(d.set(g.key,N.mutation.getFieldMask()),lu(N.mutation,g,N.mutation.getFieldMask(),Kt.now())):d.set(g.key,Cs.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((g,N)=>d.set(g,N))),t.forEach(((g,N)=>f.set(g,new uk(N,d.get(g)??null)))),f)))}recalculateAndSaveOverlays(e,t){const a=ou();let l=new en(((d,f)=>d-f)),c=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((d=>{for(const f of d)f.keys().forEach((y=>{const g=t.get(y);if(g===null)return;let N=a.get(y)||Cs.empty();N=f.applyToLocalView(g,N),a.set(y,N);const w=(l.get(f.batchId)||ft()).add(y);l=l.insert(f.batchId,w)}))})).next((()=>{const d=[],f=l.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),g=y.key,N=y.value,w=yE();N.forEach((I=>{if(!c.has(I)){const M=wE(t.get(I),a.get(I));M!==null&&w.set(I,M),c=c.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ye.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,t,a,l){return dD(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,l):this.getDocumentsMatchingCollectionQuery(e,t,a,l)}getNextDocuments(e,t,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,l-c.size):ye.resolve(co());let f=vu,y=c;return d.next((g=>ye.forEach(g,((N,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),c.get(N)?ye.resolve():this.remoteDocumentCache.getEntry(e,N).next((I=>{y=y.insert(N,I)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,y,g,ft()))).next((N=>({batchId:f,changes:pE(N)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ve(t)).next((a=>{let l=Xc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,t,a,l){const c=t.collectionGroup;let d=Xc();return this.indexManager.getCollectionParents(e,c).next((f=>ye.forEach(f,(y=>{const g=(function(w,I){return new $l(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,a,l).next((N=>{N.forEach(((w,I)=>{d=d.insert(w,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,t,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,c,l)))).next((d=>{c.forEach(((y,g)=>{const N=g.getKey();d.get(N)===null&&(d=d.insert(N,es.newInvalidDocument(N)))}));let f=Xc();return d.forEach(((y,g)=>{const N=c.get(y);N!==void 0&&lu(N.mutation,g,Cs.empty(),Kt.now()),Em(t,g)&&(f=f.insert(y,g))})),f}))}}class hk{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ye.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(l){return{id:l.id,version:l.version,createTime:Hi(l.createTime)}})(t)),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(l){return{name:l.name,query:tk(l.bundledQuery),readTime:Hi(l.readTime)}})(t)),ye.resolve()}}class mk{constructor(){this.overlays=new en(Ve.comparator),this.Lr=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}getOverlays(e,t){const a=co();return ye.forEach(t,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,t,a){return a.forEach(((l,c)=>{this.bt(e,t,c)})),ye.resolve()}removeOverlaysForBatchId(e,t,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),ye.resolve()}getOverlaysForCollection(e,t,a){const l=co(),c=t.length+1,d=new Ve(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const y=f.getNext().value,g=y.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return ye.resolve(l)}getOverlaysForCollectionGroup(e,t,a,l){let c=new en(((g,N)=>g-N));const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let N=c.get(g.largestBatchId);N===null&&(N=co(),c=c.insert(g.largestBatchId,N)),N.set(g.getKey(),g)}}const f=co(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,N)=>f.set(g,N))),!(f.size()>=l)););return ye.resolve(f)}bt(e,t,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new RD(t,a));let c=this.Lr.get(t);c===void 0&&(c=ft(),this.Lr.set(t,c)),this.Lr.set(t,c.add(a.key))}}class fk{constructor(){this.sessionToken=Wn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ye.resolve()}}class Dy{constructor(){this.kr=new Mn(Ln.Kr),this.qr=new Mn(Ln.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const a=new Ln(e,t);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,t){e.forEach((a=>this.addReference(a,t)))}removeReference(e,t){this.Wr(new Ln(e,t))}Qr(e,t){e.forEach((a=>this.removeReference(a,t)))}Gr(e){const t=new Ve(new Ht([])),a=new Ln(t,e),l=new Ln(t,e+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Ve(new Ht([])),a=new Ln(t,e),l=new Ln(t,e+1);let c=ft();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const t=new Ln(e,0),a=this.kr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class Ln{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Ve.comparator(e.key,t.key)||ht(e.Hr,t.Hr)}static Ur(e,t){return ht(e.Hr,t.Hr)||Ve.comparator(e.key,t.key)}}class gk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Mn(Ln.Kr)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new CD(c,t,a,l);this.mutationQueue.push(d);for(const f of l)this.Jr=this.Jr.add(new Ln(f.key,c)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ye.resolve(d)}lookupMutationBatch(e,t){return ye.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,l=this.Xr(a),c=l<0?0:l;return ye.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?wy:this.Yn-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Ln(t,0),l=new Ln(t,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const f=this.Zr(d.Hr);c.push(f)})),ye.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Mn(ht);return t.forEach((l=>{const c=new Ln(l,0),d=new Ln(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(f=>{a=a.add(f.Hr)}))})),ye.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,l=a.length+1;let c=a;Ve.isDocumentKey(c)||(c=c.child(""));const d=new Ln(new Ve(c),0);let f=new Mn(ht);return this.Jr.forEachWhile((y=>{const g=y.key.path;return!!a.isPrefixOf(g)&&(g.length===l&&(f=f.add(y.Hr)),!0)}),d),ye.resolve(this.Yr(f))}Yr(e){const t=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&t.push(l)})),t}removeMutationBatch(e,t){At(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return ye.forEach(t.mutations,(l=>{const c=new Ln(l.key,t.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,t){const a=new Ln(t,0),l=this.Jr.firstAfterOrEqual(a);return ye.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pk{constructor(e){this.ti=e,this.docs=(function(){return new en(Ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ye.resolve(a?a.document.mutableCopy():es.newInvalidDocument(t))}getEntries(e,t){let a=Sr();return t.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():es.newInvalidDocument(l))})),ye.resolve(a)}getDocumentsMatchingQuery(e,t,a,l){let c=Sr();const d=t.path,f=new Ve(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:g,value:{document:N}}=y.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||FM(zM(N),a)<=0||(l.has(N.key)||Em(t,N))&&(c=c.insert(N.key,N.mutableCopy()))}return ye.resolve(c)}getAllFromCollectionGroup(e,t,a,l){He(9500)}ni(e,t){return ye.forEach(this.docs,(a=>t(a)))}newChangeBuffer(e){return new yk(this)}getSize(e){return ye.resolve(this.size)}}class yk extends ck{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?t.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),ye.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class xk{constructor(e){this.persistence=e,this.ri=new Eo((t=>Ty(t)),Iy),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.ii=0,this.si=new Dy,this.targetCount=0,this.oi=Ml._r()}forEachTarget(e,t){return this.ri.forEach(((a,l)=>t(l))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.ii&&(this.ii=t),ye.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Ml(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.lr(t),ye.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,a){let l=0;const c=[];return this.ri.forEach(((d,f)=>{f.sequenceNumber<=t&&a.get(f.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,f.targetId)),l++)})),ye.waitFor(c).next((()=>l))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const a=this.ri.get(t)||null;return ye.resolve(a)}addMatchingKeys(e,t,a){return this.si.$r(t,a),ye.resolve()}removeMatchingKeys(e,t,a){this.si.Qr(t,a);const l=this.persistence.referenceDelegate,c=[];return l&&t.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),ye.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const a=this.si.jr(t);return ye.resolve(a)}containsKey(e,t){return ye.resolve(this.si.containsKey(t))}}class VE{constructor(e,t){this._i={},this.overlays={},this.ai=new Nm(0),this.ui=!1,this.ui=!0,this.ci=new fk,this.referenceDelegate=e(this),this.li=new xk(this),this.indexManager=new nk,this.remoteDocumentCache=(function(l){return new pk(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new ek(t),this.Pi=new hk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this._i[e.toKey()];return a||(a=new gk(t,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,a){Ce("MemoryPersistence","Starting transaction:",e);const l=new bk(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,t){return ye.or(Object.values(this._i).map((a=>()=>a.containsKey(e,t))))}}class bk extends BM{constructor(e){super(),this.currentSequenceNumber=e}}class ky{constructor(e){this.persistence=e,this.Ri=new Dy,this.Ai=null}static Vi(e){return new ky(e)}get di(){if(this.Ai)return this.Ai;throw He(60996)}addReference(e,t,a){return this.Ri.addReference(a,t),this.di.delete(a.toString()),ye.resolve()}removeReference(e,t,a){return this.Ri.removeReference(a,t),this.di.add(a.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.di,(a=>{const l=Ve.fromPath(a);return this.mi(e,l).next((c=>{c||t.removeEntry(l,Qe.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((a=>{a?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ye.or([()=>ye.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class im{constructor(e,t){this.persistence=e,this.fi=new Eo((a=>GM(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=lk(this,t)}static Vi(e,t){return new im(e,t)}Ti(){}Ii(e){return ye.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>t.next((l=>a+l))))}pr(e){let t=0;return this.mr(e,(a=>{t++})).next((()=>t))}mr(e,t){return ye.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((c=>c?ye.resolve():t(l)))))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,t).next((f=>{f||(a++,c.removeEntry(d,Qe.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ye.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.fi.set(a,e.currentSequenceNumber),ye.resolve()}removeReference(e,t,a){return this.fi.set(a,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ye.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ph(e.data.value)),t}wr(e,t,a){return ye.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const l=this.fi.get(t);return ye.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Py{constructor(e,t,a,l){this.targetId=e,this.fromCache=t,this.Ts=a,this.Is=l}static Es(e,t){let a=ft(),l=ft();for(const c of t.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Py(e,t.fromCache,a,l)}}class vk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Nk{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return wS()?8:$M(ts())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,a,l){const c={result:null};return this.gs(e,t).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,t,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new vk;return this.ys(e,t,d).next((f=>{if(c.result=f,this.As)return this.ws(e,t,d,f.size)}))})).next((()=>c.result))}ws(e,t,a,l){return a.documentReadCount<this.Vs?(fl()<=dt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",gl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ye.resolve()):(fl()<=dt.DEBUG&&Ce("QueryEngine","Query:",gl(t),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(fl()<=dt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",gl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(t))):ye.resolve())}gs(e,t){if(XN(t))return ye.resolve(null);let a=Bi(t);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(t.limit!==null&&l===1&&(t=Ip(t,null,"F"),a=Bi(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=ft(...c);return this.fs.getDocuments(e,d).next((f=>this.indexManager.getMinOffset(e,a).next((y=>{const g=this.bs(t,f);return this.Ss(t,g,d,y.readTime)?this.gs(e,Ip(t,null,"F")):this.Ds(e,g,t,y)}))))})))))}ps(e,t,a,l){return XN(t)||l.isEqual(Qe.min())?ye.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(t,c);return this.Ss(t,d,a,l)?ye.resolve(null):(fl()<=dt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),gl(t)),this.Ds(e,d,t,UM(l,vu)).next((f=>f)))}))}bs(e,t){let a=new Mn(fE(e));return t.forEach(((l,c)=>{Em(e,c)&&(a=a.add(c))})),a}Ss(e,t,a,l){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,t,a){return fl()<=dt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",gl(t)),this.fs.getDocumentsMatchingQuery(e,t,va.min(),a)}Ds(e,t,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((c=>(t.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Oy="LocalStore",jk=3e8;class wk{constructor(e,t,a,l){this.persistence=e,this.Cs=t,this.serializer=l,this.vs=new en(ht),this.Fs=new Eo((c=>Ty(c)),Iy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dk(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function _k(s,e,t,a){return new wk(s,e,t,a)}async function UE(s,e){const t=Ze(s);return await t.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return t.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,t.Os(e),t.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],f=[];let y=ft();for(const g of l){d.push(g.batchId);for(const N of g.mutations)y=y.add(N.key)}for(const g of c){f.push(g.batchId);for(const N of g.mutations)y=y.add(N.key)}return t.localDocuments.getDocuments(a,y).next((g=>({Ns:g,removedBatchIds:d,addedBatchIds:f})))}))}))}function Ek(s,e){const t=Ze(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=t.xs.newChangeBuffer({trackRemovals:!0});return(function(f,y,g,N){const w=g.batch,I=w.keys();let M=ye.resolve();return I.forEach((G=>{M=M.next((()=>N.getEntry(y,G))).next((W=>{const $=g.docVersions.get(G);At($!==null,48541),W.version.compareTo($)<0&&(w.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),N.addEntry(W)))}))})),M.next((()=>f.mutationQueue.removeMutationBatch(y,w)))})(t,a,e,c).next((()=>c.apply(a))).next((()=>t.mutationQueue.performConsistencyCheck(a))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(f){let y=ft();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(y=y.add(f.batch.mutations[g].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(a,l)))}))}function zE(s){const e=Ze(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function Tk(s,e){const t=Ze(s),a=e.snapshotVersion;let l=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=t.xs.newChangeBuffer({trackRemovals:!0});l=t.vs;const f=[];e.targetChanges.forEach(((N,w)=>{const I=l.get(w);if(!I)return;f.push(t.li.removeMatchingKeys(c,N.removedDocuments,w).next((()=>t.li.addMatchingKeys(c,N.addedDocuments,w))));let M=I.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?M=M.withResumeToken(Wn.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):N.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(N.resumeToken,a)),l=l.insert(w,M),(function(W,$,X){return W.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=jk?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(I,M,N)&&f.push(t.li.updateTargetData(c,M))}));let y=Sr(),g=ft();if(e.documentUpdates.forEach((N=>{e.resolvedLimboDocuments.has(N)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(c,N))})),f.push(Ik(c,d,e.documentUpdates).next((N=>{y=N.Bs,g=N.Ls}))),!a.isEqual(Qe.min())){const N=t.li.getLastRemoteSnapshotVersion(c).next((w=>t.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));f.push(N)}return ye.waitFor(f).next((()=>d.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,y,g))).next((()=>y))})).then((c=>(t.vs=l,c)))}function Ik(s,e,t){let a=ft(),l=ft();return t.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Sr();return t.forEach(((f,y)=>{const g=c.get(f);y.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(f)),y.isNoDocument()&&y.version.isEqual(Qe.min())?(e.removeEntry(f,y.readTime),d=d.insert(f,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),d=d.insert(f,y)):Ce(Oy,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",y.version)})),{Bs:d,Ls:l}}))}function Sk(s,e){const t=Ze(s);return t.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=wy),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Ak(s,e){const t=Ze(s);return t.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return t.li.getTargetData(a,e).next((c=>c?(l=c,ye.resolve(l)):t.li.allocateTargetId(a).next((d=>(l=new ma(e,d,"TargetPurposeListen",a.currentSequenceNumber),t.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=t.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.vs=t.vs.insert(a.targetId,a),t.Fs.set(e,a.targetId)),a}))}async function Mp(s,e,t){const a=Ze(s),l=a.vs.get(e),c=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Bl(d))throw d;Ce(Oy,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function uj(s,e,t){const a=Ze(s);let l=Qe.min(),c=ft();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,g,N){const w=Ze(y),I=w.Fs.get(N);return I!==void 0?ye.resolve(w.vs.get(I)):w.li.getTargetData(g,N)})(a,d,Bi(e)).next((f=>{if(f)return l=f.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,f.targetId).next((y=>{c=y}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,t?l:Qe.min(),t?c:ft()))).next((f=>(Ck(a,fD(e),f),{documents:f,ks:c})))))}function Ck(s,e,t){let a=s.Ms.get(e)||Qe.min();t.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class dj{constructor(){this.activeTargetIds=vD()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rk{constructor(){this.vo=new dj,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,a){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new dj,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Mk{Mo(e){}shutdown(){}}const hj="ConnectivityMonitor";class mj{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ce(hj,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ce(hj,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jh=null;function Dp(){return jh===null?jh=(function(){return 268435456+Math.round(2147483648*Math.random())})():jh++,"0x"+jh.toString(16)}const Xg="RestConnection",Dk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class kk{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Zh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,t,a,l,c){const d=Dp(),f=this.Qo(e,t.toUriEncodedString());Ce(Xg,`Sending RPC '${e}' ${d}:`,f,a);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,l,c);const{host:g}=new URL(f),N=Vl(g);return this.zo(e,f,y,a,N).then((w=>(Ce(Xg,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Sl(Xg,`RPC '${e}' ${d} failed with error: `,w,"url: ",f,"request:",a),w}))}jo(e,t,a,l,c,d){return this.Wo(e,t,a,l,c)}Go(e,t,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}Qo(e,t){const a=Dk[e];let l=`${this.qo}/v1/${t}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class Pk{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Xn="WebChannelConnection",Gc=(s,e,t)=>{s.listen(e,(a=>{try{t(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class wl extends kk{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!wl.c_){const e=$_();Gc(e,B_.STAT_EVENT,(t=>{t.stat===vp.PROXY?Ce(Xn,"STAT_EVENT: detected buffering proxy"):t.stat===vp.NOPROXY&&Ce(Xn,"STAT_EVENT: detected no buffering proxy")})),wl.c_=!0}}zo(e,t,a,l,c){const d=Dp();return new Promise(((f,y)=>{const g=new F_;g.setWithCredentials(!0),g.listenOnce(q_.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case kh.NO_ERROR:const w=g.getResponseJson();Ce(Xn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),f(w);break;case kh.TIMEOUT:Ce(Xn,`RPC '${e}' ${d} timed out`),y(new Ae(ge.DEADLINE_EXCEEDED,"Request time out"));break;case kh.HTTP_ERROR:const I=g.getStatus();if(Ce(Xn,`RPC '${e}' ${d} failed with status:`,I,"response text:",g.getResponseText()),I>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const G=M?.error;if(G&&G.status&&G.message){const W=(function(X){const ie=X.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(ie)>=0?ie:ge.UNKNOWN})(G.status);y(new Ae(W,G.message))}else y(new Ae(ge.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new Ae(ge.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Ce(Xn,`RPC '${e}' ${d} completed.`)}}));const N=JSON.stringify(l);Ce(Xn,`RPC '${e}' ${d} sending request:`,l),g.send(t,"POST",N,a,15)}))}T_(e,t,a){const l=Dp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(f.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,t,a),f.encodeInitMessageHeaders=!0;const g=c.join("");Ce(Xn,`Creating RPC '${e}' stream ${l}: ${g}`,f);const N=d.createWebChannel(g,f);this.I_(N);let w=!1,I=!1;const M=new Pk({Ho:G=>{I?Ce(Xn,`Not sending because RPC '${e}' stream ${l} is closed:`,G):(w||(Ce(Xn,`Opening RPC '${e}' stream ${l} transport.`),N.open(),w=!0),Ce(Xn,`RPC '${e}' stream ${l} sending:`,G),N.send(G))},Jo:()=>N.close()});return Gc(N,Qc.EventType.OPEN,(()=>{I||(Ce(Xn,`RPC '${e}' stream ${l} transport opened.`),M.i_())})),Gc(N,Qc.EventType.CLOSE,(()=>{I||(I=!0,Ce(Xn,`RPC '${e}' stream ${l} transport closed`),M.o_(),this.E_(N))})),Gc(N,Qc.EventType.ERROR,(G=>{I||(I=!0,Sl(Xn,`RPC '${e}' stream ${l} transport errored. Name:`,G.name,"Message:",G.message),M.o_(new Ae(ge.UNAVAILABLE,"The operation could not be completed")))})),Gc(N,Qc.EventType.MESSAGE,(G=>{if(!I){const W=G.data[0];At(!!W,16349);const $=W,X=$?.error||$[0]?.error;if(X){Ce(Xn,`RPC '${e}' stream ${l} received error:`,X);const ie=X.status;let ne=(function(Me){const O=En[Me];if(O!==void 0)return TE(O)})(ie),Re=X.message;ne===void 0&&(ne=ge.INTERNAL,Re="Unknown error status: "+ie+" with message "+X.message),I=!0,M.o_(new Ae(ne,Re)),N.close()}else Ce(Xn,`RPC '${e}' stream ${l} received:`,W),M.__(W)}})),wl.u_(),setTimeout((()=>{M.s_()}),0),M}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,a){super.Go(e,t,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return H_()}}function Ok(s){return new wl(s)}function Jg(){return typeof document<"u"?document:null}function Am(s){return new zD(s,!0)}wl.c_=!1;class FE{constructor(e,t,a=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=t,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,t-a);l>0&&Ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const fj="PersistentStream";class qE{constructor(e,t,a,l,c,d,f,y){this.Ci=e,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(Ir(t.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===t&&this.G_(a,l)}),(a=>{e((()=>{const l=new Ae(ge.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,t){const a=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ce(fj,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Ce(fj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Lk extends qE{constructor(e,t,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,l,d),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=BD(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Qe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Qe.min():d.readTime?Hi(d.readTime):Qe.min()})(e);return this.listener.J_(t,a)}Z_(e){const t={};t.database=Rp(this.serializer),t.addTarget=(function(c,d){let f;const y=d.target;if(f=Ep(y)?{documents:GD(c,y)}:{query:WD(c,y).ft},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=AE(c,d.resumeToken);const g=Sp(c,d.expectedCount);g!==null&&(f.expectedCount=g)}else if(d.snapshotVersion.compareTo(Qe.min())>0){f.readTime=sm(c,d.snapshotVersion.toTimestamp());const g=Sp(c,d.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const a=KD(this.serializer,e);a&&(t.labels=a),this.K_(t)}X_(e){const t={};t.database=Rp(this.serializer),t.removeTarget=e,this.K_(t)}}class Vk extends qE{constructor(e,t,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=HD(e.writeResults,e.commitTime),a=Hi(e.commitTime);return this.listener.na(a,t)}ra(){const e={};e.database=Rp(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((a=>$D(this.serializer,a)))};this.K_(t)}}class Uk{}class zk extends Uk{constructor(e,t,a,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Ae(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Ap(t,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ae(ge.UNKNOWN,c.toString())}))}jo(e,t,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,f])=>this.connection.jo(e,Ap(t,a),l,d,f,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ae(ge.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Fk(s,e,t,a){return new zk(s,e,t,a)}class qk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ir(t),this.aa=!1):Ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const vo="RemoteStore";class Bk{constructor(e,t,a,l,c){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{To(this)&&(Ce(vo,"Restarting streams for network reachability change."),await(async function(y){const g=Ze(y);g.Ea.add(4),await Bu(g),g.Va.set("Unknown"),g.Ea.delete(4),await Cm(g)})(this))}))})),this.Va=new qk(a,l)}}async function Cm(s){if(To(s))for(const e of s.Ra)await e(!0)}async function Bu(s){for(const e of s.Ra)await e(!1)}function BE(s,e){const t=Ze(s);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),zy(t)?Uy(t):Hl(t).O_()&&Vy(t,e))}function Ly(s,e){const t=Ze(s),a=Hl(t);t.Ia.delete(e),a.O_()&&$E(t,e),t.Ia.size===0&&(a.O_()?a.L_():To(t)&&t.Va.set("Unknown"))}function Vy(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hl(s).Z_(e)}function $E(s,e){s.da.$e(e),Hl(s).X_(e)}function Uy(s){s.da=new OD({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Hl(s).start(),s.Va.ua()}function zy(s){return To(s)&&!Hl(s).x_()&&s.Ia.size>0}function To(s){return Ze(s).Ea.size===0}function HE(s){s.da=void 0}async function $k(s){s.Va.set("Online")}async function Hk(s){s.Ia.forEach(((e,t)=>{Vy(s,e)}))}async function Gk(s,e){HE(s),zy(s)?(s.Va.ha(e),Uy(s)):s.Va.set("Unknown")}async function Wk(s,e,t){if(s.Va.set("Online"),e instanceof SE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const f of c.targetIds)l.Ia.has(f)&&(await l.remoteSyncer.rejectListen(f,d),l.Ia.delete(f),l.da.removeTarget(f))})(s,e)}catch(a){Ce(vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await rm(s,a)}else if(e instanceof Vh?s.da.Xe(e):e instanceof IE?s.da.st(e):s.da.tt(e),!t.isEqual(Qe.min()))try{const a=await zE(s.localStore);t.compareTo(a)>=0&&await(function(c,d){const f=c.da.Tt(d);return f.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const N=c.Ia.get(g);N&&c.Ia.set(g,N.withResumeToken(y.resumeToken,d))}})),f.targetMismatches.forEach(((y,g)=>{const N=c.Ia.get(y);if(!N)return;c.Ia.set(y,N.withResumeToken(Wn.EMPTY_BYTE_STRING,N.snapshotVersion)),$E(c,y);const w=new ma(N.target,y,g,N.sequenceNumber);Vy(c,w)})),c.remoteSyncer.applyRemoteEvent(f)})(s,t)}catch(a){Ce(vo,"Failed to raise snapshot:",a),await rm(s,a)}}async function rm(s,e,t){if(!Bl(e))throw e;s.Ea.add(1),await Bu(s),s.Va.set("Offline"),t||(t=()=>zE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{Ce(vo,"Retrying IndexedDB access"),await t(),s.Ea.delete(1),await Cm(s)}))}function GE(s,e){return e().catch((t=>rm(s,t,e)))}async function Rm(s){const e=Ze(s),t=_a(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wy;for(;Yk(e);)try{const l=await Sk(e.localStore,a);if(l===null){e.Ta.length===0&&t.L_();break}a=l.batchId,Kk(e,l)}catch(l){await rm(e,l)}WE(e)&&YE(e)}function Yk(s){return To(s)&&s.Ta.length<10}function Kk(s,e){s.Ta.push(e);const t=_a(s);t.O_()&&t.Y_&&t.ea(e.mutations)}function WE(s){return To(s)&&!_a(s).x_()&&s.Ta.length>0}function YE(s){_a(s).start()}async function Qk(s){_a(s).ra()}async function Xk(s){const e=_a(s);for(const t of s.Ta)e.ea(t.mutations)}async function Jk(s,e,t){const a=s.Ta.shift(),l=Cy.from(a,e,t);await GE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Rm(s)}async function Zk(s,e){e&&_a(s).Y_&&await(async function(a,l){if((function(d){return DD(d)&&d!==ge.ABORTED})(l.code)){const c=a.Ta.shift();_a(a).B_(),await GE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Rm(a)}})(s,e),WE(s)&&YE(s)}async function gj(s,e){const t=Ze(s);t.asyncQueue.verifyOperationInProgress(),Ce(vo,"RemoteStore received new credentials");const a=To(t);t.Ea.add(3),await Bu(t),a&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Cm(t)}async function eP(s,e){const t=Ze(s);e?(t.Ea.delete(2),await Cm(t)):e||(t.Ea.add(2),await Bu(t),t.Va.set("Unknown"))}function Hl(s){return s.ma||(s.ma=(function(t,a,l){const c=Ze(t);return c.sa(),new Lk(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:$k.bind(null,s),Yo:Hk.bind(null,s),t_:Gk.bind(null,s),J_:Wk.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),zy(s)?Uy(s):s.Va.set("Unknown")):(await s.ma.stop(),HE(s))}))),s.ma}function _a(s){return s.fa||(s.fa=(function(t,a,l){const c=Ze(t);return c.sa(),new Vk(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Qk.bind(null,s),t_:Zk.bind(null,s),ta:Xk.bind(null,s),na:Jk.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Rm(s)):(await s.fa.stop(),s.Ta.length>0&&(Ce(vo,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Fy{constructor(e,t,a,l,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ho,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,l,c){const d=Date.now()+a,f=new Fy(e,t,d,l,c);return f.start(a),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qy(s,e){if(Ir("AsyncQueue",`${e}: ${s}`),Bl(s))return new Ae(ge.UNAVAILABLE,`${e}: ${s}`);throw s}class _l{static emptySet(e){return new _l(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||Ve.comparator(t.key,a.key):(t,a)=>Ve.comparator(t.key,a.key),this.keyedMap=Xc(),this.sortedSet=new en(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,a)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _l)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new _l;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}class pj{constructor(){this.ga=new en(Ve.comparator)}track(e){const t=e.doc.key,a=this.ga.get(t);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(t,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(t):e.type===1&&a.type===2?this.ga=this.ga.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):He(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,a)=>{e.push(a)})),e}}class Dl{constructor(e,t,a,l,c,d,f,y,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,l,c){const d=[];return t.forEach((f=>{d.push({type:0,doc:f})})),new Dl(e,t,_l.emptySet(t),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_m(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==a[l].type||!t[l].doc.isEqual(a[l].doc))return!1;return!0}}class tP{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class nP{constructor(){this.queries=yj(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,a){const l=Ze(t),c=l.queries;l.queries=yj(),c.forEach(((d,f)=>{for(const y of f.ba)y.onError(a)}))})(this,new Ae(ge.ABORTED,"Firestore shutting down"))}}function yj(){return new Eo((s=>mE(s)),_m)}async function sP(s,e){const t=Ze(s);let a=3;const l=e.query;let c=t.queries.get(l);c?!c.Sa()&&e.Da()&&(a=2):(c=new tP,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await t.onListen(l,!0);break;case 1:c.wa=await t.onListen(l,!1);break;case 2:await t.onFirstRemoteStoreListen(l)}}catch(d){const f=qy(d,`Initialization of query '${gl(e.query)}' failed`);return void e.onError(f)}t.queries.set(l,c),c.ba.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&By(t)}async function iP(s,e){const t=Ze(s),a=e.query;let l=3;const c=t.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function rP(s,e){const t=Ze(s);let a=!1;for(const l of e){const c=l.query,d=t.queries.get(c);if(d){for(const f of d.ba)f.Fa(l)&&(a=!0);d.wa=l}}a&&By(t)}function aP(s,e,t){const a=Ze(s),l=a.queries.get(e);if(l)for(const c of l.ba)c.onError(t);a.queries.delete(e)}function By(s){s.Ca.forEach((e=>{e.next()}))}var kp,xj;(xj=kp||(kp={})).Ma="default",xj.Cache="cache";class oP{constructor(e,t,a){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Dl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const a=t!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kp.Cache}}class KE{constructor(e){this.key=e}}class QE{constructor(e){this.key=e}}class lP{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ft(),this.mutatedKeys=ft(),this.eu=fE(e),this.tu=new _l(this.eu)}get nu(){return this.Za}ru(e,t){const a=t?t.iu:new pj,l=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,d=l,f=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((N,w)=>{const I=l.get(N),M=Em(this.query,w)?w:null,G=!!I&&this.mutatedKeys.has(I.key),W=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let $=!1;I&&M?I.data.isEqual(M.data)?G!==W&&(a.track({type:3,doc:M}),$=!0):this.su(I,M)||(a.track({type:2,doc:M}),$=!0,(y&&this.eu(M,y)>0||g&&this.eu(M,g)<0)&&(f=!0)):!I&&M?(a.track({type:0,doc:M}),$=!0):I&&!M&&(a.track({type:1,doc:I}),$=!0,(y||g)&&(f=!0)),$&&(M?(d=d.add(M),c=W?c.add(N):c.delete(N)):(d=d.delete(N),c=c.delete(N)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const N=this.query.limitType==="F"?d.last():d.first();d=d.delete(N.key),c=c.delete(N.key),a.track({type:1,doc:N})}return{tu:d,iu:a,Ss:f,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((N,w)=>(function(M,G){const W=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Vt:$})}};return W(M)-W(G)})(N.type,w.type)||this.eu(N.doc,w.doc))),this.ou(a),l=l??!1;const f=t&&!l?this._u():[],y=this.Ya.size===0&&this.current&&!l?1:0,g=y!==this.Xa;return this.Xa=y,d.length!==0||g?{snapshot:new Dl(this.query,e.tu,c,d,e.mutatedKeys,y===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pj,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ft(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const t=[];return e.forEach((a=>{this.Ya.has(a)||t.push(new QE(a))})),this.Ya.forEach((a=>{e.has(a)||t.push(new KE(a))})),t}cu(e){this.Za=e.ks,this.Ya=ft();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const $y="SyncEngine";class cP{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class uP{constructor(e){this.key=e,this.hu=!1}}class dP{constructor(e,t,a,l,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Eo((f=>mE(f)),_m),this.Iu=new Map,this.Eu=new Set,this.Ru=new en(Ve.comparator),this.Au=new Map,this.Vu=new Dy,this.du={},this.mu=new Map,this.fu=Ml.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hP(s,e,t=!0){const a=nT(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await XE(a,e,t,!0),l}async function mP(s,e){const t=nT(s);await XE(t,e,!0,!1)}async function XE(s,e,t,a){const l=await Ak(s.localStore,Bi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,t);let f;return a&&(f=await fP(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&t&&BE(s.remoteStore,l),f}async function fP(s,e,t,a,l){s.pu=(w,I,M)=>(async function(W,$,X,ie){let ne=$.view.ru(X);ne.Ss&&(ne=await uj(W.localStore,$.query,!1).then((({documents:O})=>$.view.ru(O,ne))));const Re=ie&&ie.targetChanges.get($.targetId),ke=ie&&ie.targetMismatches.get($.targetId)!=null,Me=$.view.applyChanges(ne,W.isPrimaryClient,Re,ke);return vj(W,$.targetId,Me.au),Me.snapshot})(s,w,I,M);const c=await uj(s.localStore,e,!0),d=new lP(e,c.ks),f=d.ru(c.documents),y=qu.createSynthesizedTargetChangeForCurrentChange(t,a&&s.onlineState!=="Offline",l),g=d.applyChanges(f,s.isPrimaryClient,y);vj(s,t,g.au);const N=new cP(e,t,d);return s.Tu.set(e,N),s.Iu.has(t)?s.Iu.get(t).push(e):s.Iu.set(t,[e]),g.snapshot}async function gP(s,e,t){const a=Ze(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!_m(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Mp(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),t&&Ly(a.remoteStore,l.targetId),Pp(a,l.targetId)})).catch(ql)):(Pp(a,l.targetId),await Mp(a.localStore,l.targetId,!0))}async function pP(s,e){const t=Ze(s),a=t.Tu.get(e),l=t.Iu.get(a.targetId);t.isPrimaryClient&&l.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),Ly(t.remoteStore,a.targetId))}async function yP(s,e,t){const a=_P(s);try{const l=await(function(d,f){const y=Ze(d),g=Kt.now(),N=f.reduce(((M,G)=>M.add(G.key)),ft());let w,I;return y.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let G=Sr(),W=ft();return y.xs.getEntries(M,N).next(($=>{G=$,G.forEach(((X,ie)=>{ie.isValidDocument()||(W=W.add(X))}))})).next((()=>y.localDocuments.getOverlayedDocuments(M,G))).next(($=>{w=$;const X=[];for(const ie of f){const ne=SD(ie,w.get(ie.key).overlayedDocument);ne!=null&&X.push(new Da(ie.key,ne,rE(ne.value.mapValue),$i.exists(!0)))}return y.mutationQueue.addMutationBatch(M,g,X,f)})).next(($=>{I=$;const X=$.applyToLocalDocumentSet(w,W);return y.documentOverlayCache.saveOverlays(M,$.batchId,X)}))})).then((()=>({batchId:I.batchId,changes:pE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,f,y){let g=d.du[d.currentUser.toKey()];g||(g=new en(ht)),g=g.insert(f,y),d.du[d.currentUser.toKey()]=g})(a,l.batchId,t),await $u(a,l.changes),await Rm(a.remoteStore)}catch(l){const c=qy(l,"Failed to persist write");t.reject(c)}}async function JE(s,e){const t=Ze(s);try{const a=await Tk(t.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=t.Au.get(c);d&&(At(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?At(d.hu,14607):l.removedDocuments.size>0&&(At(d.hu,42227),d.hu=!1))})),await $u(t,a,e)}catch(a){await ql(a)}}function bj(s,e,t){const a=Ze(s);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const l=[];a.Tu.forEach(((c,d)=>{const f=d.view.va(e);f.snapshot&&l.push(f.snapshot)})),(function(d,f){const y=Ze(d);y.onlineState=f;let g=!1;y.queries.forEach(((N,w)=>{for(const I of w.ba)I.va(f)&&(g=!0)})),g&&By(y)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function xP(s,e,t){const a=Ze(s);a.sharedClientState.updateQueryState(e,"rejected",t);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new en(Ve.comparator);d=d.insert(c,es.newNoDocument(c,Qe.min()));const f=ft().add(c),y=new Sm(Qe.min(),new Map,new en(ht),d,f);await JE(a,y),a.Ru=a.Ru.remove(c),a.Au.delete(e),Hy(a)}else await Mp(a.localStore,e,!1).then((()=>Pp(a,e,t))).catch(ql)}async function bP(s,e){const t=Ze(s),a=e.batch.batchId;try{const l=await Ek(t.localStore,e);eT(t,a,null),ZE(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await $u(t,l)}catch(l){await ql(l)}}async function vP(s,e,t){const a=Ze(s);try{const l=await(function(d,f){const y=Ze(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let N;return y.mutationQueue.lookupMutationBatch(g,f).next((w=>(At(w!==null,37113),N=w.keys(),y.mutationQueue.removeMutationBatch(g,w)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,N,f))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,N))).next((()=>y.localDocuments.getDocuments(g,N)))}))})(a.localStore,e);eT(a,e,t),ZE(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await $u(a,l)}catch(l){await ql(l)}}function ZE(s,e){(s.mu.get(e)||[]).forEach((t=>{t.resolve()})),s.mu.delete(e)}function eT(s,e,t){const a=Ze(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(t?c.reject(t):c.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function Pp(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),t&&s.Pu.yu(a,t);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||tT(s,a)}))}function tT(s,e){s.Eu.delete(e.path.canonicalString());const t=s.Ru.get(e);t!==null&&(Ly(s.remoteStore,t),s.Ru=s.Ru.remove(e),s.Au.delete(t),Hy(s))}function vj(s,e,t){for(const a of t)a instanceof KE?(s.Vu.addReference(a.key,e),NP(s,a)):a instanceof QE?(Ce($y,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||tT(s,a.key)):He(19791,{wu:a})}function NP(s,e){const t=e.key,a=t.path.canonicalString();s.Ru.get(t)||s.Eu.has(a)||(Ce($y,"New document in limbo: "+t),s.Eu.add(a),Hy(s))}function Hy(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const t=new Ve(Ht.fromString(e)),a=s.fu.next();s.Au.set(a,new uP(t)),s.Ru=s.Ru.insert(t,a),BE(s.remoteStore,new ma(Bi(Sy(t.path)),a,"TargetPurposeLimboResolution",Nm.ce))}}async function $u(s,e,t){const a=Ze(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((f,y)=>{d.push(a.pu(y,e,t).then((g=>{if((g||t)&&a.isPrimaryClient){const N=g?!g.fromCache:t?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,N?"current":"not-current")}if(g){l.push(g);const N=Py.Es(y.targetId,g);c.push(N)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(y,g){const N=Ze(y);try{await N.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ye.forEach(g,(I=>ye.forEach(I.Ts,(M=>N.persistence.referenceDelegate.addReference(w,I.targetId,M))).next((()=>ye.forEach(I.Is,(M=>N.persistence.referenceDelegate.removeReference(w,I.targetId,M)))))))))}catch(w){if(!Bl(w))throw w;Ce(Oy,"Failed to update sequence numbers: "+w)}for(const w of g){const I=w.targetId;if(!w.fromCache){const M=N.vs.get(I),G=M.snapshotVersion,W=M.withLastLimboFreeSnapshotVersion(G);N.vs=N.vs.insert(I,W)}}})(a.localStore,c))}async function jP(s,e){const t=Ze(s);if(!t.currentUser.isEqual(e)){Ce($y,"User change. New user:",e.toKey());const a=await UE(t.localStore,e);t.currentUser=e,(function(c,d){c.mu.forEach((f=>{f.forEach((y=>{y.reject(new Ae(ge.CANCELLED,d))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $u(t,a.Ns)}}function wP(s,e){const t=Ze(s),a=t.Au.get(e);if(a&&a.hu)return ft().add(a.key);{let l=ft();const c=t.Iu.get(e);if(!c)return l;for(const d of c){const f=t.Tu.get(d);l=l.unionWith(f.view.nu)}return l}}function nT(s){const e=Ze(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=JE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xP.bind(null,e),e.Pu.J_=rP.bind(null,e.eventManager),e.Pu.yu=aP.bind(null,e.eventManager),e}function _P(s){const e=Ze(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vP.bind(null,e),e}class am{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Am(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return _k(this.persistence,new Nk,e.initialUser,this.serializer)}Cu(e){return new VE(ky.Vi,this.serializer)}Du(e){return new Rk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}am.provider={build:()=>new am};class EP extends am{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){At(this.persistence.referenceDelegate instanceof im,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new ak(a,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ps.withCacheSize(this.cacheSizeBytes):ps.DEFAULT;return new VE((a=>im.Vi(a,t)),this.serializer)}}class Op{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>bj(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=jP.bind(null,this.syncEngine),await eP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nP})()}createDatastore(e){const t=Am(e.databaseInfo.databaseId),a=Ok(e.databaseInfo);return Fk(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return(function(a,l,c,d,f){return new Bk(a,l,c,d,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>bj(this.syncEngine,t,0)),(function(){return mj.v()?new mj:new Mk})())}createSyncEngine(e,t){return(function(l,c,d,f,y,g,N){const w=new dP(l,c,d,f,y,g);return N&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const a=Ze(t);Ce(vo,"RemoteStore shutting down."),a.Ea.add(5),await Bu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Op.provider={build:()=>new Op};class TP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Ea="FirestoreClient";class IP{constructor(e,t,a,l,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this._databaseInfo=l,this.user=Zn.UNAUTHENTICATED,this.clientId=jy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{Ce(Ea,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(Ce(Ea,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ho;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=qy(t,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Zg(s,e){s.asyncQueue.verifyOperationInProgress(),Ce(Ea,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let a=t.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await UE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Nj(s,e){s.asyncQueue.verifyOperationInProgress();const t=await SP(s);Ce(Ea,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener((a=>gj(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>gj(e.remoteStore,l))),s._onlineComponents=e}async function SP(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Ce(Ea,"Using user provided OfflineComponentProvider");try{await Zg(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ge.FAILED_PRECONDITION||l.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(t))throw t;Sl("Error using user provided cache. Falling back to memory cache: "+t),await Zg(s,new am)}}else Ce(Ea,"Using default OfflineComponentProvider"),await Zg(s,new EP(void 0));return s._offlineComponents}async function sT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Ce(Ea,"Using user provided OnlineComponentProvider"),await Nj(s,s._uninitializedComponentsProvider._online)):(Ce(Ea,"Using default OnlineComponentProvider"),await Nj(s,new Op))),s._onlineComponents}function AP(s){return sT(s).then((e=>e.syncEngine))}async function jj(s){const e=await sT(s),t=e.eventManager;return t.onListen=hP.bind(null,e.syncEngine),t.onUnlisten=gP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=mP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pP.bind(null,e.syncEngine),t}function CP(s,e,t,a){const l=new TP(a),c=new oP(e,l,t);return s.asyncQueue.enqueueAndForget((async()=>sP(await jj(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>iP(await jj(s),c)))}}function RP(s,e){const t=new ho;return s.asyncQueue.enqueueAndForget((async()=>yP(await AP(s),e,t))),t.promise}function iT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const MP="ComponentProvider",wj=new Map;function DP(s,e,t,a,l){return new KM(s,e,t,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,iT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const rT="firestore.googleapis.com",_j=!0;class Ej{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rT,this.ssl=_j}else this.host=e.host,this.ssl=e.ssl??_j;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ik)throw new Ae(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ae(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ae(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ae(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mm{constructor(e,t,a,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ej({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ej(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new SM;switch(a.type){case"firstParty":return new MM(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ae(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const a=wj.get(t);a&&(Ce(MP,"Removing Datastore"),wj.delete(t),a.terminate())})(this),Promise.resolve()}}function kP(s,e,t,a={}){s=mo(s,Mm);const l=Vl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},f=`${e}:${t}`;l&&(Rw(`https://${f}`),Mw("Firestore",!0)),c.host!==rT&&c.host!==f&&Sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:f,ssl:l,emulatorOptions:a};if(!ba(y,d)&&(s._setSettings(y),a.mockUserToken)){let g,N;if(typeof a.mockUserToken=="string")g=a.mockUserToken,N=Zn.MOCK_USER;else{g=gS(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new Ae(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Zn(w)}s._authCredentials=new AM(new W_(g,N))}}class Io{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class Sn{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}toJSON(){return{type:Sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(zu(t,Sn._jsonSchema))return new Sn(e,a||null,new Ve(Ht.fromString(t.referencePath)))}}Sn._jsonSchemaVersion="firestore/documentReference/1.0",Sn._jsonSchema={type:In("string",Sn._jsonSchemaVersion),referencePath:In("string")};class xa extends Io{constructor(e,t,a){super(e,t,Sy(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new Ve(e))}withConverter(e){return new xa(this.firestore,e,this._path)}}function Tj(s,e,...t){if(s=cn(s),Y_("collection","path",e),s instanceof Mm){const a=Ht.fromString(e,...t);return LN(a),new xa(s,null,a)}{if(!(s instanceof Sn||s instanceof xa))throw new Ae(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Ht.fromString(e,...t));return LN(a),new xa(s.firestore,null,a)}}function aT(s,e,...t){if(s=cn(s),arguments.length===1&&(e=jy.newId()),Y_("doc","path",e),s instanceof Mm){const a=Ht.fromString(e,...t);return ON(a),new Sn(s,null,new Ve(a))}{if(!(s instanceof Sn||s instanceof xa))throw new Ae(ge.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Ht.fromString(e,...t));return ON(a),new Sn(s.firestore,s instanceof xa?s.converter:null,new Ve(a))}}const Ij="AsyncQueue";class Sj{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FE(this,"async_queue_retry"),this._c=()=>{const a=Jg();a&&Ce(Ij,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const t=Jg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Jg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ho;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Bl(e))throw e;Ce(Ij,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ir("INTERNAL UNHANDLED ERROR: ",Aj(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=t,t}enqueueAfterDelay(e,t,a){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const l=Fy.createAndSchedule(this,e,t,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&He(47125,{Pc:Aj(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,a)=>t.targetTimeMs-a.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Aj(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Su extends Mm{constructor(e,t,a,l){super(e,t,a,l),this.type="firestore",this._queue=new Sj,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sj(e),this._firestoreClient=void 0,await e}}}function PP(s,e){const t=typeof s=="object"?s:sy(),a=typeof s=="string"?s:Zh,l=_o(t,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=mS("firestore");c&&kP(l,...c)}return l}function oT(s){if(s._terminated)throw new Ae(ge.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||OP(s),s._firestoreClient}function OP(s){const e=s._freezeSettings(),t=DP(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new IP(s._authCredentials,s._appCheckCredentials,s._queue,t,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ys(Wn.fromBase64String(e))}catch(t){throw new Ae(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ys(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ys._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zu(e,Ys._jsonSchema))return Ys.fromBase64String(e.bytes)}}Ys._jsonSchemaVersion="firestore/bytes/1.0",Ys._jsonSchema={type:In("string",Ys._jsonSchemaVersion),bytes:In("string")};class Gy{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ae(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dm{constructor(e){this._methodName=e}}class Gi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gi._jsonSchemaVersion}}static fromJSON(e){if(zu(e,Gi._jsonSchema))return new Gi(e.latitude,e.longitude)}}Gi._jsonSchemaVersion="firestore/geoPoint/1.0",Gi._jsonSchema={type:In("string",Gi._jsonSchemaVersion),latitude:In("number"),longitude:In("number")};class pi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zu(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new pi(e.vectorValues);throw new Ae(ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:In("string",pi._jsonSchemaVersion),vectorValues:In("object")};const LP=/^__.*__$/;class VP{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Da(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fu(e,this.data,t,this.fieldTransforms)}}class lT{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Da(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{dataSource:s})}}class Wy{constructor(e,t,a,l,c,d){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Wy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),a=this.contextWith({path:t,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const t=this.path?.child(e),a=this.contextWith({path:t,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return om(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(cT(this.dataSource)&&LP.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class UP{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Am(e)}createContext(e,t,a,l=!1){return new Wy({dataSource:e,methodName:t,targetDoc:a,path:Gn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yy(s){const e=s._freezeSettings(),t=Am(s._databaseId);return new UP(s._databaseId,!!e.ignoreUndefinedProperties,t)}function zP(s,e,t,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,t,l);Qy("Data must be an object, but it was:",d,a);const f=uT(a,d);let y,g;if(c.merge)y=new Cs(d.fieldMask),g=d.fieldTransforms;else if(c.mergeFields){const N=[];for(const w of c.mergeFields){const I=kl(e,w,t);if(!d.contains(I))throw new Ae(ge.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);mT(N,I)||N.push(I)}y=new Cs(N),g=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,g=d.fieldTransforms;return new VP(new ys(f),y,g)}class km extends Dm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof km}}class Ky extends Dm{_toFieldTransform(e){return new _D(e.path,new Eu)}isEqual(e){return e instanceof Ky}}function FP(s,e,t,a){const l=s.createContext(1,e,t);Qy("Data must be an object, but it was:",l,a);const c=[],d=ys.empty();Ma(a,((y,g)=>{const N=hT(e,y,t);g=cn(g);const w=l.childContextForFieldPath(N);if(g instanceof km)c.push(N);else{const I=Hu(g,w);I!=null&&(c.push(N),d.set(N,I))}}));const f=new Cs(c);return new lT(d,f,l.fieldTransforms)}function qP(s,e,t,a,l,c){const d=s.createContext(1,e,t),f=[kl(e,a,t)],y=[l];if(c.length%2!=0)throw new Ae(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<c.length;I+=2)f.push(kl(e,c[I])),y.push(c[I+1]);const g=[],N=ys.empty();for(let I=f.length-1;I>=0;--I)if(!mT(g,f[I])){const M=f[I];let G=y[I];G=cn(G);const W=d.childContextForFieldPath(M);if(G instanceof km)g.push(M);else{const $=Hu(G,W);$!=null&&(g.push(M),N.set(M,$))}}const w=new Cs(g);return new lT(N,w,d.fieldTransforms)}function BP(s,e,t,a=!1){return Hu(t,s.createContext(a?4:3,e))}function Hu(s,e){if(dT(s=cn(s)))return Qy("Unsupported field value:",e,s),uT(s,e);if(s instanceof Dm)return(function(a,l){if(!cT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const f of a){let y=Hu(f,l.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=cn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ND(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Kt.fromDate(a);return{timestampValue:sm(l.serializer,c)}}if(a instanceof Kt){const c=new Kt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:sm(l.serializer,c)}}if(a instanceof Gi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ys)return{bytesValue:AE(l.serializer,a._byteString)};if(a instanceof Sn){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:My(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof pi)return(function(d,f){const y=d instanceof pi?d.toArray():d;return{mapValue:{fields:{[sE]:{stringValue:iE},[em]:{arrayValue:{values:y.map((N=>{if(typeof N!="number")throw f.createError("VectorValues must only contain numeric values.");return Ay(f.serializer,N)}))}}}}}})(a,l);if(OE(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${vm(a)}`)})(s,e)}function uT(s,e){const t={};return X_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(s,((a,l)=>{const c=Hu(l,e.childContextForField(a));c!=null&&(t[a]=c)})),{mapValue:{fields:t}}}function dT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Kt||s instanceof Gi||s instanceof Ys||s instanceof Sn||s instanceof Dm||s instanceof pi||OE(s))}function Qy(s,e,t){if(!dT(t)||!K_(t)){const a=vm(t);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function kl(s,e,t){if((e=cn(e))instanceof Gy)return e._internalPath;if(typeof e=="string")return hT(s,e);throw om("Field path arguments must be of type string or ",s,!1,void 0,t)}const $P=new RegExp("[~\\*/\\[\\]]");function hT(s,e,t){if(e.search($P)>=0)throw om(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new Gy(...e.split("."))._internalPath}catch{throw om(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function om(s,e,t,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new Ae(ge.INVALID_ARGUMENT,f+s+y)}function mT(s,e){return s.some((t=>t.isEqual(e)))}class HP{convertValue(e,t="none"){switch(wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return Ma(e,((l,c)=>{a[l]=this.convertValue(c,t)})),a}convertVectorValue(e){const t=e.fields?.[em].arrayValue?.values?.map((a=>fn(a.doubleValue)));return new pi(t)}convertGeoPoint(e){return new Gi(fn(e.latitude),fn(e.longitude))}convertArray(e,t){return(e.values||[]).map((a=>this.convertValue(a,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const a=wm(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(Nu(e));default:return null}}convertTimestamp(e){const t=Na(e);return new Kt(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=Ht.fromString(e);At(PE(a),9688,{name:e});const l=new ju(a.get(1),a.get(3)),c=new Ve(a.popFirst(5));return l.isEqual(t)||Ir(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class fT extends HP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ys(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,t)}}function ep(){return new Ky("serverTimestamp")}const Cj="@firebase/firestore",Rj="4.10.0";function Mj(s){return(function(t,a){if(typeof t!="object"||t===null)return!1;const l=t;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class gT{constructor(e,t,a,l,c){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(kl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class GP extends gT{data(){return super.data()}}function WP(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Ae(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xy{}class pT extends Xy{}function YP(s,e,...t){let a=[];e instanceof Xy&&a.push(e),a=a.concat(t),(function(c){const d=c.filter((y=>y instanceof Zy)).length,f=c.filter((y=>y instanceof Jy)).length;if(d>1||d>0&&f>0)throw new Ae(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class Jy extends pT{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new Jy(e,t,a)}_apply(e){const t=this._parse(e);return yT(e._query,t),new Io(e.firestore,e.converter,Tp(e._query,t))}_parse(e){const t=Yy(e.firestore);return(function(c,d,f,y,g,N,w){let I;if(g.isKeyField()){if(N==="array-contains"||N==="array-contains-any")throw new Ae(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${N}' queries on documentId().`);if(N==="in"||N==="not-in"){kj(w,N);const G=[];for(const W of w)G.push(Dj(y,c,W));I={arrayValue:{values:G}}}else I=Dj(y,c,w)}else N!=="in"&&N!=="not-in"&&N!=="array-contains-any"||kj(w,N),I=BP(f,d,w,N==="in"||N==="not-in");return Tn.create(g,N,I)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Zy extends Xy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zy(e,t)}_parse(e){const t=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return t.length===1?t[0]:bi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(l,c){let d=l;const f=c.getFlattenedFilters();for(const y of f)yT(d,y),d=Tp(d,y)})(e._query,t),new Io(e.firestore,e.converter,Tp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ex extends pT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ex(e,t)}_apply(e){const t=(function(l,c,d){if(l.startAt!==null)throw new Ae(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Ae(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _u(c,d)})(e._query,this._field,this._direction);return new Io(e.firestore,e.converter,mD(e._query,t))}}function KP(s,e="asc"){const t=e,a=kl("orderBy",s);return ex._create(a,t)}function Dj(s,e,t){if(typeof(t=cn(t))=="string"){if(t==="")throw new Ae(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hE(e)&&t.indexOf("/")!==-1)throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(Ht.fromString(t));if(!Ve.isDocumentKey(a))throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return HN(s,new Ve(a))}if(t instanceof Sn)return HN(s,t._key);throw new Ae(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vm(t)}.`)}function kj(s,e){if(!Array.isArray(s)||s.length===0)throw new Ae(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yT(s,e){const t=(function(l,c){for(const d of l)for(const f of d.getFlattenedFilters())if(c.indexOf(f.op)>=0)return f.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ae(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function QP(s,e,t){let a;return a=s?s.toFirestore(e):e,a}class Zc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fo extends gT{constructor(e,t,a,l,c,d){super(e,t,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(kl("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=fo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",fo._jsonSchema={type:In("string",fo._jsonSchemaVersion),bundleSource:In("string","DocumentSnapshot"),bundleName:In("string"),bundle:In("string")};class Uh extends fo{data(e={}){return super.data(e)}}class El{constructor(e,t,a,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Zc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((a=>{e.call(t,new Uh(this._firestore,this._userDataWriter,a.key,a,new Zc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((f=>{const y=new Uh(l._firestore,l._userDataWriter,f.doc.key,f.doc,new Zc(l._snapshot.mutatedKeys.has(f.doc.key),l._snapshot.fromCache),l.query.converter);return f.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((f=>c||f.type!==3)).map((f=>{const y=new Uh(l._firestore,l._userDataWriter,f.doc.key,f.doc,new Zc(l._snapshot.mutatedKeys.has(f.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,N=-1;return f.type!==0&&(g=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),f.type!==1&&(d=d.add(f.doc),N=d.indexOf(f.doc.key)),{type:XP(f.type),doc:y,oldIndex:g,newIndex:N}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=El._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XP(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:s})}}El._jsonSchemaVersion="firestore/querySnapshot/1.0",El._jsonSchema={type:In("string",El._jsonSchemaVersion),bundleSource:In("string","QuerySnapshot"),bundleName:In("string"),bundle:In("string")};function Pj(s,e,t,...a){s=mo(s,Sn);const l=mo(s.firestore,Su),c=Yy(l);let d;return d=typeof(e=cn(e))=="string"||e instanceof Gy?qP(c,"updateDoc",s._key,e,t,a):FP(c,"updateDoc",s._key,e),xT(l,[d.toMutation(s._key,$i.exists(!0))])}function JP(s,e){const t=mo(s.firestore,Su),a=aT(s),l=QP(s.converter,e),c=Yy(s.firestore);return xT(t,[zP(c,"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,$i.exists(!1))]).then((()=>a))}function ZP(s,...e){s=cn(s);let t={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Mj(e[a])||(t=e[a++]);const l={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Mj(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let c,d,f;if(s instanceof Sn)d=mo(s.firestore,Su),f=Sy(s._key.path),c={next:g=>{e[a]&&e[a](e6(d,s,g))},error:e[a+1],complete:e[a+2]};else{const g=mo(s,Io);d=mo(g.firestore,Su),f=g._query;const N=new fT(d);c={next:w=>{e[a]&&e[a](new El(d,N,g,w))},error:e[a+1],complete:e[a+2]},WP(s._query)}const y=oT(d);return CP(y,f,l,c)}function xT(s,e){const t=oT(s);return RP(t,e)}function e6(s,e,t){const a=t.docs.get(e._key),l=new fT(s);return new fo(s,l,e._key,a,new Zc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){IM(Ul),Yi(new xi("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),f=new Su(new CM(a.getProvider("auth-internal")),new DM(d,a.getProvider("app-check-internal")),QM(d,l),d);return c={useFetchStreams:t,...c},f._setSettings(c),f}),"PUBLIC").setMultipleInstances(!0)),Ks(Cj,Rj,e),Ks(Cj,Rj,"esm2020")})();const bT={apiKey:"AIzaSyBrTZY2DOv714a8O1uuaMxAczguSX292SE",authDomain:"professionalengineer-a104d.firebaseapp.com",projectId:"professionalengineer-a104d",storageBucket:"professionalengineer-a104d.firebasestorage.app",messagingSenderId:"539571105207",appId:"1:539571105207:web:bfdaeb4d398de90eb70c32",measurementId:"G-RBCKLQFNLW"},vT=Object.values(bT).every(s=>s&&!s.startsWith("REPLACE_WITH_")),tx=nN().length?nN()[0]:Lw(bT),ao=t3(tx),tp=PP(tx);vT&&wM().then(s=>{s&&NM(tx)}).catch(()=>{});function vt(){const[s,e]=D.useState(null),t=Sa(),a=D.useRef(null);return D.useEffect(()=>hy(ao,c=>{e(c)}),[]),D.useEffect(()=>{a.current&&(a.current.open=!1)},[t.pathname]),i.jsxs("div",{className:"sticky top-0 z-30",children:[i.jsx(le,{to:"/contact",className:"block bg-gray-900 text-white text-sm","aria-label":`Reach out for quotes on plans,
          review/analysis, calculation, freelance, or expert witness work. Documents sealed when appropriate.`,children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-2 text-center",children:[i.jsx("span",{className:"underline",children:"Reach out"})," for quotes on plans, review/analysis, calculation, freelance, or expert witness work. Documents sealed when appropriate."]})}),i.jsx("div",{className:"bg-white border-b border-gray-200",children:i.jsx("div",{className:"max-w-4xl mx-auto px-6 py-3",children:i.jsxs("div",{className:"relative flex items-center justify-between gap-4",children:[i.jsx(le,{to:"/",className:"text-sm text-gray-700 hover:text-gray-900 transition-colors",children:"Professional Engineer, Missouri"}),i.jsxs("nav",{"aria-label":"Primary navigation",className:"hidden md:flex items-center gap-6 text-sm",children:[s?i.jsx(le,{to:"/dashboard",className:t.pathname.startsWith("/dashboard")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Dashboard"}):i.jsx(le,{to:"/contact",className:t.pathname.startsWith("/contact")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Contact"}),i.jsx(le,{to:"/services",className:t.pathname.startsWith("/services")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Services"}),i.jsx(le,{to:"/toolbox",className:t.pathname.startsWith("/toolbox")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Toolbox"}),i.jsx(le,{to:"/blog",className:t.pathname.startsWith("/blog")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Blog"}),i.jsx(le,{to:"/portal",className:t.pathname.startsWith("/portal")?"text-gray-900 border-b-2 border-gray-900":"text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:s?"Signed In":"Register / Login"})]}),i.jsxs("details",{ref:a,className:"md:hidden",children:[i.jsx("summary",{className:"inline-flex items-center justify-center rounded border border-gray-300 px-3 py-2 text-sm text-gray-900 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 cursor-pointer select-none [&::-webkit-details-marker]:hidden","aria-label":"Open menu",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5","aria-hidden":"true",children:[i.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),i.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),i.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),i.jsx("div",{className:"absolute left-0 right-0 top-full border-t border-gray-200 bg-white",children:i.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:i.jsxs("nav",{"aria-label":"Primary navigation (mobile)",className:"flex flex-col gap-1 text-sm",children:[s?i.jsx(le,{to:"/dashboard",className:t.pathname.startsWith("/dashboard")?"rounded bg-gray-50 px-3 py-2 text-gray-900 font-medium":"rounded px-3 py-2 text-gray-700 hover:bg-gray-50 hover:text-gray-900 transition-colors",children:"Dashboard"}):i.jsx(le,{to:"/contact",className:t.pathname.startsWith("/contact")?"rounded bg-gray-50 px-3 py-2 text-gray-900 font-medium":"rounded px-3 py-2 text-gray-700 hover:bg-gray-50 hover:text-gray-900 transition-colors",children:"Contact"}),i.jsx(le,{to:"/services",className:t.pathname.startsWith("/services")?"rounded bg-gray-50 px-3 py-2 text-gray-900 font-medium":"rounded px-3 py-2 text-gray-700 hover:bg-gray-50 hover:text-gray-900 transition-colors",children:"Services"}),i.jsx(le,{to:"/toolbox",className:t.pathname.startsWith("/toolbox")?"rounded bg-gray-50 px-3 py-2 text-gray-900 font-medium":"rounded px-3 py-2 text-gray-700 hover:bg-gray-50 hover:text-gray-900 transition-colors",children:"Toolbox"}),i.jsx(le,{to:"/blog",className:t.pathname.startsWith("/blog")?"rounded bg-gray-50 px-3 py-2 text-gray-900 font-medium":"rounded px-3 py-2 text-gray-700 hover:bg-gray-50 hover:text-gray-900 transition-colors",children:"Blog"}),i.jsx(le,{to:"/portal",className:t.pathname.startsWith("/portal")?"rounded bg-gray-50 px-3 py-2 text-gray-900 font-medium":"rounded px-3 py-2 text-gray-700 hover:bg-gray-50 hover:text-gray-900 transition-colors",children:s?"Signed In":"Register / Login"})]})})})]})]})})})]})}const nx=["residential-structural","engineering-review","pe-sealing","structural-analysis","forensic-engineering","expert-witness"],NT=[{label:"Residential structural review (openings, headers, framing, decks)",slug:"residential-structural"},{label:"Engineering review and opinion",slug:"engineering-review"},{label:"Engineering documents sealed when appropriate",slug:"pe-sealing"},{label:"Engineering drawings and calculations for permit submittal",slug:"structural-analysis"},{label:"Forensic engineering analysis",slug:"forensic-engineering"},{label:"Expert engineering opinion and testimony",slug:"expert-witness"}],jT={"residential-structural":{slug:"residential-structural",title:"Residential structural engineering (openings, headers, decks, framing checks)",summary:"Residential structural review and calculations for openings, headers, decks, and framing checks, with documentation for permit submittal. Documents are sealed when appropriate.",audience:["residential"],sections:[{kind:"steps",heading:"How It Works",steps:["Upload photos + measurements (or request a site visit)","Engineering review + calculations","Deliverables: summary letter, calculations, sketches (sealed when appropriate)","Revisions available if field conditions/measurements differ from intake information."]},{kind:"bullets",heading:"Common deliverables",bullets:["Written summary letter describing scope, assumptions, and findings","Calculation package (loads, checks, and governing assumptions)","Sketches or marked-up plans sufficient to communicate the engineering intent","Summary letter/report for permit submittal (sealed when appropriate)"]},{kind:"paragraphs",heading:"Important notes",paragraphs:["Where conditions are uncertain or jurisdiction requires it, a site visit may be recommended or required.","Sealed documents are provided only when scope and available information provide a sufficient basis for responsible charge."]},{kind:"callout",heading:"Typical pricing",paragraphs:["Typical desktop structural review (client-provided measurements/photos): $500â€“$1,500 depending on complexity. Letter/report for permit submittal (sealed when appropriate): $250â€“$500. Site visits quoted separately.","Final scope and fee confirmed after a brief intake."]},{kind:"bullets",heading:"What to send for intake",bullets:["Project address and jurisdiction (city/county) if known","A short description of whatâ€™s changing and why","Photos (wide shots + close-ups) and any existing drawings","Basic measurements (member sizes, spans, spacing, wall thickness, etc.)","Any permit submittal requirements youâ€™ve been given"]}]},"structural-analysis":{slug:"structural-analysis",title:"Structural review & calculations for permit submittal",summary:"Engineering review, calculations, and supporting documentation for permit submittal on small projects, including light commercial work. Documents are sealed when appropriate.",audience:["commercial","general"],sections:[{kind:"steps",heading:"How It Works",steps:["Upload photos + measurements (or request a site visit)","Engineering review + calculations","Deliverables: summary letter, calculations, sketches (sealed when appropriate)","Revisions available if field conditions/measurements differ from intake information."]},{kind:"bullets",heading:"Common deliverables",bullets:["Written summary letter describing scope, assumptions, and findings","Calculation package (loads, checks, and governing assumptions)","Sketches or marked-up plans sufficient to communicate the engineering intent","Summary letter/report for permit submittal (sealed when appropriate)"]},{kind:"paragraphs",heading:"Important notes",paragraphs:["Where conditions are uncertain or jurisdiction requires it, a site visit may be recommended or required.","Sealed documents are provided only when scope and available information provide a sufficient basis for responsible charge."]},{kind:"callout",heading:"Typical pricing",paragraphs:["Typical desktop structural review (client-provided measurements/photos): $500â€“$1,500 depending on complexity. Letter/report for permit submittal (sealed when appropriate): $250â€“$500. Site visits quoted separately.","Final scope and fee confirmed after a brief intake."]},{kind:"bullets",heading:"What to send for intake",bullets:["Project address and jurisdiction (city/county) if known","A short description of whatâ€™s changing and why","Photos (wide shots + close-ups) and any existing drawings","Basic measurements (member sizes, spans, spacing, wall thickness, etc.)","Any permit submittal requirements youâ€™ve been given"]}]},"engineering-review":{slug:"engineering-review",title:"Engineering review and opinion",summary:"Independent review of drawings, calculations, and technical decisions with clear findings, assumptions, and recommended next steps.",audience:["commercial","general"],sections:[{kind:"bullets",heading:"Common requests",bullets:["Second opinion on structural adequacy or code-aligned approach","Review of vendor, contractor, or consultant calculations","Peer review of design assumptions and governing load cases","Technical memo suitable for stakeholders and decision-making"]},{kind:"steps",heading:"How It Works",steps:["Brief intake to confirm scope and materials needed","Review of drawings, photos, calculations, and constraints","Written opinion summarizing assumptions, checks performed, and findings","Optional follow-up call to walk through results"]},{kind:"paragraphs",heading:"Notes",paragraphs:["Engineering review is not a substitute for full design when a jurisdiction requires documents sealed by a Professional Engineer. If sealing is required, scope will be structured accordingly."]}]},"pe-sealing":{slug:"pe-sealing",title:"Professional Engineer sealing (sealed when appropriate)",summary:"Preparation and sealing of engineering documents under responsible charge when sealing is required or requested and the scope supports it. Documents are sealed when appropriate.",audience:["residential","commercial"],sections:[{kind:"paragraphs",heading:"What sealing means",paragraphs:["A Professional Engineer seal communicates that the engineer is taking professional responsibility for the work product under the applicable rules of professional practice.","Sealing is performed only when the scope, available information, and level of control are sufficient to support responsible charge."]},{kind:"bullets",heading:"Typical sealed documents",bullets:["Letter/report for permit submittal (sealed when appropriate)","Calculations package (sealed when appropriate)","Sketches or engineering details (sealed when appropriate)"]},{kind:"paragraphs",heading:"Important limitations",paragraphs:["Sealing is not an administrative formality. Work must be performed (or directly controlled) in a manner consistent with responsible charge and applicable rules."]}]},"forensic-engineering":{slug:"forensic-engineering",title:"Forensic engineering analysis",summary:"Technical investigation of failures, damage, and incidents with documented assumptions, evidence handling, and causation analysis.",audience:["general","legal"],sections:[{kind:"bullets",heading:"Typical engagements",bullets:["Root cause / contributing factor analysis","Damage mechanism evaluation","Review of maintenance, design, and construction records","Photo documentation and structured findings"]},{kind:"steps",heading:"How It Works",steps:["Intake + document collection (photos, reports, drawings, timelines)","Site visit and documentation when needed","Engineering analysis and hypothesis testing","Written report with findings, assumptions, and supporting calculations"]},{kind:"paragraphs",heading:"Deliverables",paragraphs:["Deliverables are tailored to the use case (internal decision-making, insurer documentation, dispute context, or litigation support)."]}]},"expert-witness":{slug:"expert-witness",title:"Expert engineering opinion and testimony",summary:"Independent technical analysis and expert support for disputes and litigation, including reports, exhibits, and testimony.",audience:["legal"],sections:[{kind:"bullets",heading:"Typical support",bullets:["Case intake and technical issue framing","Document review and identification of critical facts/assumptions","Independent calculations and engineering analysis","Report writing and exhibit support","Deposition and trial testimony support"]},{kind:"steps",heading:"How It Works",steps:["Conflict check + initial intake to confirm fit and timing","Define scope, materials, and analysis plan","Perform analysis and draft written opinions","Support depositions, testimony, and rebuttal work as needed"]},{kind:"paragraphs",heading:"Independence",paragraphs:["Opinions are grounded in the available evidence, engineering principles, and stated assumptions. Outcomes are not guaranteed and are not contingent on any particular result."]}]}};function t6(s){return nx.includes(s)}function Lp(s){return`/services/${s}`}function n6(){return i.jsxs("div",{className:"min-h-screen flex flex-col",children:[i.jsx(vt,{}),i.jsx("header",{className:"bg-white",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Professional Engineering Services â€” Missouri"}),i.jsx("p",{className:"text-lg text-gray-700",children:"Independent professional practice licensed in Missouri. Engineering services, analysis, and review."})]})}),i.jsxs("main",{className:"flex-1",children:[i.jsx("section",{className:"bg-white py-12 md:py-16",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"Scope of Practice"}),i.jsx("p",{className:"text-lg text-gray-700",children:"This practice provides engineering services involving professional analysis, review, and judgment. Work is performed in accordance with applicable Missouri statutes and professional engineering rules. Professional liability insurance is maintained."})]})}),i.jsx("section",{className:"bg-gray-50 py-12 md:py-16",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"Services Overview"}),i.jsx("ul",{className:"space-y-3 text-gray-700",children:NT.map(s=>i.jsxs("li",{className:"flex items-start",children:[i.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),i.jsx(le,{to:Lp(s.slug),className:"border-b border-gray-300 hover:border-gray-500 hover:text-gray-900 transition-colors",children:s.label})]},`${s.slug}-${s.label}`))}),i.jsx("div",{className:"mt-6",children:i.jsx(le,{to:"/services",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"View all services"})})]})}),i.jsx("section",{className:"bg-white py-12 md:py-16",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"Client Portal"}),i.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Clients may access a secure portal for document exchange, communication, and project tracking. Portal access is not a substitute for professional engagement."}),i.jsx(le,{to:"/portal",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Portal Login"})]})}),i.jsx("section",{className:"bg-gray-50 py-12 md:py-16",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"About the Engineer"}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-[180px,1fr] items-center",children:[i.jsx("div",{className:"w-full max-w-[180px]",children:i.jsxs("picture",{children:[i.jsx("source",{srcSet:sS,type:"image/webp"}),i.jsx("img",{src:iS,width:"180",height:"220",alt:"Portrait of the engineer",className:"block w-full h-auto border border-gray-200",loading:"lazy",decoding:"async"})]})}),i.jsxs("div",{className:"space-y-4 text-lg text-gray-700",children:[i.jsx("p",{children:"I am a licensed Professional Engineer in Missouri. My educational background includes aerospace engineering, agriculture engineering, and computer engineering."}),i.jsx("p",{children:"I have experience designing and reviewing complex systems involving software, distributed systems, control systems, and embedded and hardware-adjacent systems. I have led engineering teams and reviewed work produced by others. My work has involved regulated environments and formal verification and testing."}),i.jsx("p",{children:"I am engaged in ongoing advanced study in control systems."}),i.jsx("p",{children:"I live and work in Missouri with my wife and son."})]})]})]})})]}),i.jsx(bt,{})]})}function s6(){return i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-12 md:py-16",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Contact"}),i.jsxs("p",{className:"text-lg text-gray-700 mb-8",children:["Initial contact precedes any engagement. The form below is used for intake and scheduling. Submissions are sent to"," ",i.jsx("a",{href:"mailto:seth.kitchen@seth.kitchen",className:"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"seth.kitchen@seth.kitchen"}),"."]}),i.jsxs("form",{action:"https://formspree.io/f/maqqndgz",method:"POST",className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"name",children:"Name"}),i.jsx("input",{id:"name",name:"name",type:"text",required:!0,autoComplete:"name",className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"email",children:"Email"}),i.jsx("input",{id:"email",name:"email",type:"email",required:!0,autoComplete:"email",className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"organization",children:"Organization (optional)"}),i.jsx("input",{id:"organization",name:"organization",type:"text",autoComplete:"organization",className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"message",children:"Description"}),i.jsx("textarea",{id:"message",name:"message",rows:6,required:!0,className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded bg-gray-900 px-4 py-2 text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2",children:"Submit"})})]})]})}),i.jsx(bt,{})]})}const i6={residential:"Residential",commercial:"Commercial",legal:"Legal",general:"General"},Oj=["residential","commercial","legal","general"];function r6(s){return[...s].sort((e,t)=>Oj.indexOf(e)-Oj.indexOf(t))}function a6(){const s=Object.fromEntries(nx.map(e=>[e,[]]));for(const e of NT)s[e.slug].push(e.label);return s}function o6(){const s=a6();return i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16 space-y-10",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Services"}),i.jsx("p",{className:"text-lg text-gray-700",children:"Clear, documented engineering work for small projects and technical decisions. Each engagement begins with a brief intake to confirm scope, schedule, and fee."})]}),i.jsx("section",{className:"space-y-6",children:nx.map(e=>{const t=jT[e],a=s[e],l=t.audience?r6(t.audience):[];return i.jsxs("article",{className:"border border-gray-200 p-6 bg-white",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:Lp(e),className:"border-b border-transparent hover:border-gray-400",children:t.title})}),i.jsx("p",{className:"text-gray-700 mb-5",children:t.summary}),l.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mb-5",children:l.map(c=>i.jsx("span",{className:"inline-flex items-center rounded-full border border-gray-200 bg-gray-50 px-2.5 py-0.5 text-xs text-gray-700",children:i6[c]},c))}),a.length>0&&i.jsxs("div",{className:"mb-5",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Covers"}),i.jsx("ul",{className:"list-disc pl-5 space-y-1 text-sm text-gray-700",children:a.map(c=>i.jsx("li",{children:c},c))})]}),i.jsx(le,{to:Lp(e),className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"View details"})]},e)})}),i.jsxs("section",{className:"border border-gray-200 bg-gray-50 p-6 space-y-3",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900",children:"Not sure where to start?"}),i.jsx("p",{className:"text-gray-700",children:"Send a short description and a few photos. If itâ€™s a good fit, youâ€™ll get a clear scope and next steps."}),i.jsx(le,{to:"/contact",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Contact for intake"})]})]})}),i.jsx(bt,{})]})}const l6={residential:"Residential",commercial:"Commercial",legal:"Legal",general:"General"},Lj=["residential","commercial","legal","general"];function c6(s){return[...s].sort((e,t)=>Lj.indexOf(e)-Lj.indexOf(t))}function u6({section:s}){return s.kind==="paragraphs"?i.jsxs("section",{className:"space-y-3",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900",children:s.heading}),s.paragraphs.map(e=>i.jsx("p",{className:"text-gray-700",children:e},e))]}):s.kind==="bullets"?i.jsxs("section",{className:"space-y-3",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900",children:s.heading}),i.jsx("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:s.bullets.map(e=>i.jsx("li",{children:e},e))})]}):s.kind==="steps"?i.jsxs("section",{className:"space-y-3",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900",children:s.heading}),i.jsx("ol",{className:"list-decimal pl-5 space-y-2 text-gray-700",children:s.steps.map(e=>i.jsx("li",{children:e},e))})]}):i.jsxs("section",{className:"space-y-3",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900",children:s.heading}),i.jsx("div",{className:"rounded border border-gray-200 bg-gray-50 p-5 space-y-3",children:s.paragraphs.map(e=>i.jsx("p",{className:"text-gray-700",children:e},e))})]})}function d6(){const{slug:s}=tI(),e=s&&t6(s)?jT[s]:null;return i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16 space-y-10",children:[i.jsx("div",{className:"text-sm",children:i.jsx(le,{to:"/services",className:"text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"â† Services"})}),e?i.jsxs(i.Fragment,{children:[i.jsxs("header",{className:"space-y-4",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:e.title}),e.audience&&e.audience.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:c6(e.audience).map(t=>i.jsx("span",{className:"inline-flex items-center rounded-full border border-gray-200 bg-gray-50 px-2.5 py-0.5 text-xs text-gray-700",children:l6[t]},t))}),i.jsx("p",{className:"text-lg text-gray-700",children:e.summary})]}),i.jsx("div",{className:"space-y-10",children:e.sections.map(t=>i.jsx(u6,{section:t},t.heading))}),i.jsxs("section",{className:"border border-gray-200 bg-white p-6 space-y-3",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900",children:"Next steps"}),i.jsx("p",{className:"text-gray-700",children:"Send a short description, timeline, and any photos/drawings you have. Final scope and fee are confirmed after a brief intake."}),i.jsx(le,{to:"/contact",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Contact for intake"})]})]}):i.jsxs("section",{className:"space-y-4",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Service not found"}),i.jsx("p",{className:"text-lg text-gray-700",children:"The requested service page does not exist. Use the Services index to browse available pages."}),i.jsx(le,{to:"/services",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"View services"})]})]})}),i.jsx(bt,{})]})}function h6(){const[s,e]=D.useState(null),[t,a]=D.useState("signin"),[l,c]=D.useState(""),[d,f]=D.useState(""),[y,g]=D.useState(null),[N,w]=D.useState(!1),I=D.useMemo(()=>vT,[]);D.useEffect(()=>hy(ao,X=>{e(X)}),[]);const M=async()=>{g(null),w(!0);try{const $=new xr;await uR(ao,$)}catch{g("Unable to complete Google sign-in. Please try again.")}finally{w(!1)}},G=async $=>{$.preventDefault(),g(null),w(!0);try{t==="register"?await zC(ao,l,d):await FC(ao,l,d)}catch{g("Unable to complete the request. Verify credentials and try again.")}finally{w(!1)}},W=async()=>{await $C(ao)};return i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-12 md:py-16",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Client Portal"}),i.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Portal access supports document exchange and project tracking. Access is provided after intake and confirmation of engagement."}),!I&&i.jsx("div",{className:"mb-8 rounded border border-gray-300 bg-gray-50 p-4 text-sm text-gray-700",children:"Portal authentication is not configured. Set the Firebase environment variables before enabling login."}),s?i.jsxs("div",{className:"rounded border border-gray-200 p-6",children:[i.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Signed in as"}),i.jsx("div",{className:"text-gray-900 font-medium",children:s.email??"Authenticated user"}),i.jsx("button",{type:"button",onClick:W,className:"mt-6 inline-flex items-center justify-center rounded border border-gray-300 px-4 py-2 text-gray-900 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2",children:"Sign out"})]}):i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex gap-4 text-sm",children:[i.jsx("button",{type:"button",onClick:()=>a("signin"),className:`border-b-2 ${t==="signin"?"border-gray-900 text-gray-900":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Sign in"}),i.jsx("button",{type:"button",onClick:()=>a("register"),className:`border-b-2 ${t==="register"?"border-gray-900 text-gray-900":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Register"})]}),i.jsx("button",{type:"button",onClick:M,disabled:!I||N,className:"inline-flex items-center justify-center rounded border border-gray-300 px-4 py-2 text-gray-900 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 disabled:opacity-50",children:"Continue with Google"}),i.jsxs("form",{onSubmit:G,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"portal-email",children:"Email"}),i.jsx("input",{id:"portal-email",name:"email",type:"email",required:!0,autoComplete:"email",value:l,onChange:$=>c($.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"portal-password",children:"Password"}),i.jsx("input",{id:"portal-password",name:"password",type:"password",required:!0,autoComplete:t==="register"?"new-password":"current-password",value:d,onChange:$=>f($.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),y&&i.jsx("div",{className:"text-sm text-red-700",children:y}),i.jsx("button",{type:"submit",disabled:!I||N,className:"inline-flex items-center justify-center rounded bg-gray-900 px-4 py-2 text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 disabled:opacity-50",children:t==="register"?"Create account":"Sign in"})]})]})]})}),i.jsx(bt,{})]})}function m6(){const[s,e]=D.useState(null),[t,a]=D.useState([]),[l,c]=D.useState(null),[d,f]=D.useState(""),[y,g]=D.useState(""),[N,w]=D.useState(""),[I,M]=D.useState(""),[G,W]=D.useState(null),[$,X]=D.useState(null),[ie,ne]=D.useState(null),[Re,ke]=D.useState(!1),[Me,O]=D.useState(!1),C=700*1024,k=D.useRef(null);D.useEffect(()=>hy(ao,pe=>{e(pe)}),[]),D.useEffect(()=>{if(!s){a([]);return}const xe=YP(Tj(tp,"users",s.uid,"projects"),KP("createdAt","desc"));return ZP(xe,H=>{const ce=H.docs.map(be=>{const ae=be.data();return{id:be.id,title:ae.title??"",description:ae.description??"",fileUrl:ae.fileUrl??void 0,fileName:ae.fileName??void 0,fileType:ae.fileType??void 0,fileData:ae.fileData??void 0,createdAt:ae.createdAt?.toDate?.()}});a(ce),ce.length>0&&!l&&c(ce[0].id),ne(null)},()=>{a([]),ne("Permission denied reading projects. Update Firestore rules to allow signed-in access.")})},[s]);const z=D.useMemo(()=>!!s&&d.trim().length>0&&y.trim().length>0,[s,d,y]),P=D.useMemo(()=>t.find(xe=>xe.id===l)??null,[t,l]);D.useEffect(()=>{if(!P){w(""),M("");return}w(P.title),M(P.description)},[P]);const B=async xe=>{if(xe.preventDefault(),!s){ne("Please sign in to create a project.");return}ne(null),ke(!0);try{let pe,H,ce,be;if($){if($.size>C){ne("File is too large for inline storage. Use a smaller file or enable Storage."),ke(!1);return}be=await new Promise((ae,et)=>{const L=new FileReader;L.onload=()=>ae(L.result),L.onerror=()=>et(new Error("File read failed")),L.readAsDataURL($)}),H=$.name,ce=$.type||"application/octet-stream",pe=be}await JP(Tj(tp,"users",s.uid,"projects"),{title:d.trim(),description:y.trim(),fileUrl:pe??null,fileName:H??null,fileType:ce??null,fileData:be??null,createdAt:ep()}),f(""),g(""),X(null),k.current&&(k.current.value="")}catch{ne("Unable to create the project. Check Firestore rules and try again.")}finally{ke(!1)}},E=async xe=>{if(!(!s||!P)){ne(null),O(!0);try{const pe=aT(tp,"users",s.uid,"projects",P.id);xe==="title"&&await Pj(pe,{title:N.trim(),updatedAt:ep()}),xe==="description"&&await Pj(pe,{description:I.trim(),updatedAt:ep()}),W(null)}catch{ne("Unable to save changes. Please try again.")}finally{O(!1)}}};return i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Dashboard"}),i.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Project records and documents are available only after authentication."}),!s&&i.jsxs("div",{className:"rounded border border-gray-200 bg-gray-50 p-6 text-gray-700",children:[i.jsx("p",{className:"mb-4",children:"You must be signed in to view or create projects."}),i.jsx(le,{to:"/portal",className:"inline-flex items-center justify-center rounded border border-gray-300 px-4 py-2 text-gray-900 hover:border-gray-400",children:"Go to portal"})]}),s&&i.jsxs("div",{className:"grid gap-10",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-4",children:"Existing Projects"}),t.length===0?i.jsx("p",{className:"text-gray-700",children:"No projects on file."}):i.jsxs("div",{className:"grid gap-6 grid-cols-2",children:[i.jsx("div",{className:"space-y-3",children:t.map(xe=>i.jsxs("button",{type:"button",onClick:()=>c(xe.id),className:`w-full rounded border px-4 py-3 text-left transition-colors ${xe.id===l?"border-gray-900 bg-gray-50 text-gray-900":"border-gray-200 text-gray-700 hover:border-gray-400"}`,children:[i.jsx("div",{className:"text-sm font-medium",children:xe.title}),i.jsx("div",{className:"text-xs text-gray-600 line-clamp-2",children:xe.description})]},xe.id))}),i.jsx("div",{className:"rounded border border-gray-200 p-4",children:P?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-600",children:"Selected project"}),i.jsx("div",{className:"flex items-center gap-2",children:G==="title"?i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("label",{className:"sr-only",htmlFor:"edit-title",children:"Title"}),i.jsx("input",{id:"edit-title",name:"edit-title",type:"text",required:!0,value:N,onChange:xe=>w(xe.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"}),i.jsxs("div",{className:"flex gap-3 text-sm",children:[i.jsx("button",{type:"button",onClick:()=>E("title"),disabled:Me,className:"text-gray-900 border-b border-gray-400 hover:border-gray-600 disabled:opacity-50",children:"Save"}),i.jsx("button",{type:"button",onClick:()=>{w(P.title),W(null)},className:"text-gray-700 border-b border-gray-300 hover:border-gray-500",children:"Cancel"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-lg text-gray-900",children:P.title}),i.jsx("button",{type:"button",onClick:()=>W("title"),className:"text-gray-600 hover:text-gray-900","aria-label":"Edit title",children:i.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 20 20",className:"h-4 w-4",fill:"currentColor",children:i.jsx("path",{d:"M14.69 2.86a2.25 2.25 0 0 1 3.18 3.18l-9.5 9.5-4.24.94.94-4.24 9.5-9.5z"})})})]})})]}),i.jsx("div",{className:"space-y-2",children:i.jsx("div",{className:"flex items-start gap-2",children:G==="description"?i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("label",{className:"sr-only",htmlFor:"edit-description",children:"Description"}),i.jsx("textarea",{id:"edit-description",name:"edit-description",rows:4,required:!0,value:I,onChange:xe=>M(xe.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"}),i.jsxs("div",{className:"flex gap-3 text-sm",children:[i.jsx("button",{type:"button",onClick:()=>E("description"),disabled:Me,className:"text-gray-900 border-b border-gray-400 hover:border-gray-600 disabled:opacity-50",children:"Save"}),i.jsx("button",{type:"button",onClick:()=>{M(P.description),W(null)},className:"text-gray-700 border-b border-gray-300 hover:border-gray-500",children:"Cancel"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-gray-700",children:P.description}),i.jsx("button",{type:"button",onClick:()=>W("description"),className:"text-gray-600 hover:text-gray-900","aria-label":"Edit description",children:i.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 20 20",className:"h-4 w-4",fill:"currentColor",children:i.jsx("path",{d:"M14.69 2.86a2.25 2.25 0 0 1 3.18 3.18l-9.5 9.5-4.24.94.94-4.24 9.5-9.5z"})})})]})})}),P.fileUrl&&i.jsx("a",{href:P.fileUrl,className:"text-sm text-gray-900 border-b border-gray-400 hover:border-gray-600",target:"_blank",rel:"noreferrer",children:P.fileName??"Download file"})]}):i.jsx("p",{className:"text-gray-700",children:"Select a project to view details."})})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-4",children:"Create Project"}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"project-title",children:"Title"}),i.jsx("input",{id:"project-title",name:"title",type:"text",required:!0,value:d,onChange:xe=>f(xe.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"project-description",children:"Description"}),i.jsx("textarea",{id:"project-description",name:"description",rows:4,required:!0,value:y,onChange:xe=>g(xe.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"project-file",children:"File (optional)"}),i.jsx("input",{id:"project-file",name:"file",type:"file",ref:k,onChange:xe=>X(xe.target.files?.[0]??null),className:"block w-full text-sm text-gray-700 file:mr-4 file:rounded file:border-0 file:bg-gray-100 file:px-3 file:py-2 file:text-gray-900"})]}),ie&&i.jsx("div",{className:"text-sm text-red-700",children:ie}),i.jsx("button",{type:"submit",disabled:!z||Re,className:"inline-flex items-center justify-center rounded bg-gray-900 px-4 py-2 text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 disabled:opacity-50",children:"Create Project"})]})]})]})]})}),i.jsx(bt,{})]})}function f6(){return i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsx("div",{children:i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Legal Disclaimer"})}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"General Information"}),i.jsx("p",{className:"text-gray-700",children:"This website provides general information about professional engineering services in Missouri. It is not a substitute for professional consultation or a formal engagement."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"No Professional Engagement"}),i.jsx("p",{className:"text-gray-700",children:"Contact through this site does not establish a professional engineer-client relationship. Any engagement requires a written agreement and confirmation of scope, schedule, and terms."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Reliance and Use"}),i.jsx("p",{className:"text-gray-700",children:"Information provided here is intended for general informational purposes only. Decisions based on this information should be made only after direct consultation and review of project-specific facts."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Jurisdiction and Licensure"}),i.jsx("p",{className:"text-gray-700",children:"Professional engineering services are offered only in jurisdictions where the engineer is properly licensed. This website does not constitute an offer to provide engineering services in any jurisdiction where such services would be unlawful."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Use of Sealed Documents"}),i.jsx("p",{className:"text-gray-700",children:"Engineering documents that are signed and sealed are valid only in their final form and for the specific project and conditions for which they were prepared. Any reuse, modification, or reliance beyond the original purpose is at the userâ€™s sole risk unless expressly authorized in writing."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Confidentiality"}),i.jsx("p",{className:"text-gray-700",children:"Do not transmit sensitive or privileged information before an engagement is established. Submitted materials may not be treated as confidential unless an agreement is in place."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Accuracy and Changes"}),i.jsx("p",{className:"text-gray-700",children:"Information on this website may be updated or modified at any time without notice and is not guaranteed to reflect the most current statutes, regulations, or professional standards."})]})]})}),i.jsx(bt,{})]})}function g6(){return i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-6",children:"Engineering Notes"}),i.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Articles addressing professional engineering practice, review, and analysis."}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/wastewater-projects-oxidation-ditches-engineering-overview",className:"border-b border-transparent hover:border-gray-400",children:"Wastewater Projects and Oxidation Ditches: Engineering Overview"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 17, 2026"}),i.jsx("p",{className:"text-gray-700",children:"An overview of oxidation ditch systems: how the process works, why theyâ€™re used, engineering considerations, troubleshooting, upgrades, and common limitations."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/engineering-documentation-technical-disputes",className:"border-b border-transparent hover:border-gray-400",children:"The Role of Engineering Documentation in Technical Disputes"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 16, 2026"}),i.jsx("p",{className:"text-gray-700",children:"Why documentation matters, what engineers review, how documents reflect engineering judgment, and common limitations in dispute contexts."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/system-performance-under-uncertainty",className:"border-b border-transparent hover:border-gray-400",children:"How Engineers Evaluate System Performance Under Uncertainty"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 15, 2026"}),i.jsx("p",{className:"text-gray-700",children:"Sources and types of uncertainty, common evaluation methods, the role of assumptions, and how engineers communicate limitations."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/independent-engineering-review-dispute-resolution",className:"border-b border-transparent hover:border-gray-400",children:"The Role of Independent Engineering Review in Dispute Resolution"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 12, 2026"}),i.jsx("p",{className:"text-gray-700",children:"Why independent technical evaluation matters, including objectivity, methodology, limitations, and clear communication in dispute contexts."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/engineering-review-vs-engineering-design",className:"border-b border-transparent hover:border-gray-400",children:"Engineering Review vs. Engineering Design: Understanding the Difference"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 11, 2026"}),i.jsx("p",{className:"text-gray-700",children:"Two distinct but related professional services: what each involves, differences in responsibility, limitations, and how review applies in forensic and litigation contexts."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/small-residential-light-commercial-structural-reviews-missouri",className:"border-b border-transparent hover:border-gray-400",children:"Small Residential & Light Commercial Structural Reviews in Missouri: What You Get, What I Need, and What It Costs"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 10, 2026"}),i.jsx("p",{className:"text-gray-700",children:"What a small structural review typically includes, when a desktop review is appropriate, when a site visit is recommended, what to send for a fast quote, and typical pricing."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/how-lenders-use-property-condition-assessments-pca",className:"border-b border-transparent hover:border-gray-400",children:"How Lenders Use Property Condition Assessments (PCAs)"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 4, 2026"}),i.jsx("p",{className:"text-gray-700",children:"Why PCAs matter in real estate financing: how lenders use condition findings to manage risk during underwriting and due diligence."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/pca-vs-cna-understanding-the-difference",className:"border-b border-transparent hover:border-gray-400",children:"PCA vs. CNA: Understanding the Difference"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 3, 2026"}),i.jsx("p",{className:"text-gray-700",children:"Two common building assessments with different goals: present condition baseline vs. future capital planning."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/property-condition-assessment-pca",className:"border-b border-transparent hover:border-gray-400",children:"What Is a Property Condition Assessment (PCA)?"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 2, 2026"}),i.jsx("p",{className:"text-gray-700",children:"What a PCA typically includes, how itâ€™s used in due diligence, and when engineering judgment may apply."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/structural-analysis-building-approval-missouri",className:"border-b border-transparent hover:border-gray-400",children:"Structural Analysis and Building Approval in Missouri: What to Know"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 1, 2026"}),i.jsx("p",{className:"text-gray-700",children:"How structural analysis relates to building approval in Missouri, including when engineering is required and the role of a licensed Professional Engineer."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/common-mistakes-engineering-expert-reports",className:"border-b border-transparent hover:border-gray-400",children:"Common Mistakes in Engineering Expert Reports"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 31, 2026"}),i.jsx("p",{className:"text-gray-700",children:"Why report quality matters in expert engineering reports, including scope, assumptions, evidence, and communication."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/root-cause-vs-legal-cause-engineering",className:"border-b border-transparent hover:border-gray-400",children:"Root Cause vs. Legal Cause: An Engineering Perspective"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 30, 2026"}),i.jsx("p",{className:"text-gray-700",children:"Why the distinction between engineering root cause and legal cause matters in technical disputes and expert testimony."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/courts-evaluate-engineering-causation-testimony",className:"border-b border-transparent hover:border-gray-400",children:"How Courts Evaluate Engineering Causation Testimony"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 29, 2026"}),i.jsx("p",{className:"text-gray-700",children:"How courts evaluate engineering causation testimony, including admissibility, methodology, and evidentiary connection."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/engineering-causation-failure-analysis",className:"border-b border-transparent hover:border-gray-400",children:"How Engineers Evaluate Causation in Failure Analysis"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 28, 2026"}),i.jsx("p",{className:"text-gray-700",children:"Understanding causation analysis in failure investigations, including evidence, failure modes, and professional judgment."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/what-does-professional-engineer-seal-mean",className:"border-b border-transparent hover:border-gray-400",children:"What Does It Mean When a Professional Engineer Seals a Document?"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 27, 2026"}),i.jsx("p",{className:"text-gray-700",children:"Understanding the purpose of an engineering seal in Missouri: professional responsibility, legal obligations, and when sealing is required."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/what-does-engineering-expert-witness-do",className:"border-b border-transparent hover:border-gray-400",children:"What Does an Engineering Expert Witness Do?"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 25, 2026"}),i.jsx("p",{className:"text-gray-700",children:"Understanding the role of engineering expert witnesses in legal matters: independent analysis, forensic evaluation, and professional testimony."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/when-professional-engineer-required-missouri",className:"border-b border-transparent hover:border-gray-400",children:"When Is a Professional Engineer Required in Missouri?"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 24, 2026"}),i.jsx("p",{className:"text-gray-700",children:"Understanding when engineering licensure is necessary, including sealing, professional judgment, and common compliance scenarios."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/engineering-standards-assumptions-failure-analysis",className:"border-b border-transparent hover:border-gray-400",children:"Engineering Standards, Assumptions, and Failure Analysis"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 21, 2026"}),i.jsx("p",{className:"text-gray-700",children:"Why assumptions matter in engineering practice, including standards, documentation, and failure analysis."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/professional-engineer-expert-witness-missouri",className:"border-b border-transparent hover:border-gray-400",children:"The Role of a Professional Engineer as an Expert Witness in Missouri"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 20, 2026"}),i.jsx("p",{className:"text-gray-700",children:"Technical expertise in legal and dispute contexts, including professional responsibilities and independence of engineering expert witnesses."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/forensic-engineering-missouri-technical-analysis",className:"border-b border-transparent hover:border-gray-400",children:"Forensic Engineering in Missouri: Technical Analysis After a Failure"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 19, 2026"}),i.jsx("p",{className:"text-gray-700",children:"Understanding forensic engineering practice in Missouri: technical investigation of failures, incidents, and disputes by a licensed Professional Engineer."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/engineering-review-professional-judgment-st-louis-missouri",className:"border-b border-transparent hover:border-gray-400",children:"Engineering Review and Professional Judgment in the St. Louis Region"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 18, 2026"}),i.jsx("p",{className:"text-gray-700",children:"A discussion of professional engineering review and judgment in the St. Louis region, including typical review activities and forensic engineering contexts."})]}),i.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:i.jsx(le,{to:"/blog/professional-engineering-st-louis-missouri",className:"border-b border-transparent hover:border-gray-400",children:"Professional Engineering Practice in St. Louis, Missouri"})}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 16, 2026"}),i.jsx("p",{className:"text-gray-700",children:"An overview of professional engineering practice in St. Louis, Missouri, including licensure requirements, common project types, and the role of licensed Professional Engineers."})]})]})]})}),i.jsx(bt,{})]})}function p6(){const s="2026-01-16",e="January 16, 2026";return D.useEffect(()=>{const t=(l,c)=>{const d=document.head.querySelector(`meta[name="${l}"]`),f=d??document.createElement("meta");f.name=l,f.content=c,d||document.head.appendChild(f)},a=(l,c)=>{const d=document.head.querySelector(`meta[property="${l}"]`),f=d??document.createElement("meta");f.setAttribute("property",l),f.content=c,d||document.head.appendChild(f)};t("date",s),a("article:published_time",s)},[]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Professional Engineering Practice in St. Louis, Missouri"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Professional Engineering Practice in St. Louis, Missouri"}),i.jsx("p",{className:"text-lg text-gray-700",children:"An overview of professional engineering practice in St. Louis, Missouri, including licensure requirements, common project types, and the role of licensed Professional Engineers."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Introduction"}),i.jsx("p",{className:"text-gray-700",children:"St. Louis has a long history of engineering activity, spanning transportation, manufacturing, aerospace, energy, and modern software-enabled systems. Professional engineering practice in the region operates within a regulatory framework established by the State of Missouri to protect public health, safety, and welfare."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"This article provides an overview of how professional engineering work is practiced in St. Louis, the role of a licensed Professional Engineer (PE), and common contexts in which engineering review and judgment are required."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Professional Engineering Licensure in Missouri"}),i.jsx("p",{className:"text-gray-700",children:"Engineering services offered to the public in Missouri are regulated under Chapter 327 of the Revised Statutes of Missouri. Individuals offering professional engineering services must be licensed by the Missouri Board for Architects, Professional Engineers, Professional Land Surveyors, and Professional Landscape Architects."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Licensure requires formal education, documented experience, successful completion of national examinations, and adherence to ongoing professional and ethical obligations. A licensed Professional Engineer is personally responsible for engineering work performed under their seal."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"In St. Louis, as elsewhere in Missouri, engineering documents such as drawings, specifications, calculations, reports, and certifications may require review and sealing by a licensed PE, depending on the nature and use of the work."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Work Commonly Performed in the St. Louis Region"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"The St. Louis metropolitan area supports a wide range of engineering activities. Common categories include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Infrastructure and transportation systems, including civil and structural components"}),i.jsx("li",{children:"Manufacturing and industrial systems, often involving mechanical, electrical, and controls engineering"}),i.jsx("li",{children:"Aerospace and defense-related engineering, reflecting the regionâ€™s historical strengths"}),i.jsx("li",{children:"Energy, utilities, and power systems"}),i.jsx("li",{children:"Software-integrated and automated systems, where engineering judgment intersects with computing and control systems"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Many projects involve multidisciplinary considerations and require formal engineering analysis, documentation, and professional review."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Review, Analysis, and Professional Judgment"}),i.jsx("p",{className:"text-gray-700",children:"Not all engineering work is the same. Some projects involve original design, while others require independent review, verification, or expert opinion. In regulated or high-consequence environments, professional engineering judgment is often necessary to assess compliance, safety, reliability, and fitness for purpose."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering review may include evaluation of calculations, assumptions, testing results, system behavior, or failure modes. When appropriate, a Professional Engineer may seal documents to indicate responsibility for the technical content under Missouri law."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Forensic Engineering and Expert Analysis"}),i.jsx("p",{className:"text-gray-700",children:"In addition to design and review, professional engineers in St. Louis may perform forensic engineering work. This can include analysis of system failures, construction issues, accidents, or disputes involving technical matters."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic engineering often supports legal proceedings, insurance claims, or internal investigations. In such contexts, engineering opinions must be based on sound methodology, documented evidence, and professional standards."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Selecting a Professional Engineer in St. Louis"}),i.jsx("p",{className:"text-gray-700",children:"When engaging a Professional Engineer, it is important to confirm licensure status, relevant experience, and scope alignment with the work being requested. Professional engagements are typically established through a written agreement defining responsibilities, limitations, and deliverables."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering services should be performed in accordance with Missouri statutes, applicable codes and standards, and accepted engineering practices."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Conclusion"}),i.jsx("p",{className:"text-gray-700",children:"Professional engineering practice in St. Louis reflects both the regionâ€™s technical history and its ongoing development. Licensed Professional Engineers play a critical role in ensuring that engineering work affecting the public is performed with appropriate competence, judgment, and accountability."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"For projects requiring engineering analysis, review, or professional oversight, consultation with a Missouri-licensed Professional Engineer is an essential step."})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:["Published"," ",i.jsx("time",{dateTime:s,children:e})]}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]}),i.jsxs("p",{children:["Learn more about the"," ",i.jsx(le,{to:"/",className:"border-b border-gray-300 hover:border-gray-500",children:"licensed Professional Engineer"})," ","providing services in Missouri."]})]})]})}),i.jsx(bt,{})]})}function y6(){const s="2026-01-18",e="January 18, 2026",t="Engineering Review and Professional Judgment in the St. Louis Region",a="An overview of professional engineering review in the St. Louis region, including typical review activities, software-driven systems, and forensic engineering contexts.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Engineering Review and Professional Judgment in the St. Louis Region"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Engineering Review and Professional Judgment in the St. Louis Region"}),i.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Role of a Licensed Professional Engineer"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"Engineering work in the St. Louis region spans a wide range of industries, including manufacturing, transportation, technology, utilities, and regulated systems. Many projects involve complex interactions between software, hardware, and physical systems, where failure modes are not always obvious."}),i.jsx("p",{className:"text-gray-700",children:"In Missouri, a licensed Professional Engineer (PE) is responsible for applying engineering judgment to evaluate designs, analyses, and technical decisions that may affect public safety, reliability, or compliance with applicable standards."}),i.jsx("p",{className:"text-gray-700",children:"This post explains how professional engineering review fits into real-world projects in the St. Louis area, and when engaging a Missouri-licensed PE is appropriate."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Professional Engineering Review Involves"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Professional engineering review is not limited to producing new designs. In many cases, it involves evaluating existing work, assumptions, or system behavior."}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Typical review activities may include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Reviewing engineering drawings, calculations, or specifications"}),i.jsx("li",{children:"Evaluating system architecture or control logic"}),i.jsx("li",{children:"Assessing whether assumptions align with operating conditions"}),i.jsx("li",{children:"Identifying failure modes, edge cases, or unintended interactions"}),i.jsx("li",{children:"Providing a documented engineering opinion based on analysis"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"The goal of review is not to â€œapproveâ€ work informally, but to apply professional judgment grounded in education, experience, and applicable engineering principles."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Judgment in Complex and Software-Driven Systems"}),i.jsx("p",{className:"text-gray-700",children:"Modern engineering projects increasingly involve software-defined behavior, distributed systems, and embedded control. In these environments, failures often arise from system interactions rather than single-component defects."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering judgment in these cases may involve:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Understanding how software logic interacts with physical processes"}),i.jsx("li",{children:"Reviewing control strategies and fault handling"}),i.jsx("li",{children:"Evaluating verification and validation methods"}),i.jsx("li",{children:"Assessing risk where deterministic proof is impractical"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"These types of reviews are common in regulated or high-reliability environments and often benefit from independent professional evaluation."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Forensic Engineering and Expert Analysis"}),i.jsx("p",{className:"text-gray-700",children:"In some situations, engineering review occurs after an incident, failure, or dispute. Forensic engineering focuses on understanding what happened and why, based on technical evidence rather than speculation."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic engineering services may include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Analysis of system behavior leading up to a failure"}),i.jsx("li",{children:"Review of documentation, logs, or test results"}),i.jsx("li",{children:"Evaluation of compliance with accepted engineering practices"}),i.jsx("li",{children:"Preparation of engineering opinions suitable for legal or insurance contexts"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"In Missouri, forensic opinions offered by a Professional Engineer must remain within the engineerâ€™s area of competence and be based on sufficient technical analysis."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Engage a Missouri-Licensed Professional Engineer"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engaging a Professional Engineer may be appropriate when:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Engineering work affects public safety or critical operations"}),i.jsx("li",{children:"Independent technical review is required"}),i.jsx("li",{children:"Engineering documents require sealing under Missouri law"}),i.jsx("li",{children:"An objective engineering opinion is needed"}),i.jsx("li",{children:"A failure or dispute involves technical systems"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Early engagement often allows issues to be identified before they become costly or contentious."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Professional Practice in the St. Louis Area"}),i.jsx("p",{className:"text-gray-700",children:"Engineering practice in the St. Louis region reflects the areaâ€™s diverse industrial and technical base. Projects frequently involve interdisciplinary systems where careful analysis and clear documentation are essential."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Professional engineering services are governed by Missouri statutes and board rules, which establish requirements for licensure, responsibility, and ethical conduct. Any engineering engagement should clearly define scope, responsibilities, and limitations in writing."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article is intended to provide general information about professional engineering practice in Missouri. It does not constitute engineering advice or establish a professional engagement."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"If you are considering engineering review, analysis, or forensic evaluation, consultation with a Missouri-licensed Professional Engineer can help clarify next steps and determine whether professional services are appropriate for your situation."})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:["Published"," ",i.jsx("time",{dateTime:s,children:e})]}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),i.jsx(bt,{})]})}function x6(){const s="2026-01-19",e="January 19, 2026",t="Forensic Engineering in Missouri: Technical Analysis After a Failure",a="Understanding forensic engineering practice in Missouri: technical investigation of failures, incidents, and disputes by a licensed Professional Engineer.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Forensic Engineering in Missouri: Technical Analysis After a Failure"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Forensic Engineering in Missouri: Technical Analysis After a Failure"}),i.jsx("p",{className:"text-lg text-gray-700",children:"Understanding forensic engineering practice in Missouri: technical investigation of failures, incidents, and disputes by a licensed Professional Engineer."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Forensic Engineering Is â€” and Is Not"}),i.jsx("p",{className:"text-gray-700",children:"Forensic engineering focuses on the investigation of engineering-related failures, incidents, or disputes. The purpose is not advocacy, but technical understanding: determining what occurred, how systems behaved, and whether engineering practices were consistent with accepted standards."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"In Missouri, forensic engineering opinions offered by a licensed Professional Engineer must be based on sufficient facts, appropriate analysis, and the engineer's area of competence."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"This article outlines how forensic engineering is typically applied and when it may be appropriate to engage a Missouri-licensed Professional Engineer."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Common Situations Involving Forensic Engineering"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Forensic engineering may be involved in a wide range of situations, including:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"System or equipment failures"}),i.jsx("li",{children:"Software-controlled system malfunctions"}),i.jsx("li",{children:"Industrial or infrastructure incidents"}),i.jsx("li",{children:"Construction or design disputes"}),i.jsx("li",{children:"Product performance issues"}),i.jsx("li",{children:"Insurance or liability investigations"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"In many cases, forensic analysis occurs months or years after the original work was performed, requiring careful reconstruction of events from available evidence."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"The Forensic Engineering Process"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"While each investigation is unique, forensic engineering often follows a structured process:"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Evidence Collection"}),i.jsx("p",{className:"text-gray-700",children:"Review of drawings, specifications, logs, test results, photographs, and physical evidence."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"System Understanding"}),i.jsx("p",{className:"text-gray-700",children:"Analysis of how the system was intended to function, including control logic, operating conditions, and interfaces."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Failure Analysis"}),i.jsx("p",{className:"text-gray-700",children:"Identification of failure modes, contributing factors, and sequence of events."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Engineering Evaluation"}),i.jsx("p",{className:"text-gray-700",children:"Assessment of whether engineering decisions aligned with accepted practices at the time the work was performed."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Documentation"}),i.jsx("p",{className:"text-gray-700",children:"Preparation of clear, technically grounded findings and opinions."})]})]}),i.jsx("p",{className:"text-gray-700 mt-4",children:"The emphasis is on reproducible analysis and defensible reasoning rather than conclusions drawn from limited data."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Software and Complex Systems in Forensic Analysis"}),i.jsx("p",{className:"text-gray-700",children:"Modern forensic engineering increasingly involves software-driven and distributed systems. In these cases, failures may arise from timing, state transitions, data dependencies, or unexpected interactions between components."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic analysis of such systems may include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[i.jsx("li",{children:"Review of source code or configuration artifacts"}),i.jsx("li",{children:"Analysis of logs, telemetry, or audit trails"}),i.jsx("li",{children:"Evaluation of control strategies and fault handling"}),i.jsx("li",{children:"Reconstruction of system state over time"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Understanding both software behavior and physical system constraints is often necessary to form a reliable engineering opinion."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Expert Engineering Opinions and Legal Contexts"}),i.jsx("p",{className:"text-gray-700",children:"Forensic engineering findings are frequently used in legal, insurance, or regulatory contexts. When acting as an expert, a Professional Engineer's role is to provide objective technical opinions â€” not legal conclusions."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Key principles include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[i.jsx("li",{children:"Remaining within the engineer's area of expertise"}),i.jsx("li",{children:"Avoiding speculation beyond available evidence"}),i.jsx("li",{children:"Clearly stating assumptions and limitations"}),i.jsx("li",{children:"Distinguishing facts from professional judgment"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Professional engineers are ethically obligated to present opinions honestly and without bias."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Engage a Forensic Engineer"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engaging a forensic engineer may be appropriate when:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"The cause of a failure is unclear or disputed"}),i.jsx("li",{children:"Technical evidence requires expert interpretation"}),i.jsx("li",{children:"An independent engineering opinion is needed"}),i.jsx("li",{children:"Engineering documentation or practices are questioned"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Early involvement can help preserve evidence and reduce uncertainty as investigations progress."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about forensic engineering practice in Missouri. It does not constitute engineering advice or establish a professional engagement."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic engineering requires careful analysis, technical rigor, and professional judgment grounded in engineering principles and experience."})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsx("p",{children:i.jsxs("time",{dateTime:s,children:["Published ",e]})}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]}),i.jsxs("p",{children:["Learn more about the"," ",i.jsx(le,{to:"/",className:"border-b border-gray-300 hover:border-gray-500",children:"licensed Professional Engineer"})," ","providing forensic engineering services in Missouri."]})]})]})}),i.jsx(bt,{})]})}function b6(){const s="2026-01-20",e="January 20, 2026",t="The Role of a Professional Engineer as an Expert Witness in Missouri",a="An overview of the role of licensed Professional Engineers as expert witnesses in Missouri, including independence, professional judgment, and legal context.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ The Role of a Professional Engineer as an Expert Witness in Missouri"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"The Role of a Professional Engineer as an Expert Witness in Missouri"}),i.jsx("p",{className:"text-lg text-gray-700",children:"Technical Expertise in Legal and Dispute Contexts"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"Engineering issues frequently arise in legal disputes, insurance claims, and regulatory proceedings. When technical questions are central to a matter, courts and attorneys may rely on expert testimony to understand engineering principles, system behavior, and technical causation."}),i.jsx("p",{className:"text-gray-700",children:"In Missouri, a licensed Professional Engineer may serve as an expert witness when the subject matter falls within the engineerâ€™s area of competence and the opinions offered are based on sufficient technical analysis."}),i.jsx("p",{className:"text-gray-700",children:"This article describes the role of an engineering expert witness and the professional responsibilities that accompany that role."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What an Engineering Expert Witness Does"}),i.jsx("p",{className:"text-gray-700",children:"An engineering expert witness provides independent technical opinions to assist the court or other decision-makers. This role is distinct from advocacy and is grounded in objective engineering analysis."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Typical expert witness activities may include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[i.jsx("li",{children:"Reviewing technical documents, drawings, and records"}),i.jsx("li",{children:"Evaluating system design, operation, and failure modes"}),i.jsx("li",{children:"Analyzing data, logs, and test results"}),i.jsx("li",{children:"Preparing written expert reports"}),i.jsx("li",{children:"Providing deposition or trial testimony"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"The expertâ€™s duty is to the facts and engineering principles, not to a particular outcome."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Independence and Professional Judgment"}),i.jsx("p",{className:"text-gray-700",children:"Professional engineers serving as expert witnesses are ethically obligated to remain independent and unbiased. Opinions must be formed through analysis rather than instruction from counsel or clients."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Key elements of professional judgment in expert work include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[i.jsx("li",{children:"Clear distinction between facts, assumptions, and opinions"}),i.jsx("li",{children:"Use of accepted engineering methods"}),i.jsx("li",{children:"Disclosure of limitations or uncertainties"}),i.jsx("li",{children:"Avoidance of conclusions beyond available evidence"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Maintaining independence is essential for credibility and admissibility."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Expertise and Modern Systems"}),i.jsx("p",{className:"text-gray-700",children:"Many disputes today involve complex systems that include software, control logic, or distributed components. Expert evaluation of such systems often requires understanding both theoretical design and real-world operation."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Expert witness work in these cases may involve:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[i.jsx("li",{children:"Reconstruction of system behavior over time"}),i.jsx("li",{children:"Evaluation of control or decision logic"}),i.jsx("li",{children:"Analysis of interactions between software and physical components"}),i.jsx("li",{children:"Review of verification and validation practices"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering expertise must be applied in a manner that is clear and accessible to non-technical audiences without oversimplifying the underlying analysis."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Legal Standards and Professional Responsibility"}),i.jsx("p",{className:"text-gray-700",children:"While legal standards for expert testimony vary by jurisdiction, professional engineers are governed by ethical and licensure obligations regardless of venue."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"In Missouri, engineers must:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[i.jsx("li",{children:"Practice within their area of competence"}),i.jsx("li",{children:"Avoid misleading statements or omissions"}),i.jsx("li",{children:"Maintain honesty and objectivity"}),i.jsx("li",{children:"Accept responsibility for opinions offered"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Failure to adhere to these principles can affect both professional credibility and licensure."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When an Engineering Expert May Be Needed"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"An engineering expert witness may be appropriate when:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Technical causation is disputed"}),i.jsx("li",{children:"Engineering standards or practices are questioned"}),i.jsx("li",{children:"System behavior is not readily understood by non-engineers"}),i.jsx("li",{children:"Independent analysis is required to inform decision-making"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Early technical evaluation can often clarify issues and narrow the scope of disputes."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article is intended to provide general information about the role of Professional Engineers as expert witnesses in Missouri. It does not constitute engineering advice or establish a professional engagement."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering expert testimony relies on careful analysis, clear reasoning, and professional integrity."})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:["Published"," ",i.jsx("time",{dateTime:s,children:e})]}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),i.jsx(bt,{})]})}function v6(){const s="2026-01-21",e="January 21, 2026",t="Engineering Standards, Assumptions, and Failure Analysis",a="Why assumptions matter in engineering practice, and how standards and documentation influence failure analysis and professional judgment.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Engineering Standards, Assumptions, and Failure Analysis"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Engineering Standards, Assumptions, and Failure Analysis"}),i.jsx("p",{className:"text-lg text-gray-700",children:"Why Assumptions Matter in Engineering Practice"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"Engineering analysis is built on assumptions. These may involve operating conditions, loads, environmental factors, user behavior, data quality, or system boundaries. While assumptions are unavoidable, they must be reasonable, documented, and appropriate to the problem being addressed."}),i.jsx("p",{className:"text-gray-700",children:"In professional engineering practice, unexamined or invalid assumptions are a common source of system failures and disputes. Understanding how assumptions influence analysis is central to both design review and forensic engineering."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Standards and Accepted Practice"}),i.jsx("p",{className:"text-gray-700",children:"Engineering standards provide a framework for consistent and reliable analysis. Standards may be developed by professional organizations, regulatory bodies, or industry groups, and they often reflect consensus on acceptable methods and safety considerations."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"In practice, standards:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[i.jsx("li",{children:"Inform design criteria and analysis methods"}),i.jsx("li",{children:"Establish minimum performance or safety thresholds"}),i.jsx("li",{children:"Provide reference points for professional judgment"}),i.jsx("li",{children:"Evolve over time as technology and knowledge advance"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Compliance with a standard does not eliminate the need for judgment, but deviations from standards should be intentional, justified, and documented."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"The Role of Assumptions in Failure Analysis"}),i.jsx("p",{className:"text-gray-700",children:"When a system fails, forensic engineering analysis often begins by examining the assumptions underlying its design, implementation, and operation."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Common assumption-related issues include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[i.jsx("li",{children:"Operating conditions outside the original design envelope"}),i.jsx("li",{children:"Environmental factors not fully considered"}),i.jsx("li",{children:"Simplifications that obscured critical interactions"}),i.jsx("li",{children:"Incomplete or outdated data inputs"}),i.jsx("li",{children:"Misalignment between documented assumptions and actual use"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Failure analysis seeks to identify not only what failed, but why the assumptions supporting earlier decisions may no longer have been valid."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Distinguishing Errors from Engineering Judgment"}),i.jsx("p",{className:"text-gray-700",children:"Not every unfavorable outcome reflects an error. Engineering decisions are often made under uncertainty, with incomplete information and competing constraints."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"A key task in professional and forensic analysis is distinguishing between:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[i.jsx("li",{children:"Reasonable engineering judgment based on available information"}),i.jsx("li",{children:"Decisions that deviated from accepted practice without justification"}),i.jsx("li",{children:"Changes in conditions that were not foreseeable at the time"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"This distinction is particularly important in legal or insurance contexts, where outcomes alone do not define professional responsibility."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Documentation and Traceability"}),i.jsx("p",{className:"text-gray-700",children:"Clear documentation of assumptions, standards, and decision rationale plays a critical role in both project execution and post-event analysis."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Effective documentation supports:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[i.jsx("li",{children:"Technical review and peer evaluation"}),i.jsx("li",{children:"Future modifications or maintenance"}),i.jsx("li",{children:"Regulatory or contractual compliance"}),i.jsx("li",{children:"Forensic reconstruction if issues arise"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Inadequate documentation can significantly increase uncertainty during failure analysis and complicate resolution of disputes."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Judgment in Complex Systems"}),i.jsx("p",{className:"text-gray-700",children:"Modern systems often involve interactions between physical components, software, and human operators. In these cases, assumptions may be embedded in algorithms, control logic, or operational procedures rather than explicitly stated."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Failure analysis of complex systems may require:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[i.jsx("li",{children:"Examination of implicit assumptions in system behavior"}),i.jsx("li",{children:"Evaluation of edge cases and state transitions"}),i.jsx("li",{children:"Review of validation and testing coverage"}),i.jsx("li",{children:"Consideration of how systems respond to unexpected inputs"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Professional judgment is required to assess whether these assumptions were reasonable in context."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about engineering standards, assumptions, and failure analysis. It does not constitute engineering advice or establish a professional engagement."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Careful consideration of assumptions and standards is fundamental to sound engineering practice, effective review, and reliable forensic analysis."})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:["Published"," ",i.jsx("time",{dateTime:s,children:e})]}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),i.jsx(bt,{})]})}function N6(){const s="2026-01-24",e="January 24, 2026",t="When Is a Professional Engineer Required in Missouri?",a="Understanding when engineering licensure is necessary in Missouri and how professional judgment, sealing, and compliance requirements apply.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ When Is a Professional Engineer Required in Missouri?"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"When Is a Professional Engineer Required in Missouri?"}),i.jsx("p",{className:"text-lg text-gray-700",children:"Understanding When Engineering Licensure Is Necessary"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"In Missouri, the practice of professional engineering is regulated to protect public health, safety, and welfare. Not every technical task requires a licensed Professional Engineer (PE), but certain activities legally do."}),i.jsx("p",{className:"text-gray-700",children:"Understanding when a PE is required can help project owners, developers, contractors, and attorneys avoid delays, compliance issues, or rejected submissions."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Constitutes the Practice of Engineering in Missouri"}),i.jsx("p",{className:"text-gray-700",children:"Missouri law defines the practice of engineering broadly. In general, it includes the application of engineering principles and judgment to services such as:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[i.jsx("li",{children:"Engineering analysis and evaluation"}),i.jsx("li",{children:"Preparation of engineering drawings and specifications"}),i.jsx("li",{children:"Design or review of systems affecting safety or performance"}),i.jsx("li",{children:"Engineering reports, opinions, or certifications"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"If a task involves professional judgment that could impact public safety, it may fall under regulated engineering practice."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Common Situations Where a PE Is Required"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"While requirements vary by jurisdiction and project type, a Missouri-licensed PE is commonly required for:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Engineering drawings submitted to public agencies"}),i.jsx("li",{children:"Structural, mechanical, electrical, or system designs affecting safety"}),i.jsx("li",{children:"Sealed engineering calculations or reports"}),i.jsx("li",{children:"Expert engineering opinions in legal or insurance matters"}),i.jsx("li",{children:"Engineering evaluations relied upon by third parties"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Local authorities may impose additional requirements depending on the scope and nature of the work."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Activities That May Not Require a PE"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Not all technical work requires licensure. Examples of activities that may not require a PE include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Drafting or modeling performed under supervision"}),i.jsx("li",{children:"Work based strictly on prescriptive codes without judgment"}),i.jsx("li",{children:"Internal technical analysis not released externally"}),i.jsx("li",{children:"Manufacturing or installation following stamped plans"}),i.jsx("li",{children:"Software development that does not constitute regulated engineering practice"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"The distinction often depends on whether professional judgment is exercised and whether the work is offered to the public."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Review vs. Engineering Design"}),i.jsx("p",{className:"text-gray-700",children:"Engineering review and engineering design are related but distinct activities."}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[i.jsx("li",{children:"Design involves creating engineering solutions and selecting parameters"}),i.jsx("li",{children:"Review involves evaluating work prepared by others for compliance, reasonableness, and suitability"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Both activities may require licensure when professional judgment is applied and the work is relied upon by others."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Sealing and Responsibility"}),i.jsx("p",{className:"text-gray-700",children:"When a Missouri PE seals a document, they are affirming that:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[i.jsx("li",{children:"The work was prepared by them or under their responsible charge"}),i.jsx("li",{children:"The work meets applicable standards and requirements"}),i.jsx("li",{children:"They accept professional responsibility for the content"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Sealing is not a formality. It carries legal and ethical obligations and should only be done when appropriate."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Consequences of Improper Practice"}),i.jsx("p",{className:"text-gray-700",children:"Performing regulated engineering services without proper licensure can result in:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[i.jsx("li",{children:"Rejected submissions or project delays"}),i.jsx("li",{children:"Regulatory action or penalties"}),i.jsx("li",{children:"Increased liability exposure"}),i.jsx("li",{children:"Challenges to the validity of work products"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Clarifying licensure requirements early can prevent issues later."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Seek Professional Guidance"}),i.jsx("p",{className:"text-gray-700",children:"If there is uncertainty about whether a PE is required, consulting with a licensed Professional Engineer early in the process can help clarify obligations and define appropriate scope."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information regarding professional engineering licensure in Missouri. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:["Published"," ",i.jsx("time",{dateTime:s,children:e})]}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),i.jsx(bt,{})]})}function j6(){const s="2026-01-25",e="January 25, 2026",t="What Does an Engineering Expert Witness Do?",a="Understanding the role of engineering expert witnesses in legal matters: independent analysis, forensic evaluation, and professional testimony in Missouri.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ What Does an Engineering Expert Witness Do?"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"What Does an Engineering Expert Witness Do?"}),i.jsx("p",{className:"text-lg text-gray-700",children:"The Role of Engineering Expertise in Legal Matters"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"Engineering expert witnesses play a critical role in legal disputes involving technical, scientific, or engineering issues. Their function is not to advocate for a party, but to provide independent, objective engineering analysis and opinion to assist the court in understanding complex matters."}),i.jsx("p",{className:"text-gray-700",children:"In Missouri, expert witnesses offering engineering opinions are often licensed Professional Engineers (PEs)."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Independence and Objectivity"}),i.jsx("p",{className:"text-gray-700",children:"An engineering expert witness is expected to remain independent. Unlike consultants retained to solve problems or design solutions, an expert witness evaluates facts, applies engineering principles, and offers opinions based on evidence."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Credibility depends on:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[i.jsx("li",{children:"Objectivity"}),i.jsx("li",{children:"Technical rigor"}),i.jsx("li",{children:"Transparency of assumptions"}),i.jsx("li",{children:"Consistency with accepted engineering practice"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Typical Engineering Expert Witness Services"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering expert witnesses may be asked to perform tasks such as:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Reviewing engineering drawings, reports, and calculations"}),i.jsx("li",{children:"Evaluating compliance with applicable standards and codes"}),i.jsx("li",{children:"Analyzing failure modes and causation"}),i.jsx("li",{children:"Assessing reasonableness of engineering decisions"}),i.jsx("li",{children:"Preparing written expert reports"}),i.jsx("li",{children:"Providing sworn testimony or deposition"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"The scope of work is typically defined in writing and tailored to the needs of the matter."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Forensic Engineering vs. Design Engineering"}),i.jsx("p",{className:"text-gray-700",children:"Forensic engineering focuses on understanding what occurred, why it occurred, and whether professional standards were met."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"This differs from design engineering, which involves creating systems or solutions. Forensic work is retrospective and analytical, rather than prescriptive."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Licensing and Qualifications"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"In Missouri, offering engineering opinions that rely on professional judgment may require licensure as a Professional Engineer. Courts and attorneys frequently seek experts who:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Hold active PE licensure"}),i.jsx("li",{children:"Have relevant technical education and experience"}),i.jsx("li",{children:"Can clearly explain technical concepts"}),i.jsx("li",{children:"Are familiar with professional standards and ethics"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Licensure alone does not make someone an expert witness, but it is often a baseline requirement."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Reports and Testimony"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Expert reports must be well-organized, technically sound, and defensible. Assumptions, methodologies, and limitations should be clearly stated."}),i.jsx("p",{className:"text-gray-700 mb-3",children:"During testimony, an engineering expert witness may be asked to:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Explain technical findings in plain language"}),i.jsx("li",{children:"Defend methods and conclusions under questioning"}),i.jsx("li",{children:"Clarify what opinions are and are not being offered"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Professional demeanor and clarity are as important as technical correctness."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Ethical Considerations"}),i.jsx("p",{className:"text-gray-700",children:"Engineering expert witnesses are bound by professional ethics. Opinions must be honest, unbiased, and based on sufficient facts and analysis. Compensation should not depend on the outcome of a case."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Maintaining ethical standards protects both the integrity of the process and the credibility of the expert."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When an Engineering Expert Witness Is Needed"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Common situations include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Construction or design disputes"}),i.jsx("li",{children:"Structural or system failures"}),i.jsx("li",{children:"Professional negligence claims"}),i.jsx("li",{children:"Insurance or property damage matters"}),i.jsx("li",{children:"Regulatory or compliance disputes"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Early involvement can help clarify technical issues and narrow disputes."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information regarding engineering expert witness services. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:["Published ",i.jsx("time",{dateTime:s,children:e})]}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),i.jsx(bt,{})]})}function w6(){const s="2026-01-27",e="January 27, 2026",t="What Does It Mean When a Professional Engineer Seals a Document?",a="Understanding the purpose of an engineering seal in Missouri: professional responsibility, legal obligations, and when sealing is required by licensed PEs.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ What Does It Mean When a Professional Engineer Seals a Document?"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"What Does It Mean When a Professional Engineer Seals a Document?"}),i.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Purpose of an Engineering Seal"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"When a Professional Engineer (PE) places their seal on an engineering document, it signifies more than approval or review. In Missouri, sealing is a formal declaration of professional responsibility for the work."}),i.jsx("p",{className:"text-gray-700",children:"Sealed documents are often relied upon by public agencies, courts, lenders, insurers, and other third parties. For this reason, the use of an engineering seal carries legal, ethical, and professional obligations."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What the Engineering Seal Represents"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"By sealing a document, a Missouri-licensed Professional Engineer affirms that:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"The work was prepared by them or under their responsible charge"}),i.jsx("li",{children:"Professional engineering judgment was applied"}),i.jsx("li",{children:"The document complies with applicable standards and regulations"}),i.jsx("li",{children:"The engineer accepts responsibility for the technical content"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"The seal is not a certification of perfection, but it is a statement of accountability."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Documents Commonly Sealed by Professional Engineers"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Depending on project type and jurisdiction, sealed documents may include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Engineering drawings and specifications"}),i.jsx("li",{children:"Engineering reports and evaluations"}),i.jsx("li",{children:"Calculations and technical memoranda"}),i.jsx("li",{children:"Property condition or capital needs assessments"}),i.jsx("li",{children:"Forensic engineering opinions"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Not all engineering documents require a seal, but those that do must be sealed appropriately."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Responsible Charge and Professional Judgment"}),i.jsx("p",{className:"text-gray-700 mb-3",children:'A key requirement for sealing is that the engineer exercised "responsible charge" over the work. This means the engineer:'}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Directly prepared the work, or"}),i.jsx("li",{children:"Personally supervised its preparation, and"}),i.jsx("li",{children:"Had sufficient knowledge to control and evaluate the work"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Sealing work prepared entirely by others without meaningful involvement is not permitted."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Signing and Dating Requirements"}),i.jsx("p",{className:"text-gray-700",children:"In Missouri, sealed documents must also be signed and dated. This establishes when professional responsibility was assumed and helps identify the applicable standards and conditions at the time of issuance."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Electronic seals and signatures are commonly used for digital submissions, provided they meet regulatory requirements."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Improper Use of an Engineering Seal"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Improper sealing can create significant risk for both the engineer and the public. Examples include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Sealing work outside the engineer's area of competence"}),i.jsx("li",{children:"Sealing documents without adequate review or supervision"}),i.jsx("li",{children:"Sealing documents for convenience rather than responsibility"}),i.jsx("li",{children:"Allowing others to use the engineer's seal"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Such actions may result in disciplinary action or legal exposure."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When a Seal Is Not Appropriate"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Some technical work does not require or justify sealing, including:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Preliminary or conceptual studies"}),i.jsx("li",{children:"Internal analyses not released externally"}),i.jsx("li",{children:"Draft documents clearly marked as such"}),i.jsx("li",{children:"Work that does not involve professional judgment"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"In these cases, sealing may be inappropriate or misleading."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Why Sealing Matters to Clients and Third Parties"}),i.jsx("p",{className:"text-gray-700",children:"For clients, a sealed document provides assurance that a licensed professional has taken responsibility for the work. For third parties, it establishes a clear point of accountability."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Understanding when and why a document is sealed helps all parties rely on engineering work appropriately."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about the use of an engineering seal in Missouri. It does not constitute engineering advice or establish a professional engagement."})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:["Published ",i.jsx("time",{dateTime:s,children:e})]}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),i.jsx(bt,{})]})}function _6(){const s="2026-01-28",e="January 28, 2026",t="How Engineers Evaluate Causation in Failure Analysis",a="Understanding how engineers evaluate causation in failure analysis, including evidence collection, failure modes, and professional judgment in Missouri.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ How Engineers Evaluate Causation in Failure Analysis"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"How Engineers Evaluate Causation in Failure Analysis"}),i.jsx("p",{className:"text-lg text-gray-700",children:"Understanding Why a System Failed"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"Failure analysis is not limited to identifying what went wrong. A central objective is determining causationâ€”why the failure occurred and what factors materially contributed to the outcome."}),i.jsx("p",{className:"text-gray-700",children:"In professional engineering practice, causation is evaluated through structured analysis grounded in evidence, engineering principles, and accepted methodology. This process is especially important in forensic and expert witness contexts, where conclusions may be relied upon by courts, insurers, or other decision-makers."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Defining Failure and Scope"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Before causation can be evaluated, the engineer must define:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"What constitutes â€œfailureâ€ in the specific context"}),i.jsx("li",{children:"The performance criteria or expectations involved"}),i.jsx("li",{children:"The system boundaries and time frame under consideration"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Failure may involve physical damage, loss of function, deviation from specifications, or inability to meet operational requirements. Clear definition prevents conclusions from drifting beyond the facts."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Evidence Collection and Preservation"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Causation analysis depends on reliable evidence. Engineers typically begin by gathering and reviewing available materials, which may include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Drawings, specifications, and design documents"}),i.jsx("li",{children:"Maintenance and inspection records"}),i.jsx("li",{children:"Operational data and logs"}),i.jsx("li",{children:"Photographs, videos, or physical artifacts"}),i.jsx("li",{children:"Witness statements or timelines"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Where possible, evidence is preserved to avoid altering or obscuring relevant conditions."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Identifying Potential Failure Modes"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineers then identify plausible failure modesâ€”mechanisms by which the system could have failed. This may involve:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Reviewing design assumptions"}),i.jsx("li",{children:"Evaluating loading and operating conditions"}),i.jsx("li",{children:"Considering environmental factors"}),i.jsx("li",{children:"Examining human or procedural interactions"}),i.jsx("li",{children:"Assessing degradation over time"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"At this stage, multiple hypotheses are often considered."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Evaluating Contributing Factors"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Causation in engineering is rarely singular. Engineers distinguish between:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Primary causes that directly led to failure"}),i.jsx("li",{children:"Contributing factors that increased likelihood or severity"}),i.jsx("li",{children:"Non-causal conditions present but not materially relevant"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"This distinction is critical in forensic contexts, where responsibility and liability may hinge on material contribution rather than mere association."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Use of Engineering Principles and Standards"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering causation analysis relies on established principles, such as:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Mechanics and material behavior"}),i.jsx("li",{children:"Control system response"}),i.jsx("li",{children:"Load paths and redundancy"}),i.jsx("li",{children:"Failure progression and sequence"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Applicable standards and codes are often used as reference points, not as automatic determinants of causation. Deviation from a standard does not necessarily cause failure, and compliance does not guarantee immunity from it."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Testing, Modeling, and Reconstruction"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Where appropriate, engineers may use:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Analytical calculations"}),i.jsx("li",{children:"Computer modeling or simulation"}),i.jsx("li",{children:"Laboratory testing"}),i.jsx("li",{children:"Scenario reconstruction"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"These tools help evaluate whether proposed causes are consistent with observed outcomes. Assumptions and limitations must be clearly stated."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Eliminating Alternative Explanations"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"A key element of causation analysis is the systematic elimination of alternative explanations. Engineers assess whether:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Evidence supports or contradicts each hypothesis"}),i.jsx("li",{children:"Proposed causes are physically or technically plausible"}),i.jsx("li",{children:"Timing and sequence align with observed damage"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Conclusions are strengthened when reasonable alternatives are addressed and ruled out based on evidence."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Communicating Causation Clearly"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering conclusions must be communicated in a way that is accurate, transparent, and understandable to non-engineers."}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Effective communication includes:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Clear separation of facts, assumptions, and opinions"}),i.jsx("li",{children:"Explanation of reasoning and methodology"}),i.jsx("li",{children:"Identification of uncertainties or data gaps"}),i.jsx("li",{children:"Avoidance of speculation beyond available evidence"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"In expert witness settings, clarity is as important as technical rigor."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limits of Engineering Causation Analysis"}),i.jsx("p",{className:"text-gray-700",children:"Engineering analysis does not determine legal responsibility or fault. Engineers evaluate technical causation, not legal conclusions. Where evidence is incomplete or ambiguous, responsible engineers acknowledge limitations rather than overstate certainty."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about how engineers evaluate causation in failure analysis. It does not constitute engineering advice or establish a professional engagement."})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:["Published ",i.jsx("time",{dateTime:s,children:e})]}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),i.jsx(bt,{})]})}function E6(){const s="2026-01-29",e="January 29, 2026",t="How Courts Evaluate Engineering Causation Testimony",a="How courts evaluate engineering causation testimony, including admissibility, methodology, evidence connection, and professional conduct in Missouri.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ How Courts Evaluate Engineering Causation Testimony"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"How Courts Evaluate Engineering Causation Testimony"}),i.jsx("p",{className:"text-lg text-gray-700",children:"The Role of Engineering Testimony in Legal Proceedings"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"In cases involving technical or engineering issues, courts often rely on expert testimony to understand causation. Engineering causation testimony helps explain whether and how a system failed, what factors contributed to that failure, and whether proposed explanations are technically sound."}),i.jsx("p",{className:"text-gray-700",children:"Courts do not evaluate engineering testimony based on conclusions alone. They examine the methods, reasoning, and reliability underlying the opinions offered."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Admissibility vs. Persuasiveness"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Courts typically distinguish between two related but separate questions:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Admissibility: Whether the testimony meets legal standards to be considered"}),i.jsx("li",{children:"Persuasiveness: How much weight the court gives the testimony"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"An opinion may be admissible but still unpersuasive if it lacks clarity, support, or credibility."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Methodology and Reliability"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Courts evaluate whether an engineerâ€™s analysis is grounded in reliable methodology. Factors commonly considered include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Use of accepted engineering principles"}),i.jsx("li",{children:"Consistency with professional standards or practices"}),i.jsx("li",{children:"Application of methods appropriate to the problem"}),i.jsx("li",{children:"Logical connection between evidence and conclusions"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Courts are generally skeptical of opinions that rely on unexplained assumptions or unsupported leaps in reasoning."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Connection to the Evidence"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering causation testimony must be tied to the facts of the case. Courts examine whether:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"The engineer reviewed relevant documents and data"}),i.jsx("li",{children:"Physical evidence supports the proposed causation"}),i.jsx("li",{children:"Alternative explanations were considered and addressed"}),i.jsx("li",{children:"The timing and sequence of events are consistent"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Opinions that are abstract or disconnected from case-specific evidence are often given less weight."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Transparency of Assumptions"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"All engineering analysis involves assumptions. Courts do not expect assumptions to be eliminated, but they do expect them to be:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Identified explicitly"}),i.jsx("li",{children:"Reasonable in context"}),i.jsx("li",{children:"Consistently applied"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Unstated or shifting assumptions can undermine credibility, even if the technical analysis is otherwise sound."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Qualifications and Scope"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Courts consider whether the expertâ€™s qualifications align with the opinions offered. Relevant factors may include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Licensure and professional standing"}),i.jsx("li",{children:"Education and technical experience"}),i.jsx("li",{children:"Familiarity with the subject matter"}),i.jsx("li",{children:"Experience with similar systems or failures"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Courts may discount testimony that extends beyond the expertâ€™s demonstrated area of competence."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Treatment of Alternative Causes"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Credible engineering testimony addresses alternative causation theories. Courts look for evidence that the expert:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Considered other plausible explanations"}),i.jsx("li",{children:"Evaluated them using engineering principles"}),i.jsx("li",{children:"Explained why they were accepted or rejected"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Failure to engage with alternative causes can suggest incomplete or biased analysis."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Communication and Clarity"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Even technically correct opinions may be ineffective if they are poorly communicated. Courts value testimony that:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Clearly separates facts, analysis, and conclusions"}),i.jsx("li",{children:"Uses plain language where possible"}),i.jsx("li",{children:"Avoids unnecessary jargon"}),i.jsx("li",{children:"Acknowledges uncertainty when appropriate"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Clear explanations help courts understand both the reasoning and its limitations."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Independence and Professional Conduct"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Courts are attentive to signs of bias or advocacy. Factors that may affect credibility include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Consistency of opinions across cases"}),i.jsx("li",{children:"Compensation arrangements"}),i.jsx("li",{children:"Willingness to acknowledge unfavorable facts"}),i.jsx("li",{children:"Adherence to professional ethics"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering experts are expected to assist the court, not argue a case."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limits of Engineering Testimony"}),i.jsx("p",{className:"text-gray-700",children:"Engineering experts provide technical opinions, not legal conclusions. Courts evaluate causation testimony within the broader legal framework, which may involve additional considerations beyond engineering analysis."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Responsible experts respect these boundaries."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about how courts evaluate engineering causation testimony. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:["Published ",i.jsx("time",{dateTime:s,children:e})]}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),i.jsx(bt,{})]})}function T6(){const s="2026-01-30",e="January 30, 2026",t="Root Cause vs. Legal Cause: An Engineering Perspective",a="Why the distinction between engineering root cause and legal cause matters in Missouri disputes involving technical failures.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Root Cause vs. Legal Cause: An Engineering Perspective"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Root Cause vs. Legal Cause: An Engineering Perspective"}),i.jsx("p",{className:"text-lg text-gray-700",children:"Why the Distinction Matters"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"In disputes involving technical failures, the terms root cause and legal cause are sometimes used interchangeably. In practice, they represent different concepts. Understanding the distinction is important for attorneys, courts, and engineers alike."}),i.jsx("p",{className:"text-gray-700",children:"Professional engineers evaluate technical causation. Courts evaluate legal responsibility. While related, these analyses serve different purposes."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Engineers Mean by Root Cause"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"In engineering practice, a root cause is the underlying technical reason a failure occurred. Identifying it typically involves:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Defining failure criteria"}),i.jsx("li",{children:"Examining system behavior and conditions"}),i.jsx("li",{children:"Reviewing assumptions and design decisions"}),i.jsx("li",{children:"Evaluating failure modes and sequences"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"A root cause analysis seeks to explain why a system did not perform as intended from an engineering standpoint."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"There may be more than one contributing technical factor, but the root cause is generally the factor without which the failure would not have occurred."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Legal Cause Is a Separate Question"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Legal causeâ€”often discussed as proximate causeâ€”is a legal concept. Courts evaluate whether a particular act or omission is sufficiently connected to an outcome to warrant responsibility under the law."}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Legal causation may consider factors such as:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Foreseeability"}),i.jsx("li",{children:"Intervening events"}),i.jsx("li",{children:"Allocation of responsibility"}),i.jsx("li",{children:"Policy considerations"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"These considerations extend beyond technical analysis."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"How Engineering Analysis Informs Legal Decisions"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering causation analysis provides courts with a factual and technical foundation. Courts may rely on engineering testimony to understand:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"How a system was designed to function"}),i.jsx("li",{children:"What conditions existed at the time of failure"}),i.jsx("li",{children:"Whether technical standards were met"}),i.jsx("li",{children:"Which factors materially contributed to the outcome"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"However, engineering opinions do not determine legal outcomes on their own."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Multiple Causes and Contributing Factors"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering failures often involve multiple contributing factors. Engineers distinguish between:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Primary technical causes"}),i.jsx("li",{children:"Secondary or contributing conditions"}),i.jsx("li",{children:"Factors that were present but not causally significant"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Legal frameworks may treat these factors differently when assigning responsibility."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Importance of Clear Scope in Expert Testimony"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering experts must clearly define the scope of their opinions. Testimony should focus on technical causation and avoid legal conclusions."}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Clear scope helps:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Preserve credibility"}),i.jsx("li",{children:"Avoid confusion for the court"}),i.jsx("li",{children:"Ensure testimony remains within professional competence"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Courts are generally skeptical of experts who blur the line between engineering analysis and legal judgment."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Communicating Technical Causation Effectively"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"For engineering analysis to be useful in legal settings, it must be communicated clearly. Effective testimony:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Separates facts from opinions"}),i.jsx("li",{children:"Explains assumptions and limitations"}),i.jsx("li",{children:"Uses engineering principles consistently"}),i.jsx("li",{children:"Avoids speculation beyond available evidence"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Clear communication allows legal decision-makers to properly weigh technical findings."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Professional Responsibility and Ethics"}),i.jsx("p",{className:"text-gray-700",children:"Professional engineers are bound by ethical obligations to provide honest, objective opinions. Root cause analysis must be grounded in evidence and professional judgment, regardless of how the conclusions may affect the parties involved."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about the distinction between engineering root cause and legal cause. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:["Published ",i.jsx("time",{dateTime:s,children:e})]}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),i.jsx(bt,{})]})}function I6(){const s="2026-01-31",e="January 31, 2026",t="Common Mistakes in Engineering Expert Reports",a="Why report quality matters in engineering expert reports, including scope, assumptions, evidence, and communication in Missouri legal contexts.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Common Mistakes in Engineering Expert Reports"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Common Mistakes in Engineering Expert Reports"}),i.jsx("p",{className:"text-lg text-gray-700",children:"Why Report Quality Matters"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"In legal and dispute contexts, engineering expert reports often carry significant weight. Courts, attorneys, insurers, and opposing experts may rely on these reports to understand technical issues and evaluate causation. The quality of an expert report can influence not only how persuasive the analysis is, but whether it is taken seriously at all."}),i.jsx("p",{className:"text-gray-700",children:"Even technically correct opinions can lose credibility if they are poorly presented or inadequately supported."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Lack of Clear Scope and Questions"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"A common issue in expert reports is the absence of a clearly defined scope. Effective reports state:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"The specific questions the expert was asked to address"}),i.jsx("li",{children:"The boundaries of the analysis"}),i.jsx("li",{children:"What issues are outside the scope of the report"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Without this clarity, readers may misinterpret conclusions or assume opinions extend beyond what was actually analyzed."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Unstated or Unsupported Assumptions"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"All engineering analysis involves assumptions. Problems arise when assumptions are:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Not disclosed"}),i.jsx("li",{children:"Not justified"}),i.jsx("li",{children:"Inconsistent with available evidence"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Courts and opposing experts often focus on assumptions. Failure to state and support them can undermine otherwise sound analysis."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Insufficient Connection to Evidence"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Expert opinions must be grounded in the facts of the case. Reports that present general engineering theory without tying it to specific evidence are often less persuasive."}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Effective reports:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Cite relevant documents, data, and observations"}),i.jsx("li",{children:"Explain how evidence supports conclusions"}),i.jsx("li",{children:"Distinguish between observed facts and inferred conditions"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Failure to Address Alternative Explanations"}),i.jsx("p",{className:"text-gray-700",children:"Credible engineering analysis considers plausible alternative causes. Reports that present a single explanation without addressing reasonable alternatives may appear incomplete or biased."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Addressing alternative explanations does not weaken a report; it often strengthens it by demonstrating that competing hypotheses were considered and evaluated."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Overstating Certainty"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering analysis often involves uncertainty. Overstating confidence or presenting conclusions as absolute can be misleading."}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Responsible reports:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Acknowledge data limitations"}),i.jsx("li",{children:"Identify uncertainties or assumptions"}),i.jsx("li",{children:"Avoid definitive language when evidence does not support it"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Transparency about uncertainty enhances credibility."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Blurring Technical and Legal Conclusions"}),i.jsx("p",{className:"text-gray-700",children:"Engineering experts provide technical opinions, not legal judgments. Reports that drift into legal conclusionsâ€”such as fault, negligence, or liabilityâ€”risk being discounted or challenged."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Maintaining a clear distinction between technical causation and legal responsibility helps preserve the integrity of the report."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Poor Organization and Communication"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Even strong technical analysis can be undermined by poor structure or unclear writing. Common communication issues include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Dense, jargon-heavy language"}),i.jsx("li",{children:"Unclear presentation of methods"}),i.jsx("li",{children:"Disorganized findings"}),i.jsx("li",{children:"Lack of summaries or conclusions"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Clear organization and plain language help non-technical readers understand the analysis and reasoning."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Inadequate Documentation of Methods"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Courts and opposing experts often scrutinize methodology. Reports should describe:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"The methods used"}),i.jsx("li",{children:"Why those methods are appropriate"}),i.jsx("li",{children:"Any limitations of the methods"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Without this documentation, opinions may appear unsupported."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about common issues in engineering expert reports. It does not constitute engineering or legal advice and does not establish a professional engagement."})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:["Published ",i.jsx("time",{dateTime:s,children:e})]}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),i.jsx(bt,{})]})}function S6(){const s="2026-02-16",e="February 16, 2026",t="The Role of Engineering Documentation in Technical Disputes",a="Why documentation matters in technical disputes, including what engineers review, how documents reflect engineering judgment, and common limitations.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Engineering documentation in disputes"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:t}),i.jsx("p",{className:"text-sm text-gray-600",children:e}),i.jsx("p",{className:"text-lg text-gray-700",children:"Why Documentation Matters"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"Engineering documentation plays a central role in evaluating technical issues, especially when disputes arise. Drawings, calculations, specifications, reports, logs, and correspondence can provide a record of how a system was designed, implemented, and operated."}),i.jsx("p",{className:"text-gray-700",children:"When questions later arise about performance or causation, documentation often becomes one of the most important sources of evidence."}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about how engineering documentation is used in technical and dispute contexts."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Types of Documentation Engineers Review"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"In technical evaluations, engineers may examine a variety of materials, including:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Design drawings and specifications"}),i.jsx("li",{children:"Calculation packages"}),i.jsx("li",{children:"Testing or commissioning records"}),i.jsx("li",{children:"Maintenance logs"}),i.jsx("li",{children:"Inspection reports"}),i.jsx("li",{children:"Operating data or system logs"}),i.jsx("li",{children:"Change orders or revisions"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Each type of document can provide insight into different stages of a system's lifecycle."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Documentation as a Record of Engineering Judgment"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering documents often reflect the reasoning behind technical decisions. They may show:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Assumptions used in analysis"}),i.jsx("li",{children:"Criteria selected for design"}),i.jsx("li",{children:"Constraints considered during development"}),i.jsx("li",{children:"Alternatives evaluated"}),i.jsx("li",{children:"Revisions made during the project"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"When documentation clearly records these factors, it can help others understand how conclusions were reached."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Incomplete or Missing Records"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"In some cases, documentation is incomplete or unavailable. This may occur because:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Records were never created"}),i.jsx("li",{children:"Documents were not preserved"}),i.jsx("li",{children:"Systems changed over time"}),i.jsx("li",{children:"Data retention policies removed older files"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"When records are missing, engineers may need to rely more heavily on physical evidence, testing, or reconstruction of system behavior."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Consistency Between Documents and Conditions"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"One aspect of technical review involves comparing documentation with actual conditions. Engineers may examine whether:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Built or implemented systems match design documents"}),i.jsx("li",{children:"Recorded data aligns with reported performance"}),i.jsx("li",{children:"Revisions were incorporated correctly"}),i.jsx("li",{children:"Operating conditions differed from assumed conditions"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Differences between documentation and observed conditions do not automatically indicate error, but they often warrant further analysis."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Documentation in Forensic Contexts"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"In forensic engineering, documentation helps establish timelines and sequences of events. Engineers may use records to determine:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"What information was available at the time decisions were made"}),i.jsx("li",{children:"Whether assumptions were reasonable given known conditions"}),i.jsx("li",{children:"Whether procedures were followed as documented"}),i.jsx("li",{children:"When changes occurred and how they affected performance"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Documentation can provide context that is not visible from physical evidence alone."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Clarity and Organization"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Well-organized documentation improves both project execution and later evaluation. Clear records can:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Reduce ambiguity"}),i.jsx("li",{children:"Support technical review"}),i.jsx("li",{children:"Facilitate maintenance or modification"}),i.jsx("li",{children:"Assist in resolving disputes"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Poorly organized or unclear documentation may increase uncertainty and make analysis more difficult."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations of Documentation"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Even thorough documentation has limitations. Documents may:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Reflect assumptions rather than actual conditions"}),i.jsx("li",{children:"Omit informal decisions or discussions"}),i.jsx("li",{children:"Contain errors or outdated information"}),i.jsx("li",{children:"Be interpreted differently by different readers"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Responsible engineering evaluation considers both what documentation shows and what it does not."})]}),i.jsxs("section",{className:"border-t border-gray-200 pt-6",children:[i.jsx("h2",{className:"text-xl font-serif text-gray-900 mb-2",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about the role of engineering documentation in technical disputes. It does not constitute engineering advice and does not establish a professional engagement."})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:["Published ",i.jsx("time",{dateTime:s,children:e})]}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/services",className:"border-b border-gray-300 hover:border-gray-500",children:"Services"}),","," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),i.jsx(bt,{})]})}function A6(){const s="2026-02-15",e="February 15, 2026",t="How Engineers Evaluate System Performance Under Uncertainty",a="Uncertainty is part of engineering analysis. This article explains sources and types of uncertainty, common evaluation methods, the role of assumptions, and how engineers communicate limitations.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ System performance under uncertainty"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:t}),i.jsx("p",{className:"text-sm text-gray-600",children:e}),i.jsx("p",{className:"text-lg text-gray-700",children:"Why Uncertainty Is Part of Engineering Analysis"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"All real-world engineering systems operate under some level of uncertainty. Inputs may vary, conditions may change, data may be incomplete, and future behavior cannot be predicted with absolute precision. For this reason, engineering analysis often focuses not only on expected performance, but also on how systems behave when conditions differ from assumptions."}),i.jsx("p",{className:"text-gray-700",children:"Understanding uncertainty is essential in both design and forensic evaluation, where engineers must determine whether system performance was reasonable under actual conditions."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Sources of Uncertainty in Engineering Systems"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Uncertainty can arise from many sources, including:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Variability in materials or components"}),i.jsx("li",{children:"Changes in environmental conditions"}),i.jsx("li",{children:"Incomplete or imperfect data"}),i.jsx("li",{children:"Measurement limitations"}),i.jsx("li",{children:"Human interaction or operational variability"}),i.jsx("li",{children:"Software or control logic behavior"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"These factors may influence system performance even when the original design assumptions were reasonable."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Types of Engineering Uncertainty"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineers often distinguish between different categories of uncertainty, such as:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Known variability"}),": predictable variation that can be estimated or bounded, such as temperature ranges or load fluctuations."]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Modeling uncertainty"}),": differences between real-world behavior and analytical models or simulations."]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Data uncertainty"}),": limitations in measurements, testing, or available records."]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Unknown factors"}),": conditions that were not reasonably foreseeable at the time of design or evaluation."]})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Recognizing which type of uncertainty is present helps determine how it should be addressed."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Methods Engineers Use to Evaluate Uncertainty"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineers use a variety of analytical approaches to account for uncertainty, including:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Sensitivity analysis to evaluate how changes in inputs affect outcomes"}),i.jsx("li",{children:"Bounding calculations to establish plausible performance ranges"}),i.jsx("li",{children:"Scenario analysis to examine different operating conditions"}),i.jsx("li",{children:"Comparison with empirical data or testing results"}),i.jsx("li",{children:"Review of assumptions for reasonableness and completeness"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"These methods help determine whether system behavior is consistent with engineering expectations."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Role of Assumptions"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Assumptions are necessary in engineering analysis, but they must be:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Clearly identified"}),i.jsx("li",{children:"Reasonable given available information"}),i.jsx("li",{children:"Consistent with known conditions"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Unstated or unrealistic assumptions can significantly affect conclusions. Responsible engineering reports describe assumptions explicitly so they can be evaluated by others."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Uncertainty in Forensic Engineering"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"In forensic contexts, uncertainty is often unavoidable because investigations occur after events have already happened. Engineers may need to evaluate past system behavior based on:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Limited documentation"}),i.jsx("li",{children:"Partial physical evidence"}),i.jsx("li",{children:"Incomplete operational data"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"In such cases, conclusions may be expressed in terms of probability, likelihood, or consistency with available evidence rather than absolute certainty."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Communicating Uncertainty Clearly"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Effective engineering communication does not eliminate uncertainty. It explains it. Clear reporting typically includes:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Identification of data limitations"}),i.jsx("li",{children:"Description of analytical assumptions"}),i.jsx("li",{children:"Discussion of alternative interpretations"}),i.jsx("li",{children:"Explanation of confidence levels where appropriate"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Transparent communication helps decision-makers understand both the findings and their limitations."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Why Understanding Uncertainty Matters"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering decisions are rarely made under perfectly known conditions. Evaluating uncertainty allows engineers to:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Assess reliability and risk"}),i.jsx("li",{children:"Interpret system behavior realistically"}),i.jsx("li",{children:"Avoid overstating conclusions"}),i.jsx("li",{children:"Provide balanced technical opinions"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"This is particularly important when engineering analysis is used in legal, regulatory, or high-consequence contexts."})]}),i.jsxs("section",{className:"border-t border-gray-200 pt-6",children:[i.jsx("h2",{className:"text-xl font-serif text-gray-900 mb-2",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about how engineers evaluate uncertainty in system performance. It does not constitute engineering advice and does not establish a professional engagement."})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:["Published ",i.jsx("time",{dateTime:s,children:e})]}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/services",className:"border-b border-gray-300 hover:border-gray-500",children:"Services"}),","," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),i.jsx(bt,{})]})}function C6(){const s="2026-02-12",e="February 12, 2026",t="The Role of Independent Engineering Review in Dispute Resolution",a="Why independent technical evaluation matters in dispute contexts, including objectivity, methodology, limitations, and clear communication.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Independent engineering review in disputes"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:t}),i.jsx("p",{className:"text-sm text-gray-600",children:e}),i.jsx("p",{className:"text-lg text-gray-700",children:"Why Independent Technical Evaluation Matters"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"Disputes involving technical systems often arise from differing interpretations of performance, design intent, or causation. In such situations, an independent engineering review can help clarify the underlying technical issues."}),i.jsx("p",{className:"text-gray-700",children:"Independent review is not advocacy. It is a structured evaluation of available information using established engineering principles and professional judgment."}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about the role of independent engineering review in dispute contexts."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Is Independent Engineering Review?"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Independent engineering review involves evaluating technical work, system behavior, or documentation prepared by others. The purpose is to determine whether conclusions are supported by evidence and whether engineering practices align with accepted standards."}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Independent review may include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Examination of engineering reports and calculations"}),i.jsx("li",{children:"Review of system architecture or control logic"}),i.jsx("li",{children:"Evaluation of operational data or testing records"}),i.jsx("li",{children:"Assessment of methodology used in prior analyses"}),i.jsx("li",{children:"Identification of assumptions and limitations"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"The reviewing engineer does not redesign the system but evaluates its technical soundness."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Common Contexts for Independent Review"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Independent engineering review is often used in:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Contract disputes"}),i.jsx("li",{children:"Insurance claims"}),i.jsx("li",{children:"Professional liability matters"}),i.jsx("li",{children:"Regulatory investigations"}),i.jsx("li",{children:"Performance disagreements between project stakeholders"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"In these situations, technical clarity can help narrow the scope of disagreement and reduce uncertainty."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Objectivity and Professional Judgment"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Credible independent review requires objectivity. The engineer must evaluate facts and apply engineering principles without tailoring conclusions to a desired outcome."}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Key elements of objective review include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Transparent identification of assumptions"}),i.jsx("li",{children:"Consideration of alternative explanations"}),i.jsx("li",{children:"Clear differentiation between facts and opinions"}),i.jsx("li",{children:"Documentation of limitations"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Objectivity strengthens the reliability of the conclusions reached."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Evaluating Methodology and Standards"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Courts and decision-makers often look closely at methodology. An independent review typically examines:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Whether appropriate analytical methods were used"}),i.jsx("li",{children:"Whether standards or guidelines were reasonably applied"}),i.jsx("li",{children:"Whether conclusions logically follow from the data"}),i.jsx("li",{children:"Whether uncertainties were acknowledged"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering disagreement does not automatically imply error. The focus is on reasonableness and technical support."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Communication in Dispute Contexts"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Independent engineering findings must be communicated clearly. Reports should:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Define the scope of the review"}),i.jsx("li",{children:"Summarize materials examined"}),i.jsx("li",{children:"Explain the analytical approach"}),i.jsx("li",{children:"State conclusions with appropriate qualification"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Clarity is particularly important when the audience includes non-engineers."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations of Independent Review"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Independent review is constrained by:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Availability and quality of documentation"}),i.jsx("li",{children:"Access to system components"}),i.jsx("li",{children:"Time limitations"}),i.jsx("li",{children:"The defined scope of engagement"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Responsible engineering reports acknowledge these constraints rather than implying completeness beyond the available evidence."})]}),i.jsxs("section",{className:"border-t border-gray-200 pt-6",children:[i.jsx("h2",{className:"text-xl font-serif text-gray-900 mb-2",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about independent engineering review in dispute resolution. It does not constitute engineering or legal advice and does not establish a professional engagement."})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:["Published ",i.jsx("time",{dateTime:s,children:e})]}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/services",className:"border-b border-gray-300 hover:border-gray-500",children:"Services"}),","," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),i.jsx(bt,{})]})}function R6(){const s="2026-02-11",e="February 11, 2026",t="Engineering Review vs. Engineering Design: Understanding the Difference",a="Engineering design and engineering review are distinct but related professional services. This article explains the difference, responsibilities, limitations, and common contexts in Missouri.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Engineering review vs. engineering design"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:t}),i.jsx("p",{className:"text-sm text-gray-600",children:e}),i.jsx("p",{className:"text-lg text-gray-700",children:"Two Distinct but Related Professional Services"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"Engineering design and engineering review are closely related activities, but they serve different purposes and carry different responsibilities. Understanding the distinction is important for project owners, attorneys, and decision-makers who rely on engineering judgment."}),i.jsx("p",{className:"text-gray-700",children:"In Missouri, both activities may constitute the practice of engineering when professional judgment is applied."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Is Engineering Design?"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering design involves creating technical solutions to meet defined objectives or constraints. Design work may include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Selecting system configurations"}),i.jsx("li",{children:"Determining performance criteria"}),i.jsx("li",{children:"Establishing specifications and parameters"}),i.jsx("li",{children:"Preparing drawings or technical documentation"}),i.jsx("li",{children:"Evaluating alternatives and trade-offs"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Design is forward-looking and solution-oriented. It requires assumptions about operating conditions, loads, interactions, and performance expectations."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Is Engineering Review?"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering review evaluates work prepared by others or examines an existing system. Review work may include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Assessing technical adequacy of drawings or calculations"}),i.jsx("li",{children:"Evaluating system performance against standards"}),i.jsx("li",{children:"Reviewing assumptions and methodologies"}),i.jsx("li",{children:"Identifying inconsistencies or risk areas"}),i.jsx("li",{children:"Providing documented engineering opinions"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Review is analytical rather than creative. It focuses on whether the work or system meets reasonable engineering expectations."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Differences in Responsibility"}),i.jsx("p",{className:"text-gray-700",children:"Both design and review involve professional responsibility, but the scope differs."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Design responsibility centers on creating a system or solution that performs as intended."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Review responsibility centers on evaluating whether a system or work product is reasonable, compliant, or technically sound."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"When a Professional Engineer seals a document, they assume responsibility consistent with the scope of their involvement, whether design or review."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Review Does Not Mean Approval"}),i.jsx("p",{className:"text-gray-700",children:"Engineering review should not be confused with approval authority. A reviewing engineer may identify deficiencies, confirm adequacy, or recommend further investigation, but regulatory approval is typically the responsibility of permitting authorities or governing bodies."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Clear communication of scope helps prevent misunderstandings about what a review does and does not represent."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Forensic and Litigation Contexts"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"In forensic engineering and expert witness contexts, review is often retrospective. Engineers may be asked to:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Evaluate prior design decisions"}),i.jsx("li",{children:"Assess whether accepted practices were followed"}),i.jsx("li",{children:"Determine whether assumptions were reasonable"}),i.jsx("li",{children:"Analyze causation in system failures"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"In these situations, the engineer is not redesigning the system but analyzing its past performance."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations and Boundaries"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering review is limited by:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Available documentation"}),i.jsx("li",{children:"Access to system components"}),i.jsx("li",{children:"Time and scope constraints"}),i.jsx("li",{children:"Assumptions required due to incomplete data"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Responsible engineering reports identify these limitations clearly."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Why the Distinction Matters"}),i.jsx("p",{className:"text-gray-700",children:"Confusion between design and review can lead to unrealistic expectations or misplaced responsibility. Clarifying whether a service involves original design or independent evaluation helps align expectations and protect all parties involved."})]}),i.jsxs("section",{className:"border-t border-gray-200 pt-6",children:[i.jsx("h2",{className:"text-xl font-serif text-gray-900 mb-2",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about the distinction between engineering design and engineering review. It does not constitute engineering advice and does not establish a professional engagement."})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:["Published ",i.jsx("time",{dateTime:s,children:e})]}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/services",className:"border-b border-gray-300 hover:border-gray-500",children:"Services"}),","," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),i.jsx(bt,{})]})}function M6(){const s="2026-02-10",e="February 10, 2026",t="Small Residential & Light Commercial Structural Reviews in Missouri: What You Get, What I Need, and What It Costs",a="What a small residential/light commercial structural review typically includes, when a desktop review is appropriate, when a site visit is recommended, and typical pricing in Missouri.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Small residential & light commercial structural reviews"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:t}),i.jsx("p",{className:"text-sm text-gray-600",children:e}),i.jsx("p",{className:"text-lg text-gray-700",children:"What you get, what I need, and what it costs."})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"When a home or small building project involves a new opening, a removed wall, a sagging beam, or a permit request, the next step is often the same: a clear structural review with calculations and a work product that a contractor and permitting office can understand."}),i.jsx("p",{className:"text-gray-700",children:"This post explains what a small residential/light commercial structural review typically includes, when a desktop review is appropriate, when a site visit is recommended, and how to request a quote efficiently."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Common projects that trigger a structural review"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Most requests I receive fall into a few categories:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"New openings"}),": garage doors, widened doorways, pass-throughs, egress windows"]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Load-bearing wall changes"}),': "Is this wall structural?" and "What header/beam do I need?"']}),i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Beam/post/footing checks"}),": new point loads, posts on slabs, basement beam replacements"]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Decks and porches"}),": ledger connections, posts/footings, beams, lateral resistance"]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Roof framing concerns"}),": rafter sizing, ridge/ledger conditions, deflection/sag questions"]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Permit support"}),": when a city/county asks for engineer calculations or an engineer letter"]})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"If you're unsure whether your project is structural, that's normal. A quick intake (photos + a few measurements) is usually enough to determine whether engineering is needed and what scope makes sense."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Desktop review vs. site visit"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Many small projects can start as a desktop structural review, meaning the analysis is performed using client-provided information (photos, measurements, and any existing drawings). Desktop review can be a cost-effective way to get answers quickly when conditions are well documented."}),i.jsx("p",{className:"text-gray-700 mb-3",children:"A site visit may be recommended or required when:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Framing conditions are concealed or unclear"}),i.jsx("li",{children:"Measurements can't be reliably confirmed"}),i.jsx("li",{children:"The load path depends on details not visible in photos"}),i.jsx("li",{children:"The jurisdiction requires observation, verification, or specific documentation"}),i.jsx("li",{children:"The risk profile is higher (unusual geometry, significant alteration, signs of distress)"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"The goal is not to upsell a site visit. The goal is to make sure the engineering has a sufficient basis and the work product is defensible."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What you typically receive"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Deliverables depend on the project and the jurisdiction, but commonly include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Written summary letter or memo describing scope, assumptions, and findings"}),i.jsx("li",{children:"Calculations documenting loads, checks, and governing assumptions"}),i.jsx("li",{children:"Sketches or marked-up plans sufficient to communicate engineering intent"}),i.jsx("li",{children:"Letter/report or calculations for permit submittal (sealed when appropriate, and when scope and information support responsible charge)"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"If the city/county needs a specific format (certain notes, plan sheets, or code references), I'll align the deliverable to that requirement where practical."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What I need from you for a fast quote"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"The fastest way to get an accurate scope and fee is to send:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Project address and jurisdiction (city/county) if known"}),i.jsx("li",{children:"A short description of what's changing and why (one paragraph is fine)"}),i.jsx("li",{children:"Photos: wide shots + close-ups (include context like adjacent walls/ceilings)"}),i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Basic measurements"}),", such as:",i.jsxs("ul",{className:"mt-2 space-y-1 list-disc pl-6 text-gray-700",children:[i.jsx("li",{children:"Spans, spacing, member sizes"}),i.jsx("li",{children:"Wall thickness and framing direction"}),i.jsx("li",{children:"Beam/post locations"}),i.jsx("li",{children:"Opening width, bearing lengths"})]})]}),i.jsx("li",{children:"Any existing drawings (even contractor sketches can help)"}),i.jsx("li",{children:"Any permit comments or written requirements you were given"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"If measurements or field conditions change later, the analysis may need revision, so good intake information saves time and money."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Typical pricing for small structural reviews"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Every project is different, but to help set expectations:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Typical desktop structural review (client-provided measurements/photos): $500-$1,500 depending on complexity"}),i.jsx("li",{children:"Letter/report or calculations for permit submittal (sealed when appropriate): $250-$500"}),i.jsx("li",{children:"Site visits: quoted separately based on scope, travel, and documentation needs"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Final scope and fee are confirmed after a brief intake so expectations are clear on both sides."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What a structural review is (and isn't)"}),i.jsx("p",{className:"text-gray-700",children:"A professional engineering review is not a promise of permit approval, and it isn't a rubber stamp. It's a documented engineering work product based on the information available, appropriate assumptions, and applicable requirements."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"If the actual field conditions differ from what's provided, conclusions may change. When needed, the scope should include the right level of verification (which may mean a site visit)."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Ready to get started?"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"If you have a small residential or light commercial project in Missouri and you need a structural review, calculations, or permit documentation, send:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"A brief description of the project"}),i.jsx("li",{children:"Photos"}),i.jsx("li",{children:"Basic measurements"}),i.jsx("li",{children:"Any permit requirements you've received"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"I'll reply with recommended scope options (desktop review vs. site visit), expected deliverables, and a quote."}),i.jsxs("p",{className:"text-gray-700 mt-3",children:["Contact: Use the"," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact page"})," ","to request a quote. If you have photos, sketches, or drawings, you can include links in the message or email attachments after submitting."]})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:["Published ",i.jsx("time",{dateTime:s,children:e})]}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/services",className:"border-b border-gray-300 hover:border-gray-500",children:"Services"}),","," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),i.jsx(bt,{})]})}function D6(){const s="2026-02-17",e="February 17, 2026",t="Wastewater Projects and Oxidation Ditches: Engineering Overview",a="Engineering overview of oxidation ditch wastewater treatment systems: how the process works, why used, engineering considerations, troubleshooting, upgrades, and common limitations.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Wastewater projects and oxidation ditches"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:t}),i.jsx("p",{className:"text-sm text-gray-600",children:e}),i.jsx("p",{className:"text-lg text-gray-700",children:"The Role of Engineering in Wastewater Treatment Projects"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"Wastewater treatment systems are designed to protect public health, maintain environmental quality, and ensure regulatory compliance. Engineering involvement in these projects may include evaluation, design support, system review, troubleshooting, or forensic analysis of performance issues."}),i.jsx("p",{className:"text-gray-700",children:"Among the many treatment process configurations used in municipal and industrial facilities, oxidation ditch systems are widely implemented due to their operational stability and adaptability."}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about oxidation ditch systems and their role in wastewater engineering."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Is an Oxidation Ditch?"}),i.jsx("p",{className:"text-gray-700",children:"An oxidation ditch is a type of activated sludge treatment process designed to biologically remove organic matter and nutrients from wastewater. It typically consists of a looped channel or basin where wastewater circulates continuously while being aerated."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"The circulating flow allows microorganisms to break down contaminants under controlled conditions."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"How the Process Works"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"In simplified terms, oxidation ditch treatment involves:"}),i.jsxs("ol",{className:"space-y-2 text-gray-700 list-decimal pl-6",children:[i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Influent entry"})," ","- wastewater enters the basin"]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Aeration and mixing"})," ","- mechanical or diffused aeration supplies oxygen and maintains circulation"]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Biological treatment"})," ","- microorganisms metabolize organic material"]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Settling"})," ","- solids are separated downstream in clarifiers"]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Return sludge flow"})," ","- biomass is recirculated to maintain treatment efficiency"]})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"The process is designed to maintain stable biological conditions even when flow or loading varies."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Why Oxidation Ditches Are Used"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineers and operators may select oxidation ditch systems for several reasons:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Operational flexibility under variable loads"}),i.jsx("li",{children:"Relatively simple control strategies"}),i.jsx("li",{children:"Ability to support nitrification and denitrification"}),i.jsx("li",{children:"Reduced sensitivity to shock loading"}),i.jsx("li",{children:"Compatibility with phased expansion"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Because of these characteristics, oxidation ditches are commonly used in municipal treatment plants and facilities serving growing communities."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Considerations in Oxidation Ditch Projects"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering evaluation of oxidation ditch systems may involve:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Hydraulic performance and flow distribution"}),i.jsx("li",{children:"Aeration efficiency and oxygen transfer"}),i.jsx("li",{children:"Sludge age and biomass balance"}),i.jsx("li",{children:"Mixing characteristics"}),i.jsx("li",{children:"Equipment reliability and redundancy"}),i.jsx("li",{children:"Energy consumption"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Proper analysis helps determine whether the system is operating as intended or whether adjustments may be warranted."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Assessment and Troubleshooting"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"When performance concerns arise, engineers may be asked to evaluate:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Treatment efficiency changes"}),i.jsx("li",{children:"Excess solids or poor settling"}),i.jsx("li",{children:"Odor conditions"}),i.jsx("li",{children:"Energy usage anomalies"}),i.jsx("li",{children:"Equipment or instrumentation behavior"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Such evaluations often rely on operating data, site observations, and comparison with expected process behavior."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Modifications and Upgrades"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Existing oxidation ditch systems may be modified to address changing needs, such as:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Increased influent loading"}),i.jsx("li",{children:"Updated discharge limits"}),i.jsx("li",{children:"Aging equipment"}),i.jsx("li",{children:"Operational efficiency goals"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering review can help determine whether modifications are feasible and what technical considerations may apply."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations and Scope"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering work related to wastewater systems depends on the defined scope of services and available information. Evaluations may be limited by:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Access to historical operating data"}),i.jsx("li",{children:"Physical accessibility of equipment"}),i.jsx("li",{children:"Condition of existing infrastructure"}),i.jsx("li",{children:"Time and testing constraints"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Responsible technical assessments identify such limitations clearly."})]}),i.jsxs("section",{className:"border-t border-gray-200 pt-6",children:[i.jsx("h2",{className:"text-xl font-serif text-gray-900 mb-2",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about oxidation ditch systems and wastewater engineering considerations. It does not constitute engineering advice and does not establish a professional engagement."})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:["Published ",i.jsx("time",{dateTime:s,children:e})]}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/services",className:"border-b border-gray-300 hover:border-gray-500",children:"Services"}),","," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),i.jsx(bt,{})]})}function k6(){const s="2026-02-01",e="February 1, 2026",t="Structural Analysis and Building Approval in Missouri: What to Know",a="How structural analysis relates to building approval in Missouri, including when engineering is required and the role of a licensed Professional Engineer.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Structural Analysis and Building Approval in Missouri"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Structural Analysis and Building Approval in Missouri: What to Know"}),i.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Role of Engineering in the Approval Process"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"Building projects in Missouri often require review and approval by local authorities before construction can proceed. When a project involves structural considerations that affect safety or performance, engineering analysis may be required as part of the approval process."}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about how structural analysis relates to building approval in Missouri and how professional engineering judgment is used in that context."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When Structural Analysis Is Required"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Local building departments may require engineering analysis when proposed work:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Modifies load-bearing elements"}),i.jsx("li",{children:"Alters structural systems or support conditions"}),i.jsx("li",{children:"Involves unusual loading or non-standard configurations"}),i.jsx("li",{children:"Affects safety-related components of a structure"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"The specific requirements vary by jurisdiction and project type. Some projects may proceed under prescriptive code provisions, while others require engineering evaluation."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Role of a Missouri-Licensed Professional Engineer"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"When structural analysis is required for approval, a Missouri-licensed Professional Engineer may be engaged to evaluate the proposed work and prepare supporting documentation."}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering involvement may include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Review of proposed modifications"}),i.jsx("li",{children:"Evaluation of load paths and structural behavior"}),i.jsx("li",{children:"Assessment of compatibility with existing structures"}),i.jsx("li",{children:"Preparation of sealed engineering reports or drawings when required"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"The engineerâ€™s role is to apply professional judgment to the specific conditions of the project."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Sealed Documents and Submissions"}),i.jsx("p",{className:"text-gray-700",children:"In many cases, building departments require sealed documents for work involving structural modifications. Sealed submissions indicate that a licensed engineer has taken professional responsibility for the technical content of the analysis or drawings."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Requirements for sealing, signing, and dating are governed by Missouri statutes and professional rules. Not all submissions require a seal, but when they do, sealing should be performed in accordance with applicable regulations."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Interaction with Building Codes and Prescriptive Provisions"}),i.jsx("p",{className:"text-gray-700",children:"Building codes often include prescriptive provisions for common construction scenarios. When work falls outside prescriptive limits, engineering analysis may be required to demonstrate compliance with performance-based criteria."}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Engineers may evaluate:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Whether proposed work meets code intent"}),i.jsx("li",{children:"Whether alternative approaches provide equivalent performance"}),i.jsx("li",{children:"Whether existing conditions warrant additional analysis"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering judgment supplements code requirements rather than replacing them."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Coordination with Design and Construction Teams"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering analysis for building approval typically occurs alongside architectural and construction planning. Clear communication among project participants helps ensure that:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Engineering assumptions are understood"}),i.jsx("li",{children:"Structural implications are considered early"}),i.jsx("li",{children:"Submissions to authorities are complete and consistent"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Early coordination can reduce delays and rework during the approval process."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations and Scope"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering analysis for building approval is limited to the scope of the engagement. It does not replace:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Contractor means and methods"}),i.jsx("li",{children:"Construction supervision"}),i.jsx("li",{children:"Ongoing inspection unless specifically agreed"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Understanding the boundaries of professional responsibility is important for all parties involved."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Seek Engineering Input"}),i.jsx("p",{className:"text-gray-700",children:"If there is uncertainty about whether structural analysis is required, consulting with a licensed Professional Engineer early in the planning process can help clarify requirements and define appropriate scope."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about structural analysis and building approval in Missouri. It does not constitute engineering advice and does not establish a professional engagement."})]}),i.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[i.jsxs("p",{children:["Published ",i.jsx("time",{dateTime:s,children:e})]}),i.jsxs("p",{children:["Related:"," ",i.jsx(le,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",i.jsx(le,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),i.jsx(bt,{})]})}function P6(){const s="2026-02-02",e="February 2, 2026",t="What Is a Property Condition Assessment (PCA)?",a="A Property Condition Assessment (PCA) is a high-level evaluation of a buildingâ€™s condition used in due diligence, financing, and asset planning to identify significant deficiencies and risks.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Property Condition Assessment (PCA)"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"What Is a Property Condition Assessment (PCA)?"}),i.jsx("p",{className:"text-sm text-gray-600",children:e}),i.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Purpose of a PCA"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"A Property Condition Assessment (PCA) is an evaluation of the physical condition of a building or group of buildings. PCAs are commonly used in real estate transactions, financing, asset management, and due diligence to understand the current condition of a property and to identify significant deficiencies that may require repair or further investigation."}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about what a PCA is, what it typically includes, and how engineering judgment may be applied in the process."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What a PCA Typically Covers"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"While the scope of a PCA can vary depending on the property type and purpose of the assessment, PCAs often include a review of major building systems, such as:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Structural components"}),i.jsx("li",{children:"Building envelope (roof, exterior walls, openings)"}),i.jsx("li",{children:"Mechanical, electrical, and plumbing systems"}),i.jsx("li",{children:"Life safety systems"}),i.jsx("li",{children:"Site-related features affecting the building"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"The goal is to identify observed conditions and potential concerns, not to provide detailed design or repair plans."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"The Role of Engineering Judgment"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"In some cases, a PCA involves professional engineering judgment, particularly when observed conditions may affect safety, performance, or service life. Engineering involvement may include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Evaluation of observed structural or system deficiencies"}),i.jsx("li",{children:"Assessment of potential implications of deterioration"}),i.jsx("li",{children:"Identification of conditions that warrant further investigation"}),i.jsx("li",{children:"Technical input on remaining useful life of components"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Not all PCAs require a Professional Engineer, but when engineering judgment is applied, licensure may be required depending on jurisdiction and scope."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"PCA vs. Detailed Engineering Investigation"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"A PCA is generally a high-level assessment. It is not a substitute for:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Detailed structural analysis"}),i.jsx("li",{children:"Invasive testing"}),i.jsx("li",{children:"Design of repairs or modifications"}),i.jsx("li",{children:"Construction documents"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"When a PCA identifies issues that cannot be evaluated visually or at a high level, further engineering investigation may be recommended."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"How PCAs Are Used"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"PCAs are commonly used to:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Inform purchase or financing decisions"}),i.jsx("li",{children:"Identify near-term capital needs"}),i.jsx("li",{children:"Support asset management planning"}),i.jsx("li",{children:"Provide baseline documentation of building condition"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Lenders and investors often rely on PCAs to understand potential risks associated with a property."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Documentation and Reporting"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"PCA reports typically document:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Observed conditions"}),i.jsx("li",{children:"Noted deficiencies"}),i.jsx("li",{children:"Areas of uncertainty or limited access"}),i.jsx("li",{children:"Recommendations for further evaluation where appropriate"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Clear documentation helps readers understand both what was observed and what was not evaluated."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations of a PCA"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"PCAs are limited by:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Accessibility of building components"}),i.jsx("li",{children:"Non-invasive nature of most assessments"}),i.jsx("li",{children:"Time and scope constraints"}),i.jsx("li",{children:"Reliance on visual observation"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Responsible PCA reports acknowledge these limitations rather than implying certainty where none exists."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Consider a PCA"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"A PCA may be appropriate when:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Acquiring or refinancing a property"}),i.jsx("li",{children:"Evaluating capital planning needs"}),i.jsx("li",{children:"Establishing a baseline condition record"}),i.jsx("li",{children:"Assessing potential risks prior to significant investment"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Early assessment can help identify issues before they become more costly."})]}),i.jsxs("section",{className:"border-t border-gray-200 pt-6",children:[i.jsx("h2",{className:"text-xl font-serif text-gray-900 mb-2",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about Property Condition Assessments. It does not constitute engineering advice and does not establish a professional engagement."})]})]})}),i.jsx(bt,{})]})}function O6(){const s="2026-02-03",e="February 3, 2026",t="PCA vs. CNA: Understanding the Difference",a="Property Condition Assessments (PCAs) and Capital Needs Assessments (CNAs) both evaluate buildings, but they serve different purposes: present condition baseline vs. future capital planning.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ PCA vs. CNA"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"PCA vs. CNA: Understanding the Difference"}),i.jsx("p",{className:"text-sm text-gray-600",children:e}),i.jsx("p",{className:"text-lg text-gray-700",children:"Two Common Property Assessments With Different Purposes"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"Property Condition Assessments (PCAs) and Capital Needs Assessments (CNAs) are both used to evaluate buildings, but they serve different purposes and answer different questions. Understanding the distinction can help property owners, lenders, and investors request the appropriate scope of work and interpret reports correctly."}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about PCAs and CNAs and how they differ in purpose, scope, and application."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Is a Property Condition Assessment (PCA)?"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"A PCA is a high-level evaluation of the current physical condition of a property. It is typically used to identify observed deficiencies and potential concerns at a point in time."}),i.jsx("p",{className:"text-gray-700 mb-3",children:"A PCA commonly focuses on:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Current condition of major building systems"}),i.jsx("li",{children:"Observable deficiencies or deterioration"}),i.jsx("li",{children:"Issues that may warrant further investigation"}),i.jsx("li",{children:"Near-term concerns that may affect use or safety"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"PCAs are often used in transactions, refinancing, and due diligence to establish a baseline understanding of a propertyâ€™s condition."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Is a Capital Needs Assessment (CNA)?"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"A CNA is a forward-looking evaluation of anticipated capital expenditures over a defined planning horizon, often several years. It is commonly used for budgeting, long-term planning, and asset management."}),i.jsx("p",{className:"text-gray-700 mb-3",children:"A CNA typically addresses:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Expected replacement or major repair of building components"}),i.jsx("li",{children:"Estimated remaining useful life of systems"}),i.jsx("li",{children:"Projected capital expenditures over time"}),i.jsx("li",{children:"Prioritization of major capital projects"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"CNAs are frequently used by property owners, HOAs, and institutions to plan for future capital needs."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Key Differences in Scope and Focus"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"While PCAs and CNAs may overlap in the systems reviewed, they differ in emphasis:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Time horizon"}),": PCA: present condition. CNA: future capital planning."]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Primary purpose"}),": PCA: due diligence and condition baseline. CNA: long-term budgeting and planning."]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Output"}),": PCA: condition findings and observations. CNA: capital planning projections and schedules."]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Role of Engineering Judgment"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Both PCAs and CNAs may involve engineering judgment, particularly when evaluating structural or system-related conditions that affect safety, performance, or service life."}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering involvement may include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Assessment of observed deficiencies"}),i.jsx("li",{children:"Evaluation of remaining useful life of components"}),i.jsx("li",{children:"Identification of conditions requiring further investigation"}),i.jsx("li",{children:"Technical input into capital planning assumptions"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Not all PCAs or CNAs require a Professional Engineer, but when professional judgment is applied, licensure may be required depending on scope and jurisdiction."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations and Assumptions"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Both assessments rely on assumptions and are subject to limitations, including:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Non-invasive evaluation methods"}),i.jsx("li",{children:"Limited access to certain components"}),i.jsx("li",{children:"Reliance on visual observations"}),i.jsx("li",{children:"Uncertainty in projecting future conditions and costs"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Responsible reports document these limitations clearly."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Choosing the Appropriate Assessment"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"The appropriate assessment depends on the purpose of the work:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"For transactions or refinancing: a PCA may be appropriate"}),i.jsx("li",{children:"For long-term ownership and budgeting: a CNA may be more useful"}),i.jsx("li",{children:"For complex properties: both may be appropriate, with coordinated scopes"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Clarifying objectives at the outset helps ensure the assessment meets the intended needs."})]}),i.jsxs("section",{className:"border-t border-gray-200 pt-6",children:[i.jsx("h2",{className:"text-xl font-serif text-gray-900 mb-2",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about the differences between Property Condition Assessments and Capital Needs Assessments. It does not constitute engineering advice and does not establish a professional engagement."})]})]})}),i.jsx(bt,{})]})}function L6(){const s="2026-02-04",e="February 4, 2026",t="How Lenders Use Property Condition Assessments (PCAs)",a="Property Condition Assessments (PCAs) are commonly used by lenders during underwriting and due diligence to understand physical risks associated with a property at the time of financing.";return D.useEffect(()=>{document.title=`${t} â€” Missouri`;const l=(d,f)=>{const y=document.head.querySelector(`meta[name="${d}"]`),g=y??document.createElement("meta");g.name=d,g.content=f,y||document.head.appendChild(g)},c=(d,f)=>{const y=document.head.querySelector(`meta[property="${d}"]`),g=y??document.createElement("meta");g.setAttribute("property",d),g.content=f,y||document.head.appendChild(g)};l("description",a),l("date",s),c("article:published_time",s)},[a,s,t]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ How Lenders Use PCAs"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"How Lenders Use Property Condition Assessments (PCAs)"}),i.jsx("p",{className:"text-sm text-gray-600",children:e}),i.jsx("p",{className:"text-lg text-gray-700",children:"Why PCAs Matter in Real Estate Financing"})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-700",children:"Property Condition Assessments (PCAs) are commonly used by lenders during underwriting and due diligence for commercial and multifamily real estate transactions. While the format of PCA reports varies by firm and scope, their role in lending decisions is fairly consistent: PCAs help lenders understand physical risks associated with a property at the time of financing."}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information about how PCAs are used in lending and does not constitute financial, legal, or engineering advice."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Risk Identification, Not Just Documentation"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"From a lenderâ€™s perspective, a PCA is primarily a risk management tool. It helps identify:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Material physical deficiencies"}),i.jsx("li",{children:"Conditions that may affect habitability, safety, or continued operation"}),i.jsx("li",{children:"Deferred maintenance"}),i.jsx("li",{children:"Near-term capital needs that could impact cash flow"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"The goal is not to certify that a property is â€œgoodâ€ or â€œbad,â€ but to surface physical risks that could affect the lenderâ€™s collateral over the loan term."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"How PCA Findings Affect Underwriting"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"PCA findings can influence underwriting in several ways:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Holdbacks and reserves"}),": Lenders may require repair escrows or reserves for identified deficiencies."]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Loan terms"}),": Significant condition issues may affect loan-to-value ratios, covenants, or pricing."]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Closing conditions"}),": Certain deficiencies may need to be corrected prior to closing."]}),i.jsxs("li",{children:[i.jsx("span",{className:"font-medium",children:"Ongoing monitoring"}),": Some lenders use PCA findings to define post-closing repair timelines."]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Judgment in PCAs"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"While many PCAs are observational, engineering judgment may be applied when evaluating:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Structural components"}),i.jsx("li",{children:"Building envelope performance"}),i.jsx("li",{children:"Life-safety related systems"}),i.jsx("li",{children:"Observed distress that requires technical interpretation"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"When professional engineering judgment is applied, the scope and limitations should be clearly documented, and licensure requirements apply based on jurisdiction and scope of services."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations of PCAs in Lending Contexts"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"PCAs are not comprehensive building investigations. Common limitations include:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"No destructive testing"}),i.jsx("li",{children:"Limited access to concealed conditions"}),i.jsx("li",{children:"Reliance on visual observations"}),i.jsx("li",{children:"No guarantee of future performance"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"Lenders typically understand these limitations and use PCAs as one input among many in risk assessment."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"PCA vs. CNA in Financing"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"Lenders may request PCAs, CNAs, or both depending on transaction structure:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"PCA: snapshot of current condition"}),i.jsx("li",{children:"CNA: projection of future capital needs over the loan term"})]}),i.jsx("p",{className:"text-gray-700 mt-3",children:"For longer-term financing, capital planning information may be more relevant to underwriting."})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Practical Takeaways for Property Owners and Buyers"}),i.jsx("p",{className:"text-gray-700 mb-3",children:"When a PCA is required by a lender:"}),i.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[i.jsx("li",{children:"Provide reasonable access to building areas and documentation"}),i.jsx("li",{children:"Expect that deficiencies will be documented neutrally"}),i.jsx("li",{children:"Use the findings as a planning tool, not just a transaction hurdle"}),i.jsx("li",{children:"Clarify scope early so the report aligns with the lenderâ€™s expectations"})]})]}),i.jsxs("section",{className:"border-t border-gray-200 pt-6",children:[i.jsx("h2",{className:"text-xl font-serif text-gray-900 mb-2",children:"Closing"}),i.jsx("p",{className:"text-gray-700",children:"This article provides general information on how lenders use Property Condition Assessments. It does not constitute engineering advice and does not establish a professional engineerâ€“client relationship."})]})]})}),i.jsx(bt,{})]})}function V6(){return i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-3",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Toolbox"}),i.jsx("p",{className:"text-lg text-gray-700",children:"Reference tools for engineering calculations and unit handling."})]}),i.jsxs("section",{className:"space-y-4",children:[i.jsx("h2",{className:"text-2xl font-serif text-gray-900",children:"Utilities"}),i.jsxs("div",{className:"border border-gray-200 p-5 bg-white",children:[i.jsx("h3",{className:"text-lg font-serif text-gray-900 mb-2",children:"Unit Conversion"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Convert numerator and denominator measurements to SI units, or convert to a target set of units."}),i.jsx(le,{to:"/toolbox/unit-conversion",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Open unit conversion tool"})]}),i.jsxs("div",{className:"border border-gray-200 p-5 bg-white",children:[i.jsx("h3",{className:"text-lg font-serif text-gray-900 mb-2",children:"Force vectors"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Draw force vectors on an XY plane and compute the resultant."}),i.jsx(le,{to:"/toolbox/force-vectors",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Open force vectors tool"})]}),i.jsxs("div",{className:"border border-gray-200 p-5 bg-white",children:[i.jsx("h3",{className:"text-lg font-serif text-gray-900 mb-2",children:"Static system"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Build a simple 2D static system (springs, cables/pulleys, smooth contacts) and solve Î£Fx = 0, Î£Fy = 0."}),i.jsx(le,{to:"/toolbox/static-system",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Open static system tool"})]})]})]})}),i.jsx(bt,{})]})}const sx=9.80665;class An{constructor(e){this.abbreviation=e.abbreviation,this.fullName=e.fullName,this.type=e.type,this.prefix=e.prefix??null,this.prefixMultiplier=e.prefixMultiplier??null,this.baseMultiplier=e.baseMultiplier??null}}class We{constructor(e,t){this.value=e,this.unit=t}}const Te=new An({abbreviation:"N",fullName:"Newtons",type:"Force"}),Vp=s=>{if(s.baseMultiplier!=null)return s.baseMultiplier;const e=s.prefixMultiplier??1;return s.type==="Mass"?e/1e3:e},Vj=(s,e,t={})=>{if(s.type==="Mass"){const l=s.baseMultiplier!=null?s.baseMultiplier*1e3:s.prefixMultiplier??1,c=s.baseMultiplier!=null?s.baseMultiplier:(s.prefixMultiplier??1)/1e3;return e==="numerator"&&!t.preferKilogram?{multiplier:l,label:"g",baseLabel:"g"}:{multiplier:c,label:"kg",baseLabel:"kg"}}const a=s.baseMultiplier??s.prefixMultiplier??1;return s.type==="Force"?{multiplier:a,label:"N",baseLabel:"N"}:s.type==="Time"?{multiplier:a,label:"s",baseLabel:"s"}:s.type==="Length"?{multiplier:a,label:"m",baseLabel:"m"}:{multiplier:a,label:s.abbreviation,baseLabel:s.abbreviation}},np=[{name:"tera",symbol:"T",multiplier:1e12},{name:"giga",symbol:"G",multiplier:1e9},{name:"mega",symbol:"M",multiplier:1e6},{name:"kilo",symbol:"k",multiplier:1e3},{name:"",symbol:"",multiplier:1},{name:"milli",symbol:"m",multiplier:.001},{name:"micro",symbol:"Î¼",multiplier:1e-6}],Uj=(s,e,t=.1)=>{const a=Math.abs(s);if(a===0)return{value:s,label:e};for(const c of np){const d=a/c.multiplier;if(d>=t&&d<1e3)return{value:s/c.multiplier,label:`${c.symbol}${e}`}}const l=np[np.length-1];return{value:s/l.multiplier,label:`${l.symbol}${e}`}},zj=s=>{const e=["N","kg","m","g","s"],t=e.indexOf(s);return t===-1?e.length:t},Fj=s=>[...s].sort((e,t)=>zj(e.baseLabel)-zj(t.baseLabel)).map(e=>e.label).join("*"),U6=(s,e)=>{if(!Number.isFinite(s)||s===0)return s;const t=Math.floor(Math.log10(Math.abs(s))),a=10**(e-1-t);return Math.round(s*a)/a},lm=s=>s.map(e=>"unit"in e?{unit:e.unit,power:e.power??1}:{unit:e,power:1}),mt=(s,e,t=[])=>{const a=lm(e),l=lm(t),c=a.reduce((f,{unit:y,power:g})=>f*Vp(y)**(g??1),1),d=l.reduce((f,{unit:y,power:g})=>f*Vp(y)**(g??1),1);return s*(c/d)},Se=(s,e,t,a,l=[])=>{const c=mt(s,e,t),d=mt(1,a,l);return c/d},z6=s=>{if(s.unit.type!=="Mass")throw new Error(`Expected Mass unit, received ${s.unit.type}.`);return s.value*Vp(s.unit)},wT=(s,e=sx)=>{const t=z6(s);return new We(t*e,Te)},F6=(s,e,t=[],a={})=>{const l=lm(e),c=lm(t),d=l.length>1,f=l.map(({unit:$,power:X})=>{const ie=X??1,ne=Vj($,"numerator",{preferKilogram:d});return{multiplier:ne.multiplier**ie,label:ie===1?ne.label:`${ne.label}^${ie}`,power:ie,baseLabel:ne.baseLabel}}),y=c.map(({unit:$,power:X})=>{const ie=X??1,ne=Vj($,"denominator");return{multiplier:ne.multiplier**ie,label:ie===1?ne.label:`${ne.label}^${ie}`,power:ie,baseLabel:ne.baseLabel}}),g=f.reduce(($,X)=>$*X.multiplier,1),N=y.reduce(($,X)=>$*X.multiplier,1);let w=s*(g/N),I=Fj(f);const M=y.map($=>$.label).join("*");if(f.length===1&&f[0].power===1){const $=f[0].baseLabel;if($==="N"||$==="g"||$==="m"){const X=Uj(w,$,.1);w=X.value,I=X.label}}if(f.length>1){const X=["m","N","g"].map(ie=>f.findIndex(ne=>ne.baseLabel===ie&&ne.power===1)).find(ie=>ie!==void 0&&ie>=0);if(X!==void 0&&X>=0){const ie=Math.abs(w);if(ie<.1||ie>=1e3){const ne=f[X],Re=Uj(w,ne.baseLabel,.1);Re.label!==ne.label&&(w=Re.value,f[X]={...ne,label:Re.label},I=Fj(f))}}}if(a.sigFigs!==void 0){const $=Math.max(1,Math.floor(a.sigFigs));w=U6(w,$)}const G=M&&M.includes("*")?`(${M})`:M,W=G?`${I}/${G}`:I;return{value:w,unit:W}},Gu=new An({abbreviation:"kg",fullName:"Kilograms",type:"Mass",prefix:"kilo",prefixMultiplier:1e3}),ix=new An({abbreviation:"g",fullName:"Grams",type:"Mass",prefixMultiplier:1}),rx=new An({abbreviation:"Mg",fullName:"Megagrams",type:"Mass",prefix:"mega",prefixMultiplier:1e6}),ax=new An({abbreviation:"mg",fullName:"Milligrams",type:"Mass",prefix:"milli",prefixMultiplier:.001}),q6=new An({abbreviation:"s",fullName:"Seconds",type:"Time"}),B6=new An({abbreviation:"ms",fullName:"Milliseconds",type:"Time",prefix:"milli",prefixMultiplier:.001}),$6=new An({abbreviation:"Î¼s",fullName:"Microseconds",type:"Time",prefix:"micro",prefixMultiplier:1e-6}),H6=new An({abbreviation:"mN",fullName:"Millinewtons",type:"Force",prefix:"milli",prefixMultiplier:.001}),ox=new An({abbreviation:"kN",fullName:"Kilonewtons",type:"Force",prefix:"kilo",prefixMultiplier:1e3}),G6=new An({abbreviation:"MN",fullName:"Meganewtons",type:"Force",prefix:"mega",prefixMultiplier:1e6}),Je=new An({abbreviation:"m",fullName:"Meters",type:"Length"}),W6=new An({abbreviation:"mm",fullName:"Millimeters",type:"Length",prefix:"milli",prefixMultiplier:.001}),Y6=new An({abbreviation:"Î¼m",fullName:"Micrometers",type:"Length",prefix:"micro",prefixMultiplier:1e-6}),K6=new An({abbreviation:"km",fullName:"Kilometers",type:"Length",prefix:"kilo",prefixMultiplier:1e3}),Q6=new An({abbreviation:"Mm",fullName:"Megameters",type:"Length",prefix:"mega",prefixMultiplier:1e6}),Ws=new An({abbreviation:"ft",fullName:"Feet",type:"Length",baseMultiplier:.3048}),X6=new An({abbreviation:"hr",fullName:"Hours",type:"Time",baseMultiplier:3600}),ui=new An({abbreviation:"lb",fullName:"Pound-force",type:"Force",baseMultiplier:4.4482216152605}),lx=new An({abbreviation:"slug",fullName:"Slugs",type:"Mass",baseMultiplier:14.59390294}),eu=[{label:"N",unit:Te},{label:"kN",unit:ox},{label:"MN",unit:G6},{label:"mN",unit:H6},{label:"lb",unit:ui},{label:"kg",unit:Gu},{label:"g",unit:ix},{label:"mg",unit:ax},{label:"Mg",unit:rx},{label:"slug",unit:lx},{label:"m",unit:Je},{label:"mm",unit:W6},{label:"Î¼m",unit:Y6},{label:"km",unit:K6},{label:"Mm",unit:Q6},{label:"ft",unit:Ws},{label:"s",unit:q6},{label:"ms",unit:B6},{label:"Î¼s",unit:$6},{label:"hr",unit:X6}],wh=s=>eu.find(t=>t.label===s)?.unit??Te,qj=s=>Number.isFinite(s)?s===0?"0":Number(s.toPrecision(6)).toString():"â€”";function J6(){const[s,e]=D.useState("1"),[t,a]=D.useState("1"),[l,c]=D.useState("N"),[d,f]=D.useState("s"),[y,g]=D.useState("N"),[N,w]=D.useState("s"),[I,M]=D.useState(1),[G,W]=D.useState(1),[$,X]=D.useState(1),[ie,ne]=D.useState(1),Re=D.useMemo(()=>wh(l),[l]),ke=D.useMemo(()=>wh(d),[d]),Me=D.useMemo(()=>wh(y),[y]),O=D.useMemo(()=>wh(N),[N]),C=Number(s),k=Number(t),z=Number.isFinite(C),P=Number.isFinite(k)&&k!==0,B=z&&P?C/k:NaN,E=D.useMemo(()=>Number.isFinite(B)?F6(B,[{unit:Re,power:I}],[{unit:ke,power:G}],{sigFigs:6}):null,[B,Re,ke,I,G]),xe=D.useMemo(()=>{if(!Number.isFinite(B))return null;const pe=Se(B,[{unit:Re,power:I}],[{unit:ke,power:G}],[{unit:Me,power:$}],[{unit:O,power:ie}]),H=$===1?Me.abbreviation:`${Me.abbreviation}^${$}`,ce=ie===1?O.abbreviation:`${O.abbreviation}^${ie}`,be=`${H}/${ce}`;return{value:pe,unit:be}},[B,Re,ke,I,G,Me,O,$,ie]);return i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-3",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Unit Conversion"}),i.jsx("p",{className:"text-lg text-gray-700",children:"Convert a numerator and denominator measurement to SI, or convert to a target unit pair."})]}),i.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-serif text-gray-900",children:"Input"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"block text-sm text-gray-700",children:["Numerator value",i.jsx("input",{className:"mt-1 w-full border border-gray-300 px-3 py-2 text-sm",value:s,onChange:pe=>e(pe.target.value),inputMode:"decimal"})]}),i.jsxs("label",{className:"block text-sm text-gray-700",children:["Numerator unit",i.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[i.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:l,onChange:pe=>c(pe.target.value),children:eu.map(pe=>i.jsx("option",{value:pe.label,children:pe.label},pe.label))}),i.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:I,onChange:pe=>M(Number(pe.target.value)),children:[i.jsx("option",{value:1,children:"^1"}),i.jsx("option",{value:2,children:"^2"}),i.jsx("option",{value:3,children:"^3"})]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"block text-sm text-gray-700",children:["Denominator value",i.jsx("input",{className:"mt-1 w-full border border-gray-300 px-3 py-2 text-sm",value:t,onChange:pe=>a(pe.target.value),inputMode:"decimal"})]}),i.jsxs("label",{className:"block text-sm text-gray-700",children:["Denominator unit",i.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[i.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:d,onChange:pe=>f(pe.target.value),children:eu.map(pe=>i.jsx("option",{value:pe.label,children:pe.label},pe.label))}),i.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:G,onChange:pe=>W(Number(pe.target.value)),children:[i.jsx("option",{value:1,children:"^1"}),i.jsx("option",{value:2,children:"^2"}),i.jsx("option",{value:3,children:"^3"})]})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-serif text-gray-900",children:"Results"}),i.jsxs("div",{className:"border border-gray-200 p-4 space-y-3",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"A) Convert to SI"}),i.jsx("p",{className:"text-lg text-gray-900",children:E?`${qj(E.value)} ${E.unit}`:"â€”"})]}),i.jsxs("div",{className:"border border-gray-200 p-4 space-y-3",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"B) Convert to target numerator / denominator"}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("label",{className:"block text-sm text-gray-700",children:["Target numerator unit",i.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[i.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:y,onChange:pe=>g(pe.target.value),children:eu.map(pe=>i.jsx("option",{value:pe.label,children:pe.label},pe.label))}),i.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:$,onChange:pe=>X(Number(pe.target.value)),children:[i.jsx("option",{value:1,children:"^1"}),i.jsx("option",{value:2,children:"^2"}),i.jsx("option",{value:3,children:"^3"})]})]})]}),i.jsxs("label",{className:"block text-sm text-gray-700",children:["Target denominator unit",i.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[i.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:N,onChange:pe=>w(pe.target.value),children:eu.map(pe=>i.jsx("option",{value:pe.label,children:pe.label},pe.label))}),i.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:ie,onChange:pe=>ne(Number(pe.target.value)),children:[i.jsx("option",{value:1,children:"^1"}),i.jsx("option",{value:2,children:"^2"}),i.jsx("option",{value:3,children:"^3"})]})]})]})]}),i.jsx("p",{className:"text-lg text-gray-900",children:xe?`${qj(xe.value)} ${xe.unit}`:"â€”"})]}),!z&&i.jsx("p",{className:"text-sm text-red-600",children:"Enter a valid numerator value."}),!P&&i.jsx("p",{className:"text-sm text-red-600",children:"Enter a valid, non-zero denominator value."})]})]})]})}),i.jsx(bt,{})]})}const _h=2*Math.PI,ca=(s,e)=>{if(!Number.isFinite(s))throw new Error(`${e} must be a finite number.`)},Ta=s=>{const e=(s%_h+_h)%_h;return e===_h?0:e},_T=s=>Math.hypot(s.x,s.y,s.z);class On{constructor(e){this._radians=e}static fromDegrees(e){return ca(e,"degrees"),On.fromRadians(e*Math.PI/180)}static fromRadians(e){return ca(e,"radians"),new On(Ta(e))}get radians(){return this._radians}get degrees(){return this._radians*180/Math.PI}}const cx=s=>{if(s.unit.type!=="Force")throw new Error(`Expected Force unit, received ${s.unit.type}.`);return mt(s.value,[s.unit],[])};class hi{constructor(e){this._unit=e}static fromUnitVector(e){const t=_T(e);if(!Number.isFinite(t)||t===0)throw new Error("Unit vector must be a non-zero finite vector.");return new hi({x:e.x/t,y:e.y/t,z:e.z/t})}static fromThetaPhiRadians(e,t){ca(e,"theta"),ca(t,"phi");const a=Ta(e),l=Math.max(-Math.PI/2,Math.min(Math.PI/2,t)),c=Math.cos(l),d={x:c*Math.cos(a),y:c*Math.sin(a),z:Math.sin(l)};return new hi(d)}static fromThetaPhiDegrees(e,t){return hi.fromThetaPhiRadians(e*Math.PI/180,t*Math.PI/180)}static fromDirectionAnglesDegrees(e,t,a){ca(e,"alpha"),ca(t,"beta"),ca(a,"gamma");const l=Math.cos(e*Math.PI/180),c=Math.cos(t*Math.PI/180),d=Math.cos(a*Math.PI/180),f=Math.hypot(l,c,d);if(!Number.isFinite(f)||f===0)throw new Error("Invalid direction angles.");return new hi({x:l/f,y:c/f,z:d/f})}static completeDirectionAnglesDegrees(e){const t=e.alphaDeg??null,a=e.betaDeg??null,l=e.gammaDeg??null;if([t!=null?1:0,a!=null?1:0,l!=null?1:0].reduce((M,G)=>M+G,0)!==2)throw new Error("Provide exactly two of alpha/beta/gamma to compute the third.");const d=M=>{ca(M,"angle");const G=Math.cos(M*Math.PI/180);return G*G},f=t!=null?d(t):0,y=a!=null?d(a):0,g=l!=null?d(l):0,N=1-(f+y+g);if(!Number.isFinite(N)||N<-1e-12)throw new Error("Invalid direction angles: cos^2 sum exceeds 1.");const w=Math.sqrt(Math.max(0,N)),I=Math.acos(Math.max(-1,Math.min(1,w)))*180/Math.PI;return{alphaDeg:t??I,betaDeg:a??I,gammaDeg:l??I}}get unit(){return this._unit}get thetaRadians(){return Ta(Math.atan2(this._unit.y,this._unit.x))}get phiRadians(){const e=Math.hypot(this._unit.x,this._unit.y);return Math.atan2(this._unit.z,e)}get thetaDegrees(){return this.thetaRadians*180/Math.PI}get phiDegrees(){return this.phiRadians*180/Math.PI}get alphaDegrees(){return Math.acos(Math.max(-1,Math.min(1,this._unit.x)))*180/Math.PI}get betaDegrees(){return Math.acos(Math.max(-1,Math.min(1,this._unit.y)))*180/Math.PI}get gammaDegrees(){return Math.acos(Math.max(-1,Math.min(1,this._unit.z)))*180/Math.PI}}class $n{constructor(e,t){if(e.unit.type!=="Force")throw new Error(`Expected Force unit, received ${e.unit.type}.`);this.measurement=e,this.direction=t}static fromComponents(e,t){if(e.unit.type!=="Force"||t.unit.type!=="Force")throw new Error("Components must use Force units.");if(e.unit!==t.unit)throw new Error("Component units must match.");const a=mt(e.value,[e.unit],[]),l=mt(t.value,[t.unit],[]),c=Math.hypot(a,l),d=c===0?0:Ta(Math.atan2(l,a));return new $n(new We(c,Te),On.fromRadians(d))}toComponentsNewtons(){const e=cx(this.measurement),t=this.direction.radians;return{x:e*Math.cos(t),y:e*Math.sin(t)}}components(e=Te){if(e.type!=="Force")throw new Error(`Expected Force unit, received ${e.type}.`);const t=this.toComponentsNewtons(),a=Se(t.x,[Te],[],[e],[]),l=Se(t.y,[Te],[],[e],[]);return{i:new We(a,e),j:new We(l,e)}}toIHatJHatString(e={}){const t=e.unit??Te,a=e.sigFigs??6,{i:l,j:c}=this.components(t),d=w=>Number.isFinite(w)?w===0?"0":Number(w.toPrecision(Math.max(1,Math.floor(a)))).toString():"â€”",f=`${d(l.value)} ${t.abbreviation} iÌ‚`,y=Math.abs(c.value),g=c.value>=0?"+":"-",N=`${d(y)} ${t.abbreviation} jÌ‚`;return`${f} ${g} ${N}`}add(e){return cu(this,e)}}class uo{constructor(e,t){if(e.unit.type!=="Force")throw new Error(`Expected Force unit, received ${e.unit.type}.`);this.measurement=e,this.direction=t}static fromComponents(e,t,a){if(e.unit.type!=="Force"||t.unit.type!=="Force"||a.unit.type!=="Force")throw new Error("Components must use Force units.");if(e.unit!==t.unit||e.unit!==a.unit)throw new Error("Component units must match.");const l=mt(e.value,[e.unit],[]),c=mt(t.value,[t.unit],[]),d=mt(a.value,[a.unit],[]),f=Math.hypot(l,c,d),y=f===0?{x:1,y:0,z:0}:{x:l/f,y:c/f,z:d/f};return new uo(new We(f,Te),hi.fromUnitVector(y))}toComponentsNewtons(){const e=cx(this.measurement),t=this.direction.unit;return{x:e*t.x,y:e*t.y,z:e*t.z}}components(e=Te){if(e.type!=="Force")throw new Error(`Expected Force unit, received ${e.type}.`);const t=this.toComponentsNewtons(),a=Se(t.x,[Te],[],[e],[]),l=Se(t.y,[Te],[],[e],[]),c=Se(t.z,[Te],[],[e],[]);return{i:new We(a,e),j:new We(l,e),k:new We(c,e)}}toIJKString(e={}){const t=e.unit??Te,a=e.sigFigs??6,{i:l,j:c,k:d}=this.components(t),f=I=>Number.isFinite(I)?I===0?"0":Number(I.toPrecision(Math.max(1,Math.floor(a)))).toString():"â€”",y=(I,M)=>`${f(Math.abs(I))} ${t.abbreviation} ${M}`,g=`${f(l.value)} ${t.abbreviation} iÌ‚`,N=`${c.value>=0?"+":"-"} ${y(c.value,"jÌ‚")}`,w=`${d.value>=0?"+":"-"} ${y(d.value,"kÌ‚")}`;return`${g} ${N} ${w}`}}const Z6=(...s)=>{if(s.length===0)throw new Error("addForces3D requires at least one force.");const e=s.reduce((l,c)=>{const d=c.toComponentsNewtons();return{x:l.x+d.x,y:l.y+d.y,z:l.z+d.z}},{x:0,y:0,z:0}),t=_T(e),a=t===0?{x:1,y:0,z:0}:{x:e.x/t,y:e.y/t,z:e.z/t};return new uo(new We(t,Te),hi.fromUnitVector(a))},eO=(s,e)=>{const t=s.toComponentsNewtons(),a=e.toComponentsNewtons(),l={x:t.x-a.x,y:t.y-a.y},c=Math.hypot(l.x,l.y),d=c===0?0:Ta(Math.atan2(l.y,l.x));return new $n(new We(c,Te),On.fromRadians(d))},tO=s=>{const e=s.resultant.toComponentsNewtons(),t=s.direction1.radians,a=s.direction2.radians,l=Math.cos(t),c=Math.cos(a),d=Math.sin(t),f=Math.sin(a),y=l*f-c*d;if(!Number.isFinite(y)||Math.abs(y)<1e-12)throw new Error("Directions are colinear; cannot solve unique magnitudes.");const g=(e.x*f-c*e.y)/y,N=(l*e.y-e.x*d)/y;return{force1:new $n(new We(g,Te),s.direction1),force2:new $n(new We(N,Te),s.direction2)}},nO=s=>{const e=s.knownForces.length?cu(...s.knownForces):null,t=e?e.toComponentsNewtons():{x:0,y:0},a=s.resultantDirection.radians,l={x:Math.cos(a),y:Math.sin(a)},c={x:-Math.sin(a),y:Math.cos(a)},d=cx(s.unknownForceMagnitude);if(!Number.isFinite(d)||d<=0)throw new Error("Unknown force magnitude must be a positive finite number.");const y=-(c.x*t.x+c.y*t.y)/d;if(!Number.isFinite(y)||Math.abs(y)>1)throw new Error("Not solvable: no direction satisfies the resultant direction constraint.");const g=Math.asin(y),N=[Ta(a+g),Ta(a+(Math.PI-g))];let w=null;for(const I of N){const M={x:t.x+d*Math.cos(I),y:t.y+d*Math.sin(I)},G=c.x*M.x+c.y*M.y,W=l.x*M.x+l.y*M.y,$=1e-9*Math.max(1,Math.abs(W),Math.hypot(M.x,M.y));W<-$||Math.abs(G)>1e3*$||(!w||W>w.resultantMagnitude)&&(w={theta:I,resultantMagnitude:W,perp:G,sum:M})}if(!w)throw new Error("Not solvable: solutions point opposite the given resultant direction.");return{unknownForce:new $n(new We(d,Te),On.fromRadians(w.theta)),resultant:new $n(new We(w.resultantMagnitude,Te),On.fromRadians(a))}},cu=(...s)=>{if(s.length===0)throw new Error("addForces requires at least one force.");const e=s.reduce((l,c)=>{const d=c.toComponentsNewtons();return{x:l.x+d.x,y:l.y+d.y}},{x:0,y:0}),t=Math.hypot(e.x,e.y),a=Ta(Math.atan2(e.y,e.x));return new $n(new We(t,Te),On.fromRadians(a))},Up=[{label:"N",unit:Te},{label:"lb",unit:ui}],cm=s=>Up.find(e=>e.label===s)?.unit??Te,zp=[{label:"m",unit:Je},{label:"ft",unit:Ws}],la=s=>zp.find(e=>e.label===s)?.unit??Je,Ft=s=>Number.isFinite(s)?s===0?"0":Number(s.toPrecision(6)).toString():"â€”",Rn=s=>{const e=s.trim();if(e==="")return null;const t=Number(e);return Number.isFinite(t)?t:null},sO=s=>{if(s.entryMode!=="alphaBetaGamma")return s;const e=Rn(s.alphaText),t=Rn(s.betaText),a=Rn(s.gammaText);if([e!=null?1:0,t!=null?1:0,a!=null?1:0].reduce((c,d)=>c+d,0)!==2)return s;try{const c=hi.completeDirectionAnglesDegrees({alphaDeg:e,betaDeg:t,gammaDeg:a});return{...s,alphaText:s.alphaText.trim()?s.alphaText:Ft(c.alphaDeg),betaText:s.betaText.trim()?s.betaText:Ft(c.betaDeg),gammaText:s.gammaText.trim()?s.gammaText:Ft(c.gammaDeg)}}catch{return s}},Bj=(s,e,t,a)=>{const l=`${Ft(s)} ${a} iÌ‚`,c=e>=0?"+":"-",d=t>=0?"+":"-",f=`${Ft(Math.abs(e))} ${a} jÌ‚`,y=`${Ft(Math.abs(t))} ${a} kÌ‚`;return`${l} ${c} ${f} ${d} ${y}`},Tl=(s,e)=>{const t=Rn(s);if(t===null)return 0;if(e.type!=="Length")throw new Error(`Expected Length unit, received ${e.type}.`);return mt(t,[e],[])},iO=(s,e)=>{const t=Rn(s.endXText),a=Rn(s.endYText),l=Rn(s.endZText);if(t===null||a===null||l===null)return null;if(e.type!=="Length")throw new Error(`Expected Length unit, received ${e.type}.`);return{x:mt(t,[e],[]),y:mt(a,[e],[]),z:mt(l,[e],[])}},ET=(s,e)=>{const t=iO(s,e);if(!t)return null;const a={x:Tl(s.startXText,e),y:Tl(s.startYText,e),z:Tl(s.startZText,e)},l={x:t.x-a.x,y:t.y-a.y,z:t.z-a.z};try{return hi.fromUnitVector(l)}catch{return null}},uu=640,Eh=40,$j={x:uu/2,y:uu/2},rO=(s,e,t)=>Math.max(e,Math.min(t,s)),Hj=(s,e)=>s.x*e.x+s.y*e.y+s.z*e.z,Gj=(s,e)=>({x:s.y*e.z-s.z*e.y,y:s.z*e.x-s.x*e.z,z:s.x*e.y-s.y*e.x}),sp=s=>{const e=Math.hypot(s.x,s.y,s.z);return!Number.isFinite(e)||e<=0?{x:0,y:0,z:0}:{x:s.x/e,y:s.y/e,z:s.z/e}},aO=(s,e,t)=>{const a={x:0,y:0,z:1},l=Math.cos(t),c=Math.sin(t),d=Math.cos(e),f=Math.sin(e),y=sp({x:l*d,y:l*f,z:c}),g=sp(Gj(y,a)),N=sp(Gj(g,y));return{x:$j.x+Hj(s,g),y:$j.y-Hj(s,N)}},Th=s=>mt(s.measurement.value,[s.measurement.unit],[]),tu=s=>{const e=cm(s.unitLabel);if(s.entryMode==="points"){const d=Rn(s.magnitudeText);if(d===null)return null;const f=ET(s,la(s.positionUnitLabel));return f?new uo(new We(d,e),f):null}if(s.entryMode==="components"){const d=Rn(s.iText),f=Rn(s.jText),y=Rn(s.kText);return d===null||f===null||y===null?null:uo.fromComponents(new We(d,e),new We(f,e),new We(y,e))}if(s.entryMode==="thetaPhi"){const d=Rn(s.magnitudeText),f=Rn(s.thetaText),y=Rn(s.phiText);return d===null||f===null||y===null?null:new uo(new We(d,e),hi.fromThetaPhiDegrees(f,y))}const t=Rn(s.magnitudeText),a=Rn(s.alphaText),l=Rn(s.betaText),c=Rn(s.gammaText);return t===null||a===null||l===null||c===null?null:new uo(new We(t,e),hi.fromDirectionAnglesDegrees(a,l,c))},Wj=s=>{const e=cm(s.unitLabel),t=sO(s),a=tu(t);if(!a)return s;const l=a.components(e),c=Se(a.measurement.value,[Te],[],[e],[]);return{...t,iText:Ft(l.i.value),jText:Ft(l.j.value),kText:Ft(l.k.value),magnitudeText:Ft(c),thetaText:Ft(a.direction.thetaDegrees),phiText:Ft(a.direction.phiDegrees),alphaText:Ft(a.direction.alphaDegrees),betaText:Ft(a.direction.betaDegrees),gammaText:Ft(a.direction.gammaDegrees)}};function oO(){const[s,e]=D.useState("N"),[t,a]=D.useState("m"),l=D.useMemo(()=>la(t),[t]),[c,d]=D.useState([]),[f,y]=D.useState(null),[g,N]=D.useState(null),[w,I]=D.useState(Math.PI/4),[M,G]=D.useState(Math.asin(1/Math.sqrt(3))),W=D.useRef(null),$=-Math.PI/2+.05,X=Math.PI/2-.05,ie=.007,ne=D.useMemo(()=>E=>aO(E,w,M),[M,w]),Re=D.useMemo(()=>{const E=[...c.map(xe=>tu(xe)).filter(xe=>xe!=null).map(xe=>Th(xe)),...g?[Th(g)]:[]].filter(xe=>Number.isFinite(xe)&&xe>0);return E.length?Math.max(...E):1},[c,g]),ke=D.useMemo(()=>{const E=uu/2-80;return Math.min(1,E/Re)},[Re]),Me=()=>{y(null);const E=crypto.randomUUID();d(xe=>[{id:E,entryMode:"components",unitLabel:s,positionUnitLabel:t,startXText:"0",startYText:"0",startZText:"0",endXText:"",endYText:"",endZText:"",iText:"",jText:"",kText:"",magnitudeText:"",thetaText:"",phiText:"",alphaText:"",betaText:"",gammaText:""},...xe])},O=E=>{d(xe=>xe.filter(pe=>pe.id!==E)),N(null)},C=(E,xe)=>{d(pe=>pe.map(H=>{if(H.id!==E)return H;const ce={...H,...xe};return Wj(ce)})),N(null)},k=(E,xe,pe)=>{if(E.trim()==="")return"";const H=Rn(E);return H===null?"":xe.type!=="Length"||pe.type!=="Length"?E:Ft(Se(H,[xe],[],[pe],[]))},z=(E,xe)=>{d(pe=>pe.map(H=>{if(H.id!==E)return H;const ce=la(H.positionUnitLabel),be=la(xe),ae={...H,positionUnitLabel:xe,startXText:k(H.startXText,ce,be),startYText:k(H.startYText,ce,be),startZText:k(H.startZText,ce,be),endXText:k(H.endXText,ce,be),endYText:k(H.endYText,ce,be),endZText:k(H.endZText,ce,be)};return Wj(ae)})),N(null)},P=()=>{if(y(null),c.length===0)return;const E=c.map(xe=>tu(xe)).filter(xe=>xe!=null);if(E.length!==c.length){y("Cannot draw resultant: one or more vectors are incomplete.");return}N(Z6(...E))},B=D.useMemo(()=>{if(!g)return null;const E=cm(s),xe=Se(g.measurement.value,[Te],[],[E],[]),pe=g.components(E);return{magnitude:xe,theta:g.direction.thetaDegrees,phi:g.direction.phiDegrees,alpha:g.direction.alphaDegrees,beta:g.direction.betaDegrees,gamma:g.direction.gammaDegrees,i:pe.i.value,j:pe.j.value,k:pe.k.value}},[g,s]);return i.jsxs("div",{className:"border border-gray-200 bg-white",children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[i.jsx("div",{className:"text-sm text-gray-700",children:"3D mode uses component/angle entry and renders an isometric preview."}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Force"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:s,onChange:E=>e(E.target.value),children:Up.map(E=>i.jsx("option",{value:E.label,children:E.label},E.label))})]}),i.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Position"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:t,onChange:E=>a(E.target.value),children:zp.map(E=>i.jsx("option",{value:E.label,children:E.label},E.label))})]})]})]}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"border border-gray-200 bg-gray-50",children:[i.jsx("div",{className:"px-3 py-2 text-sm text-gray-700 border-b border-gray-200",children:"Preview (drag to rotate): +X is down-right, +Y is down-left, +Z is up."}),i.jsx("div",{className:"p-3",children:i.jsxs("svg",{viewBox:`0 0 ${uu} ${uu}`,className:"w-full h-[420px] select-none bg-white border border-gray-200 cursor-grab active:cursor-grabbing",onPointerDown:E=>{E.currentTarget.setPointerCapture(E.pointerId),W.current={pointerId:E.pointerId,x:E.clientX,y:E.clientY}},onPointerMove:E=>{if(!W.current||W.current.pointerId!==E.pointerId)return;const xe=E.clientX-W.current.x,pe=E.clientY-W.current.y;W.current={pointerId:E.pointerId,x:E.clientX,y:E.clientY},I(H=>H+xe*ie),G(H=>rO(H-pe*ie,$,X))},onPointerUp:E=>{W.current?.pointerId===E.pointerId&&(W.current=null)},onPointerCancel:E=>{W.current?.pointerId===E.pointerId&&(W.current=null)},children:[i.jsx("defs",{children:i.jsx("marker",{id:"arrowhead-3d",markerWidth:"10",markerHeight:"10",refX:"8",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:i.jsx("path",{d:"M0,0 L8,3 L0,6 Z",fill:"currentColor"})})}),(()=>{const E=mt(6,[l],[])*Eh,xe=ne({x:0,y:0,z:0}),pe=ne({x:E,y:0,z:0}),H=ne({x:0,y:E,z:0}),ce=ne({x:0,y:0,z:E});return i.jsxs("g",{className:"text-gray-400",children:[i.jsx("line",{x1:xe.x,y1:xe.y,x2:pe.x,y2:pe.y,stroke:"currentColor",strokeWidth:2}),i.jsx("line",{x1:xe.x,y1:xe.y,x2:H.x,y2:H.y,stroke:"currentColor",strokeWidth:2}),i.jsx("line",{x1:xe.x,y1:xe.y,x2:ce.x,y2:ce.y,stroke:"currentColor",strokeWidth:2}),i.jsx("text",{x:pe.x+6,y:pe.y,fill:"currentColor",fontSize:12,dominantBaseline:"middle",children:"+X"}),i.jsx("text",{x:H.x-6,y:H.y,fill:"currentColor",fontSize:12,dominantBaseline:"middle",textAnchor:"end",children:"+Y"}),i.jsx("text",{x:ce.x,y:ce.y-8,fill:"currentColor",fontSize:12,dominantBaseline:"middle",textAnchor:"middle",children:"+Z"}),i.jsx("circle",{cx:xe.x,cy:xe.y,r:3,fill:"currentColor"})]})})(),c.map((E,xe)=>{const pe=tu(E);if(!pe)return null;const H=Th(pe);if(!Number.isFinite(H)||H<=0)return null;const ce=E.entryMode==="points"?{x:Tl(E.startXText,la(E.positionUnitLabel))*Eh,y:Tl(E.startYText,la(E.positionUnitLabel))*Eh,z:Tl(E.startZText,la(E.positionUnitLabel))*Eh}:{x:0,y:0,z:0},be=pe.direction.unit,ae={x:be.x*H*ke,y:be.y*H*ke,z:be.z*H*ke},et={x:ce.x+ae.x,y:ce.y+ae.y,z:ce.z+ae.z},L=ne(ce),ue=ne(et),_e=`F${c.length-xe}`;return i.jsxs("g",{className:"text-gray-700",children:[i.jsx("line",{x1:L.x,y1:L.y,x2:ue.x,y2:ue.y,stroke:"currentColor",strokeWidth:4,markerEnd:"url(#arrowhead-3d)"}),i.jsx("text",{x:(L.x+ue.x)/2,y:(L.y+ue.y)/2,fill:"currentColor",fontSize:12,dominantBaseline:"middle",children:_e})]},E.id)}),g?(()=>{const E=Th(g);if(!Number.isFinite(E)||E<=0)return null;const xe=g.direction.unit,pe={x:0,y:0,z:0},H={x:xe.x*E*ke,y:xe.y*E*ke,z:xe.z*E*ke},ce=ne(pe),be=ne(H);return i.jsxs("g",{className:"text-red-600",children:[i.jsx("line",{x1:ce.x,y1:ce.y,x2:be.x,y2:be.y,stroke:"currentColor",strokeWidth:6,markerEnd:"url(#arrowhead-3d)"}),i.jsx("text",{x:(ce.x+be.x)/2,y:(ce.y+be.y)/2,fill:"currentColor",fontSize:12,dominantBaseline:"middle",children:"Î£"})]})})():null]})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:Me,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add vector"}),i.jsx("button",{type:"button",onClick:P,className:"px-3 py-1.5 text-sm bg-gray-900 text-white hover:bg-gray-800 transition-colors disabled:opacity-50",disabled:c.length===0,children:"Draw resultant"})]}),f&&i.jsx("div",{className:"border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-800",children:f}),c.length===0?i.jsx("div",{className:"text-sm text-gray-600",children:"Add a vector to get started."}):i.jsx("div",{className:"space-y-3",children:c.map((E,xe)=>{const pe=cm(E.unitLabel),H=tu(E),ce=H?H.components(pe):null,be=H&&Number.isFinite(H.measurement.value)?Se(H.measurement.value,[Te],[],[pe],[]):null;return i.jsxs("div",{className:"border border-gray-200 p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["F",c.length-xe]}),i.jsx("button",{type:"button",onClick:()=>O(E.id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>C(E.id,{entryMode:"components"}),className:`text-sm border px-2 py-1 ${E.entryMode==="components"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"iÌ‚/jÌ‚/kÌ‚"}),i.jsx("button",{type:"button",onClick:()=>C(E.id,{entryMode:"thetaPhi"}),className:`text-sm border px-2 py-1 ${E.entryMode==="thetaPhi"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Î¸/Ï†"}),i.jsx("button",{type:"button",onClick:()=>C(E.id,{entryMode:"alphaBetaGamma"}),className:`text-sm border px-2 py-1 ${E.entryMode==="alphaBetaGamma"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Î±/Î²/Î³"}),i.jsx("button",{type:"button",onClick:()=>C(E.id,{entryMode:"points"}),className:`text-sm border px-2 py-1 ${E.entryMode==="points"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Start/End"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Force"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:E.unitLabel,onChange:ae=>C(E.id,{unitLabel:ae.target.value}),children:Up.map(ae=>i.jsx("option",{value:ae.label,children:ae.label},ae.label))})]}),i.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Pos"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:E.positionUnitLabel,onChange:ae=>z(E.id,ae.target.value),children:zp.map(ae=>i.jsx("option",{value:ae.label,children:ae.label},ae.label))})]})]})]}),E.entryMode==="points"?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Magnitude"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.magnitudeText,onChange:ae=>C(E.id,{magnitudeText:ae.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Start x"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.startXText,onChange:ae=>C(E.id,{startXText:ae.target.value}),inputMode:"decimal",placeholder:"0"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Start y"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.startYText,onChange:ae=>C(E.id,{startYText:ae.target.value}),inputMode:"decimal",placeholder:"0"})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Start z"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.startZText,onChange:ae=>C(E.id,{startZText:ae.target.value}),inputMode:"decimal",placeholder:"0"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"End x"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.endXText,onChange:ae=>C(E.id,{endXText:ae.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"End y"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.endYText,onChange:ae=>C(E.id,{endYText:ae.target.value}),inputMode:"decimal",placeholder:"(required)"})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"End z"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.endZText,onChange:ae=>C(E.id,{endZText:ae.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),i.jsx("div",{className:"col-span-2 text-xs text-gray-600 flex items-end",children:"Direction is taken from Aâ†’B (startâ†’end)."})]})]}):E.entryMode==="components"?i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"i (x)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.iText,onChange:ae=>C(E.id,{iText:ae.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"j (y)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.jText,onChange:ae=>C(E.id,{jText:ae.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"k (z)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.kText,onChange:ae=>C(E.id,{kText:ae.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}):E.entryMode==="thetaPhi"?i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Magnitude"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.magnitudeText,onChange:ae=>C(E.id,{magnitudeText:ae.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Î¸ (azimuth deg)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.thetaText,onChange:ae=>C(E.id,{thetaText:ae.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Ï† (elevation deg)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.phiText,onChange:ae=>C(E.id,{phiText:ae.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}):i.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Magnitude"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.magnitudeText,onChange:ae=>C(E.id,{magnitudeText:ae.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Î± (deg)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.alphaText,onChange:ae=>C(E.id,{alphaText:ae.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Î² (deg)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.betaText,onChange:ae=>C(E.id,{betaText:ae.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Î³ (deg)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.gammaText,onChange:ae=>C(E.id,{gammaText:ae.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}),E.entryMode==="alphaBetaGamma"?i.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"If one of Î±/Î²/Î³ is blank and the other two are provided, the missing angle is computed from \\(cos^2Î± + cos^2Î² + cos^2Î³ = 1\\) using the acute solution."}):null,E.entryMode==="points"&&!ET(E,la(E.positionUnitLabel))?i.jsx("div",{className:"mt-2 text-xs text-red-700",children:"Provide a valid end point different from the start point."}):null,i.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:[ce?Bj(ce.i.value,ce.j.value,ce.k.value,E.unitLabel):`â€” ${E.unitLabel} iÌ‚ + â€” ${E.unitLabel} jÌ‚ + â€” ${E.unitLabel} kÌ‚`,be!==null?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-gray-400",children:" Â· "}),Ft(be)," ",E.unitLabel," @ Î¸=",Ft(H.direction.thetaDegrees),"Â°, Ï†=",Ft(H.direction.phiDegrees),"Â°",i.jsx("span",{className:"text-gray-400",children:" Â· "}),"Î±=",Ft(H.direction.alphaDegrees),"Â°, Î²=",Ft(H.direction.betaDegrees),"Â°, Î³=",Ft(H.direction.gammaDegrees),"Â°"]}):null]})]},E.id)})}),i.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Resultant (3D)"}),B?i.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[i.jsxs("div",{children:[Ft(B.magnitude)," ",s," @ Î¸=",Ft(B.theta),"Â°, Ï†=",Ft(B.phi),"Â°"]}),i.jsx("div",{className:"text-xs text-gray-600",children:Bj(B.i,B.j,B.k,s)}),i.jsxs("div",{className:"text-xs text-gray-600",children:["Î±=",Ft(B.alpha),"Â°, Î²=",Ft(B.beta),"Â°, Î³=",Ft(B.gamma),"Â°"]})]}):i.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œDraw resultantâ€ to compute the sum."})]})]})]})}const zh=[{label:"N",unit:Te},{label:"lb",unit:ui}],on=s=>zh.find(e=>e.label===s)?.unit??Te,Fp=[{label:"m",unit:Je},{label:"ft",unit:Ws}],Wc=s=>Fp.find(e=>e.label===s)?.unit??Je,Is=640,lO=40,Yt={x:Is/2,y:Is/2},qp=40,cO=120,Wu=s=>{const e=(s%360+360)%360;return e===360?0:e},xt=s=>Number.isFinite(s)?s===0?"0":Number(s.toPrecision(6)).toString():"â€”",zt=s=>{const e=s.trim();if(e==="")return null;const t=Number(e);return Number.isFinite(t)?t:null},Ui=s=>{const e=zt(s);return e===null?null:Wu(e)},Yj=(s,e,t)=>{const a=`${xt(s)} ${t} iÌ‚`,l=e>=0?"+":"-",c=`${xt(Math.abs(e))} ${t} jÌ‚`;return`${a} ${l} ${c}`},Kj=(s,e)=>{const t=e.getBoundingClientRect(),a=(s.clientX-t.left)/t.width*Is,l=(s.clientY-t.top)/t.height*Is;return{x:a,y:l}},Qj=s=>{const e=s.x-Yt.x,t=Yt.y-s.y,a=Math.hypot(e,t),l=Wu(Math.atan2(t,e)*180/Math.PI);return{magnitude:a,angleDeg:l}},uO=s=>({x:Yt.x+s.x*qp,y:Yt.y-s.y*qp}),ip=(s,e,t,a)=>{const l=Wu(t)*Math.PI/180,c=e*a*Math.cos(l),d=e*a*Math.sin(l);return{x:s.x+c,y:s.y-d}},dO=(s,e,t)=>{const a=Wu(e)*Math.PI/180,l=t*Math.cos(a),c=t*Math.sin(a);return{x:s.x+l,y:s.y-c}};function hO(){const[s,e]=D.useState("2d"),t=D.useRef(null),[a,l]=D.useState([]),[c,d]=D.useState(null),[f,y]=D.useState(null),[g,N]=D.useState(null),[w,I]=D.useState(null),[M,G]=D.useState("N"),[W,$]=D.useState("m"),X=D.useMemo(()=>Wc(W),[W]),[ie,ne]=D.useState(null),Re=b=>{if(b.entryMode==="components"){const U=zt(b.iText),K=zt(b.jText);if(U===null||K===null)return null;const je=on(b.unitLabel),ve=mt(U,[je],[]),he=mt(K,[je],[]);return Math.hypot(ve,he)}const _=zt(b.magnitudeText);if(_===null)return null;const F=on(b.unitLabel);return mt(_,[F],[])},ke=b=>Ui(b.angleText),Me=(b,_)=>{const F=zt(b);return F===null?0:mt(F,[_],[])},O=b=>{const _=Wc(b.positionUnitLabel);return{x:Me(b.startXText,_),y:Me(b.startYText,_)}},C=b=>{const _=zt(b.endXText),F=zt(b.endYText);if(_===null||F===null)return null;const U=Wc(b.positionUnitLabel);return{x:mt(_,[U],[]),y:mt(F,[U],[])}},k=b=>{const _=C(b);if(!_)return null;const F=O(b),U=_.x-F.x,K=_.y-F.y,je=Math.hypot(U,K);return!Number.isFinite(je)||je===0?null:Wu(Math.atan2(K,U)*180/Math.PI)},z=b=>{const _=on(b.unitLabel);if(b.entryMode==="points"){const K=zt(b.magnitudeText);if(K===null)return null;const je=k(b);return je===null?null:new $n(new We(K,_),On.fromDegrees(je))}if(b.entryMode==="components"){const K=zt(b.iText),je=zt(b.jText);return K===null||je===null?null:$n.fromComponents(new We(K,_),new We(je,_))}const F=zt(b.magnitudeText),U=Ui(b.angleText);return F===null||U===null?null:new $n(new We(F,_),On.fromDegrees(U))},P=b=>{const _=on(b.unitLabel);if(b.entryMode!=="polar"){const K=z(b);return K?{magnitude:Se(K.measurement.value,[Te],[],[_],[]),angleDeg:K.direction.degrees,unit:_}:null}const F=zt(b.magnitudeText),U=Ui(b.angleText);return F===null||U===null?null:{magnitude:F,angleDeg:U,unit:_}},B=b=>{const _=on(b.unitLabel);if(b.entryMode==="components"){const K=zt(b.iText),je=zt(b.jText);return K===null||je===null?null:{i:K,j:je,unit:_}}const F=z(b);if(!F)return null;const U=F.components(_);return{i:U.i.value,j:U.j.value,unit:_}},E=(b,_)=>{l(F=>F.map(U=>{if(U.id!==b)return U;const K=on(U.unitLabel),je=Se(_.measurement.value,[Te],[],[K],[]),ve=_.components(K);return{...U,magnitudeText:xt(je),angleText:xt(_.direction.degrees),iText:xt(ve.i.value),jText:xt(ve.j.value)}}))},xe=D.useMemo(()=>{const b=[...a.map(_=>Re(_)).filter(_=>_!=null),...g?[Re(g)].filter(_=>_!=null):[],...w?[Re(w)].filter(_=>_!=null):[]].filter(_=>Number.isFinite(_)&&_>0);return b.length?Math.max(...b):1},[a,g,w]),pe=D.useMemo(()=>{const b=Is/2-lO;return Math.min(1,b/xe)},[xe]);D.useMemo(()=>a.find(b=>b.id===c)??null,[a,c]);const H=D.useMemo(()=>{if(!f)return null;const{magnitude:b,angleDeg:_}=Qj(f);return!Number.isFinite(b)||b<5?null:{magnitudeNewtons:b,angleDeg:_}},[f]),ce=b=>{const _=on(b.unitLabel);if(b.entryMode==="points"){const ve=zt(b.magnitudeText),he=k(b);if(ve===null||he===null)return b;const st=new $n(new We(ve,_),On.fromDegrees(he)),jt=st.components(_);return{...b,angleText:xt(st.direction.degrees),iText:xt(jt.i.value),jText:xt(jt.j.value)}}if(b.entryMode==="components"){const ve=zt(b.iText),he=zt(b.jText);if(ve===null||he===null)return b;const st=$n.fromComponents(new We(ve,_),new We(he,_)),jt=Se(st.measurement.value,[Te],[],[_],[]);return{...b,magnitudeText:xt(jt),angleText:xt(st.direction.degrees)}}const F=zt(b.magnitudeText),U=Ui(b.angleText);if(F===null||U===null)return b;const je=new $n(new We(F,_),On.fromDegrees(U)).components(_);return{...b,iText:xt(je.i.value),jText:xt(je.j.value)}},be=(b,_)=>{l(F=>F.map(U=>{if(U.id!==b)return U;let K={...U,..._};if(_.entryMode&&_.entryMode!==U.entryMode){const je=z(U);if(je){const ve=on(K.unitLabel),he=Se(je.measurement.value,[Te],[],[ve],[]),st=je.components(ve);K={...K,magnitudeText:xt(he),angleText:xt(je.direction.degrees),iText:xt(st.i.value),jText:xt(st.j.value)}}}return ce(K)}))},ae=(b,_)=>{l(F=>F.map(U=>{if(U.id!==b)return U;const K=z(U);if(!K)return{...U,unitLabel:_};const je=on(_),ve=Se(K.measurement.value,[Te],[],[je],[]),he=K.components(je);return ce({...U,unitLabel:_,magnitudeText:xt(ve),angleText:xt(K.direction.degrees),iText:xt(he.i.value),jText:xt(he.j.value)})}))},et=(b,_,F)=>{if(b.trim()==="")return"";const U=zt(b);return U===null?"":_.type!=="Length"||F.type!=="Length"?b:xt(Se(U,[_],[],[F],[]))},L=(b,_)=>{l(F=>F.map(U=>{if(U.id!==b)return U;const K=Wc(U.positionUnitLabel),je=Wc(_),ve={...U,positionUnitLabel:_,startXText:et(U.startXText,K,je),startYText:et(U.startYText,K,je),endXText:et(U.endXText,K,je),endYText:et(U.endYText,K,je)};return ce(ve)}))},ue=b=>ce(b),_e=b=>{I(_=>{if(!_)return _;const F={..._,...b};return ue(F)})},Ie=b=>{l(_=>_.filter(F=>F.id!==b)),d(_=>_===b?null:_)},Fe=()=>{ne(null);const b=crypto.randomUUID(),_={id:b,entryMode:"components",magnitudeText:"",unitLabel:M,positionUnitLabel:W,angleText:"",iText:"",jText:"",startXText:"",startYText:"",endXText:"",endYText:""};l(F=>[ce(_),...F]),d(b),N(null)},Ge=()=>{if(ne(null),a.length===0)return;const b=a.map(K=>z(K)).filter(K=>K!=null);if(b.length!==a.length){ne("Cannot draw resultant: one or more vectors have unknown magnitude or angle.");return}const _=cu(...b),F=on(M),U=Se(_.measurement.value,[Te],[],[F],[]);N({id:"resultant",entryMode:"polar",magnitudeText:xt(U),unitLabel:M,positionUnitLabel:W,angleText:xt(_.direction.degrees),iText:xt(_.components(F).i.value),jText:xt(_.components(F).j.value),startXText:"",startYText:"",endXText:"",endYText:""})},A=()=>{ne(null),!w&&I({id:"given-resultant",entryMode:"polar",magnitudeText:"",unitLabel:M,positionUnitLabel:W,angleText:"",iText:"",jText:"",startXText:"",startYText:"",endXText:"",endYText:""})},R=()=>{if(ne(null),!w){ne("Add a resultant vector first.");return}const b=zt(w.magnitudeText),_=Ui(w.angleText);if(_===null){ne("Resultant angle is required.");return}const F=On.fromDegrees(_),K=a.map((Ke,at)=>{if(Ke.entryMode==="components"){const Ne=zt(Ke.iText),Ye=zt(Ke.jText),Be=Ne!==null&&Ye!==null;return{idx:at,magnitudeKnown:Be,angleKnown:Be}}if(Ke.entryMode==="points"){const Ne=zt(Ke.magnitudeText),Ye=k(Ke);return{idx:at,magnitudeKnown:Ne!==null,angleKnown:Ye!==null}}const Pt=zt(Ke.magnitudeText),Tt=Ui(Ke.angleText);return{idx:at,magnitudeKnown:Pt!==null,angleKnown:Tt!==null}}).filter(Ke=>!Ke.magnitudeKnown||!Ke.angleKnown).map(Ke=>Ke.idx);if(K.length===0){if(b===null){const Ke=a.map(Ye=>z(Ye)).filter(Ye=>Ye!=null);if(Ke.length!==a.length){ne("Not solvable: one or more vectors are incomplete.");return}const at=cu(...Ke);if(Math.abs(at.direction.degrees-F.degrees)>1e-6){ne("Not solvable: computed resultant direction does not match the provided direction.");return}const Tt=on(w.unitLabel),Ne=Se(at.measurement.value,[Te],[],[Tt],[]);_e({magnitudeText:xt(Ne)});return}ne("Nothing to solve: all vectors have known magnitude and angle.");return}if(K.length>2){ne("Too many unknown values. This tool currently solves up to 2 incomplete vectors.");return}const je=a.map(Ke=>z(Ke)).filter(Ke=>Ke!=null),ve=je.length?cu(...je):null;if(b===null){if(K.length!==1){ne("Not solvable: with unknown resultant magnitude, exactly one vector must be incomplete.");return}const Ke=K[0],at=a[Ke],Pt=zt(at.magnitudeText),Tt=Ui(at.angleText);if(Pt===null){ne("Not solvable: with unknown resultant magnitude, the incomplete vector must have a known magnitude.");return}if(Tt!==null){ne("Nothing to solve: the incomplete vector has a known angle (try leaving the angle blank).");return}try{const Ne=nO({knownForces:je,unknownForceMagnitude:new We(Pt,on(at.unitLabel)),resultantDirection:F});E(at.id,Ne.unknownForce);const Ye=on(w.unitLabel),Be=Se(Ne.resultant.measurement.value,[Te],[],[Ye],[]);_e({magnitudeText:xt(Be)})}catch(Ne){ne(Ne instanceof Error?Ne.message:"Failed to solve unknowns.")}return}const he=new $n(new We(b,on(w.unitLabel)),F),st=ve?eO(he,ve):he;if(K.length===1){const Ke=K[0],at=a[Ke],Pt=zt(at.magnitudeText),Tt=Ui(at.angleText);if(Tt===null){if(Pt!==null){const pn=mt(Pt,[on(at.unitLabel)],[]),yn=1e-6*Math.max(1,st.measurement.value);if(Math.abs(pn-st.measurement.value)>yn){ne("Not solvable: provided magnitude does not match the required remainder.");return}}const Ne=on(at.unitLabel),Ye=Se(st.measurement.value,[Te],[],[Ne],[]),Be=on(at.unitLabel),nn=new $n(new We(Pt===null?Ye:Pt,Be),On.fromDegrees(st.direction.degrees));E(at.id,nn);return}if(Pt===null){const Ne=On.fromDegrees(Tt).radians,Ye={x:Math.cos(Ne),y:Math.sin(Ne)},Be=st.toComponentsNewtons(),nn=Be.x*Ye.x+Be.y*Ye.y,pn=Be.x*-Ye.y+Be.y*Ye.x,yn=1e-6*Math.max(1,Math.hypot(Be.x,Be.y));if(Math.abs(pn)>yn){ne("Not solvable: resultant/known vectors are not consistent with the unknown direction.");return}const sn=on(at.unitLabel),ns=Se(nn,[Te],[],[sn],[]),Bt=on(at.unitLabel),Vn=new $n(new We(ns,Bt),On.fromDegrees(Tt));E(at.id,Vn);return}ne("Nothing to solve for the incomplete vector.");return}const[jt,Pe]=K,it=a[jt],Ct=a[Pe],gn=Ui(it.angleText),Jt=Ui(Ct.angleText),tn=zt(it.magnitudeText),Yn=zt(Ct.magnitudeText);if(gn===null||Jt===null||tn!==null||Yn!==null){ne("Not solvable: to solve two vectors, both directions must be known and both magnitudes must be unknown.");return}try{const Ke=tO({resultant:st,direction1:On.fromDegrees(gn),direction2:On.fromDegrees(Jt)}),at=on(it.unitLabel),Pt=on(Ct.unitLabel),Tt=Se(Ke.force1.measurement.value,[Te],[],[at],[]),Ne=Se(Ke.force2.measurement.value,[Te],[],[Pt],[]);be(it.id,{magnitudeText:xt(Tt)}),be(Ct.id,{magnitudeText:xt(Ne)})}catch(Ke){ne(Ke instanceof Error?Ke.message:"Failed to solve unknowns.")}},Q=b=>{t.current&&(t.current.setPointerCapture(b.pointerId),y(Kj(b,t.current)))},de=b=>{t.current&&f&&y(Kj(b,t.current))},we=b=>{if(t.current){if(t.current.releasePointerCapture(b.pointerId),f){const{magnitude:_,angleDeg:F}=Qj(f);if(Number.isFinite(_)&&_>=5){const U=crypto.randomUUID(),K=on(M),je=Se(_,[Te],[],[K],[]),ve={id:U,entryMode:"polar",magnitudeText:xt(je),unitLabel:M,positionUnitLabel:W,angleText:xt(F),iText:"",jText:"",startXText:"",startYText:"",endXText:"",endYText:""};l(he=>[ce(ve),...he]),d(U),N(null),ne(null)}}y(null)}},Ue=D.useMemo(()=>{const b=[],_=mt(1,[X],[])*qp;for(let F=0;F<=Is;F+=_)b.push({x1:F,y1:0,x2:F,y2:Is});for(let F=0;F<=Is;F+=_)b.push({x1:0,y1:F,x2:Is,y2:F});return b},[X]);return i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-3",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/toolbox",className:"border-b border-gray-300 hover:border-gray-500 transition-colors",children:"Toolbox"})," ",i.jsx("span",{className:"text-gray-400",children:"/"})," Force vectors"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Force vectors"}),i.jsx("p",{className:"text-lg text-gray-700",children:"Draw vectors on the plane, then edit magnitude and angle. Angle is measured counterclockwise from +X."}),i.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[i.jsx("button",{type:"button",onClick:()=>e("2d"),className:`text-sm border px-2 py-1 ${s==="2d"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"2D"}),i.jsx("button",{type:"button",onClick:()=>e("3d"),className:`text-sm border px-2 py-1 ${s==="3d"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"3D"})]})]}),s==="3d"?i.jsx(oO,{}):i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-6",children:[i.jsxs("section",{className:"border border-gray-200 bg-white",children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[i.jsx("div",{className:"text-sm text-gray-700",children:"Drag anywhere to create an arrow from the origin."}),i.jsx("div",{className:"text-sm text-gray-600",children:"Auto-fit scale (based on max magnitude)"})]}),i.jsx("div",{className:"p-4",children:i.jsxs("svg",{ref:t,viewBox:`0 0 ${Is} ${Is}`,className:"w-full h-[520px] touch-none select-none bg-gray-50 border border-gray-200",onPointerDown:Q,onPointerMove:de,onPointerUp:we,children:[i.jsx("defs",{children:i.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"8",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:i.jsx("path",{d:"M0,0 L8,3 L0,6 Z",fill:"currentColor"})})}),i.jsx("g",{className:"text-gray-200",children:Ue.map((b,_)=>i.jsx("line",{x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2,stroke:"currentColor",strokeWidth:1},_))}),i.jsxs("g",{className:"text-gray-400",children:[i.jsx("line",{x1:0,y1:Yt.y,x2:Is,y2:Yt.y,stroke:"currentColor",strokeWidth:2}),i.jsx("line",{x1:Yt.x,y1:0,x2:Yt.x,y2:Is,stroke:"currentColor",strokeWidth:2})]}),i.jsx("circle",{cx:Yt.x,cy:Yt.y,r:4,fill:"#111827"}),H&&i.jsx("g",{className:"text-gray-500",children:i.jsx("line",{x1:Yt.x,y1:Yt.y,x2:f?.x??Yt.x,y2:f?.y??Yt.y,stroke:"currentColor",strokeWidth:3,strokeDasharray:"6 6",markerEnd:"url(#arrowhead)"})}),a.map((b,_)=>{const F=Re(b),U=ke(b),K=b.entryMode==="points"?uO(O(b)):Yt,je=U===null?K:F===null?dO(K,U,cO):ip(K,F,U,pe),ve=b.id===c,he=ve?"#111827":"#374151",st=`F${a.length-_}`;return i.jsxs("g",{onClick:jt=>{jt.stopPropagation(),d(b.id)},style:{cursor:"pointer"},children:[U!==null?i.jsx("line",{x1:K.x,y1:K.y,x2:je.x,y2:je.y,stroke:he,strokeWidth:ve?5:4,strokeDasharray:F===null?"6 6":void 0,markerEnd:"url(#arrowhead)"}):i.jsx("circle",{cx:K.x,cy:K.y,r:10,fill:"none",stroke:he,strokeWidth:2,strokeDasharray:"6 6"}),i.jsx("text",{x:U===null?K.x+14:(K.x+je.x)/2,y:U===null?K.y-14:(K.y+je.y)/2,fill:he,fontSize:14,dominantBaseline:"middle",children:st})]},b.id)}),w&&i.jsx("g",{className:"text-blue-600",children:(()=>{const b=Re(w),_=ke(w);if(b===null||_===null)return null;const F=ip(Yt,b,_,pe);return i.jsxs(i.Fragment,{children:[i.jsx("line",{x1:Yt.x,y1:Yt.y,x2:F.x,y2:F.y,stroke:"currentColor",strokeWidth:6,markerEnd:"url(#arrowhead)"}),i.jsx("text",{x:(Yt.x+F.x)/2,y:(Yt.y+F.y)/2,fill:"currentColor",fontSize:14,dominantBaseline:"middle",children:"R"})]})})()}),g&&i.jsx("g",{className:"text-red-600",children:(()=>{const b=Re(g),_=ke(g);if(b===null||_===null)return null;const F=ip(Yt,b,_,pe);return i.jsxs(i.Fragment,{children:[i.jsx("line",{x1:Yt.x,y1:Yt.y,x2:F.x,y2:F.y,stroke:"currentColor",strokeWidth:6,markerEnd:"url(#arrowhead)"}),i.jsx("text",{x:(Yt.x+F.x)/2,y:(Yt.y+F.y)/2,fill:"currentColor",fontSize:14,dominantBaseline:"middle",children:"Î£"})]})})()})]})})]}),i.jsxs("aside",{className:"border border-gray-200 bg-white",children:[i.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-3",children:[i.jsx("div",{className:"text-lg font-serif text-gray-900",children:"Vectors"}),i.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Force"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:M,onChange:b=>{const _=b.target.value;G(_)},children:zh.map(b=>i.jsx("option",{value:b.label,children:b.label},b.label))})]}),i.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Position"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:W,onChange:b=>$(b.target.value),children:Fp.map(b=>i.jsx("option",{value:b.label,children:b.label},b.label))})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{type:"button",onClick:Fe,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add vector"}),i.jsx("button",{type:"button",onClick:A,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors disabled:opacity-50",disabled:w!=null,children:"Add resultant"}),i.jsx("button",{type:"button",onClick:R,className:"px-3 py-1.5 text-sm bg-gray-900 text-white hover:bg-gray-800 transition-colors",children:"Calculate unknown values"}),i.jsx("button",{type:"button",onClick:Ge,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors disabled:opacity-50",disabled:a.length===0,children:"Draw resultant"})]})]}),i.jsxs("div",{className:"p-4 space-y-6",children:[ie&&i.jsx("div",{className:"border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-800",children:ie}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Resultant (given)",i.jsxs("span",{className:"text-gray-500 font-normal",children:[" ","â€” angle required, magnitude optional"]})]}),w?i.jsxs("div",{className:"border border-gray-200 p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:"R"}),i.jsx("button",{type:"button",onClick:()=>I(null),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>_e({entryMode:"polar"}),className:`text-sm border px-2 py-1 ${w.entryMode==="polar"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Magnitude/Angle"}),i.jsx("button",{type:"button",onClick:()=>_e({entryMode:"components"}),className:`text-sm border px-2 py-1 ${w.entryMode==="components"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"iÌ‚/jÌ‚"})]}),i.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Unit"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:w.unitLabel,onChange:b=>_e({unitLabel:b.target.value}),children:zh.map(b=>i.jsx("option",{value:b.label,children:b.label},b.label))})]})]}),w.entryMode==="polar"?i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Magnitude"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:w.magnitudeText,onChange:b=>_e({magnitudeText:b.target.value}),inputMode:"decimal",placeholder:"(optional)"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Angle (deg)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:w.angleText,onChange:b=>_e({angleText:b.target.value}),inputMode:"decimal",placeholder:"(required)"})]})]}):i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"i (x)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:w.iText,onChange:b=>_e({iText:b.target.value}),inputMode:"decimal",placeholder:"(optional)"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"j (y)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:w.jText,onChange:b=>_e({jText:b.target.value}),inputMode:"decimal",placeholder:"(optional)"})]})]}),(()=>{const b=B(w);return b?i.jsx("div",{className:"mt-3 text-xs text-gray-600",children:Yj(b.i,b.j,w.unitLabel)}):null})()]}):i.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œAdd resultantâ€ to define the target vector."})]}),a.length===0?i.jsx("div",{className:"text-gray-700 text-sm",children:"No vectors yet. Drag on the plane to add one."}):i.jsx("div",{className:"space-y-3",children:a.map((b,_)=>{const F=`F${a.length-_}`,U=b.id===c,K=P(b),je=B(b);return i.jsxs("div",{className:`border p-3 ${U?"border-gray-900":"border-gray-200"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("button",{type:"button",onClick:()=>d(b.id),className:"text-sm font-medium text-gray-900 border-b border-gray-300 hover:border-gray-700 transition-colors",children:F}),i.jsx("button",{type:"button",onClick:()=>Ie(b.id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),i.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between mb-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>be(b.id,{entryMode:"polar"}),className:`text-sm border px-2 py-1 ${b.entryMode==="polar"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Magnitude/Angle"}),i.jsx("button",{type:"button",onClick:()=>be(b.id,{entryMode:"components"}),className:`text-sm border px-2 py-1 ${b.entryMode==="components"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"iÌ‚/jÌ‚"}),i.jsx("button",{type:"button",onClick:()=>be(b.id,{entryMode:"points"}),className:`text-sm border px-2 py-1 ${b.entryMode==="points"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Start/End"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:[i.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Force"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:b.unitLabel,onChange:ve=>ae(b.id,ve.target.value),children:zh.map(ve=>i.jsx("option",{value:ve.label,children:ve.label},ve.label))})]}),i.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Pos"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:b.positionUnitLabel,onChange:ve=>L(b.id,ve.target.value),children:Fp.map(ve=>i.jsx("option",{value:ve.label,children:ve.label},ve.label))})]})]})]}),b.entryMode==="points"?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Magnitude"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.magnitudeText,onChange:ve=>be(b.id,{magnitudeText:ve.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),i.jsx("div",{className:"text-xs text-gray-600 flex items-end",children:"Direction is taken from startâ†’end."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Start x"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.startXText,onChange:ve=>be(b.id,{startXText:ve.target.value}),inputMode:"decimal",placeholder:"0"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Start y"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.startYText,onChange:ve=>be(b.id,{startYText:ve.target.value}),inputMode:"decimal",placeholder:"0"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"End x"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.endXText,onChange:ve=>be(b.id,{endXText:ve.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"End y"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.endYText,onChange:ve=>be(b.id,{endYText:ve.target.value}),inputMode:"decimal",placeholder:"(required)"})]})]})]}):b.entryMode==="polar"?i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Magnitude"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.magnitudeText,onChange:ve=>be(b.id,{magnitudeText:ve.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Angle (deg)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.angleText,onChange:ve=>be(b.id,{angleText:ve.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}):i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"i (x)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.iText,onChange:ve=>be(b.id,{iText:ve.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"j (y)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.jText,onChange:ve=>be(b.id,{jText:ve.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}),i.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:[K?`${xt(K.magnitude)} ${b.unitLabel} @ ${xt(K.angleDeg)}Â°`:`â€” ${b.unitLabel} @ â€”Â°`,je?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-gray-400",children:" Â· "}),Yj(je.i,je.j,b.unitLabel)]}):null]})]},b.id)})}),i.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Resultant (sum of vectors)"}),g?i.jsxs("div",{className:"text-sm text-gray-700",children:[g.magnitudeText.trim()?g.magnitudeText.trim():"â€”"," ",g.unitLabel," @"," ",g.angleText.trim()?g.angleText.trim():"â€”","Â°"]}):i.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œDraw resultantâ€ to compute the vector sum."})]})]})]})]})]})}),i.jsx(bt,{})]})}const Wi=(s,e)=>{if(!Number.isFinite(s))throw new Error(`${e} must be a finite number.`)},Xj=(s,e)=>{Wi(s.x,`${e}.x`),Wi(s.y,`${e}.y`)},Jj=(s,e)=>{Wi(s.x,`${e}.x`),Wi(s.y,`${e}.y`),Wi(s.z,`${e}.z`)},Au=(s,e)=>{Wi(s.x,`${e}.x`),Wi(s.y,`${e}.y`)},Cu=(s,e)=>{Wi(s.x,`${e}.x`),Wi(s.y,`${e}.y`),Wi(s.z,`${e}.z`)},Ia=(s,e)=>(Xj(s,"a"),Xj(e,"b"),{x:e.x-s.x,y:e.y-s.y}),wr=(s,e)=>(Jj(s,"a"),Jj(e,"b"),{x:e.x-s.x,y:e.y-s.y,z:e.z-s.z}),Pl=s=>(Au(s,"v"),Math.hypot(s.x,s.y)),Jn=s=>(Cu(s,"v"),Math.hypot(s.x,s.y,s.z)),No=s=>{const e=Pl(s);if(!Number.isFinite(e)||e===0)throw new Error("Unit vector must be a non-zero finite vector.");return{x:s.x/e,y:s.y/e}},jo=s=>{const e=Jn(s);if(!Number.isFinite(e)||e===0)throw new Error("Unit vector must be a non-zero finite vector.");return{x:s.x/e,y:s.y/e,z:s.z/e}},mO=(s,e)=>(Au(s,"a"),Au(e,"b"),s.x*e.x+s.y*e.y),fO=(s,e)=>(Cu(s,"a"),Cu(e,"b"),s.x*e.x+s.y*e.y+s.z*e.z),TT=(s,e)=>(Au(s,"a"),Au(e,"b"),s.x*e.y-s.y*e.x),Bp=(s,e)=>(Cu(s,"a"),Cu(e,"b"),{x:s.y*e.z-s.z*e.y,y:s.z*e.x-s.x*e.z,z:s.x*e.y-s.y*e.x}),gO=(s,e)=>{const t=Pl(s),a=Pl(e);if(t===0||a===0)throw new Error("angleBetweenVectors2 requires non-zero vectors.");const l=mO(s,e),c=Math.abs(TT(s,e));return Math.atan2(c,l)},rp=(s,e)=>{const t=Jn(s),a=Jn(e);if(t===0||a===0)throw new Error("angleBetweenVectors3 requires non-zero vectors.");const l=fO(s,e),c=Jn(Bp(s,e));return Math.atan2(c,l)},ux=(s,e)=>{if(!Number.isFinite(s))throw new Error(`${e} must be a finite number.`)},Et=s=>({constant:s,terms:{}}),qt=(s,e=1)=>({constant:0,terms:{[s.id]:e}}),Nt=(s,e)=>{const t={...s.terms};for(const[a,l]of Object.entries(e.terms)){const c=(t[a]??0)+l;Math.abs(c)<1e-14?delete t[a]:t[a]=c}return{constant:s.constant+e.constant,terms:t}},ze=(s,e)=>{if(!Number.isFinite(e))throw new Error("exprScale scalar must be finite.");const t={};for(const[a,l]of Object.entries(s.terms)){const c=l*e;Math.abs(c)>=1e-14&&(t[a]=c)}return{constant:s.constant*e,terms:t}},IT=(s,e)=>{let t=s.constant;for(const[a,l]of Object.entries(s.terms)){const c=e[a];if(c===void 0)throw new Error(`Missing value for variable "${a}".`);t+=l*c}return t},um=(s,e)=>IT(s,e),mi=(s,e)=>{const t=s.nodes.find(a=>a.id===e);if(!t)throw new Error(`Unknown node "${e}".`);return t},fi=(s,e)=>{const t=s.nodes.find(a=>a.id===e);if(!t)throw new Error(`Unknown node "${e}".`);return t},ST=s=>{const e=s.system,t=mi(e,s.aboutNodeId).positionMeters,a=new Set(s.nodeIds),l=e.components.flatMap(d=>d.forces(e));let c=Et(0);for(const d of l){if(!a.has(d.nodeId))continue;const f=mi(e,d.nodeId).positionMeters,y=f.x-t.x,g=f.y-t.y;c=Nt(c,Nt(ze(d.fy,y),ze(d.fx,-g))),d.mz&&(c=Nt(c,d.mz))}return c},AT=s=>{const e=s.system,t=fi(e,s.aboutNodeId).positionMeters,a=new Set(s.nodeIds),l=e.components.flatMap(y=>y.forces(e));let c=Et(0),d=Et(0),f=Et(0);for(const y of l){if(!a.has(y.nodeId))continue;const g=fi(e,y.nodeId).positionMeters,N=g.x-t.x,w=g.y-t.y,I=g.z-t.z;c=Nt(c,Nt(ze(y.fz,w),ze(y.fy,-I))),d=Nt(d,Nt(ze(y.fx,I),ze(y.fz,-N))),f=Nt(f,Nt(ze(y.fy,N),ze(y.fx,-w))),y.mx&&(c=Nt(c,y.mx)),y.my&&(d=Nt(d,y.my)),y.mz&&(f=Nt(f,y.mz))}return{mx:c,my:d,mz:f}},CT=s=>{if(s.forceUnit.type!=="Force")throw new Error(`Expected Force unit for stiffness forceUnit, received ${s.forceUnit.type}.`);if(s.lengthUnit.type!=="Length")throw new Error(`Expected Length unit for stiffness lengthUnit, received ${s.lengthUnit.type}.`);return ux(s.value,"k.value"),mt(s.value,[s.forceUnit],[s.lengthUnit])};class pO{constructor(e){if(this.id=e.id,this.startNodeId=e.startNodeId,this.endNodeId=e.endNodeId,this.stiffness=e.stiffness,this.forceVariable={id:e.forceVariableId??`${e.id}.F`,label:`${e.id} force`},e.naturalLength){if(e.naturalLength.unit.type!=="Length")throw new Error(`Expected Length unit for naturalLength, received ${e.naturalLength.unit.type}.`);this.naturalLength={kind:"known",valueMeters:mt(e.naturalLength.value,[e.naturalLength.unit],[])}}else this.naturalLength={kind:"unknown",variable:{id:e.naturalLengthVariableId??`${e.id}.l0`,label:`${e.id} natural length`}}}variables(){return[this.forceVariable,...this.naturalLength.kind==="unknown"?[this.naturalLength.variable]:[]]}equations(e){const t=mi(e,this.startNodeId).positionMeters,a=mi(e,this.endNodeId).positionMeters,l=Ia(t,a),c=Pl(l);if(!Number.isFinite(c)||c===0)throw new Error("Spring endpoints must not coincide.");const d=CT(this.stiffness);let f=Nt(qt(this.forceVariable,1),Et(-d*c));return this.naturalLength.kind==="known"?f=Nt(f,Et(d*this.naturalLength.valueMeters)):f=Nt(f,qt(this.naturalLength.variable,d)),[{expr:f,label:`${this.id}: Hooke's law`}]}forces(e){const t=mi(e,this.startNodeId).positionMeters,a=mi(e,this.endNodeId).positionMeters,l=No(Ia(t,a)),c=qt(this.forceVariable,1);return[{nodeId:this.startNodeId,fx:ze(c,l.x),fy:ze(c,l.y),label:`${this.id} @ ${this.startNodeId}`},{nodeId:this.endNodeId,fx:ze(c,-l.x),fy:ze(c,-l.y),label:`${this.id} @ ${this.endNodeId}`}]}}class yO{constructor(e){this.id=e.id,this.startNodeId=e.startNodeId,this.pulleyNodeId=e.pulleyNodeId,this.endNodeId=e.endNodeId,this.tensionVariable={id:e.tensionVariableId??`${e.id}.T`,label:`${e.id} tension`}}variables(){return[this.tensionVariable]}equations(e){return[]}forces(e){const t=mi(e,this.startNodeId).positionMeters,a=mi(e,this.pulleyNodeId).positionMeters,l=mi(e,this.endNodeId).positionMeters,c=No(Ia(t,a)),d=No(Ia(l,a)),f=qt(this.tensionVariable,1);return[{nodeId:this.startNodeId,fx:ze(f,c.x),fy:ze(f,c.y),label:`${this.id} @ ${this.startNodeId}`},{nodeId:this.endNodeId,fx:ze(f,d.x),fy:ze(f,d.y),label:`${this.id} @ ${this.endNodeId}`},{nodeId:this.pulleyNodeId,fx:Nt(ze(f,-c.x),ze(f,-d.x)),fy:Nt(ze(f,-c.y),ze(f,-d.y)),label:`${this.id} @ ${this.pulleyNodeId}`}]}}class xO{constructor(e){this.id=e.id,this.startNodeId=e.startNodeId,this.endNodeId=e.endNodeId,this.tensionVariable={id:e.tensionVariableId??`${e.id}.T`,label:`${e.id} tension`}}variables(){return[this.tensionVariable]}equations(e){return[]}forces(e){const t=mi(e,this.startNodeId).positionMeters,a=mi(e,this.endNodeId).positionMeters,l=No(Ia(t,a)),c=qt(this.tensionVariable,1);return[{nodeId:this.startNodeId,fx:ze(c,l.x),fy:ze(c,l.y),label:`${this.id} @ ${this.startNodeId}`},{nodeId:this.endNodeId,fx:ze(c,-l.x),fy:ze(c,-l.y),label:`${this.id} @ ${this.endNodeId}`}]}}class bO{constructor(e){if(this.id=e.id,this.nodeIds=[...e.nodeIds],this.nodeIds.length<2)throw new Error("SolidShape2D must contain at least 2 nodes.");const t=new Set;for(const a of this.nodeIds){if(t.has(a))throw new Error(`SolidShape2D nodeIds must be unique (duplicate "${a}").`);t.add(a)}if(this.aboutNodeId=e.aboutNodeId??this.nodeIds[0],!this.nodeIds.includes(this.aboutNodeId))throw new Error(`SolidShape2D aboutNodeId "${this.aboutNodeId}" must be included in nodeIds.`)}variables(){return[]}equations(e){const t=e.components.flatMap(y=>y===this?[]:y.forces(e)),a=new Set(this.nodeIds),l=t.filter(y=>a.has(y.nodeId)),c=l.reduce((y,g)=>Nt(y,g.fx),Et(0)),d=l.reduce((y,g)=>Nt(y,g.fy),Et(0)),f=ST({system:e,aboutNodeId:this.aboutNodeId,nodeIds:this.nodeIds});return[{expr:c,label:`${this.id}: Î£Fx = 0`},{expr:d,label:`${this.id}: Î£Fy = 0`},{expr:f,label:`${this.id} about ${this.aboutNodeId}: Î£Mz = 0`}]}forces(e){return[]}}class vO{constructor(e){if(this.id=e.id,this.startNodeId=e.startNodeId,this.endNodeId=e.endNodeId,this.stiffness=e.stiffness,this.forceVariable={id:e.forceVariableId??`${e.id}.F`,label:`${e.id} force`},e.naturalLength){if(e.naturalLength.unit.type!=="Length")throw new Error(`Expected Length unit for naturalLength, received ${e.naturalLength.unit.type}.`);this.naturalLength={kind:"known",valueMeters:mt(e.naturalLength.value,[e.naturalLength.unit],[])}}else this.naturalLength={kind:"unknown",variable:{id:e.naturalLengthVariableId??`${e.id}.l0`,label:`${e.id} natural length`}}}variables(){return[this.forceVariable,...this.naturalLength.kind==="unknown"?[this.naturalLength.variable]:[]]}equations(e){const t=fi(e,this.startNodeId).positionMeters,a=fi(e,this.endNodeId).positionMeters,l=wr(t,a),c=Jn(l);if(!Number.isFinite(c)||c===0)throw new Error("Spring endpoints must not coincide.");const d=CT(this.stiffness);let f=Nt(qt(this.forceVariable,1),Et(-d*c));return this.naturalLength.kind==="known"?f=Nt(f,Et(d*this.naturalLength.valueMeters)):f=Nt(f,qt(this.naturalLength.variable,d)),[{expr:f,label:`${this.id}: Hooke's law`}]}forces(e){const t=fi(e,this.startNodeId).positionMeters,a=fi(e,this.endNodeId).positionMeters,l=jo(wr(t,a)),c=qt(this.forceVariable,1);return[{nodeId:this.startNodeId,fx:ze(c,l.x),fy:ze(c,l.y),fz:ze(c,l.z),label:`${this.id} @ ${this.startNodeId}`},{nodeId:this.endNodeId,fx:ze(c,-l.x),fy:ze(c,-l.y),fz:ze(c,-l.z),label:`${this.id} @ ${this.endNodeId}`}]}}class NO{constructor(e){this.id=e.id,this.startNodeId=e.startNodeId,this.endNodeId=e.endNodeId,this.tensionVariable={id:e.tensionVariableId??`${e.id}.T`,label:`${e.id} tension`}}variables(){return[this.tensionVariable]}equations(e){return[]}forces(e){const t=fi(e,this.startNodeId).positionMeters,a=fi(e,this.endNodeId).positionMeters,l=jo(wr(t,a)),c=qt(this.tensionVariable,1);return[{nodeId:this.startNodeId,fx:ze(c,l.x),fy:ze(c,l.y),fz:ze(c,l.z),label:`${this.id} @ ${this.startNodeId}`},{nodeId:this.endNodeId,fx:ze(c,-l.x),fy:ze(c,-l.y),fz:ze(c,-l.z),label:`${this.id} @ ${this.endNodeId}`}]}}class jO{constructor(e){if(this.id=e.id,this.nodeIds=[...e.nodeIds],this.nodeIds.length<2)throw new Error("SolidShape3D must contain at least 2 nodes.");const t=new Set;for(const a of this.nodeIds){if(t.has(a))throw new Error(`SolidShape3D nodeIds must be unique (duplicate "${a}").`);t.add(a)}if(this.aboutNodeId=e.aboutNodeId??this.nodeIds[0],!this.nodeIds.includes(this.aboutNodeId))throw new Error(`SolidShape3D aboutNodeId "${this.aboutNodeId}" must be included in nodeIds.`)}variables(){return[]}equations(e){const t=e.components.flatMap(g=>g===this?[]:g.forces(e)),a=new Set(this.nodeIds),l=t.filter(g=>a.has(g.nodeId)),c=l.reduce((g,N)=>Nt(g,N.fx),Et(0)),d=l.reduce((g,N)=>Nt(g,N.fy),Et(0)),f=l.reduce((g,N)=>Nt(g,N.fz),Et(0)),y=AT({system:e,aboutNodeId:this.aboutNodeId,nodeIds:this.nodeIds});return[{expr:c,label:`${this.id}: Î£Fx = 0`},{expr:d,label:`${this.id}: Î£Fy = 0`},{expr:f,label:`${this.id}: Î£Fz = 0`},{expr:y.mx,label:`${this.id} about ${this.aboutNodeId}: Î£Mx = 0`},{expr:y.my,label:`${this.id} about ${this.aboutNodeId}: Î£My = 0`},{expr:y.mz,label:`${this.id} about ${this.aboutNodeId}: Î£Mz = 0`}]}forces(e){return[]}}class wO{constructor(e){this.id=e.id,this.startNodeId=e.startNodeId,this.pulleyNodeId=e.pulleyNodeId,this.endNodeId=e.endNodeId,this.tensionVariable={id:e.tensionVariableId??`${e.id}.T`,label:`${e.id} tension`}}variables(){return[this.tensionVariable]}equations(e){return[]}forces(e){const t=fi(e,this.startNodeId).positionMeters,a=fi(e,this.pulleyNodeId).positionMeters,l=fi(e,this.endNodeId).positionMeters,c=jo(wr(t,a)),d=jo(wr(l,a)),f=qt(this.tensionVariable,1);return[{nodeId:this.startNodeId,fx:ze(f,c.x),fy:ze(f,c.y),fz:ze(f,c.z),label:`${this.id} @ ${this.startNodeId}`},{nodeId:this.endNodeId,fx:ze(f,d.x),fy:ze(f,d.y),fz:ze(f,d.z),label:`${this.id} @ ${this.endNodeId}`},{nodeId:this.pulleyNodeId,fx:Nt(ze(f,-c.x),ze(f,-d.x)),fy:Nt(ze(f,-c.y),ze(f,-d.y)),fz:Nt(ze(f,-c.z),ze(f,-d.z)),label:`${this.id} @ ${this.pulleyNodeId}`}]}}class _O{constructor(e){this.id=e.id,this.nodeId=e.nodeId,this.normal=jo(e.normal),this.normalForceVariable={id:e.normalForceVariableId??`${e.id}.N`,label:`${e.id} normal`}}variables(){return[this.normalForceVariable]}equations(e){return[]}forces(e){const t=qt(this.normalForceVariable,1);return[{nodeId:this.nodeId,fx:ze(t,this.normal.x),fy:ze(t,this.normal.y),fz:ze(t,this.normal.z),label:`${this.id} @ ${this.nodeId}`}]}}class RT{constructor(e){if(this.id=e.id,this.nodeId=e.nodeId,e.mass.unit.type!=="Mass")throw new Error(`Expected Mass unit for weight mass, received ${e.mass.unit.type}.`);this.mass=e.mass,this.gravity=e.gravity??sx,ux(this.gravity,"gravity")}variables(){return[]}equations(e){return[]}forces(e){const t=wT(this.mass,this.gravity);return[{nodeId:this.nodeId,fx:Et(0),fy:Et(0),fz:Et(-t.value),label:`${this.id} @ ${this.nodeId}`}]}}class EO{constructor(e){this.id=e.id,this.nodeId=e.nodeId,this.rxVariable={id:e.rxVariableId??`${e.nodeId}.Rx`,label:`${e.nodeId} reaction x`},this.ryVariable={id:e.ryVariableId??`${e.nodeId}.Ry`,label:`${e.nodeId} reaction y`},this.rzVariable={id:e.rzVariableId??`${e.nodeId}.Rz`,label:`${e.nodeId} reaction z`}}variables(){return[this.rxVariable,this.ryVariable,this.rzVariable]}equations(e){return[]}forces(e){return[{nodeId:this.nodeId,fx:qt(this.rxVariable,1),fy:qt(this.ryVariable,1),fz:qt(this.rzVariable,1),label:`${this.id} @ ${this.nodeId}`}]}}class TO{constructor(e){this.id=e.id,this.nodeId=e.nodeId,this.rxVariable={id:e.rxVariableId??`${e.nodeId}.Rx`,label:`${e.nodeId} reaction x`},this.ryVariable={id:e.ryVariableId??`${e.nodeId}.Ry`,label:`${e.nodeId} reaction y`},this.rzVariable={id:e.rzVariableId??`${e.nodeId}.Rz`,label:`${e.nodeId} reaction z`},this.mxVariable={id:e.mxVariableId??`${e.nodeId}.Mx`,label:`${e.nodeId} reaction moment x`},this.myVariable={id:e.myVariableId??`${e.nodeId}.My`,label:`${e.nodeId} reaction moment y`},this.mzVariable={id:e.mzVariableId??`${e.nodeId}.Mz`,label:`${e.nodeId} reaction moment z`}}variables(){return[this.rxVariable,this.ryVariable,this.rzVariable,this.mxVariable,this.myVariable,this.mzVariable]}equations(e){return[]}forces(e){return[{nodeId:this.nodeId,fx:qt(this.rxVariable,1),fy:qt(this.ryVariable,1),fz:qt(this.rzVariable,1),mx:qt(this.mxVariable,1),my:qt(this.myVariable,1),mz:qt(this.mzVariable,1),label:`${this.id} @ ${this.nodeId}`}]}}class IO{constructor(e){this.id=e.id,this.nodeId=e.nodeId,this.axis=e.axis??"y";const t=this.axis.toUpperCase();this.reactionVariable={id:e.reactionVariableId??`${e.nodeId}.R${t}`,label:`${e.nodeId} reaction ${this.axis}`}}variables(){return[this.reactionVariable]}equations(e){return[]}forces(e){const t=qt(this.reactionVariable,1);return[{nodeId:this.nodeId,fx:this.axis==="x"?t:Et(0),fy:this.axis==="y"?t:Et(0),fz:this.axis==="z"?t:Et(0),label:`${this.id} @ ${this.nodeId}`}]}}class SO{constructor(e){this.id=e.id,this.nodeId=e.nodeId,this.rxVariable={id:e.rxVariableId??`${e.nodeId}.Rx`,label:`${e.nodeId} reaction x`},this.ryVariable={id:e.ryVariableId??`${e.nodeId}.Ry`,label:`${e.nodeId} reaction y`}}variables(){return[this.rxVariable,this.ryVariable]}equations(e){return[]}forces(e){return[{nodeId:this.nodeId,fx:qt(this.rxVariable,1),fy:qt(this.ryVariable,1),label:`${this.id} @ ${this.nodeId}`}]}}class AO{constructor(e){this.id=e.id,this.nodeId=e.nodeId,this.rxVariable={id:e.rxVariableId??`${e.nodeId}.Rx`,label:`${e.nodeId} reaction x`},this.ryVariable={id:e.ryVariableId??`${e.nodeId}.Ry`,label:`${e.nodeId} reaction y`},this.mzVariable={id:e.mzVariableId??`${e.nodeId}.Mz`,label:`${e.nodeId} reaction moment z`}}variables(){return[this.rxVariable,this.ryVariable,this.mzVariable]}equations(e){return[]}forces(e){return[{nodeId:this.nodeId,fx:qt(this.rxVariable,1),fy:qt(this.ryVariable,1),mz:qt(this.mzVariable,1),label:`${this.id} @ ${this.nodeId}`}]}}class CO{constructor(e){this.id=e.id,this.nodeId=e.nodeId,this.ryVariable={id:e.ryVariableId??`${e.nodeId}.Ry`,label:`${e.nodeId} reaction y`}}variables(){return[this.ryVariable]}equations(e){return[]}forces(e){return[{nodeId:this.nodeId,fx:Et(0),fy:qt(this.ryVariable,1),label:`${this.id} @ ${this.nodeId}`}]}}class RO{constructor(e){this.id=e.id,this.nodeId=e.nodeId,this.normal=No(e.normal),this.normalForceVariable={id:e.normalForceVariableId??`${e.id}.N`,label:`${e.id} normal`}}variables(){return[this.normalForceVariable]}equations(e){return[]}forces(e){const t=qt(this.normalForceVariable,1);return[{nodeId:this.nodeId,fx:ze(t,this.normal.x),fy:ze(t,this.normal.y),label:`${this.id} @ ${this.nodeId}`}]}}class Zj{constructor(e){if(this.id=e.id,this.nodeId=e.nodeId,e.force.x.unit.type!=="Force"||e.force.y.unit.type!=="Force")throw new Error("AppliedForce2D components must use Force units for x and y.");const t=mt(e.force.x.value,[e.force.x.unit],[]),a=mt(e.force.y.value,[e.force.y.unit],[]);this.forceNewtons={x:t,y:a}}variables(){return[]}equations(e){return[]}forces(e){return[{nodeId:this.nodeId,fx:Et(this.forceNewtons.x),fy:Et(this.forceNewtons.y),label:`${this.id} @ ${this.nodeId}`}]}}class $p{constructor(e){if(this.id=e.id,this.nodeId=e.nodeId,e.force.x.unit.type!=="Force"||e.force.y.unit.type!=="Force"||e.force.z.unit.type!=="Force")throw new Error("AppliedForce3D components must use Force units for x, y, and z.");const t=mt(e.force.x.value,[e.force.x.unit],[]),a=mt(e.force.y.value,[e.force.y.unit],[]),l=mt(e.force.z.value,[e.force.z.unit],[]);this.forceNewtons={x:t,y:a,z:l}}variables(){return[]}equations(e){return[]}forces(e){return[{nodeId:this.nodeId,fx:Et(this.forceNewtons.x),fy:Et(this.forceNewtons.y),fz:Et(this.forceNewtons.z),label:`${this.id} @ ${this.nodeId}`}]}}class MO{constructor(e){if(this.id=e.id,this.nodeId=e.nodeId,e.mass.unit.type!=="Mass")throw new Error(`Expected Mass unit for weight mass, received ${e.mass.unit.type}.`);this.mass=e.mass,this.gravity=e.gravity??sx,ux(this.gravity,"gravity")}variables(){return[]}equations(e){return[]}forces(e){const t=wT(this.mass,this.gravity);return[{nodeId:this.nodeId,fx:Et(0),fy:Et(-t.value),label:`${this.id} @ ${this.nodeId}`}]}}const DO=(s,e)=>{const t=s.components.flatMap(l=>l.forces(s)),a=[];for(const l of e){const c=t.filter(y=>y.nodeId===l),d=c.reduce((y,g)=>Nt(y,g.fx),Et(0)),f=c.reduce((y,g)=>Nt(y,g.fy),Et(0));a.push({expr:d,label:`${l}: Î£Fx = 0`}),a.push({expr:f,label:`${l}: Î£Fy = 0`})}return a},kO=(s,e)=>{const t=s.components.flatMap(l=>l.forces(s)),a=[];for(const l of e){const c=t.filter(g=>g.nodeId===l),d=c.reduce((g,N)=>Nt(g,N.fx),Et(0)),f=c.reduce((g,N)=>Nt(g,N.fy),Et(0)),y=c.reduce((g,N)=>Nt(g,N.fz),Et(0));a.push({expr:d,label:`${l}: Î£Fx = 0`}),a.push({expr:f,label:`${l}: Î£Fy = 0`}),a.push({expr:y,label:`${l}: Î£Fz = 0`})}return a},MT=(s,e)=>{const t=s.components.flatMap(a=>a.equations(s));return[...DO(s,e),...t]},DT=(s,e)=>{const t=s.components.flatMap(a=>a.equations(s));return[...kO(s,e),...t]},PO=s=>{const e=s.components.flatMap(l=>l.variables()),t=new Set,a=[];for(const l of e)t.has(l.id)||(t.add(l.id),a.push(l));return a},OO=s=>{const e=s.components.flatMap(l=>l.variables()),t=new Set,a=[];for(const l of e)t.has(l.id)||(t.add(l.id),a.push(l));return a},kT=s=>{const e=s.equations,t=s.variableIds,a=t.length;if(a===0)return{};const l=e.length;if(l<a)throw new Error(`Underdetermined system: ${l} equations for ${a} variables.`);const c=Array.from({length:l},()=>Array.from({length:a},()=>0)),d=Array.from({length:l},()=>0);for(let M=0;M<l;M++){const G=e[M].expr;d[M]=-G.constant;for(let W=0;W<a;W++){const $=t[W];c[M][W]=G.terms[$]??0}}const f=1e-12;let y=0;const g=[];for(let M=0;M<a&&y<l;M++){let G=y,W=Math.abs(c[y][M]);for(let X=y+1;X<l;X++){const ie=Math.abs(c[X][M]);ie>W&&(W=ie,G=X)}if(W<f)continue;G!==y&&([c[G],c[y]]=[c[y],c[G]],[d[G],d[y]]=[d[y],d[G]]);const $=c[y][M];for(let X=M;X<a;X++)c[y][X]/=$;d[y]/=$;for(let X=y+1;X<l;X++){const ie=c[X][M];if(!(Math.abs(ie)<f)){for(let ne=M;ne<a;ne++)c[X][ne]-=ie*c[y][ne];d[X]-=ie*d[y]}}g[y]=M,y++}const N=y;if(N<a)throw new Error("System does not have a unique solution (rank deficient).");const w=Array.from({length:a},()=>0);for(let M=N-1;M>=0;M--){const G=g[M];let W=d[M];for(let $=G+1;$<a;$++)W-=c[M][$]*w[$];w[G]=W}const I={};for(let M=0;M<a;M++)I[t[M]]=w[M];for(const M of e){const G=IT(M.expr,I),W=1+Math.abs(M.expr.constant)+Object.values(M.expr.terms).reduce(($,X)=>$+Math.abs(X),0);if(Math.abs(G)>1e-4*W)throw new Error(`Inconsistent solution; residual too large for equation "${M.label??"unnamed"}".`)}return I},LO=s=>{const e=MT(s.system,s.equilibriumNodeIds),t=PO(s.system),a=s.variableIds??t.map(c=>c.id);return{variables:kT({equations:e,variableIds:a}),equations:e}},VO=s=>{const e=DT(s.system,s.equilibriumNodeIds),t=OO(s.system),a=s.variableIds??t.map(c=>c.id);return{variables:kT({equations:e,variableIds:a}),equations:e}},nu=[{label:"N",unit:Te},{label:"kN",unit:ox},{label:"lb",unit:ui}],du=s=>nu.find(e=>e.label===s)?.unit??Te,xl=[{label:"m",unit:Je},{label:"ft",unit:Ws}],Il=s=>xl.find(e=>e.label===s)?.unit??Je,PT=[{label:"kg",unit:Gu},{label:"g",unit:ix},{label:"Mg",unit:rx},{label:"mg",unit:ax},{label:"slug",unit:lx}],UO=s=>PT.find(e=>e.label===s)?.unit??Gu,hu=640,ln=40,ew={x:hu/2,y:hu/2},zO=(s,e,t)=>Math.max(e,Math.min(t,s)),tw=(s,e)=>s.x*e.x+s.y*e.y+s.z*e.z,nw=(s,e)=>({x:s.y*e.z-s.z*e.y,y:s.z*e.x-s.x*e.z,z:s.x*e.y-s.y*e.x}),ap=s=>{const e=Math.hypot(s.x,s.y,s.z);return!Number.isFinite(e)||e<=0?{x:0,y:0,z:0}:{x:s.x/e,y:s.y/e,z:s.z/e}},FO=(s,e,t)=>{const a={x:0,y:0,z:1},l=Math.cos(t),c=Math.sin(t),d=Math.cos(e),f=Math.sin(e),y=ap({x:l*d,y:l*f,z:c}),g=ap(nw(y,a)),N=ap(nw(g,y));return{x:ew.x+tw(s,g),y:ew.y-tw(s,N)}},as=s=>Number.isFinite(s)?s===0?"0":Number(s.toPrecision(6)).toString():"â€”",qO="iÌ‚",BO="jÌ‚",$O="kÌ‚",op=(s,e,t)=>Number.isFinite(s)?`${s<0?"-":t?"":"+"} ${as(Math.abs(s))} ${e}`.trim():`${t?"":"+"} â€” ${e}`.trim(),Hs=(s,e)=>`(${[op(s.x,qO,!0),op(s.y,BO,!1),op(s.z,$O,!1)].join(" ")})${e?` ${e}`:""}`,gs=s=>{const e=s.trim();if(e==="")return null;const t=Number(e);return Number.isFinite(t)?t:null},HO=s=>/^[A-Za-z][A-Za-z0-9_]*$/.test(s),GO=(s,e)=>{const t=s.map(c=>{const d=Il(c.unitLabel),f=gs(c.xText)??0,y=gs(c.yText)??0,g=gs(c.zText)??0;return{id:c.id,positionMeters:{x:mt(f,[d],[]),y:mt(y,[d],[]),z:mt(g,[d],[])}}}),a=new Map(t.map(c=>[c.id,c.positionMeters])),l=[...s.filter(c=>c.support!=="none").map(c=>c.support==="pinned"?new EO({id:`pin.${c.id}`,nodeId:c.id}):c.support==="rollerY"?new IO({id:`rol.${c.id}`,nodeId:c.id,axis:"y"}):new TO({id:`fix.${c.id}`,nodeId:c.id})),...e.map(c=>{if(c.type==="solidShape")return new jO({id:c.id,nodeIds:c.nodeIds,aboutNodeId:c.aboutNodeId});if(c.type==="spring"){const w={value:gs(c.kText)??0,forceUnit:du(c.kForceUnitLabel),lengthUnit:Il(c.kLengthUnitLabel)},I=gs(c.l0Text),M=Il(c.l0UnitLabel);return new vO({id:c.id,startNodeId:c.startNodeId,endNodeId:c.endNodeId,stiffness:w,naturalLength:I==null?void 0:new We(I,M)})}if(c.type==="cablePulley")return new wO({id:c.id,startNodeId:c.startNodeId,pulleyNodeId:c.pulleyNodeId,endNodeId:c.endNodeId});if(c.type==="cable")return new NO({id:c.id,startNodeId:c.startNodeId,endNodeId:c.endNodeId});if(c.type==="smoothContact"){const N=gs(c.thetaText)??0,w=gs(c.phiText)??0,I=N*Math.PI/180,M=w*Math.PI/180,G=Math.cos(M),W={x:G*Math.cos(I),y:G*Math.sin(I),z:Math.sin(M)};return new _O({id:c.id,nodeId:c.nodeId,normal:W})}if(c.type==="weight"){const N=gs(c.massText)??0,w=gs(c.gravityText);return new RT({id:c.id,nodeId:c.nodeId,mass:new We(N,UO(c.massUnitLabel)),gravity:w??void 0})}const d=du(c.unitLabel);if(c.entryMode==="toNode"){const N=a.get(c.nodeId),w=a.get(c.toNodeId);if(!N)throw new Error(`Unknown node "${c.nodeId}".`);if(!w)throw new Error(`Unknown node "${c.toNodeId}".`);const I=gs(c.magnitudeText)??0,M=jo(wr(N,w)),G=I*M.x,W=I*M.y,$=I*M.z;return new $p({id:c.id,nodeId:c.nodeId,force:{x:new We(G,d),y:new We(W,d),z:new We($,d)}})}const f=gs(c.fxText)??0,y=gs(c.fyText)??0,g=gs(c.fzText)??0;return new $p({id:c.id,nodeId:c.nodeId,force:{x:new We(f,d),y:new We(y,d),z:new We(g,d)}})})];return{nodes:t,components:l}};function WO(){const[s,e]=D.useState([{id:"A",idText:"A",xText:"0",yText:"0",zText:"0",unitLabel:"ft",includeInEquilibrium:!0,support:"none"},{id:"B",idText:"B",xText:"-3",yText:"-4",zText:"8",unitLabel:"ft",includeInEquilibrium:!0,support:"pinned"},{id:"C",idText:"C",xText:"-3",yText:"4",zText:"8",unitLabel:"ft",includeInEquilibrium:!0,support:"pinned"},{id:"D",idText:"D",xText:"1",yText:"0",zText:"0",unitLabel:"ft",includeInEquilibrium:!0,support:"pinned"}]),[t,a]=D.useState([{id:"W",type:"appliedForce",nodeId:"A",entryMode:"components",toNodeId:"B",magnitudeText:"40",fxText:"0",fyText:"0",fzText:"-40",unitLabel:"lb"},{id:"AB",type:"cable",startNodeId:"A",endNodeId:"B"},{id:"AC",type:"cable",startNodeId:"A",endNodeId:"C"},{id:"AD",type:"cable",startNodeId:"A",endNodeId:"D"}]),[l,c]=D.useState("lb"),[d,f]=D.useState("ft"),[y,g]=D.useState(()=>s.find(b=>b.id==="O")?.id??s[0]?.id??"A"),[N,w]=D.useState("loads"),[I,M]=D.useState(null),[G,W]=D.useState(null),[$,X]=D.useState([]),[ie,ne]=D.useState(Math.PI/4),[Re,ke]=D.useState(Math.asin(1/Math.sqrt(3))),Me=D.useRef(null),O=-Math.PI/2+.05,C=Math.PI/2-.05,k=.007,z=D.useMemo(()=>b=>FO(b,ie,Re),[Re,ie]),P=D.useMemo(()=>GO(s,t),[s,t]),B=D.useMemo(()=>{const b=new Set;for(const _ of t)if(_.type==="solidShape")for(const F of _.nodeIds)b.add(F);return b},[t]),E=D.useMemo(()=>{const b=s.filter(U=>U.includeInEquilibrium).map(U=>U.id),_=s.filter(U=>U.support!=="none").map(U=>U.id);return Array.from(new Set([...b,..._])).filter(U=>!B.has(U))},[s,B]),xe=()=>{M(null),W(null);try{const b=DT(P,E);X(b.map(F=>F.label??""));const _=VO({system:P,equilibriumNodeIds:E});W(_.variables)}catch(b){const _=b instanceof Error?b.message:"Failed to solve system.",F=_.includes("Î£Mx")||_.includes("Î£My")||_.includes("Î£Mz")?`

Note: A nonzero torque about an axis (Î£M â‰  0) means the rigid body is not in static equilibrium with the current supports/loads. Double-check which force component you entered (Fx/Fy/Fz) and whether your geometry is intended to be 2D in a plane.`:"";M(`${_}

Hint: Include equilibrium at free nodes. Mark supports (Pinned/Roller/Fixed) to add unknown reactions, or uncheck â€œInclude in equilibriumâ€ for nodes you donâ€™t want to solve. If you add a SolidShape, it enforces rigid-body equilibrium, and its nodes are excluded from node-level equilibrium.${F}`)}},pe=(b,_)=>{e(F=>F.map(U=>U.id===b?{...U,..._}:U))},H=b=>{const _=s.find(U=>U.id===b);if(!_)return;const F=_.idText.trim();if(F!==b){if(!HO(F)){M("Invalid node id. Use letters/numbers/underscore and start with a letter (e.g. A, N3, node_1).");return}if(s.some(U=>U.id!==b&&U.id===F)){M(`Duplicate node id "${F}". Node ids must be unique.`);return}e(U=>U.map(K=>K.id===b?{...K,id:F,idText:F}:K)),a(U=>U.map(K=>{if(K.type==="solidShape"){const je=K.nodeIds.map(he=>he===b?F:he),ve=K.aboutNodeId===b?F:K.aboutNodeId;return{...K,nodeIds:je,aboutNodeId:ve}}return K.type==="spring"?{...K,startNodeId:K.startNodeId===b?F:K.startNodeId,endNodeId:K.endNodeId===b?F:K.endNodeId}:K.type==="cablePulley"?{...K,startNodeId:K.startNodeId===b?F:K.startNodeId,pulleyNodeId:K.pulleyNodeId===b?F:K.pulleyNodeId,endNodeId:K.endNodeId===b?F:K.endNodeId}:K.type==="cable"?{...K,startNodeId:K.startNodeId===b?F:K.startNodeId,endNodeId:K.endNodeId===b?F:K.endNodeId}:K.type==="appliedForce"?{...K,nodeId:K.nodeId===b?F:K.nodeId,toNodeId:K.toNodeId===b?F:K.toNodeId}:{...K,nodeId:K.nodeId===b?F:K.nodeId}})),W(null),X([]),M(null),y===b&&g(F)}},ce=b=>{if(s.length<=1){M("Cannot remove the last node.");return}a(F=>F.flatMap(U=>{if(U.type==="solidShape"){const K=U.nodeIds.filter(ve=>ve!==b);if(K.length<2)return[];const je=K.includes(U.aboutNodeId)?U.aboutNodeId:K[0];return[{...U,nodeIds:K,aboutNodeId:je}]}return U.type==="spring"?U.startNodeId!==b&&U.endNodeId!==b?[U]:[]:U.type==="cablePulley"?U.startNodeId!==b&&U.pulleyNodeId!==b&&U.endNodeId!==b?[U]:[]:U.type==="cable"?U.startNodeId!==b&&U.endNodeId!==b?[U]:[]:U.type==="appliedForce"?U.nodeId===b?[]:U.entryMode==="toNode"&&U.toNodeId===b?[]:[U]:U.nodeId!==b?[U]:[]}));const _=s.filter(F=>F.id!==b);e(_),y===b&&g(_.find(F=>F.id==="O")?.id??_[0]?.id??""),W(null),X([]),M(null)},be=()=>{const b=`N${s.length+1}`;e(_=>[..._,{id:b,idText:b,xText:"1",yText:"0",zText:"0",unitLabel:"m",includeInEquilibrium:!0,support:"none"}])},ae=(b,_)=>{a(F=>F.map(U=>U.id===b?{...U,..._}:U)),W(null),X([])},et=b=>{a(_=>_.filter(F=>F.id!==b)),W(null),X([])},L=()=>{const b=`c${t.filter(U=>U.type==="cable").length+1}`,_=s[0]?.id??"A",F=s[1]?.id??_;a(U=>[...U,{id:b,type:"cable",startNodeId:_,endNodeId:F}])},ue=()=>{const b=`s${t.filter(U=>U.type==="spring").length+1}`,_=s[0]?.id??"A",F=s[1]?.id??_;a(U=>[...U,{id:b,type:"spring",startNodeId:_,endNodeId:F,kText:"300",kForceUnitLabel:"N",kLengthUnitLabel:"m",l0Text:"",l0UnitLabel:"m"}])},_e=()=>{const b=`p${t.filter(K=>K.type==="cablePulley").length+1}`,_=s[0]?.id??"A",F=s[1]?.id??_,U=s[2]?.id??_;a(K=>[...K,{id:b,type:"cablePulley",startNodeId:_,pulleyNodeId:F,endNodeId:U}])},Ie=()=>{const b=`n${t.filter(F=>F.type==="smoothContact").length+1}`,_=s[0]?.id??"A";a(F=>[...F,{id:b,type:"smoothContact",nodeId:_,thetaText:"0",phiText:"90"}])},Fe=()=>{const b=`W${t.filter(F=>F.type==="weight").length+1}`,_=s[0]?.id??"A";a(F=>[...F,{id:b,type:"weight",nodeId:_,massText:"10",massUnitLabel:"kg",gravityText:"9.81"}])},Ge=()=>{const b=`F${t.filter(U=>U.type==="appliedForce").length+1}`,_=s[0]?.id??"A",F=s.find(U=>U.id!==_)?.id??_;a(U=>[...U,{id:b,type:"appliedForce",nodeId:_,entryMode:"components",toNodeId:F,magnitudeText:"10",fxText:"0",fyText:"0",fzText:"0",unitLabel:"N"}])},A=()=>{if(s.length<2){M("Add at least two nodes before adding a solid shape.");return}const b=`S${t.filter(U=>U.type==="solidShape").length+1}`,_=s[0]?.id??"A",F=s[1]?.id??"B";a(U=>[...U,{id:b,type:"solidShape",nodeIds:[_,F],aboutNodeId:_}])},R=D.useMemo(()=>G?P.components.flatMap(_=>_.forces(P)).map(_=>{const F=U=>Object.entries(U.terms).reduce((K,[je,ve])=>K+ve*(G[je]??0),U.constant);return{..._,fxN:F(_.fx),fyN:F(_.fy),fzN:F(_.fz)}}):[],[G,P]),Q=D.useMemo(()=>{const b=R.map(_=>Math.hypot(_.fxN,_.fyN,_.fzN)).filter(_=>Number.isFinite(_)&&_>0);return b.length?Math.max(...b):1},[R]),de=D.useMemo(()=>{const b=hu/2-80;return Math.min(1,b/Q)},[Q]),we=D.useMemo(()=>{if(!G)return[];const b=du(l),_=Il(d);return Object.entries(G).map(([F,U])=>{const K=F.endsWith(".l0"),je=F.endsWith(".Mx")||F.endsWith(".My")||F.endsWith(".Mz"),ve=K?Se(U,[Je],[],[_],[]):je?Se(U,[Te,Je],[],[b,_],[]):Se(U,[Te],[],[b],[]),he=K?_.abbreviation:je?`${b.abbreviation}*${_.abbreviation}`:b.abbreviation;return{id:F,value:ve,unitLabel:he}})},[G,l,d]),Ue=D.useMemo(()=>{const b=P.nodes.find(Pe=>Pe.id===y);if(!b)return{aboutNodeId:y,rows:[],sumText:null};const _=du(l),F=Il(d),U=`${_.abbreviation}*${F.abbreviation}`,K=G??{},je=Pe=>{try{return um(Pe,K)}catch{return null}},ve=P.components.flatMap(Pe=>Pe.forces(P).map(it=>({comp:Pe,f:it}))),he=Pe=>N==="all"?!0:Pe instanceof $p||Pe instanceof RT,st=ve.filter(({comp:Pe})=>he(Pe)).map(({f:Pe},it)=>{const Ct=P.nodes.find(Ni=>Ni.id===Pe.nodeId);if(!Ct)return null;const gn=wr(b.positionMeters,Ct.positionMeters),Jt={x:Se(gn.x,[Je],[],[F],[]),y:Se(gn.y,[Je],[],[F],[]),z:Se(gn.z,[Je],[],[F],[])},tn=je(Pe.fx),Yn=je(Pe.fy),Ke=je(Pe.fz),at=tn!=null&&Yn!=null&&Ke!=null,Pt=Pe.mx?je(Pe.mx):0,Tt=Pe.my?je(Pe.my):0,Ne=Pe.mz?je(Pe.mz):0,Ye=Pe.mx!=null&&Pt==null||Pe.my!=null&&Tt==null||Pe.mz!=null&&Ne==null?null:{x:Pt??0,y:Tt??0,z:Ne??0},Be=at?{x:Se(tn,[Te],[],[_],[]),y:Se(Yn,[Te],[],[_],[]),z:Se(Ke,[Te],[],[_],[])}:null,nn=at?Bp(gn,{x:tn,y:Yn,z:Ke}):null,pn=nn==null?null:{x:Se(nn.x,[Te,Je],[],[_,F],[]),y:Se(nn.y,[Te,Je],[],[_,F],[]),z:Se(nn.z,[Te,Je],[],[_,F],[])},yn=Ye==null?null:{x:Se(Ye.x,[Te,Je],[],[_,F],[]),y:Se(Ye.y,[Te,Je],[],[_,F],[]),z:Se(Ye.z,[Te,Je],[],[_,F],[])},sn=pn==null&&yn==null?null:{x:(pn?.x??0)+(yn?.x??0),y:(pn?.y??0)+(yn?.y??0),z:(pn?.z??0)+(yn?.z??0)},ns=Be==null?"F = â€”":`F = ${Hs(Be,_.abbreviation)}`,Bt=`r_${Ct.id} = ${Hs(Jt,F.abbreviation)}`,Vn=sn==null?"M = â€”":`M = r Ã— F${yn?" + M_couple":""} = ${Hs(sn,U)}`,Kn=sn==null?null:`|M| = ${as(Jn(sn))} ${U}`;let Rt=null;if(at&&nn){const Ni=Jn(gn),un=Math.hypot(tn,Yn,Ke);if(Ni>0&&un>0){const ss=rp(gn,{x:tn,y:Yn,z:Ke})*180/Math.PI,Js=Jn(nn)/un,Ms=Se(Js,[Je],[],[F],[]),Xi=Se(un,[Te],[],[_],[])*Ms;Rt=`Î¸ = ${as(ss)}Â°, d = ${as(Ms)} ${F.abbreviation}, Fd = ${as(Xi)} ${U}`}}const ka=Pe.label??`${Pe.nodeId} force #${it+1}`;return{key:`${Pe.nodeId}-${it}`,label:ka,nodeId:Pe.nodeId,rText:Bt,fText:ns,mText:Vn,magText:Kn,auxText:Rt,mTotalDisp:sn}}).filter(Pe=>Pe!=null),jt=st.reduce((Pe,it)=>it.mTotalDisp==null?Pe:{x:Pe.x+it.mTotalDisp.x,y:Pe.y+it.mTotalDisp.y,z:Pe.z+it.mTotalDisp.z},{x:0,y:0,z:0});return{aboutNodeId:y,rows:st.map(({mTotalDisp:Pe,...it})=>it),sumText:st.some(Pe=>Pe.mTotalDisp==null)?`Î£M = ${Hs(jt,U)} (partial)`:`Î£M = ${Hs(jt,U)}`}},[rp,y,N,G,l,d,P]);return i.jsxs("div",{className:"border border-gray-200 bg-white",children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[i.jsx("div",{className:"text-sm text-gray-700",children:"3D mode renders an isometric preview. +Z is up (weight acts in âˆ’Z)."}),i.jsx("button",{type:"button",onClick:xe,className:"px-3 py-1.5 text-sm bg-gray-900 text-white hover:bg-gray-800 transition-colors",children:"Solve equilibrium"})]}),i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{className:"border border-gray-200 bg-gray-50",children:[i.jsx("div",{className:"px-3 py-2 text-sm text-gray-700 border-b border-gray-200",children:"Preview (drag to rotate): +X is down-right, +Y is down-left, +Z is up."}),i.jsx("div",{className:"p-3",children:i.jsxs("svg",{viewBox:`0 0 ${hu} ${hu}`,className:"w-full h-[420px] select-none bg-white border border-gray-200 cursor-grab active:cursor-grabbing",onPointerDown:b=>{b.currentTarget.setPointerCapture(b.pointerId),Me.current={pointerId:b.pointerId,x:b.clientX,y:b.clientY}},onPointerMove:b=>{if(!Me.current||Me.current.pointerId!==b.pointerId)return;const _=b.clientX-Me.current.x,F=b.clientY-Me.current.y;Me.current={pointerId:b.pointerId,x:b.clientX,y:b.clientY},ne(U=>U+_*k),ke(U=>zO(U-F*k,O,C))},onPointerUp:b=>{Me.current?.pointerId===b.pointerId&&(Me.current=null)},onPointerCancel:b=>{Me.current?.pointerId===b.pointerId&&(Me.current=null)},children:[i.jsx("defs",{children:i.jsx("marker",{id:"arrowhead-static-3d",markerWidth:"10",markerHeight:"10",refX:"8",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:i.jsx("path",{d:"M0,0 L8,3 L0,6 Z",fill:"currentColor"})})}),(()=>{const b=mt(6,[Je],[])*ln,_=z({x:0,y:0,z:0}),F=z({x:b,y:0,z:0}),U=z({x:0,y:b,z:0}),K=z({x:0,y:0,z:b});return i.jsxs("g",{className:"text-gray-400",children:[i.jsx("line",{x1:_.x,y1:_.y,x2:F.x,y2:F.y,stroke:"currentColor",strokeWidth:2}),i.jsx("line",{x1:_.x,y1:_.y,x2:U.x,y2:U.y,stroke:"currentColor",strokeWidth:2}),i.jsx("line",{x1:_.x,y1:_.y,x2:K.x,y2:K.y,stroke:"currentColor",strokeWidth:2}),i.jsx("text",{x:F.x+6,y:F.y,fill:"currentColor",fontSize:12,dominantBaseline:"middle",children:"+X"}),i.jsx("text",{x:U.x-6,y:U.y,fill:"currentColor",fontSize:12,dominantBaseline:"middle",textAnchor:"end",children:"+Y"}),i.jsx("text",{x:K.x,y:K.y-8,fill:"currentColor",fontSize:12,dominantBaseline:"middle",textAnchor:"middle",children:"+Z"}),i.jsx("circle",{cx:_.x,cy:_.y,r:3,fill:"currentColor"})]})})(),i.jsx("g",{className:"text-gray-500",children:t.map(b=>{if(b.type==="spring"||b.type==="cable"){const _=P.nodes.find(je=>je.id===(b.type==="spring",b.startNodeId)),F=P.nodes.find(je=>je.id===(b.type==="spring",b.endNodeId));if(!_||!F)return null;const U=z({x:_.positionMeters.x*ln,y:_.positionMeters.y*ln,z:_.positionMeters.z*ln}),K=z({x:F.positionMeters.x*ln,y:F.positionMeters.y*ln,z:F.positionMeters.z*ln});return i.jsx("line",{x1:U.x,y1:U.y,x2:K.x,y2:K.y,stroke:"currentColor",strokeWidth:3,strokeDasharray:b.type==="spring"?"6 4":void 0},b.id)}if(b.type==="cablePulley"){const _=P.nodes.find(he=>he.id===b.startNodeId),F=P.nodes.find(he=>he.id===b.pulleyNodeId),U=P.nodes.find(he=>he.id===b.endNodeId);if(!_||!F||!U)return null;const K=z({x:_.positionMeters.x*ln,y:_.positionMeters.y*ln,z:_.positionMeters.z*ln}),je=z({x:F.positionMeters.x*ln,y:F.positionMeters.y*ln,z:F.positionMeters.z*ln}),ve=z({x:U.positionMeters.x*ln,y:U.positionMeters.y*ln,z:U.positionMeters.z*ln});return i.jsxs("g",{children:[i.jsx("line",{x1:K.x,y1:K.y,x2:je.x,y2:je.y,stroke:"currentColor",strokeWidth:3}),i.jsx("line",{x1:ve.x,y1:ve.y,x2:je.x,y2:je.y,stroke:"currentColor",strokeWidth:3}),i.jsx("circle",{cx:je.x,cy:je.y,r:7,fill:"none",stroke:"currentColor",strokeWidth:2})]},b.id)}return null})}),G?i.jsx("g",{className:"text-blue-700",children:R.map((b,_)=>{const F=P.nodes.find(he=>he.id===b.nodeId);if(!F)return null;const U={x:F.positionMeters.x*ln,y:F.positionMeters.y*ln,z:F.positionMeters.z*ln},K={x:U.x+b.fxN*de,y:U.y+b.fyN*de,z:U.z+b.fzN*de},je=z(U),ve=z(K);return i.jsx("line",{x1:je.x,y1:je.y,x2:ve.x,y2:ve.y,stroke:"currentColor",strokeWidth:3,markerEnd:"url(#arrowhead-static-3d)"},`${b.nodeId}-${_}`)})}):null,i.jsx("g",{className:"text-gray-800",children:P.nodes.map(b=>{const _=z({x:b.positionMeters.x*ln,y:b.positionMeters.y*ln,z:b.positionMeters.z*ln});return i.jsxs("g",{children:[i.jsx("circle",{cx:_.x,cy:_.y,r:6,fill:"currentColor"}),i.jsx("text",{x:_.x+10,y:_.y-10,fill:"currentColor",fontSize:12,children:b.id})]},b.id)})})]})})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("button",{type:"button",onClick:be,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add node"}),i.jsx("button",{type:"button",onClick:A,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add solid shape"}),i.jsx("button",{type:"button",onClick:L,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add cable"}),i.jsx("button",{type:"button",onClick:ue,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add spring"}),i.jsx("button",{type:"button",onClick:_e,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add cable/pulley"}),i.jsx("button",{type:"button",onClick:Ie,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add contact"}),i.jsx("button",{type:"button",onClick:Fe,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add weight"}),i.jsx("button",{type:"button",onClick:Ge,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add force"})]}),I?i.jsx("div",{className:"border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-800 whitespace-pre-wrap",children:I}):null,i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_1fr] gap-6",children:[i.jsxs("section",{className:"space-y-3",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Nodes"}),i.jsx("div",{className:"space-y-2",children:s.map(b=>i.jsxs("div",{className:"border border-gray-200 p-3 space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.id}),i.jsx("input",{className:"w-28 border border-gray-300 px-2 py-1 text-xs",value:b.idText,onChange:_=>pe(b.id,{idText:_.target.value})}),i.jsx("button",{type:"button",onClick:()=>H(b.id),className:"px-2 py-1 text-xs border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Rename"}),i.jsx("button",{type:"button",onClick:()=>ce(b.id),className:"px-2 py-1 text-xs border border-gray-300 text-gray-700 hover:border-gray-500 hover:text-gray-900 transition-colors",children:"Remove"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsxs("label",{className:"text-xs text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Support"}),i.jsxs("select",{className:"border border-gray-300 bg-white px-2 py-1 text-xs",value:b.support,onChange:_=>{const F=_.target.value;pe(b.id,{support:F,includeInEquilibrium:F!=="none"?!0:b.includeInEquilibrium})},children:[i.jsx("option",{value:"none",children:"None"}),i.jsx("option",{value:"pinned",children:"Pinned (Rx,Ry,Rz)"}),i.jsx("option",{value:"rollerY",children:"Roller (Ry)"}),i.jsx("option",{value:"fixed",children:"Fixed (Rx,Ry,Rz,Mx,My,Mz)"})]})]}),i.jsxs("label",{className:"text-xs text-gray-700 flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:b.includeInEquilibrium||b.support!=="none",disabled:b.support!=="none",onChange:_=>pe(b.id,{includeInEquilibrium:_.target.checked})}),"Include in equilibrium"]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"x"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.xText,onChange:_=>pe(b.id,{xText:_.target.value}),inputMode:"decimal"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"y"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.yText,onChange:_=>pe(b.id,{yText:_.target.value}),inputMode:"decimal"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"z"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.zText,onChange:_=>pe(b.id,{zText:_.target.value}),inputMode:"decimal"})]})]}),i.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Unit"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:b.unitLabel,onChange:_=>pe(b.id,{unitLabel:_.target.value}),children:xl.map(_=>i.jsx("option",{value:_.label,children:_.label},_.label))})]})]},b.id))})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Components"}),i.jsx("div",{className:"space-y-2",children:t.map(b=>i.jsxs("div",{className:"border border-gray-200 p-3 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[b.id," ",i.jsx("span",{className:"text-gray-500 font-normal",children:b.type==="spring"?"(spring)":b.type==="cablePulley"?"(cable/pulley)":b.type==="solidShape"?"(solid shape)":b.type==="cable"?"(cable)":b.type==="smoothContact"?"(smooth contact)":b.type==="weight"?"(weight)":"(applied force)"})]}),i.jsx("button",{type:"button",onClick:()=>et(b.id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),b.type==="solidShape"?i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-xs text-gray-600",children:"Rigid body equilibrium: Î£Fx = 0, Î£Fy = 0, Î£Fz = 0, Î£Mx = 0, Î£My = 0, Î£Mz = 0 (about the selected â€œabout nodeâ€)."}),b.nodeIds.length<2?i.jsx("div",{className:"text-xs text-red-700",children:"Select at least two nodes."}):null,i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-700 mb-2",children:"Nodes"}),i.jsx("div",{className:"flex flex-wrap gap-3",children:s.map(_=>i.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:b.nodeIds.includes(_.id),onChange:()=>{a(F=>F.map(U=>{if(U.id!==b.id||U.type!=="solidShape")return U;const je=U.nodeIds.includes(_.id)?U.nodeIds.filter(he=>he!==_.id):[...U.nodeIds,_.id],ve=je.includes(U.aboutNodeId)?U.aboutNodeId:je[0]??U.aboutNodeId;return{...U,nodeIds:je,aboutNodeId:ve}}))}}),i.jsx("span",{className:"font-mono",children:_.id})]},_.id))})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"About node"}),i.jsxs("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:b.aboutNodeId,onChange:_=>ae(b.id,{aboutNodeId:_.target.value}),disabled:b.nodeIds.length===0,children:[b.nodeIds.length===0?i.jsx("option",{value:"",children:"(select nodes)"}):null,b.nodeIds.map(_=>i.jsx("option",{value:_,children:_},_))]})]}),(()=>{const _=b.nodeIds.filter(Jt=>s.find(tn=>tn.id===Jt)?.support==="none");if(_.length===0)return i.jsxs("div",{className:"text-xs text-gray-600",children:["Moment preview uses forces applied at non-supported nodes in this shape. Add a load at a free node to see a moment about ",b.aboutNodeId,"."]});const F=du(l),U=Il(d),K=`${F.abbreviation}*${U.abbreviation}`,je=AT({system:P,aboutNodeId:b.aboutNodeId,nodeIds:_}),ve=Jt=>{try{return um(Jt,G??{})}catch{return null}},he=ve(je.mx),st=ve(je.my),jt=ve(je.mz),Pe=Jt=>Se(Jt,[Te,Je],[],[F,U],[]),it=he==null?null:Pe(he),Ct=st==null?null:Pe(st),gn=jt==null?null:Pe(jt);return i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"border border-gray-200 bg-gray-50 p-2 space-y-1",children:[i.jsxs("div",{className:"text-xs text-gray-700",children:["Moment about ",i.jsx("span",{className:"font-mono",children:b.aboutNodeId})," from forces at free shape nodes (",_.join(", "),")"]}),i.jsxs("div",{className:"text-xs text-gray-700 font-mono",children:["Mx = ",it==null?"â€” (solve)":as(it)," ",K]}),i.jsxs("div",{className:"text-xs text-gray-700 font-mono",children:["My = ",Ct==null?"â€” (solve)":as(Ct)," ",K]}),i.jsxs("div",{className:"text-xs text-gray-700 font-mono",children:["Mz = ",gn==null?"â€” (solve)":as(gn)," ",K]}),i.jsx("div",{className:"text-[11px] text-gray-500",children:"Sign uses the right-hand rule about each axis (negative means â€œclockwiseâ€ when looking along +axis)."})]}),i.jsxs("details",{className:"border border-gray-200",children:[i.jsx("summary",{className:"px-2 py-1 text-xs text-gray-800 cursor-pointer select-none",children:"Vector + moment breakdown (r Ã— F)"}),i.jsx("div",{className:"p-2 space-y-3 text-xs",children:(()=>{const Jt=P.nodes.find(Ne=>Ne.id===b.aboutNodeId);if(!Jt)return i.jsxs("div",{className:"text-red-700",children:['Unknown about node "',b.aboutNodeId,'".']});const tn=Jt.positionMeters,Yn=b.nodeIds.map(Ne=>{const Ye=P.nodes.find(yn=>yn.id===Ne);if(!Ye)return null;const Be=wr(tn,Ye.positionMeters),nn={x:Se(Be.x,[Je],[],[U],[]),y:Se(Be.y,[Je],[],[U],[]),z:Se(Be.z,[Je],[],[U],[])},pn=Se(Jn(Be),[Je],[],[U],[]);return{id:Ne,rMeters:Be,rDisp:nn,rMagDisp:pn}}).filter(Ne=>Ne!=null),Ke=new Map(Yn.map(Ne=>[Ne.id,Ne.rMeters])),Pt=P.components.flatMap(Ne=>Ne.forces(P)).filter(Ne=>_.includes(Ne.nodeId)).map((Ne,Ye)=>{const Be=ve(Ne.fx),nn=ve(Ne.fy),pn=ve(Ne.fz),yn=Ne.mx?ve(Ne.mx):null,sn=Ne.my?ve(Ne.my):null,ns=Ne.mz?ve(Ne.mz):null,Bt=Be!=null&&nn!=null&&pn!=null,Vn=yn!=null||sn!=null||ns!=null;if(!Bt&&!Vn)return null;const Kn=Ke.get(Ne.nodeId)??{x:0,y:0,z:0},Rt=Bt?{x:Be,y:nn,z:pn}:null,ka=Rt?{x:Se(Rt.x,[Te],[],[F],[]),y:Se(Rt.y,[Te],[],[F],[]),z:Se(Rt.z,[Te],[],[F],[])}:null,Ni=Rt?Se(Jn(Rt),[Te],[],[F],[]):null,un=Rt?Bp(Kn,Rt):null,ss=un?{x:Se(un.x,[Te,Je],[],[F,U],[]),y:Se(un.y,[Te,Je],[],[F,U],[]),z:Se(un.z,[Te,Je],[],[F,U],[])}:null,Js=Vn?{x:yn==null?0:Se(yn,[Te,Je],[],[F,U],[]),y:sn==null?0:Se(sn,[Te,Je],[],[F,U],[]),z:ns==null?0:Se(ns,[Te,Je],[],[F,U],[])}:null,Ms=ss||Js?{x:(ss?.x??0)+(Js?.x??0),y:(ss?.y??0)+(Js?.y??0),z:(ss?.z??0)+(Js?.z??0)}:null,Ar=Rt&&Jn(Kn)>0&&Jn(Rt)>0?rp(Kn,Rt)*180/Math.PI:null,Xi=Rt&&Jn(Rt)>0&&un?Se(Jn(un)/Jn(Rt),[Je],[],[U],[]):null,Ji=Ne.label??`${Ne.nodeId} force #${Ye+1}`;return{key:`${Ne.nodeId}-${Ye}`,nodeId:Ne.nodeId,label:Ji,F_disp:ka,FmagDisp:Ni,MfromRxF_disp:ss,Mcouple_disp:Js,Mtotal_disp:Ms,thetaDeg:Ar,dDisp:Xi}}).filter(Ne=>Ne!=null),Tt=Pt.reduce((Ne,Ye)=>({x:Ne.x+(Ye.Mtotal_disp?.x??0),y:Ne.y+(Ye.Mtotal_disp?.y??0),z:Ne.z+(Ye.Mtotal_disp?.z??0)}),{x:0,y:0,z:0});return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-xs text-gray-700 font-medium",children:["Position vectors from ",b.aboutNodeId]}),i.jsx("div",{className:"space-y-1",children:Yn.map(Ne=>i.jsxs("div",{className:"text-gray-800",children:[i.jsxs("span",{className:"font-mono",children:["r_",Ne.id," = ",Hs(Ne.rDisp,U.abbreviation)]})," ",i.jsxs("span",{className:"text-gray-500",children:["|r| = ",as(Ne.rMagDisp)," ",U.abbreviation]})]},Ne.id))})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-xs text-gray-700 font-medium",children:["Moments about ",b.aboutNodeId," from forces at free nodes (",_.join(", "),")"]}),Pt.length===0?i.jsx("div",{className:"text-gray-600",children:"No fully-known force vectors yet (solve to evaluate member forces)."}):i.jsxs("div",{className:"space-y-2",children:[Pt.map(Ne=>i.jsxs("div",{className:"border border-gray-200 bg-white p-2 space-y-1",children:[i.jsxs("div",{className:"text-gray-800",children:[i.jsx("span",{className:"font-mono",children:Ne.label})," @ ",i.jsx("span",{className:"font-mono",children:Ne.nodeId})]}),i.jsxs("div",{className:"text-gray-700 font-mono",children:["F ="," ",Ne.F_disp==null?"â€” (solve)":Hs(Ne.F_disp,F.abbreviation)," ",Ne.FmagDisp==null?"":`  |F| = ${as(Ne.FmagDisp)} ${F.abbreviation}`]}),i.jsxs("div",{className:"text-gray-700 font-mono",children:["M = r Ã— F ="," ",Ne.MfromRxF_disp==null?"â€” (solve)":Hs(Ne.MfromRxF_disp,K)," "]}),Ne.Mcouple_disp!=null?i.jsxs("div",{className:"text-gray-700 font-mono",children:["+ M_couple = ",Hs(Ne.Mcouple_disp,K)]}):null,Ne.Mtotal_disp!=null?i.jsxs("div",{className:"text-gray-700 font-mono",children:["|M| = ",as(Jn(Ne.Mtotal_disp))," ",K,Ne.thetaDeg!=null&&Ne.dDisp!=null&&Ne.FmagDisp!=null?i.jsxs("span",{className:"text-gray-500",children:[" ","(Î¸ = ",as(Ne.thetaDeg),"Â°, d = ",as(Ne.dDisp)," ",U.abbreviation,", Fd ="," ",as(Ne.FmagDisp*Ne.dDisp)," ",K,")"]}):null]}):null]},Ne.key)),i.jsxs("div",{className:"border-t border-gray-200 pt-2 text-gray-800 font-mono",children:["Î£M = ",Hs(Tt,K)]})]})]})]})})()})]})]})})()]}):b.type==="cable"?i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Start"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:b.startNodeId,onChange:_=>ae(b.id,{startNodeId:_.target.value}),children:s.map(_=>i.jsx("option",{value:_.id,children:_.id},_.id))})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"End"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:b.endNodeId,onChange:_=>ae(b.id,{endNodeId:_.target.value}),children:s.map(_=>i.jsx("option",{value:_.id,children:_.id},_.id))})]})]}):b.type==="cablePulley"?i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Start"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:b.startNodeId,onChange:_=>ae(b.id,{startNodeId:_.target.value}),children:s.map(_=>i.jsx("option",{value:_.id,children:_.id},_.id))})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Pulley"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:b.pulleyNodeId,onChange:_=>ae(b.id,{pulleyNodeId:_.target.value}),children:s.map(_=>i.jsx("option",{value:_.id,children:_.id},_.id))})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"End"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:b.endNodeId,onChange:_=>ae(b.id,{endNodeId:_.target.value}),children:s.map(_=>i.jsx("option",{value:_.id,children:_.id},_.id))})]})]}):b.type==="spring"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Start"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:b.startNodeId,onChange:_=>ae(b.id,{startNodeId:_.target.value}),children:s.map(_=>i.jsx("option",{value:_.id,children:_.id},_.id))})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"End"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:b.endNodeId,onChange:_=>ae(b.id,{endNodeId:_.target.value}),children:s.map(_=>i.jsx("option",{value:_.id,children:_.id},_.id))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"k value"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.kText,onChange:_=>ae(b.id,{kText:_.target.value}),inputMode:"decimal"})]}),i.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[i.jsx("div",{className:"text-xs text-gray-600",children:"k units"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:b.kForceUnitLabel,onChange:_=>ae(b.id,{kForceUnitLabel:_.target.value}),children:nu.map(_=>i.jsx("option",{value:_.label,children:_.label},_.label))}),i.jsx("span",{className:"text-gray-500",children:"/"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:b.kLengthUnitLabel,onChange:_=>ae(b.id,{kLengthUnitLabel:_.target.value}),children:xl.map(_=>i.jsx("option",{value:_.label,children:_.label},_.label))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"l0 (optional)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.l0Text,onChange:_=>ae(b.id,{l0Text:_.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"l0 unit"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:b.l0UnitLabel,onChange:_=>ae(b.id,{l0UnitLabel:_.target.value}),children:xl.map(_=>i.jsx("option",{value:_.label,children:_.label},_.label))})]})]})]}):b.type==="smoothContact"?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Node"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:b.nodeId,onChange:_=>ae(b.id,{nodeId:_.target.value}),children:s.map(_=>i.jsx("option",{value:_.id,children:_.id},_.id))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Î¸ (deg)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.thetaText,onChange:_=>ae(b.id,{thetaText:_.target.value}),inputMode:"decimal"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Ï† (deg)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.phiText,onChange:_=>ae(b.id,{phiText:_.target.value}),inputMode:"decimal"})]})]}),i.jsx("div",{className:"text-xs text-gray-600",children:"Normal uses Î¸/Ï† with Ï†=90Â° meaning +Z."})]}):b.type==="weight"?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Node"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:b.nodeId,onChange:_=>ae(b.id,{nodeId:_.target.value}),children:s.map(_=>i.jsx("option",{value:_.id,children:_.id},_.id))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Mass"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.massText,onChange:_=>ae(b.id,{massText:_.target.value}),inputMode:"decimal"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Unit"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:b.massUnitLabel,onChange:_=>ae(b.id,{massUnitLabel:_.target.value}),children:PT.map(_=>i.jsx("option",{value:_.label,children:_.label},_.label))})]})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Gravity (m/sÂ²)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.gravityText,onChange:_=>ae(b.id,{gravityText:_.target.value}),inputMode:"decimal"})]})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Node"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:b.nodeId,onChange:_=>{const F=_.target.value,U={nodeId:F};b.entryMode==="toNode"&&b.toNodeId===F&&(U.toNodeId=s.find(K=>K.id!==F)?.id??F),ae(b.id,U)},children:s.map(_=>i.jsx("option",{value:_.id,children:_.id},_.id))})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Entry"}),i.jsxs("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:b.entryMode,onChange:_=>{const F=_.target.value,U={entryMode:F};F==="toNode"&&b.toNodeId===b.nodeId&&(U.toNodeId=s.find(K=>K.id!==b.nodeId)?.id??b.nodeId),ae(b.id,U)},children:[i.jsx("option",{value:"components",children:"Components (Fx,Fy,Fz)"}),i.jsx("option",{value:"toNode",children:"Toward node + magnitude"})]})]}),b.entryMode==="toNode"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Toward node"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:b.toNodeId,onChange:_=>ae(b.id,{toNodeId:_.target.value}),children:(s.filter(_=>_.id!==b.nodeId).length?s.filter(_=>_.id!==b.nodeId):s).map(_=>i.jsx("option",{value:_.id,children:_.id},_.id))})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Magnitude"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.magnitudeText,onChange:_=>ae(b.id,{magnitudeText:_.target.value}),inputMode:"decimal"})]})]}),(()=>{const _=P.nodes.find(K=>K.id===b.nodeId)?.positionMeters,F=P.nodes.find(K=>K.id===b.toNodeId)?.positionMeters,U=gs(b.magnitudeText);if(!_||!F||U==null)return i.jsxs("div",{className:"text-xs text-gray-600",children:["Direction uses the unit vector from ",i.jsx("span",{className:"font-mono",children:b.nodeId})," â†’"," ",i.jsx("span",{className:"font-mono",children:b.toNodeId}),"."]});try{const K=jo(wr(_,F)),je={x:U*K.x,y:U*K.y,z:U*K.z};return i.jsxs("div",{className:"text-xs text-gray-700 space-y-1",children:[i.jsxs("div",{children:["Direction uses the unit vector from ",i.jsx("span",{className:"font-mono",children:b.nodeId})," â†’"," ",i.jsx("span",{className:"font-mono",children:b.toNodeId}),"."]}),i.jsxs("div",{className:"font-mono",children:["u = ",Hs(K)]}),i.jsxs("div",{className:"font-mono",children:["F = ",Hs(je,b.unitLabel)]})]})}catch{return i.jsx("div",{className:"text-xs text-red-700",children:"Unable to compute direction (node positions may be identical)."})}})()]}):i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Fx"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.fxText,onChange:_=>ae(b.id,{fxText:_.target.value}),inputMode:"decimal"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Fy"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.fyText,onChange:_=>ae(b.id,{fyText:_.target.value}),inputMode:"decimal"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Fz"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:b.fzText,onChange:_=>ae(b.id,{fzText:_.target.value}),inputMode:"decimal"})]})]}),i.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Unit"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:b.unitLabel,onChange:_=>ae(b.id,{unitLabel:_.target.value}),children:nu.map(_=>i.jsx("option",{value:_.label,children:_.label},_.label))})]})]})]},b.id))})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_1fr] gap-6",children:[i.jsxs("section",{className:"space-y-2",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Solution"}),G?i.jsxs("div",{className:"border border-gray-200 p-3 space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsxs("label",{className:"text-xs text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Force units"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-xs",value:l,onChange:b=>c(b.target.value),children:nu.map(b=>i.jsx("option",{value:b.label,children:b.label},b.label))})]}),i.jsxs("label",{className:"text-xs text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Length units"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-xs",value:d,onChange:b=>f(b.target.value),children:xl.map(b=>i.jsx("option",{value:b.label,children:b.label},b.label))})]})]}),i.jsx("div",{className:"space-y-1",children:we.map(b=>i.jsxs("div",{className:"text-sm text-gray-800",children:[i.jsx("span",{className:"font-mono",children:b.id})," = ",as(b.value)," ",b.unitLabel]},b.id))})]}):i.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œSolve equilibriumâ€."})]}),i.jsxs("section",{className:"space-y-2",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Equations"}),i.jsx("div",{className:"text-xs text-gray-600",children:$.length?i.jsx("ul",{className:"list-disc pl-5 space-y-1",children:$.map((b,_)=>i.jsx("li",{children:b||"(unnamed)"},_))}):"Equations will appear after a solve attempt."})]}),i.jsxs("section",{className:"space-y-2 lg:col-span-2",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Moments (r Ã— F)"}),i.jsxs("div",{className:"border border-gray-200 p-3 space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[i.jsxs("label",{className:"text-xs text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"About node"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-xs",value:y,onChange:b=>g(b.target.value),children:s.map(b=>i.jsx("option",{value:b.id,children:b.id},b.id))})]}),i.jsxs("label",{className:"text-xs text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Include"}),i.jsxs("select",{className:"border border-gray-300 bg-white px-2 py-1 text-xs",value:N,onChange:b=>w(b.target.value),children:[i.jsx("option",{value:"loads",children:"Loads only (applied force + weight)"}),i.jsx("option",{value:"all",children:"All forces (incl. reactions + members)"})]})]}),i.jsxs("label",{className:"text-xs text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Force units"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-xs",value:l,onChange:b=>c(b.target.value),children:nu.map(b=>i.jsx("option",{value:b.label,children:b.label},b.label))})]}),i.jsxs("label",{className:"text-xs text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Length units"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-xs",value:d,onChange:b=>f(b.target.value),children:xl.map(b=>i.jsx("option",{value:b.label,children:b.label},b.label))})]})]}),Ue.rows.length?i.jsxs("div",{className:"space-y-2",children:[Ue.rows.map(b=>i.jsxs("div",{className:"border border-gray-200 bg-gray-50 p-2 space-y-1",children:[i.jsxs("div",{className:"text-xs text-gray-800",children:[i.jsx("span",{className:"font-mono",children:b.label})," @ ",i.jsx("span",{className:"font-mono",children:b.nodeId})]}),i.jsx("div",{className:"text-xs text-gray-700 font-mono",children:b.rText}),i.jsx("div",{className:"text-xs text-gray-700 font-mono",children:b.fText}),i.jsx("div",{className:"text-xs text-gray-700 font-mono",children:b.mText}),b.magText?i.jsx("div",{className:"text-xs text-gray-700 font-mono",children:b.magText}):null,b.auxText?i.jsx("div",{className:"text-[11px] text-gray-500 font-mono",children:b.auxText}):null]},b.key)),Ue.sumText?i.jsx("div",{className:"border-t border-gray-200 pt-2 text-xs text-gray-800 font-mono",children:Ue.sumText}):null]}):i.jsx("div",{className:"text-sm text-gray-600",children:"No moment rows yet. Add an applied force/weight (or switch â€œIncludeâ€ to â€œAll forcesâ€)."})]})]})]})]})]})}const Hp=[{label:"N",unit:Te},{label:"kN",unit:ox},{label:"lb",unit:ui}],Gp=s=>Hp.find(e=>e.label===s)?.unit??Te,Fh=[{label:"m",unit:Je},{label:"ft",unit:Ws}],mu=s=>Fh.find(e=>e.label===s)?.unit??Je,OT=[{label:"kg",unit:Gu},{label:"g",unit:ix},{label:"Mg",unit:rx},{label:"mg",unit:ax},{label:"slug",unit:lx}],YO=s=>OT.find(e=>e.label===s)?.unit??Gu,Ss=640,KO=40,fa={x:Ss/2,y:Ss/2},Ru=80,LT="iÌ‚",VT="jÌ‚",QO="kÌ‚",Gs=s=>Number.isFinite(s)?s===0?"0":Number(s.toPrecision(6)).toString():"â€”",fu=(s,e,t)=>Number.isFinite(s)?`${s<0?"-":t?"":"+"} ${Gs(Math.abs(s))} ${e}`.trim():`${t?"":"+"} â€” ${e}`.trim(),Ih=(s,e)=>`(${[fu(s.x,LT,!0),fu(s.y,VT,!1)].join(" ")})${e?` ${e}`:""}`,sw=(s,e)=>`(${[fu(s.x,LT,!0),fu(s.y,VT,!1),fu(s.z,QO,!1)].join(" ")})${` ${e}`}`,ci=s=>{const e=s.trim();if(e==="")return null;const t=Number(e);return Number.isFinite(t)?t:null},XO=s=>{const e=(s%360+360)%360;return e===360?0:e},zi=s=>({x:fa.x+s.x*Ru,y:fa.y-s.y*Ru}),JO=s=>({x:(s.x-fa.x)/Ru,y:(fa.y-s.y)/Ru}),iw=(s,e)=>{const t=e.getBoundingClientRect(),a=(s.clientX-t.left)/t.width*Ss,l=(s.clientY-t.top)/t.height*Ss;return{x:a,y:l}},ZO=(s,e)=>{const t=s.map(c=>{const d=mu(c.unitLabel),f=ci(c.xText)??0,y=ci(c.yText)??0;return{id:c.id,positionMeters:{x:mt(f,[d],[]),y:mt(y,[d],[])}}}),a=new Map(t.map(c=>[c.id,c.positionMeters])),l=[...s.filter(c=>c.support!=="none").map(c=>c.support==="pinned"?new SO({id:`pin.${c.id}`,nodeId:c.id}):c.support==="roller"?new CO({id:`rol.${c.id}`,nodeId:c.id}):new AO({id:`fix.${c.id}`,nodeId:c.id})),...e.map(c=>{if(c.type==="solidShape")return new bO({id:c.id,nodeIds:c.nodeIds,aboutNodeId:c.aboutNodeId});if(c.type==="spring"){const N={value:ci(c.kText)??0,forceUnit:Gp(c.kForceUnitLabel),lengthUnit:mu(c.kLengthUnitLabel)},w=ci(c.l0Text),I=mu(c.l0UnitLabel);return new pO({id:c.id,startNodeId:c.startNodeId,endNodeId:c.endNodeId,stiffness:N,naturalLength:w==null?void 0:new We(w,I)})}if(c.type==="cablePulley")return new yO({id:c.id,startNodeId:c.startNodeId,pulleyNodeId:c.pulleyNodeId,endNodeId:c.endNodeId});if(c.type==="cable")return new xO({id:c.id,startNodeId:c.startNodeId,endNodeId:c.endNodeId});if(c.type==="smoothContact"){const g=ci(c.normalAngleDegText)??0,N=XO(g)*Math.PI/180;return new RO({id:c.id,nodeId:c.nodeId,normal:{x:Math.cos(N),y:Math.sin(N)}})}if(c.type==="weight"){const g=ci(c.massText)??0,N=ci(c.gravityText);return new MO({id:c.id,nodeId:c.nodeId,mass:new We(g,YO(c.massUnitLabel)),gravity:N??void 0})}const d=Gp(c.unitLabel);if(c.entryMode==="toNode"){const g=a.get(c.nodeId),N=a.get(c.toNodeId);if(!g)throw new Error(`Unknown node "${c.nodeId}".`);if(!N)throw new Error(`Unknown node "${c.toNodeId}".`);const w=ci(c.magnitudeText)??0,I=No(Ia(g,N)),M=w*I.x,G=w*I.y;return new Zj({id:c.id,nodeId:c.nodeId,force:{x:new We(M,d),y:new We(G,d)}})}const f=ci(c.fxText)??0,y=ci(c.fyText)??0;return new Zj({id:c.id,nodeId:c.nodeId,force:{x:new We(f,d),y:new We(y,d)}})})];return{nodes:t,components:l}};function e7(){const[s,e]=D.useState("2d"),t=D.useRef(null),[a,l]=D.useState([{id:"A",idText:"A",xText:"-4",yText:"3",unitLabel:"m",includeInEquilibrium:!1,support:"pinned"},{id:"B",idText:"B",xText:"0",yText:"0",unitLabel:"m",includeInEquilibrium:!0,support:"none"},{id:"N3",idText:"N3",xText:"1",yText:"1",unitLabel:"m",includeInEquilibrium:!1,support:"pinned"},{id:"N4",idText:"N4",xText:"0",yText:"-1",unitLabel:"m",includeInEquilibrium:!0,support:"none"}]),[c,d]=D.useState([{id:"W",type:"weight",nodeId:"N4",massText:"60",massUnitLabel:"kg",gravityText:"9.81"},{id:"BA",type:"cable",startNodeId:"A",endNodeId:"B"},{id:"BN3",type:"cable",startNodeId:"N3",endNodeId:"B"},{id:"BN4",type:"cable",startNodeId:"B",endNodeId:"N4"}]),[f,y]=D.useState(null),[g,N]=D.useState(null),[w,I]=D.useState(null),[M,G]=D.useState(null),[W,$]=D.useState([]),X=D.useMemo(()=>ZO(a,c),[a,c]),ie=D.useMemo(()=>{const A=new Set;for(const R of c)if(R.type==="solidShape")for(const Q of R.nodeIds)A.add(Q);return A},[c]),ne=D.useMemo(()=>{const A=a.filter(de=>de.includeInEquilibrium).map(de=>de.id),R=a.filter(de=>de.support!=="none").map(de=>de.id);return Array.from(new Set([...A,...R])).filter(de=>!ie.has(de))},[a,ie]),Re=D.useMemo(()=>M?X.components.flatMap(R=>R.forces(X)).map(R=>{const Q=Object.entries(R.fx.terms).reduce((we,[Ue,b])=>we+b*(M[Ue]??0),R.fx.constant),de=Object.entries(R.fy.terms).reduce((we,[Ue,b])=>we+b*(M[Ue]??0),R.fy.constant);return{...R,fxN:Q,fyN:de}}):[],[M,X]),ke=D.useMemo(()=>{const A=Re.map(R=>Math.hypot(R.fxN,R.fyN)).filter(R=>Number.isFinite(R)&&R>0);return A.length?Math.max(...A):1},[Re]),Me=D.useMemo(()=>{const A=Ss/2-KO;return Math.min(1,A/ke)},[ke]),O=()=>{I(null),G(null);try{const A=MT(X,ne);$(A.map(Q=>Q.label??""));const R=LO({system:X,equilibriumNodeIds:ne});G(R.variables)}catch(A){const R=A instanceof Error?A.message:"Failed to solve system.";I(`${R}

Hint: If you include a node in equilibrium, it must have either (a) enough connected members + loads, or (b) a support reaction. Mark support nodes as Pinned/Roller/Fixed to add reactions. If you add a SolidShape, it enforces rigid-body equilibrium, and its nodes are excluded from node-level equilibrium.`)}},C=()=>{const A=`N${a.length+1}`;l(R=>[...R,{id:A,idText:A,xText:"1",yText:"0",unitLabel:"m",includeInEquilibrium:!0,support:"none"}])},k=()=>{const A=`s${c.filter(de=>de.type==="spring").length+1}`,R=a[0]?.id??"A",Q=a[1]?.id??"B";d(de=>[...de,{id:A,type:"spring",startNodeId:R,endNodeId:Q,kText:"100",kForceUnitLabel:"N",kLengthUnitLabel:"m",l0Text:"",l0UnitLabel:"m"}])},z=()=>{const A=`c${c.filter(we=>we.type==="cablePulley").length+1}`,R=a[0]?.id??"A",Q=a[1]?.id??"B",de=a[2]?.id??a[0]?.id??"A";d(we=>[...we,{id:A,type:"cablePulley",startNodeId:R,pulleyNodeId:Q,endNodeId:de}])},P=()=>{const A=`cb${c.filter(de=>de.type==="cable").length+1}`,R=a[0]?.id??"A",Q=a[1]?.id??"B";d(de=>[...de,{id:A,type:"cable",startNodeId:R,endNodeId:Q}])},B=()=>{const A=`n${c.filter(Q=>Q.type==="smoothContact").length+1}`,R=a[0]?.id??"A";d(Q=>[...Q,{id:A,type:"smoothContact",nodeId:R,normalAngleDegText:"90"}])},E=()=>{const A=`W${c.filter(Q=>Q.type==="weight").length+1}`,R=a[0]?.id??"A";d(Q=>[...Q,{id:A,type:"weight",nodeId:R,massText:"10",massUnitLabel:"kg",gravityText:""}])},xe=()=>{const A=`F${c.filter(de=>de.type==="appliedForce").length+1}`,R=a[0]?.id??"A",Q=a.find(de=>de.id!==R)?.id??R;d(de=>[...de,{id:A,type:"appliedForce",nodeId:R,entryMode:"components",toNodeId:Q,magnitudeText:"10",fxText:"0",fyText:"0",unitLabel:"N"}])},pe=()=>{if(a.length<2){I("Add at least two nodes before adding a solid shape.");return}const A=`S${c.filter(de=>de.type==="solidShape").length+1}`,R=a[0]?.id??"A",Q=a[1]?.id??"B";d(de=>[...de,{id:A,type:"solidShape",nodeIds:[R,Q],aboutNodeId:R}])},H=A=>{d(R=>R.filter(Q=>Q.id!==A))},ce=A=>{if(a.length<=1){I("Cannot remove the last node.");return}d(R=>R.flatMap(Q=>{if(Q.type==="solidShape"){const de=Q.nodeIds.filter(Ue=>Ue!==A);if(de.length<2)return[];const we=de.includes(Q.aboutNodeId)?Q.aboutNodeId:de[0];return[{...Q,nodeIds:de,aboutNodeId:we}]}return Q.type==="spring"?Q.startNodeId!==A&&Q.endNodeId!==A?[Q]:[]:Q.type==="cablePulley"?Q.startNodeId!==A&&Q.pulleyNodeId!==A&&Q.endNodeId!==A?[Q]:[]:Q.type==="cable"?Q.startNodeId!==A&&Q.endNodeId!==A?[Q]:[]:Q.type==="smoothContact"?Q.nodeId!==A?[Q]:[]:Q.type==="weight"?Q.nodeId!==A?[Q]:[]:Q.type==="appliedForce"?Q.nodeId===A?[]:Q.entryMode==="toNode"&&Q.toNodeId===A?[]:[Q]:[]})),l(R=>R.filter(Q=>Q.id!==A)),f===A&&y(null),g===A&&N(null),G(null),$([]),I(null)},be=(A,R)=>{l(Q=>Q.map(de=>de.id===A?{...de,...R}:de))},ae=A=>/^[A-Za-z][A-Za-z0-9_]*$/.test(A),et=A=>{const R=a.find(de=>de.id===A);if(!R)return;const Q=R.idText.trim();if(Q!==A){if(!ae(Q)){I("Invalid node id. Use letters/numbers/underscore and start with a letter (e.g. A, N3, node_1).");return}if(a.some(de=>de.id!==A&&de.id===Q)){I(`Duplicate node id "${Q}". Node ids must be unique.`);return}l(de=>de.map(we=>we.id===A?{...we,id:Q,idText:Q}:we)),d(de=>de.map(we=>{if(we.type==="solidShape"){const Ue=we.nodeIds.map(_=>_===A?Q:_),b=we.aboutNodeId===A?Q:we.aboutNodeId;return{...we,nodeIds:Ue,aboutNodeId:b}}return we.type==="spring"?{...we,startNodeId:we.startNodeId===A?Q:we.startNodeId,endNodeId:we.endNodeId===A?Q:we.endNodeId}:we.type==="cablePulley"?{...we,startNodeId:we.startNodeId===A?Q:we.startNodeId,pulleyNodeId:we.pulleyNodeId===A?Q:we.pulleyNodeId,endNodeId:we.endNodeId===A?Q:we.endNodeId}:we.type==="cable"?{...we,startNodeId:we.startNodeId===A?Q:we.startNodeId,endNodeId:we.endNodeId===A?Q:we.endNodeId}:we.type==="smoothContact"?{...we,nodeId:we.nodeId===A?Q:we.nodeId}:we.type==="weight"?{...we,nodeId:we.nodeId===A?Q:we.nodeId}:{...we,nodeId:we.nodeId===A?Q:we.nodeId,toNodeId:we.toNodeId===A?Q:we.toNodeId}})),f===A&&y(Q),g===A&&N(Q),G(null),$([]),I(null)}},L=(A,R)=>{d(Q=>Q.map(de=>de.id===A?{...de,...R}:de))},ue=A=>{if(!t.current)return;const R=iw(A,t.current),Q=X.nodes.map(de=>({id:de.id,p:zi(de.positionMeters)})).find(de=>Math.hypot(de.p.x-R.x,de.p.y-R.y)<=12);Q&&(t.current.setPointerCapture(A.pointerId),N(Q.id),y(Q.id))},_e=A=>{if(!t.current||!g)return;const R=iw(A,t.current),Q=JO(R),de=a.find(_=>_.id===g);if(!de)return;const we=mu(de.unitLabel),Ue=Se(Q.x,[Je],[],[we],[]),b=Se(Q.y,[Je],[],[we],[]);be(g,{xText:Gs(Ue),yText:Gs(b)})},Ie=A=>{t.current&&g&&(t.current.releasePointerCapture(A.pointerId),N(null))},Fe=D.useMemo(()=>{const A=[],R=Ru;for(let Q=0;Q<=Ss;Q+=R)A.push({x1:Q,y1:0,x2:Q,y2:Ss});for(let Q=0;Q<=Ss;Q+=R)A.push({x1:0,y1:Q,x2:Ss,y2:Q});return A},[]),Ge=D.useMemo(()=>M?Object.entries(M).map(([A,R])=>{const Q=A.endsWith(".l0"),de=A.endsWith(".Mz");if(Q){const b=mu("m"),_=Se(R,[Je],[],[b],[]);return{id:A,value:_,unitLabel:b.abbreviation}}if(de)return{id:A,value:R,unitLabel:"N*m"};const we=Gp("N"),Ue=Se(R,[Te],[],[we],[]);return{id:A,value:Ue,unitLabel:we.abbreviation}}):[],[M]);return i.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[i.jsx(vt,{}),i.jsx("main",{className:"flex-1",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[i.jsxs("header",{className:"space-y-3",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsx(le,{to:"/toolbox",className:"border-b border-gray-300 hover:border-gray-500 transition-colors",children:"Toolbox"})," ",i.jsx("span",{className:"text-gray-400",children:"/"})," Static system"]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Static system"}),i.jsx("p",{className:"text-lg text-gray-700",children:"Assemble springs, cables/pulleys, and smooth contacts, then solve for static equilibrium (Î£Fx = 0, Î£Fy = 0)."}),i.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[i.jsx("button",{type:"button",onClick:()=>e("2d"),className:`text-sm border px-2 py-1 ${s==="2d"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"2D"}),i.jsx("button",{type:"button",onClick:()=>e("3d"),className:`text-sm border px-2 py-1 ${s==="3d"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"3D"})]})]}),s==="3d"?i.jsx(WO,{}):i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-6",children:[i.jsxs("section",{className:"border border-gray-200 bg-white",children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[i.jsx("div",{className:"text-sm text-gray-700",children:"Drag nodes to reposition."}),i.jsx("button",{type:"button",onClick:O,className:"px-3 py-1.5 text-sm bg-gray-900 text-white hover:bg-gray-800 transition-colors",children:"Solve equilibrium"})]}),i.jsx("div",{className:"p-4",children:i.jsxs("svg",{ref:t,viewBox:`0 0 ${Ss} ${Ss}`,className:"w-full h-[520px] touch-none select-none bg-gray-50 border border-gray-200",onPointerDown:ue,onPointerMove:_e,onPointerUp:Ie,children:[i.jsx("defs",{children:i.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"8",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:i.jsx("path",{d:"M0,0 L8,3 L0,6 Z",fill:"currentColor"})})}),i.jsx("g",{className:"text-gray-200",children:Fe.map((A,R)=>i.jsx("line",{x1:A.x1,y1:A.y1,x2:A.x2,y2:A.y2,stroke:"currentColor",strokeWidth:1},R))}),i.jsxs("g",{className:"text-gray-400",children:[i.jsx("line",{x1:0,y1:fa.y,x2:Ss,y2:fa.y,stroke:"currentColor",strokeWidth:2}),i.jsx("line",{x1:fa.x,y1:0,x2:fa.x,y2:Ss,stroke:"currentColor",strokeWidth:2})]}),i.jsx("g",{className:"text-gray-500",children:c.map(A=>{if(A.type==="spring"){const R=X.nodes.find(Ue=>Ue.id===A.startNodeId),Q=X.nodes.find(Ue=>Ue.id===A.endNodeId);if(!R||!Q)return null;const de=zi(R.positionMeters),we=zi(Q.positionMeters);return i.jsx("line",{x1:de.x,y1:de.y,x2:we.x,y2:we.y,stroke:"currentColor",strokeWidth:3,strokeDasharray:"6 4"},A.id)}if(A.type==="cablePulley"){const R=X.nodes.find(_=>_.id===A.startNodeId),Q=X.nodes.find(_=>_.id===A.pulleyNodeId),de=X.nodes.find(_=>_.id===A.endNodeId);if(!R||!Q||!de)return null;const we=zi(R.positionMeters),Ue=zi(Q.positionMeters),b=zi(de.positionMeters);return i.jsxs("g",{children:[i.jsx("line",{x1:we.x,y1:we.y,x2:Ue.x,y2:Ue.y,stroke:"currentColor",strokeWidth:3}),i.jsx("line",{x1:b.x,y1:b.y,x2:Ue.x,y2:Ue.y,stroke:"currentColor",strokeWidth:3}),i.jsx("circle",{cx:Ue.x,cy:Ue.y,r:7,fill:"none",stroke:"currentColor",strokeWidth:2})]},A.id)}if(A.type==="cable"){const R=X.nodes.find(Ue=>Ue.id===A.startNodeId),Q=X.nodes.find(Ue=>Ue.id===A.endNodeId);if(!R||!Q)return null;const de=zi(R.positionMeters),we=zi(Q.positionMeters);return i.jsx("line",{x1:de.x,y1:de.y,x2:we.x,y2:we.y,stroke:"currentColor",strokeWidth:3},A.id)}return null})}),M&&i.jsx("g",{className:"text-blue-700",children:Re.map((A,R)=>{const Q=X.nodes.find(Ue=>Ue.id===A.nodeId);if(!Q)return null;const de=zi(Q.positionMeters),we={x:de.x+A.fxN*Me,y:de.y-A.fyN*Me};return i.jsx("g",{children:i.jsx("line",{x1:de.x,y1:de.y,x2:we.x,y2:we.y,stroke:"currentColor",strokeWidth:3,markerEnd:"url(#arrowhead)"})},`${A.nodeId}-${R}`)})}),i.jsx("g",{children:X.nodes.map(A=>{const R=zi(A.positionMeters),Q=A.id===f;return i.jsxs("g",{onClick:de=>{de.stopPropagation(),y(A.id)},style:{cursor:"pointer"},children:[i.jsx("circle",{cx:R.x,cy:R.y,r:10,fill:Q?"#111827":"#374151"}),i.jsx("text",{x:R.x+12,y:R.y-12,fill:"#111827",fontSize:14,children:A.id})]},A.id)})})]})})]}),i.jsxs("aside",{className:"border border-gray-200 bg-white",children:[i.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex flex-wrap gap-2 items-center justify-between",children:[i.jsx("div",{className:"text-lg font-serif text-gray-900",children:"Model"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",onClick:C,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add node"}),i.jsx("button",{type:"button",onClick:pe,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add solid shape"}),i.jsx("button",{type:"button",onClick:k,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add spring"}),i.jsx("button",{type:"button",onClick:z,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add cable/pulley"}),i.jsx("button",{type:"button",onClick:P,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add cable"}),i.jsx("button",{type:"button",onClick:B,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add contact"}),i.jsx("button",{type:"button",onClick:E,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add weight"}),i.jsx("button",{type:"button",onClick:xe,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add force"})]})]}),i.jsxs("div",{className:"p-4 space-y-6",children:[w&&i.jsx("div",{className:"border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-800",children:w}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Nodes"}),i.jsx("div",{className:"space-y-2",children:a.map(A=>i.jsxs("div",{className:"border border-gray-200 p-3",children:[i.jsxs("div",{className:"flex flex-col gap-2 mb-2 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.id}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("input",{className:"w-28 border border-gray-300 px-2 py-1 text-xs",value:A.idText,onChange:R=>be(A.id,{idText:R.target.value}),placeholder:"Node id"}),i.jsx("button",{type:"button",onClick:()=>et(A.id),className:"px-2 py-1 text-xs border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",title:"Rename node (updates connected components)",children:"Rename"}),i.jsx("button",{type:"button",onClick:()=>ce(A.id),className:"px-2 py-1 text-xs border border-gray-300 text-gray-700 hover:border-gray-500 hover:text-gray-900 transition-colors",title:"Remove node (also removes connected components)",children:"Remove"})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsxs("label",{className:"text-xs text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Support"}),i.jsxs("select",{className:"border border-gray-300 bg-white px-2 py-1 text-xs",value:A.support,onChange:R=>{const Q=R.target.value;be(A.id,{support:Q,includeInEquilibrium:Q!=="none"?!0:A.includeInEquilibrium})},children:[i.jsx("option",{value:"none",children:"None"}),i.jsx("option",{value:"pinned",children:"Pinned (Rx,Ry)"}),i.jsx("option",{value:"roller",children:"Roller (Ry)"}),i.jsx("option",{value:"fixed",children:"Fixed (Rx,Ry,M)"})]})]}),i.jsxs("label",{className:"text-xs text-gray-700 flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:A.includeInEquilibrium||A.support!=="none",disabled:A.support!=="none",onChange:R=>be(A.id,{includeInEquilibrium:R.target.checked})}),"Include in equilibrium"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"x"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:A.xText,onChange:R=>be(A.id,{xText:R.target.value}),inputMode:"decimal"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"y"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:A.yText,onChange:R=>be(A.id,{yText:R.target.value}),inputMode:"decimal"})]})]}),i.jsx("div",{className:"mt-2",children:i.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Unit"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:A.unitLabel,onChange:R=>be(A.id,{unitLabel:R.target.value}),children:Fh.map(R=>i.jsx("option",{value:R.label,children:R.label},R.label))})]})})]},A.id))})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Components"}),i.jsx("div",{className:"space-y-2",children:c.map(A=>i.jsxs("div",{className:"border border-gray-200 p-3 space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[A.id," ",i.jsx("span",{className:"text-gray-500 font-normal",children:A.type==="spring"?"(spring)":A.type==="cablePulley"?"(cable/pulley)":A.type==="solidShape"?"(solid shape)":A.type==="cable"?"(cable)":A.type==="smoothContact"?"(smooth contact)":A.type==="weight"?"(weight)":"(applied force)"})]}),i.jsx("button",{type:"button",onClick:()=>H(A.id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),A.type==="solidShape"?i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-xs text-gray-600",children:"Rigid body equilibrium: Î£Fx = 0, Î£Fy = 0, Î£Mz = 0 (about the selected â€œabout nodeâ€)."}),A.nodeIds.length<2?i.jsx("div",{className:"text-xs text-red-700",children:"Select at least two nodes."}):null,i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-700 mb-2",children:"Nodes"}),i.jsx("div",{className:"flex flex-wrap gap-3",children:a.map(R=>i.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:A.nodeIds.includes(R.id),onChange:()=>{d(Q=>Q.map(de=>{if(de.id!==A.id||de.type!=="solidShape")return de;const Ue=de.nodeIds.includes(R.id)?de.nodeIds.filter(_=>_!==R.id):[...de.nodeIds,R.id],b=Ue.includes(de.aboutNodeId)?de.aboutNodeId:Ue[0]??de.aboutNodeId;return{...de,nodeIds:Ue,aboutNodeId:b}}))}}),i.jsx("span",{className:"font-mono",children:R.id})]},R.id))})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"About node"}),i.jsxs("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:A.aboutNodeId,onChange:R=>L(A.id,{aboutNodeId:R.target.value}),disabled:A.nodeIds.length===0,children:[A.nodeIds.length===0?i.jsx("option",{value:"",children:"(select nodes)"}):null,A.nodeIds.map(R=>i.jsx("option",{value:R,children:R},R))]})]}),(()=>{const R=A.nodeIds.filter(Ue=>a.find(b=>b.id===Ue)?.support==="none");if(R.length===0)return i.jsxs("div",{className:"text-xs text-gray-600",children:["Moment preview uses forces applied at non-supported nodes in this shape. Add a load at a free node to see a moment about ",A.aboutNodeId,"."]});const Q=ST({system:X,aboutNodeId:A.aboutNodeId,nodeIds:R});let de=null;try{de=um(Q,M??{})}catch{de=null}const we=de==null?null:Se(de,[Te,Je],[],[ui,Ws],[]);return i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"border border-gray-200 bg-gray-50 p-2 space-y-1",children:[i.jsxs("div",{className:"text-xs text-gray-700",children:["Moment about ",i.jsx("span",{className:"font-mono",children:A.aboutNodeId})," from forces at free shape nodes (",R.join(", "),")"]}),i.jsxs("div",{className:"text-xs text-gray-700 font-mono",children:["Mz = ",we==null?"â€” (solve)":Gs(we)," lb*ft"]}),i.jsx("div",{className:"text-[11px] text-gray-500",children:"Positive is counterclockwise about +Z (negative is clockwise)."})]}),i.jsxs("details",{className:"border border-gray-200",children:[i.jsx("summary",{className:"px-2 py-1 text-xs text-gray-800 cursor-pointer select-none",children:"Vector + moment breakdown (r Ã— F)"}),i.jsx("div",{className:"p-2 space-y-3 text-xs",children:(()=>{const Ue=X.nodes.find(he=>he.id===A.aboutNodeId);if(!Ue)return i.jsxs("div",{className:"text-red-700",children:['Unknown about node "',A.aboutNodeId,'".']});const b=Ue.positionMeters,_=A.nodeIds.map(he=>{const st=X.nodes.find(Ct=>Ct.id===he);if(!st)return null;const jt=Ia(b,st.positionMeters),Pe={x:Se(jt.x,[Je],[],[Ws],[]),y:Se(jt.y,[Je],[],[Ws],[])},it=Se(Pl(jt),[Je],[],[Ws],[]);return{id:he,rMeters:jt,rFt:Pe,rMagFt:it}}).filter(he=>he!=null),F=new Map(_.map(he=>[he.id,he.rMeters])),U=he=>{try{return um(he,M??{})}catch{return null}},je=X.components.flatMap(he=>he.forces(X)).filter(he=>R.includes(he.nodeId)).map((he,st)=>{const jt=U(he.fx),Pe=U(he.fy),it=he.mz?U(he.mz):null,Ct=jt!=null&&Pe!=null,gn=it!=null;if(!Ct&&!gn)return null;const Jt=F.get(he.nodeId)??{x:0,y:0},tn=Ct?Se(jt,[Te],[],[ui],[]):null,Yn=Ct?Se(Pe,[Te],[],[ui],[]):null,Ke=Ct?Se(Math.hypot(jt,Pe),[Te],[],[ui],[]):null,at=Ct?TT(Jt,{x:jt,y:Pe}):null,Pt=at==null?null:Se(at,[Te,Je],[],[ui,Ws],[]),Tt=it==null?null:Se(it,[Te,Je],[],[ui,Ws],[]),Ne=(Pt??0)+(Tt??0),Ye=Ct&&Pl(Jt)>0&&Math.hypot(jt,Pe)>0?gO(Jt,{x:jt,y:Pe})*180/Math.PI:null,Be=Ct&&Math.hypot(jt,Pe)>0?Se(Math.abs(at??0)/Math.hypot(jt,Pe),[Je],[],[Ws],[]):null,nn=he.label??`${he.nodeId} force #${st+1}`;return{key:`${he.nodeId}-${st}`,nodeId:he.nodeId,label:nn,fxLb:tn,fyLb:Yn,fMagLb:Ke,mzFromRxFLbFt:Pt,coupleMzLbFt:Tt,mzTotalLbFt:Ne,thetaDeg:Ye,dFt:Be}}).filter(he=>he!=null),ve=je.reduce((he,st)=>he+st.mzTotalLbFt,0);return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-xs text-gray-700 font-medium",children:["Position vectors from ",A.aboutNodeId]}),i.jsx("div",{className:"space-y-1",children:_.map(he=>i.jsxs("div",{className:"text-gray-800",children:[i.jsxs("span",{className:"font-mono",children:["r_",he.id," = ",Ih(he.rFt,"ft")]})," ",i.jsxs("span",{className:"text-gray-500",children:["|r| = ",Gs(he.rMagFt)," ft"]})]},he.id))})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-xs text-gray-700 font-medium",children:["Moments about ",A.aboutNodeId," from forces at free nodes (",R.join(", "),")"]}),je.length===0?i.jsx("div",{className:"text-gray-600",children:"No fully-known force vectors yet (solve to evaluate member forces)."}):i.jsxs("div",{className:"space-y-2",children:[je.map(he=>i.jsxs("div",{className:"border border-gray-200 bg-white p-2 space-y-1",children:[i.jsxs("div",{className:"text-gray-800",children:[i.jsx("span",{className:"font-mono",children:he.label})," @ ",i.jsx("span",{className:"font-mono",children:he.nodeId})]}),i.jsxs("div",{className:"text-gray-700 font-mono",children:["F ="," ",he.fxLb==null||he.fyLb==null?"â€” (solve)":Ih({x:he.fxLb,y:he.fyLb},"lb")," ",he.fMagLb==null?"":`  |F| = ${Gs(he.fMagLb)} lb`]}),i.jsxs("div",{className:"text-gray-700 font-mono",children:["M = r Ã— F ="," ",he.mzFromRxFLbFt==null?"â€” (solve)":sw({x:0,y:0,z:he.mzFromRxFLbFt},"lb*ft")," ",he.mzFromRxFLbFt==null?null:i.jsxs("span",{className:"text-gray-500",children:["(",he.mzFromRxFLbFt<0?"clockwise":"counterclockwise",")"]})]}),he.coupleMzLbFt!=null?i.jsxs("div",{className:"text-gray-700 font-mono",children:["+ M_couple = ",sw({x:0,y:0,z:he.coupleMzLbFt},"lb*ft")]}):null,i.jsxs("div",{className:"text-gray-700 font-mono",children:["|M| = ",Gs(Math.abs(he.mzTotalLbFt))," lb*ft",he.thetaDeg!=null&&he.dFt!=null&&he.fMagLb!=null?i.jsxs("span",{className:"text-gray-500",children:[" ","(Î¸ = ",Gs(he.thetaDeg),"Â°, d = ",Gs(he.dFt)," ft, Fd ="," ",Gs(he.fMagLb*he.dFt)," lb*ft)"]}):null]})]},he.key)),i.jsxs("div",{className:"border-t border-gray-200 pt-2 text-gray-800 font-mono",children:["Î£Mz = ",Gs(ve)," lb*ft"]})]})]})]})})()})]})]})})()]}):A.type==="spring"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Start"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:A.startNodeId,onChange:R=>L(A.id,{startNodeId:R.target.value}),children:a.map(R=>i.jsx("option",{value:R.id,children:R.id},R.id))})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"End"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:A.endNodeId,onChange:R=>L(A.id,{endNodeId:R.target.value}),children:a.map(R=>i.jsx("option",{value:R.id,children:R.id},R.id))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"k value"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:A.kText,onChange:R=>L(A.id,{kText:R.target.value}),inputMode:"decimal"})]}),i.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[i.jsx("div",{className:"text-xs text-gray-600",children:"k units"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:A.kForceUnitLabel,onChange:R=>L(A.id,{kForceUnitLabel:R.target.value}),children:Hp.map(R=>i.jsx("option",{value:R.label,children:R.label},R.label))}),i.jsx("span",{className:"text-gray-500",children:"/"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:A.kLengthUnitLabel,onChange:R=>L(A.id,{kLengthUnitLabel:R.target.value}),children:Fh.map(R=>i.jsx("option",{value:R.label,children:R.label},R.label))})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"l0 (optional)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:A.l0Text,onChange:R=>L(A.id,{l0Text:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"l0 unit"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:A.l0UnitLabel,onChange:R=>L(A.id,{l0UnitLabel:R.target.value}),children:Fh.map(R=>i.jsx("option",{value:R.label,children:R.label},R.label))})]})]})]}):A.type==="cablePulley"?i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Start"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:A.startNodeId,onChange:R=>L(A.id,{startNodeId:R.target.value}),children:a.map(R=>i.jsx("option",{value:R.id,children:R.id},R.id))})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Pulley"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:A.pulleyNodeId,onChange:R=>L(A.id,{pulleyNodeId:R.target.value}),children:a.map(R=>i.jsx("option",{value:R.id,children:R.id},R.id))})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"End"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:A.endNodeId,onChange:R=>L(A.id,{endNodeId:R.target.value}),children:a.map(R=>i.jsx("option",{value:R.id,children:R.id},R.id))})]})]}):A.type==="cable"?i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Start"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:A.startNodeId,onChange:R=>L(A.id,{startNodeId:R.target.value}),children:a.map(R=>i.jsx("option",{value:R.id,children:R.id},R.id))})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"End"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:A.endNodeId,onChange:R=>L(A.id,{endNodeId:R.target.value}),children:a.map(R=>i.jsx("option",{value:R.id,children:R.id},R.id))})]})]}):A.type==="smoothContact"?i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Node"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:A.nodeId,onChange:R=>L(A.id,{nodeId:R.target.value}),children:a.map(R=>i.jsx("option",{value:R.id,children:R.id},R.id))})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Normal angle (deg)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:A.normalAngleDegText,onChange:R=>L(A.id,{normalAngleDegText:R.target.value}),inputMode:"decimal"})]})]}):A.type==="weight"?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Node"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:A.nodeId,onChange:R=>L(A.id,{nodeId:R.target.value}),children:a.map(R=>i.jsx("option",{value:R.id,children:R.id},R.id))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Mass"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:A.massText,onChange:R=>L(A.id,{massText:R.target.value}),inputMode:"decimal"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Unit"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:A.massUnitLabel,onChange:R=>L(A.id,{massUnitLabel:R.target.value}),children:OT.map(R=>i.jsx("option",{value:R.label,children:R.label},R.label))})]})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Gravity (m/sÂ², optional)"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:A.gravityText,onChange:R=>L(A.id,{gravityText:R.target.value}),inputMode:"decimal",placeholder:"9.80665"})]})]}):i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Node"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:A.nodeId,onChange:R=>{const Q=R.target.value,de={nodeId:Q};A.entryMode==="toNode"&&A.toNodeId===Q&&(de.toNodeId=a.find(we=>we.id!==Q)?.id??Q),L(A.id,de)},children:a.map(R=>i.jsx("option",{value:R.id,children:R.id},R.id))})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Entry"}),i.jsxs("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:A.entryMode,onChange:R=>{const Q=R.target.value,de={entryMode:Q};Q==="toNode"&&A.toNodeId===A.nodeId&&(de.toNodeId=a.find(we=>we.id!==A.nodeId)?.id??A.nodeId),L(A.id,de)},children:[i.jsx("option",{value:"components",children:"Components (Fx,Fy)"}),i.jsx("option",{value:"toNode",children:"Toward node + magnitude"})]})]}),A.entryMode==="toNode"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Toward node"}),i.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:A.toNodeId,onChange:R=>L(A.id,{toNodeId:R.target.value}),children:(a.filter(R=>R.id!==A.nodeId).length?a.filter(R=>R.id!==A.nodeId):a).map(R=>i.jsx("option",{value:R.id,children:R.id},R.id))})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Magnitude"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:A.magnitudeText,onChange:R=>L(A.id,{magnitudeText:R.target.value}),inputMode:"decimal"})]})]}),(()=>{const R=X.nodes.find(we=>we.id===A.nodeId)?.positionMeters,Q=X.nodes.find(we=>we.id===A.toNodeId)?.positionMeters,de=ci(A.magnitudeText);if(!R||!Q||de==null)return i.jsxs("div",{className:"text-xs text-gray-600",children:["Direction uses the unit vector from ",i.jsx("span",{className:"font-mono",children:A.nodeId})," â†’"," ",i.jsx("span",{className:"font-mono",children:A.toNodeId}),"."]});try{const we=No(Ia(R,Q)),Ue={x:de*we.x,y:de*we.y};return i.jsxs("div",{className:"text-xs text-gray-700 space-y-1",children:[i.jsxs("div",{children:["Direction uses the unit vector from ",i.jsx("span",{className:"font-mono",children:A.nodeId})," â†’"," ",i.jsx("span",{className:"font-mono",children:A.toNodeId}),"."]}),i.jsxs("div",{className:"font-mono",children:["u = ",Ih(we)]}),i.jsxs("div",{className:"font-mono",children:["F = ",Ih(Ue,A.unitLabel)]})]})}catch{return i.jsx("div",{className:"text-xs text-red-700",children:"Unable to compute direction (node positions may be identical)."})}})()]}):i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Fx"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:A.fxText,onChange:R=>L(A.id,{fxText:R.target.value}),inputMode:"decimal"})]}),i.jsxs("label",{className:"text-sm text-gray-700",children:[i.jsx("div",{className:"mb-1",children:"Fy"}),i.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:A.fyText,onChange:R=>L(A.id,{fyText:R.target.value}),inputMode:"decimal"})]})]}),i.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[i.jsx("span",{children:"Unit"}),i.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:A.unitLabel,onChange:R=>L(A.id,{unitLabel:R.target.value}),children:Hp.map(R=>i.jsx("option",{value:R.label,children:R.label},R.label))})]})]})]},A.id))})]}),i.jsxs("section",{className:"space-y-2",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Solution"}),M?i.jsxs("div",{className:"border border-gray-200 p-3 space-y-2",children:[i.jsx("div",{className:"text-xs text-gray-600",children:"Variables are solved in SI internally (N, m)."}),i.jsx("div",{className:"space-y-1",children:Ge.map(A=>i.jsxs("div",{className:"text-sm text-gray-800",children:[i.jsx("span",{className:"font-mono",children:A.id})," = ",Gs(A.value)," ",A.unitLabel]},A.id))})]}):i.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œSolve equilibriumâ€."})]}),i.jsxs("section",{className:"space-y-2",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Equations"}),i.jsx("div",{className:"text-xs text-gray-600",children:W.length?i.jsx("ul",{className:"list-disc pl-5 space-y-1",children:W.map((A,R)=>i.jsx("li",{children:A||"(unnamed)"},R))}):"Equations will appear after a solve attempt."})]})]})]})]})]})}),i.jsx(bt,{})]})}function t7(){return i.jsxs(pI,{children:[i.jsx(pt,{path:"/",element:i.jsx(n6,{})}),i.jsx(pt,{path:"/contact",element:i.jsx(s6,{})}),i.jsx(pt,{path:"/services",element:i.jsx(o6,{})}),i.jsx(pt,{path:"/services/:slug",element:i.jsx(d6,{})}),i.jsx(pt,{path:"/portal",element:i.jsx(h6,{})}),i.jsx(pt,{path:"/dashboard",element:i.jsx(m6,{})}),i.jsx(pt,{path:"/legal",element:i.jsx(f6,{})}),i.jsx(pt,{path:"/toolbox",element:i.jsx(V6,{})}),i.jsx(pt,{path:"/toolbox/unit-conversion",element:i.jsx(J6,{})}),i.jsx(pt,{path:"/toolbox/force-vectors",element:i.jsx(hO,{})}),i.jsx(pt,{path:"/toolbox/static-system",element:i.jsx(e7,{})}),i.jsx(pt,{path:"/blog",element:i.jsx(g6,{})}),i.jsx(pt,{path:"/blog/wastewater-projects-oxidation-ditches-engineering-overview",element:i.jsx(D6,{})}),i.jsx(pt,{path:"/blog/engineering-documentation-technical-disputes",element:i.jsx(S6,{})}),i.jsx(pt,{path:"/blog/system-performance-under-uncertainty",element:i.jsx(A6,{})}),i.jsx(pt,{path:"/blog/independent-engineering-review-dispute-resolution",element:i.jsx(C6,{})}),i.jsx(pt,{path:"/blog/engineering-review-vs-engineering-design",element:i.jsx(R6,{})}),i.jsx(pt,{path:"/blog/small-residential-light-commercial-structural-reviews-missouri",element:i.jsx(M6,{})}),i.jsx(pt,{path:"/blog/professional-engineering-st-louis-missouri",element:i.jsx(p6,{})}),i.jsx(pt,{path:"/blog/engineering-review-professional-judgment-st-louis-missouri",element:i.jsx(y6,{})}),i.jsx(pt,{path:"/blog/forensic-engineering-missouri-technical-analysis",element:i.jsx(x6,{})}),i.jsx(pt,{path:"/blog/professional-engineer-expert-witness-missouri",element:i.jsx(b6,{})}),i.jsx(pt,{path:"/blog/engineering-standards-assumptions-failure-analysis",element:i.jsx(v6,{})}),i.jsx(pt,{path:"/blog/when-professional-engineer-required-missouri",element:i.jsx(N6,{})}),i.jsx(pt,{path:"/blog/what-does-engineering-expert-witness-do",element:i.jsx(j6,{})}),i.jsx(pt,{path:"/blog/what-does-professional-engineer-seal-mean",element:i.jsx(w6,{})}),i.jsx(pt,{path:"/blog/engineering-causation-failure-analysis",element:i.jsx(_6,{})}),i.jsx(pt,{path:"/blog/courts-evaluate-engineering-causation-testimony",element:i.jsx(E6,{})}),i.jsx(pt,{path:"/blog/root-cause-vs-legal-cause-engineering",element:i.jsx(T6,{})}),i.jsx(pt,{path:"/blog/common-mistakes-engineering-expert-reports",element:i.jsx(I6,{})}),i.jsx(pt,{path:"/blog/structural-analysis-building-approval-missouri",element:i.jsx(k6,{})}),i.jsx(pt,{path:"/blog/property-condition-assessment-pca",element:i.jsx(P6,{})}),i.jsx(pt,{path:"/blog/pca-vs-cna-understanding-the-difference",element:i.jsx(O6,{})}),i.jsx(pt,{path:"/blog/how-lenders-use-property-condition-assessments-pca",element:i.jsx(L6,{})})]})}const n7=nS.createRoot(document.getElementById("root"));n7.render(i.jsx(D.StrictMode,{children:i.jsx(zI,{children:i.jsx(t7,{})})}));
