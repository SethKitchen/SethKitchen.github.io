(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var ug={exports:{}},wc={};var Jb;function bA(){if(Jb)return wc;Jb=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return wc.Fragment=e,wc.jsx=n,wc.jsxs=n,wc}var Zb;function vA(){return Zb||(Zb=1,ug.exports=bA()),ug.exports}var a=vA(),dg={exports:{}},ke={};var ev;function _A(){if(ev)return ke;ev=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),N=Symbol.iterator;function V(k){return k===null||typeof k!="object"?null:(k=N&&k[N]||k["@@iterator"],typeof k=="function"?k:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,q={};function ne(k,j,C){this.props=k,this.context=j,this.refs=q,this.updater=C||H}ne.prototype.isReactComponent={},ne.prototype.setState=function(k,j){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,j,"setState")},ne.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Z(){}Z.prototype=ne.prototype;function J(k,j,C){this.props=k,this.context=j,this.refs=q,this.updater=C||H}var B=J.prototype=new Z;B.constructor=J,z(B,ne.prototype),B.isPureReactComponent=!0;var de=Array.isArray;function ge(){}var S={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(k,j,C){var K=C.ref;return{$$typeof:s,type:k,key:j,ref:K!==void 0?K:null,props:C}}function R(k,j){return I(k.type,j,k.props)}function P(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function F(k){var j={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(C){return j[C]})}var M=/\/+/g;function Ne(k,j){return typeof k=="object"&&k!==null&&k.key!=null?F(""+k.key):j.toString(36)}function be(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ge,ge):(k.status="pending",k.then(function(j){k.status==="pending"&&(k.status="fulfilled",k.value=j)},function(j){k.status==="pending"&&(k.status="rejected",k.reason=j)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Q(k,j,C,K,ce){var ue=typeof k;(ue==="undefined"||ue==="boolean")&&(k=null);var Ae=!1;if(k===null)Ae=!0;else switch(ue){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(k.$$typeof){case s:case e:Ae=!0;break;case _:return Ae=k._init,Q(Ae(k._payload),j,C,K,ce)}}if(Ae)return ce=ce(k),Ae=K===""?"."+Ne(k,0):K,de(ce)?(C="",Ae!=null&&(C=Ae.replace(M,"$&/")+"/"),Q(ce,j,C,"",function(_i){return _i})):ce!=null&&(P(ce)&&(ce=R(ce,C+(ce.key==null||k&&k.key===ce.key?"":(""+ce.key).replace(M,"$&/")+"/")+Ae)),j.push(ce)),1;Ae=0;var ct=K===""?".":K+":";if(de(k))for(var nt=0;nt<k.length;nt++)K=k[nt],ue=ct+Ne(K,nt),Ae+=Q(K,j,C,ue,ce);else if(nt=V(k),typeof nt=="function")for(k=nt.call(k),nt=0;!(K=k.next()).done;)K=K.value,ue=ct+Ne(K,nt++),Ae+=Q(K,j,C,ue,ce);else if(ue==="object"){if(typeof k.then=="function")return Q(be(k),j,C,K,ce);throw j=String(k),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function he(k,j,C){if(k==null)return k;var K=[],ce=0;return Q(k,K,"","",function(ue){return j.call(C,ue,ce++)}),K}function pe(k){if(k._status===-1){var j=k._result;j=j(),j.then(function(C){(k._status===0||k._status===-1)&&(k._status=1,k._result=C)},function(C){(k._status===0||k._status===-1)&&(k._status=2,k._result=C)}),k._status===-1&&(k._status=0,k._result=j)}if(k._status===1)return k._result.default;throw k._result}var Pe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Be={map:he,forEach:function(k,j,C){he(k,function(){j.apply(this,arguments)},C)},count:function(k){var j=0;return he(k,function(){j++}),j},toArray:function(k){return he(k,function(j){return j})||[]},only:function(k){if(!P(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return ke.Activity=E,ke.Children=Be,ke.Component=ne,ke.Fragment=n,ke.Profiler=l,ke.PureComponent=J,ke.StrictMode=r,ke.Suspense=y,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,ke.__COMPILER_RUNTIME={__proto__:null,c:function(k){return S.H.useMemoCache(k)}},ke.cache=function(k){return function(){return k.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(k,j,C){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var K=z({},k.props),ce=k.key;if(j!=null)for(ue in j.key!==void 0&&(ce=""+j.key),j)!A.call(j,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&j.ref===void 0||(K[ue]=j[ue]);var ue=arguments.length-2;if(ue===1)K.children=C;else if(1<ue){for(var Ae=Array(ue),ct=0;ct<ue;ct++)Ae[ct]=arguments[ct+2];K.children=Ae}return I(k.type,ce,K)},ke.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},ke.createElement=function(k,j,C){var K,ce={},ue=null;if(j!=null)for(K in j.key!==void 0&&(ue=""+j.key),j)A.call(j,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ce[K]=j[K]);var Ae=arguments.length-2;if(Ae===1)ce.children=C;else if(1<Ae){for(var ct=Array(Ae),nt=0;nt<Ae;nt++)ct[nt]=arguments[nt+2];ce.children=ct}if(k&&k.defaultProps)for(K in Ae=k.defaultProps,Ae)ce[K]===void 0&&(ce[K]=Ae[K]);return I(k,ue,ce)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(k){return{$$typeof:g,render:k}},ke.isValidElement=P,ke.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:pe}},ke.memo=function(k,j){return{$$typeof:p,type:k,compare:j===void 0?null:j}},ke.startTransition=function(k){var j=S.T,C={};S.T=C;try{var K=k(),ce=S.S;ce!==null&&ce(C,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ge,Pe)}catch(ue){Pe(ue)}finally{j!==null&&C.types!==null&&(j.types=C.types),S.T=j}},ke.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},ke.use=function(k){return S.H.use(k)},ke.useActionState=function(k,j,C){return S.H.useActionState(k,j,C)},ke.useCallback=function(k,j){return S.H.useCallback(k,j)},ke.useContext=function(k){return S.H.useContext(k)},ke.useDebugValue=function(){},ke.useDeferredValue=function(k,j){return S.H.useDeferredValue(k,j)},ke.useEffect=function(k,j){return S.H.useEffect(k,j)},ke.useEffectEvent=function(k){return S.H.useEffectEvent(k)},ke.useId=function(){return S.H.useId()},ke.useImperativeHandle=function(k,j,C){return S.H.useImperativeHandle(k,j,C)},ke.useInsertionEffect=function(k,j){return S.H.useInsertionEffect(k,j)},ke.useLayoutEffect=function(k,j){return S.H.useLayoutEffect(k,j)},ke.useMemo=function(k,j){return S.H.useMemo(k,j)},ke.useOptimistic=function(k,j){return S.H.useOptimistic(k,j)},ke.useReducer=function(k,j,C){return S.H.useReducer(k,j,C)},ke.useRef=function(k){return S.H.useRef(k)},ke.useState=function(k){return S.H.useState(k)},ke.useSyncExternalStore=function(k,j,C){return S.H.useSyncExternalStore(k,j,C)},ke.useTransition=function(){return S.H.useTransition()},ke.version="19.2.3",ke}var tv;function _p(){return tv||(tv=1,dg.exports=_A()),dg.exports}var O=_p();var nv="popstate";function EA(s={}){function e(r,l){let{pathname:u,search:d,hash:g}=r.location;return Ug("",{pathname:u,search:d,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Gc(l)}return wA(e,n,null,s)}function Lt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Us(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TA(){return Math.random().toString(36).substring(2,10)}function sv(s,e){return{usr:s.state,key:s.key,idx:e}}function Ug(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?ml(e):e,state:n,key:e&&e.key||r||TA()}}function Gc({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function ml(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function wA(s,e,n,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,d=l.history,g="POP",y=null,p=_();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function _(){return(d.state||{idx:null}).idx}function E(){g="POP";let q=_(),ne=q==null?null:q-p;p=q,y&&y({action:g,location:z.location,delta:ne})}function N(q,ne){g="PUSH";let Z=Ug(z.location,q,ne);p=_()+1;let J=sv(Z,p),B=z.createHref(Z);try{d.pushState(J,"",B)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;l.location.assign(B)}u&&y&&y({action:g,location:z.location,delta:1})}function V(q,ne){g="REPLACE";let Z=Ug(z.location,q,ne);p=_();let J=sv(Z,p),B=z.createHref(Z);d.replaceState(J,"",B),u&&y&&y({action:g,location:z.location,delta:0})}function H(q){return NA(q)}let z={get action(){return g},get location(){return s(l,d)},listen(q){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(nv,E),y=q,()=>{l.removeEventListener(nv,E),y=null}},createHref(q){return e(l,q)},createURL:H,encodeLocation(q){let ne=H(q);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:N,replace:V,go(q){return d.go(q)}};return z}function NA(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:Gc(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function pE(s,e,n="/"){return jA(s,e,n,!1)}function jA(s,e,n,r){let l=typeof e=="string"?ml(e):e,u=Wi(l.pathname||"/",n);if(u==null)return null;let d=yE(s);AA(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let p=VA(u);g=kA(d[y],p,r)}return g}function yE(s,e=[],n=[],r="",l=!1){let u=(d,g,y=l,p)=>{let _={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&y)return;Lt(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let E=Ki([r,_.relativePath]),N=n.concat(_);d.children&&d.children.length>0&&(Lt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),yE(d.children,e,N,E,y)),!(d.path==null&&!d.index)&&e.push({path:E,score:PA(E,d.index),routesMeta:N})};return s.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))u(d,g);else for(let y of xE(d.path))u(d,g,!0,y)}),e}function xE(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let d=xE(r.join("/")),g=[];return g.push(...d.map(y=>y===""?u:[u,y].join("/"))),l&&g.push(...d),g.map(y=>s.startsWith("/")&&y===""?"/":y)}function AA(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:OA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var SA=/^:[\w-]+$/,CA=3,IA=2,RA=1,MA=10,DA=-2,iv=s=>s==="*";function PA(s,e){let n=s.split("/"),r=n.length;return n.some(iv)&&(r+=DA),e&&(r+=IA),n.filter(l=>!iv(l)).reduce((l,u)=>l+(SA.test(u)?CA:u===""?RA:MA),r)}function OA(s,e){return s.length===e.length&&s.slice(0,-1).every((r,l)=>r===e[l])?s[s.length-1]-e[e.length-1]:0}function kA(s,e,n=!1){let{routesMeta:r}=s,l={},u="/",d=[];for(let g=0;g<r.length;++g){let y=r[g],p=g===r.length-1,_=u==="/"?e:e.slice(u.length)||"/",E=xh({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},_),N=y.route;if(!E&&p&&n&&!r[r.length-1].route.index&&(E=xh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},_)),!E)return null;Object.assign(l,E.params),d.push({params:l,pathname:Ki([u,E.pathname]),pathnameBase:FA(Ki([u,E.pathnameBase])),route:N}),E.pathnameBase!=="/"&&(u=Ki([u,E.pathnameBase]))}return d}function xh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=LA(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:r.reduce((p,{paramName:_,isOptional:E},N)=>{if(_==="*"){let H=g[N]||"";d=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const V=g[N];return E&&!V?p[_]=void 0:p[_]=(V||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:s}}function LA(s,e=!1,n=!0){Us(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(r.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function VA(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Us(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Wi(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var bE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UA=s=>bE.test(s);function zA(s,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof s=="string"?ml(s):s,u;if(n)if(UA(n))u=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Us(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?u=rv(n.substring(1),"/"):u=rv(n,e)}else u=e;return{pathname:u,search:BA(r),hash:HA(l)}}function rv(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function hg(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qA(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vE(s){let e=qA(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _E(s,e,n,r=!1){let l;typeof s=="string"?l=ml(s):(l={...s},Lt(!l.pathname||!l.pathname.includes("?"),hg("?","pathname","search",l)),Lt(!l.pathname||!l.pathname.includes("#"),hg("#","pathname","hash",l)),Lt(!l.search||!l.search.includes("#"),hg("#","search","hash",l)));let u=s===""||l.pathname==="",d=u?"/":l.pathname,g;if(d==null)g=n;else{let E=e.length-1;if(!r&&d.startsWith("..")){let N=d.split("/");for(;N[0]==="..";)N.shift(),E-=1;l.pathname=N.join("/")}g=E>=0?e[E]:"/"}let y=zA(l,g),p=d&&d!=="/"&&d.endsWith("/"),_=(u||d===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(p||_)&&(y.pathname+="/"),y}var Ki=s=>s.join("/").replace(/\/\/+/g,"/"),FA=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),BA=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,HA=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,$A=class{constructor(s,e,n,r=!1){this.status=s,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function GA(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function KA(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var EE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function TE(s,e){let n=s;if(typeof n!="string"||!bE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,l=!1;if(EE)try{let u=new URL(window.location.href),d=n.startsWith("//")?new URL(u.protocol+n):new URL(n),g=Wi(d.pathname,e);d.origin===u.origin&&g!=null?n=g+d.search+d.hash:l=!0}catch{Us(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wE=["POST","PUT","PATCH","DELETE"];new Set(wE);var YA=["GET",...wE];new Set(YA);var gl=O.createContext(null);gl.displayName="DataRouter";var qh=O.createContext(null);qh.displayName="DataRouterState";var WA=O.createContext(!1),NE=O.createContext({isTransitioning:!1});NE.displayName="ViewTransition";var QA=O.createContext(new Map);QA.displayName="Fetchers";var XA=O.createContext(null);XA.displayName="Await";var Ts=O.createContext(null);Ts.displayName="Navigation";var cu=O.createContext(null);cu.displayName="Location";var er=O.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var Ep=O.createContext(null);Ep.displayName="RouteError";var jE="REACT_ROUTER_ERROR",JA="REDIRECT",ZA="ROUTE_ERROR_RESPONSE";function e1(s){if(s.startsWith(`${jE}:${JA}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function t1(s){if(s.startsWith(`${jE}:${ZA}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new $A(e.status,e.statusText,e.data)}catch{}}function n1(s,{relative:e}={}){Lt(uu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(Ts),{hash:l,pathname:u,search:d}=du(s,{relative:e}),g=u;return n!=="/"&&(g=u==="/"?n:Ki([n,u])),r.createHref({pathname:g,search:d,hash:l})}function uu(){return O.useContext(cu)!=null}function oa(){return Lt(uu(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(cu).location}var AE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SE(s){O.useContext(Ts).static||O.useLayoutEffect(s)}function s1(){let{isDataRoute:s}=O.useContext(er);return s?p1():i1()}function i1(){Lt(uu(),"useNavigate() may be used only in the context of a <Router> component.");let s=O.useContext(gl),{basename:e,navigator:n}=O.useContext(Ts),{matches:r}=O.useContext(er),{pathname:l}=oa(),u=JSON.stringify(vE(r)),d=O.useRef(!1);return SE(()=>{d.current=!0}),O.useCallback((y,p={})=>{if(Us(d.current,AE),!d.current)return;if(typeof y=="number"){n.go(y);return}let _=_E(y,JSON.parse(u),l,p.relative==="path");s==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ki([e,_.pathname])),(p.replace?n.replace:n.push)(_,p.state,p)},[e,n,u,l,s])}O.createContext(null);function du(s,{relative:e}={}){let{matches:n}=O.useContext(er),{pathname:r}=oa(),l=JSON.stringify(vE(n));return O.useMemo(()=>_E(s,JSON.parse(l),r,e==="path"),[s,l,r,e])}function r1(s,e){return CE(s,e)}function CE(s,e,n,r,l){Lt(uu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=O.useContext(Ts),{matches:d}=O.useContext(er),g=d[d.length-1],y=g?g.params:{},p=g?g.pathname:"/",_=g?g.pathnameBase:"/",E=g&&g.route;{let Z=E&&E.path||"";RE(p,!E||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let N=oa(),V;if(e){let Z=typeof e=="string"?ml(e):e;Lt(_==="/"||Z.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),V=Z}else V=N;let H=V.pathname||"/",z=H;if(_!=="/"){let Z=_.replace(/^\//,"").split("/");z="/"+H.replace(/^\//,"").split("/").slice(Z.length).join("/")}let q=pE(s,{pathname:z});Us(E||q!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Us(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=u1(q&&q.map(Z=>Object.assign({},Z,{params:Object.assign({},y,Z.params),pathname:Ki([_,u.encodeLocation?u.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?_:Ki([_,u.encodeLocation?u.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),d,n,r,l);return e&&ne?O.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},ne):ne}function a1(){let s=g1(),e=GA(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=O.createElement(O.Fragment,null,O.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:l},n):null,d)}var o1=O.createElement(a1,null),IE=class extends O.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const n=t1(s.digest);n&&(s=n)}let e=s!==void 0?O.createElement(er.Provider,{value:this.props.routeContext},O.createElement(Ep.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?O.createElement(l1,{error:s},e):e}};IE.contextType=WA;var fg=new WeakMap;function l1({children:s,error:e}){let{basename:n}=O.useContext(Ts);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=e1(e.digest);if(r){let l=fg.get(e);if(l)throw l;let u=TE(r.location,n);if(EE&&!fg.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw fg.set(e,d),d}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function c1({routeContext:s,match:e,children:n}){let r=O.useContext(gl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(er.Provider,{value:s},n)}function u1(s,e=[],n=null,r=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let u=s,d=n?.errors;if(d!=null){let _=u.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);Lt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let g=!1,y=-1;if(n)for(let _=0;_<u.length;_++){let E=u[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=_),E.route.id){let{loaderData:N,errors:V}=n,H=E.route.loader&&!N.hasOwnProperty(E.route.id)&&(!V||V[E.route.id]===void 0);if(E.route.lazy||H){g=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}let p=n&&r?(_,E)=>{r(_,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:KA(n.matches),errorInfo:E})}:void 0;return u.reduceRight((_,E,N)=>{let V,H=!1,z=null,q=null;n&&(V=d&&E.route.id?d[E.route.id]:void 0,z=E.route.errorElement||o1,g&&(y<0&&N===0?(RE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,q=null):y===N&&(H=!0,q=E.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,N+1)),Z=()=>{let J;return V?J=z:H?J=q:E.route.Component?J=O.createElement(E.route.Component,null):E.route.element?J=E.route.element:J=_,O.createElement(c1,{match:E,routeContext:{outlet:_,matches:ne,isDataRoute:n!=null},children:J})};return n&&(E.route.ErrorBoundary||E.route.errorElement||N===0)?O.createElement(IE,{location:n.location,revalidation:n.revalidation,component:z,error:V,children:Z(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:p}):Z()},null)}function Tp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d1(s){let e=O.useContext(gl);return Lt(e,Tp(s)),e}function h1(s){let e=O.useContext(qh);return Lt(e,Tp(s)),e}function f1(s){let e=O.useContext(er);return Lt(e,Tp(s)),e}function wp(s){let e=f1(s),n=e.matches[e.matches.length-1];return Lt(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function m1(){return wp("useRouteId")}function g1(){let s=O.useContext(Ep),e=h1("useRouteError"),n=wp("useRouteError");return s!==void 0?s:e.errors?.[n]}function p1(){let{router:s}=d1("useNavigate"),e=wp("useNavigate"),n=O.useRef(!1);return SE(()=>{n.current=!0}),O.useCallback(async(l,u={})=>{Us(n.current,AE),n.current&&(typeof l=="number"?await s.navigate(l):await s.navigate(l,{fromRouteId:e,...u}))},[s,e])}var av={};function RE(s,e,n){!e&&!av[s]&&(av[s]=!0,Us(!1,n))}O.memo(y1);function y1({routes:s,future:e,state:n,onError:r}){return CE(s,void 0,n,r,e)}function jt(s){Lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x1({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:u=!1,unstable_useTransitions:d}){Lt(!uu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=s.replace(/^\/*/,"/"),y=O.useMemo(()=>({basename:g,navigator:l,static:u,unstable_useTransitions:d,future:{}}),[g,l,u,d]);typeof n=="string"&&(n=ml(n));let{pathname:p="/",search:_="",hash:E="",state:N=null,key:V="default"}=n,H=O.useMemo(()=>{let z=Wi(p,g);return z==null?null:{location:{pathname:z,search:_,hash:E,state:N,key:V},navigationType:r}},[g,p,_,E,N,V,r]);return Us(H!=null,`<Router basename="${g}"> is not able to match the URL "${p}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:O.createElement(Ts.Provider,{value:y},O.createElement(cu.Provider,{children:e,value:H}))}function b1({children:s,location:e}){return r1(zg(s),e)}function zg(s,e=[]){let n=[];return O.Children.forEach(s,(r,l)=>{if(!O.isValidElement(r))return;let u=[...e,l];if(r.type===O.Fragment){n.push.apply(n,zg(r.props.children,u));return}Lt(r.type===jt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=zg(r.props.children,u)),n.push(d)}),n}var ih="get",rh="application/x-www-form-urlencoded";function Fh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function v1(s){return Fh(s)&&s.tagName.toLowerCase()==="button"}function _1(s){return Fh(s)&&s.tagName.toLowerCase()==="form"}function E1(s){return Fh(s)&&s.tagName.toLowerCase()==="input"}function T1(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function w1(s,e){return s.button===0&&(!e||e==="_self")&&!T1(s)}var Kd=null;function N1(){if(Kd===null)try{new FormData(document.createElement("form"),0),Kd=!1}catch{Kd=!0}return Kd}var j1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mg(s){return s!=null&&!j1.has(s)?(Us(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rh}"`),null):s}function A1(s,e){let n,r,l,u,d;if(_1(s)){let g=s.getAttribute("action");r=g?Wi(g,e):null,n=s.getAttribute("method")||ih,l=mg(s.getAttribute("enctype"))||rh,u=new FormData(s)}else if(v1(s)||E1(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||g.getAttribute("action");if(r=y?Wi(y,e):null,n=s.getAttribute("formmethod")||g.getAttribute("method")||ih,l=mg(s.getAttribute("formenctype"))||mg(g.getAttribute("enctype"))||rh,u=new FormData(g,s),!N1()){let{name:p,type:_,value:E}=s;if(_==="image"){let N=p?`${p}.`:"";u.append(`${N}x`,"0"),u.append(`${N}y`,"0")}else p&&u.append(p,E)}}else{if(Fh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ih,r=null,l=rh,d=s}return u&&l==="text/plain"&&(d=u,u=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Np(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function S1(s,e,n,r){let l=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${r}`:l.pathname=`${l.pathname}.${r}`:l.pathname==="/"?l.pathname=`_root.${r}`:e&&Wi(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function C1(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I1(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function R1(s,e,n){let r=await Promise.all(s.map(async l=>{let u=e.routes[l.route.id];if(u){let d=await C1(u,n);return d.links?d.links():[]}return[]}));return O1(r.flat(1).filter(I1).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function ov(s,e,n,r,l,u){let d=(y,p)=>n[p]?y.route.id!==n[p].route.id:!0,g=(y,p)=>n[p].pathname!==y.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,p)=>d(y,p)||g(y,p)):u==="data"?e.filter((y,p)=>{let _=r.routes[y.route.id];if(!_||!_.hasLoader)return!1;if(d(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let E=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function M1(s,e,{includeHydrateFallback:n}={}){return D1(s.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function D1(s){return[...new Set(s)]}function P1(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function O1(s,e){let n=new Set;return new Set(e),s.reduce((r,l)=>{let u=JSON.stringify(P1(l));return n.has(u)||(n.add(u),r.push({key:u,link:l})),r},[])}function ME(){let s=O.useContext(gl);return Np(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function k1(){let s=O.useContext(qh);return Np(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var jp=O.createContext(void 0);jp.displayName="FrameworkContext";function DE(){let s=O.useContext(jp);return Np(s,"You must render this element inside a <HydratedRouter> element"),s}function L1(s,e){let n=O.useContext(jp),[r,l]=O.useState(!1),[u,d]=O.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:_,onTouchStart:E}=e,N=O.useRef(null);O.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let z=ne=>{ne.forEach(Z=>{d(Z.isIntersecting)})},q=new IntersectionObserver(z,{threshold:.5});return N.current&&q.observe(N.current),()=>{q.disconnect()}}},[s]),O.useEffect(()=>{if(r){let z=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(z)}}},[r]);let V=()=>{l(!0)},H=()=>{l(!1),d(!1)};return n?s!=="intent"?[u,N,{}]:[u,N,{onFocus:Nc(g,V),onBlur:Nc(y,H),onMouseEnter:Nc(p,V),onMouseLeave:Nc(_,H),onTouchStart:Nc(E,V)}]:[!1,N,{}]}function Nc(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function V1({page:s,...e}){let{router:n}=ME(),r=O.useMemo(()=>pE(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?O.createElement(z1,{page:s,matches:r,...e}):null}function U1(s){let{manifest:e,routeModules:n}=DE(),[r,l]=O.useState([]);return O.useEffect(()=>{let u=!1;return R1(s,e,n).then(d=>{u||l(d)}),()=>{u=!0}},[s,e,n]),r}function z1({page:s,matches:e,...n}){let r=oa(),{future:l,manifest:u,routeModules:d}=DE(),{basename:g}=ME(),{loaderData:y,matches:p}=k1(),_=O.useMemo(()=>ov(s,e,p,u,r,"data"),[s,e,p,u,r]),E=O.useMemo(()=>ov(s,e,p,u,r,"assets"),[s,e,p,u,r]),N=O.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let z=new Set,q=!1;if(e.forEach(Z=>{let J=u.routes[Z.route.id];!J||!J.hasLoader||(!_.some(B=>B.route.id===Z.route.id)&&Z.route.id in y&&d[Z.route.id]?.shouldRevalidate||J.hasClientLoader?q=!0:z.add(Z.route.id))}),z.size===0)return[];let ne=S1(s,g,l.unstable_trailingSlashAwareDataRequests,"data");return q&&z.size>0&&ne.searchParams.set("_routes",e.filter(Z=>z.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[ne.pathname+ne.search]},[g,l.unstable_trailingSlashAwareDataRequests,y,r,u,_,e,s,d]),V=O.useMemo(()=>M1(E,u),[E,u]),H=U1(E);return O.createElement(O.Fragment,null,N.map(z=>O.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),V.map(z=>O.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),H.map(({key:z,link:q})=>O.createElement("link",{key:z,nonce:n.nonce,...q})))}function q1(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var F1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F1&&(window.__reactRouterVersion="7.12.0")}catch{}function B1({basename:s,children:e,unstable_useTransitions:n,window:r}){let l=O.useRef();l.current==null&&(l.current=EA({window:r,v5Compat:!0}));let u=l.current,[d,g]=O.useState({action:u.action,location:u.location}),y=O.useCallback(p=>{n===!1?g(p):O.startTransition(()=>g(p))},[n]);return O.useLayoutEffect(()=>u.listen(y),[u,y]),O.createElement(x1,{basename:s,children:e,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:n})}var PE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ye=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:u,replace:d,state:g,target:y,to:p,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:N,...V},H){let{basename:z,unstable_useTransitions:q}=O.useContext(Ts),ne=typeof p=="string"&&PE.test(p),Z=TE(p,z);p=Z.to;let J=n1(p,{relative:l}),[B,de,ge]=L1(r,V),S=K1(p,{replace:d,state:g,target:y,preventScrollReset:_,relative:l,viewTransition:E,unstable_defaultShouldRevalidate:N,unstable_useTransitions:q});function A(R){e&&e(R),R.defaultPrevented||S(R)}let I=O.createElement("a",{...V,...ge,href:Z.absoluteURL||J,onClick:Z.isExternal||u?e:A,ref:q1(H,de),target:y,"data-discover":!ne&&n==="render"?"true":void 0});return B&&!ne?O.createElement(O.Fragment,null,I,O.createElement(V1,{page:J})):I});ye.displayName="Link";var H1=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:u,to:d,viewTransition:g,children:y,...p},_){let E=du(d,{relative:p.relative}),N=oa(),V=O.useContext(qh),{navigator:H,basename:z}=O.useContext(Ts),q=V!=null&&J1(E)&&g===!0,ne=H.encodeLocation?H.encodeLocation(E).pathname:E.pathname,Z=N.pathname,J=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),J=J?J.toLowerCase():null,ne=ne.toLowerCase()),J&&z&&(J=Wi(J,z)||J);const B=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let de=Z===ne||!l&&Z.startsWith(ne)&&Z.charAt(B)==="/",ge=J!=null&&(J===ne||!l&&J.startsWith(ne)&&J.charAt(ne.length)==="/"),S={isActive:de,isPending:ge,isTransitioning:q},A=de?e:void 0,I;typeof r=="function"?I=r(S):I=[r,de?"active":null,ge?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let R=typeof u=="function"?u(S):u;return O.createElement(ye,{...p,"aria-current":A,className:I,ref:_,style:R,to:d,viewTransition:g},typeof y=="function"?y(S):y)});H1.displayName="NavLink";var $1=O.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:u,method:d=ih,action:g,onSubmit:y,relative:p,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:N,...V},H)=>{let{unstable_useTransitions:z}=O.useContext(Ts),q=Q1(),ne=X1(g,{relative:p}),Z=d.toLowerCase()==="get"?"get":"post",J=typeof g=="string"&&PE.test(g),B=de=>{if(y&&y(de),de.defaultPrevented)return;de.preventDefault();let ge=de.nativeEvent.submitter,S=ge?.getAttribute("formmethod")||d,A=()=>q(ge||de.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:l,state:u,relative:p,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:N});z&&n!==!1?O.startTransition(()=>A()):A()};return O.createElement("form",{ref:H,method:Z,action:ne,onSubmit:r?y:B,...V,"data-discover":!J&&s==="render"?"true":void 0})});$1.displayName="Form";function G1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OE(s){let e=O.useContext(gl);return Lt(e,G1(s)),e}function K1(s,{target:e,replace:n,state:r,preventScrollReset:l,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:g,unstable_useTransitions:y}={}){let p=s1(),_=oa(),E=du(s,{relative:u});return O.useCallback(N=>{if(w1(N,e)){N.preventDefault();let V=n!==void 0?n:Gc(_)===Gc(E),H=()=>p(s,{replace:V,state:r,preventScrollReset:l,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:g});y?O.startTransition(()=>H()):H()}},[_,p,E,n,r,e,s,l,u,d,g,y])}var Y1=0,W1=()=>`__${String(++Y1)}__`;function Q1(){let{router:s}=OE("useSubmit"),{basename:e}=O.useContext(Ts),n=m1(),r=s.fetch,l=s.navigate;return O.useCallback(async(u,d={})=>{let{action:g,method:y,encType:p,formData:_,body:E}=A1(u,e);if(d.navigate===!1){let N=d.fetcherKey||W1();await r(N,n,d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:_,body:E,formMethod:d.method||y,formEncType:d.encType||p,flushSync:d.flushSync})}else await l(d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:_,body:E,formMethod:d.method||y,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,l,e,n])}function X1(s,{relative:e}={}){let{basename:n}=O.useContext(Ts),r=O.useContext(er);Lt(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...du(s||".",{relative:e})},d=oa();if(s==null){u.search=d.search;let g=new URLSearchParams(u.search),y=g.getAll("index");if(y.some(_=>_==="")){g.delete("index"),y.filter(E=>E).forEach(E=>g.append("index",E));let _=g.toString();u.search=_?`?${_}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ki([n,u.pathname])),Gc(u)}function J1(s,{relative:e}={}){let n=O.useContext(NE);Lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=OE("useViewTransitionState"),l=du(s,{relative:e});if(!n.isTransitioning)return!1;let u=Wi(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=Wi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xh(l.pathname,d)!=null||xh(l.pathname,u)!=null}var gg={exports:{}},An={};var lv;function Z1(){if(lv)return An;lv=1;var s=_p();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,p,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:y,containerInfo:p,implementation:_}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,An.createPortal=function(y,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,_)},An.flushSync=function(y){var p=d.T,_=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=p,r.p=_,r.d.f()}},An.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},An.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},An.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var _=p.as,E=g(_,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,V=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:N,fetchPriority:V}):_==="script"&&r.d.X(y,{crossOrigin:E,integrity:N,fetchPriority:V,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},An.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=g(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},An.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,E=g(_,p.crossOrigin);r.d.L(y,_,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},An.preloadModule=function(y,p){if(typeof y=="string")if(p){var _=g(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},An.requestFormReset=function(y){r.d.r(y)},An.unstable_batchedUpdates=function(y,p){return y(p)},An.useFormState=function(y,p,_){return d.H.useFormState(y,p,_)},An.useFormStatus=function(){return d.H.useHostTransitionStatus()},An.version="19.2.3",An}var cv;function eS(){if(cv)return gg.exports;cv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),gg.exports=Z1(),gg.exports}var pg={exports:{}},jc={},yg={exports:{}},xg={};var uv;function tS(){return uv||(uv=1,(function(s){function e(Q,he){var pe=Q.length;Q.push(he);e:for(;0<pe;){var Pe=pe-1>>>1,Be=Q[Pe];if(0<l(Be,he))Q[Pe]=he,Q[pe]=Be,pe=Pe;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var he=Q[0],pe=Q.pop();if(pe!==he){Q[0]=pe;e:for(var Pe=0,Be=Q.length,k=Be>>>1;Pe<k;){var j=2*(Pe+1)-1,C=Q[j],K=j+1,ce=Q[K];if(0>l(C,pe))K<Be&&0>l(ce,C)?(Q[Pe]=ce,Q[K]=pe,Pe=K):(Q[Pe]=C,Q[j]=pe,Pe=j);else if(K<Be&&0>l(ce,pe))Q[Pe]=ce,Q[K]=pe,Pe=K;else break e}}return he}function l(Q,he){var pe=Q.sortIndex-he.sortIndex;return pe!==0?pe:Q.id-he.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],p=[],_=1,E=null,N=3,V=!1,H=!1,z=!1,q=!1,ne=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function B(Q){for(var he=n(p);he!==null;){if(he.callback===null)r(p);else if(he.startTime<=Q)r(p),he.sortIndex=he.expirationTime,e(y,he);else break;he=n(p)}}function de(Q){if(z=!1,B(Q),!H)if(n(y)!==null)H=!0,ge||(ge=!0,F());else{var he=n(p);he!==null&&be(de,he.startTime-Q)}}var ge=!1,S=-1,A=5,I=-1;function R(){return q?!0:!(s.unstable_now()-I<A)}function P(){if(q=!1,ge){var Q=s.unstable_now();I=Q;var he=!0;try{e:{H=!1,z&&(z=!1,Z(S),S=-1),V=!0;var pe=N;try{t:{for(B(Q),E=n(y);E!==null&&!(E.expirationTime>Q&&R());){var Pe=E.callback;if(typeof Pe=="function"){E.callback=null,N=E.priorityLevel;var Be=Pe(E.expirationTime<=Q);if(Q=s.unstable_now(),typeof Be=="function"){E.callback=Be,B(Q),he=!0;break t}E===n(y)&&r(y),B(Q)}else r(y);E=n(y)}if(E!==null)he=!0;else{var k=n(p);k!==null&&be(de,k.startTime-Q),he=!1}}break e}finally{E=null,N=pe,V=!1}he=void 0}}finally{he?F():ge=!1}}}var F;if(typeof J=="function")F=function(){J(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Ne=M.port2;M.port1.onmessage=P,F=function(){Ne.postMessage(null)}}else F=function(){ne(P,0)};function be(Q,he){S=ne(function(){Q(s.unstable_now())},he)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(Q){switch(N){case 1:case 2:case 3:var he=3;break;default:he=N}var pe=N;N=he;try{return Q()}finally{N=pe}},s.unstable_requestPaint=function(){q=!0},s.unstable_runWithPriority=function(Q,he){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pe=N;N=Q;try{return he()}finally{N=pe}},s.unstable_scheduleCallback=function(Q,he,pe){var Pe=s.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Pe+pe:Pe):pe=Pe,Q){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=pe+Be,Q={id:_++,callback:he,priorityLevel:Q,startTime:pe,expirationTime:Be,sortIndex:-1},pe>Pe?(Q.sortIndex=pe,e(p,Q),n(y)===null&&Q===n(p)&&(z?(Z(S),S=-1):z=!0,be(de,pe-Pe))):(Q.sortIndex=Be,e(y,Q),H||V||(H=!0,ge||(ge=!0,F()))),Q},s.unstable_shouldYield=R,s.unstable_wrapCallback=function(Q){var he=N;return function(){var pe=N;N=he;try{return Q.apply(this,arguments)}finally{N=pe}}}})(xg)),xg}var dv;function nS(){return dv||(dv=1,yg.exports=tS()),yg.exports}var hv;function sS(){if(hv)return jc;hv=1;var s=nS(),e=_p(),n=eS();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(r(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var o=t,c=i;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return y(f),t;if(m===c)return y(f),i;m=m.sibling}throw Error(r(188))}if(o.return!==c.return)o=f,c=m;else{for(var b=!1,T=f.child;T;){if(T===o){b=!0,o=f,c=m;break}if(T===c){b=!0,c=f,o=m;break}T=T.sibling}if(!b){for(T=m.child;T;){if(T===o){b=!0,o=m,c=f;break}if(T===c){b=!0,c=m,o=f;break}T=T.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:i}function _(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=_(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,N=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),J=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function F(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case ne:return"Profiler";case q:return"StrictMode";case de:return"Suspense";case ge:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case J:return t.displayName||"Context";case Z:return(t._context.displayName||"Context")+".Consumer";case B:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S:return i=t.displayName||null,i!==null?i:Ne(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return Ne(t(i))}catch{}}return null}var be=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Pe=[],Be=-1;function k(t){return{current:t}}function j(t){0>Be||(t.current=Pe[Be],Pe[Be]=null,Be--)}function C(t,i){Be++,Pe[Be]=t.current,t.current=i}var K=k(null),ce=k(null),ue=k(null),Ae=k(null);function ct(t,i){switch(C(ue,i),C(ce,t),C(K,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?_b(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=_b(i),t=Eb(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(K),C(K,t)}function nt(){j(K),j(ce),j(ue)}function _i(t){t.memoizedState!==null&&C(Ae,t);var i=K.current,o=Eb(i,t.type);i!==o&&(C(ce,t),C(K,o))}function tr(t){ce.current===t&&(j(K),j(ce)),Ae.current===t&&(j(Ae),vc._currentValue=pe)}var nr,L;function re(t){if(nr===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);nr=i&&i[1]||"",L=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nr+t+L}var me=!1;function _e(t,i){if(!t||me)return"";me=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(te){var X=te}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(te){X=te}t.call(ae.prototype)}}else{try{throw Error()}catch(te){X=te}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(te){if(te&&X&&typeof te.stack=="string")return[te.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),b=m[0],T=m[1];if(b&&T){var D=b.split(`
`),W=T.split(`
`);for(f=c=0;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;for(;f<W.length&&!W[f].includes("DetermineComponentFrameRoot");)f++;if(c===D.length||f===W.length)for(c=D.length-1,f=W.length-1;1<=c&&0<=f&&D[c]!==W[f];)f--;for(;1<=c&&0<=f;c--,f--)if(D[c]!==W[f]){if(c!==1||f!==1)do if(c--,f--,0>f||D[c]!==W[f]){var se=`
`+D[c].replace(" at new "," at ");return t.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",t.displayName)),se}while(1<=c&&0<=f);break}}}finally{me=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?re(o):""}function ve(t,i){switch(t.tag){case 26:case 27:case 5:return re(t.type);case 16:return re("Lazy");case 13:return t.child!==i&&i!==null?re("Suspense Fallback"):re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return _e(t.type,!1);case 11:return _e(t.type.render,!1);case 1:return _e(t.type,!0);case 31:return re("Activity");default:return""}}function Ie(t){try{var i="",o=null;do i+=ve(t,o),o=t,t=t.return;while(t);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var xe=Object.prototype.hasOwnProperty,qe=s.unstable_scheduleCallback,Nt=s.unstable_cancelCallback,is=s.unstable_shouldYield,oo=s.unstable_requestPaint,Yt=s.unstable_now,rs=s.unstable_getCurrentPriorityLevel,sr=s.unstable_ImmediatePriority,ir=s.unstable_UserBlockingPriority,Bs=s.unstable_NormalPriority,wl=s.unstable_LowPriority,Ze=s.unstable_IdlePriority,gt=s.log,dn=s.unstable_setDisableYieldValue,kt=null,Ke=null;function dt(t){if(typeof gt=="function"&&dn(t),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(kt,t)}catch{}}var et=Math.clz32?Math.clz32:ar,rr=Math.log,Hs=Math.LN2;function ar(t){return t>>>=0,t===0?32:31-(rr(t)/Hs|0)|0}var as=256,Ei=262144,Ut=4194304;function os(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $s(t,i,o){var c=t.pendingLanes;if(c===0)return 0;var f=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=c&134217727;return T!==0?(c=T&~m,c!==0?f=os(c):(b&=T,b!==0?f=os(b):o||(o=T&~t,o!==0&&(f=os(o))))):(T=c&~m,T!==0?f=os(T):b!==0?f=os(b):o||(o=c&~t,o!==0&&(f=os(o)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:f}function ws(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function mf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var t=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),t}function Gs(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function fa(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gf(t,i,o,c,f,m){var b=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,W=t.hiddenUpdates;for(o=b&~o;0<o;){var se=31-et(o),ae=1<<se;T[se]=0,D[se]=-1;var X=W[se];if(X!==null)for(W[se]=null,se=0;se<X.length;se++){var te=X[se];te!==null&&(te.lane&=-536870913)}o&=~ae}c!==0&&ma(t,c,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~i))}function ma(t,i,o){t.pendingLanes|=i,t.suspendedLanes&=~i;var c=31-et(i);t.entangledLanes|=i,t.entanglements[c]=t.entanglements[c]|1073741824|o&261930}function Nl(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var c=31-et(o),f=1<<c;f&i|t[c]&i&&(t[c]|=i),o&=~f}}function jl(t,i){var o=i&-i;return o=(o&42)!==0?1:ga(o),(o&(t.suspendedLanes|i))!==0?0:o}function ga(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ti(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nu(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:$b(t.type))}function Ns(t,i){var o=he.p;try{return he.p=t,i()}finally{he.p=o}}var js=Math.random().toString(36).slice(2),Wt="__reactFiber$"+js,hn="__reactProps$"+js,Ks="__reactContainer$"+js,lo="__reactEvents$"+js,pf="__reactListeners$"+js,ju="__reactHandles$"+js,Au="__reactResources$"+js,Ys="__reactMarker$"+js;function co(t){delete t[Wt],delete t[hn],delete t[lo],delete t[pf],delete t[ju]}function Ws(t){var i=t[Wt];if(i)return i;for(var o=t.parentNode;o;){if(i=o[Ks]||o[Wt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=Cb(t);t!==null;){if(o=t[Wt])return o;t=Cb(t)}return i}t=o,o=t.parentNode}return null}function ls(t){if(t=t[Wt]||t[Ks]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Hn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Qs(t){var i=t[Au];return i||(i=t[Au]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Qt(t){t[Ys]=!0}var Al=new Set,Sl={};function Xs(t,i){Js(t,i),Js(t+"Capture",i)}function Js(t,i){for(Sl[t]=i,t=0;t<i.length;t++)Al.add(i[t])}var Cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},Rl={};function Su(t){return xe.call(Rl,t)?!0:xe.call(Il,t)?!1:Cl.test(t)?Rl[t]=!0:(Il[t]=!0,!1)}function uo(t,i,o){if(Su(i))if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+o)}}function $n(t,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+o)}}function Xt(t,i,o,c){if(c===null)t.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(i,o,""+c)}}function fn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function or(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ml(t,i,o){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(b){o=""+b,m.call(this,b)}}),Object.defineProperty(t,i,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ht(t){if(!t._valueTracker){var i=or(t)?"checked":"value";t._valueTracker=Ml(t,i,""+t[i])}}function pa(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return t&&(c=or(t)?t.checked?"true":"false":t.value),t=c,t!==o?(i.setValue(t),!0):!1}function Zs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ya=/[\n"\\]/g;function On(t){return t.replace(ya,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ho(t,i,o,c,f,m,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),i!=null?b==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+fn(i)):t.value!==""+fn(i)&&(t.value=""+fn(i)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),i!=null?Dl(t,b,fn(i)):o!=null?Dl(t,b,fn(o)):c!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+fn(T):t.removeAttribute("name")}function Cu(t,i,o,c,f,m,b,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){ht(t);return}o=o!=null?""+fn(o):"",i=i!=null?""+fn(i):o,T||i===t.value||(t.value=i),t.defaultValue=i}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=T?t.checked:!!c,t.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),ht(t)}function Dl(t,i,o){i==="number"&&Zs(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function lr(t,i,o,c){if(t=t.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=i.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&c&&(t[o].defaultSelected=!0)}else{for(o=""+fn(o),i=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Iu(t,i,o){if(i!=null&&(i=""+fn(i),i!==t.value&&(t.value=i),o==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=o!=null?""+fn(o):""}function cr(t,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(r(92));if(be(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=fn(i),t.defaultValue=o,c=t.textContent,c===o&&c!==""&&c!==null&&(t.value=c),ht(t)}function kn(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var Ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pl(t,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":c?t.setProperty(i,o):typeof o!="number"||o===0||Ru.has(i)?i==="float"?t.cssFloat=o:t[i]=(""+o).trim():t[i]=o+"px"}function Ol(t,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var f in i)c=i[f],i.hasOwnProperty(f)&&o[f]!==c&&Pl(t,f,c)}else for(var m in i)i.hasOwnProperty(m)&&Pl(t,m,i[m])}function fo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ur=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mo(t){return ur.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function As(){}var kl=null;function cs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dr=null,ei=null;function xa(t){var i=ls(t);if(i&&(t=i.stateNode)){var o=t[hn]||null;e:switch(t=i.stateNode,i.type){case"input":if(ho(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+On(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==t&&c.form===t.form){var f=c[hn]||null;if(!f)throw Error(r(90));ho(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===t.form&&pa(c)}break e;case"textarea":Iu(t,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&lr(t,!!o.multiple,i,!1)}}}var go=!1;function hr(t,i,o){if(go)return t(i,o);go=!0;try{var c=t(i);return c}finally{if(go=!1,(dr!==null||ei!==null)&&(Nd(),dr&&(i=dr,t=ei,ei=dr=null,xa(i),t)))for(i=0;i<t.length;i++)xa(t[i])}}function Ss(t,i){var o=t.stateNode;if(o===null)return null;var c=o[hn]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=!1;if(us)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){ba=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{ba=!1}var ti=null,Ll=null,va=null;function Vl(){if(va)return va;var t,i=Ll,o=i.length,c,f="value"in ti?ti.value:ti.textContent,m=f.length;for(t=0;t<o&&i[t]===f[t];t++);var b=o-t;for(c=1;c<=b&&i[o-c]===f[m-c];c++);return va=f.slice(t,1<c?1-c:void 0)}function _a(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function wi(){return!0}function Cs(){return!1}function xn(t){function i(o,c,f,m,b){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(o=t[T],this[T]=o?o(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?wi:Cs,this.isPropagationStopped=Cs,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),i}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ni=xn(Ni),fr=E({},Ni,{view:0,detail:0}),Ul=xn(fr),mr,po,si,yo=E({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(mr=t.screenX-si.screenX,po=t.screenY-si.screenY):po=mr=0,si=t),mr)},movementY:function(t){return"movementY"in t?t.movementY:po}}),zl=xn(yo),Ea=E({},yo,{dataTransfer:0}),Du=xn(Ea),Pu=E({},fr,{relatedTarget:0}),Ta=xn(Pu),ql=E({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Ou=xn(ql),xo=E({},Ni,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ku=xn(xo),Lu=E({},Ni,{data:0}),ii=xn(Lu),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=zu[t])?!!i[t]:!1}function gr(){return qu}var Mn=E({},fr,{key:function(t){if(t.key){var i=Vu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=_a(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(t){return t.type==="keypress"?_a(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_a(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fu=xn(Mn),Bu=E({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ji=xn(Bu),h=E({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),x=xn(h),v=E({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=xn(v),G=E({},yo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=xn(G),fe=E({},Ni,{newState:0,oldState:0}),Ue=xn(fe),Ht=[9,13,27,32],ot=us&&"CompositionEvent"in window,Pt=null;us&&"documentMode"in document&&(Pt=document.documentMode);var ds=us&&"TextEvent"in window&&!Pt,ri=us&&(!ot||Pt&&8<Pt&&11>=Pt),Is=" ",Rs=!1;function wa(t,i){switch(t){case"keyup":return Ht.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vo=!1;function BN(t,i){switch(t){case"compositionend":return bo(i);case"keypress":return i.which!==32?null:(Rs=!0,Is);case"textInput":return t=i.data,t===Is&&Rs?null:t;default:return null}}function HN(t,i){if(vo)return t==="compositionend"||!ot&&wa(t,i)?(t=Vl(),va=Ll=ti=null,vo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ri&&i.locale!=="ko"?null:i.data;default:return null}}var $N={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function My(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!$N[t.type]:i==="textarea"}function Dy(t,i,o,c){dr?ei?ei.push(c):ei=[c]:dr=c,i=Md(i,"onChange"),0<i.length&&(o=new ni("onChange","change",null,o,c),t.push({event:o,listeners:i}))}var Fl=null,Bl=null;function GN(t){gb(t,0)}function Hu(t){var i=Hn(t);if(pa(i))return t}function Py(t,i){if(t==="change")return i}var Oy=!1;if(us){var yf;if(us){var xf="oninput"in document;if(!xf){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),xf=typeof ky.oninput=="function"}yf=xf}else yf=!1;Oy=yf&&(!document.documentMode||9<document.documentMode)}function Ly(){Fl&&(Fl.detachEvent("onpropertychange",Vy),Bl=Fl=null)}function Vy(t){if(t.propertyName==="value"&&Hu(Bl)){var i=[];Dy(i,Bl,t,cs(t)),hr(GN,i)}}function KN(t,i,o){t==="focusin"?(Ly(),Fl=i,Bl=o,Fl.attachEvent("onpropertychange",Vy)):t==="focusout"&&Ly()}function YN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu(Bl)}function WN(t,i){if(t==="click")return Hu(i)}function QN(t,i){if(t==="input"||t==="change")return Hu(i)}function XN(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Gn=typeof Object.is=="function"?Object.is:XN;function Hl(t,i){if(Gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!xe.call(i,f)||!Gn(t[f],i[f]))return!1}return!0}function Uy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zy(t,i){var o=Uy(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=i&&c>=i)return{node:o,offset:i-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Uy(o)}}function qy(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?qy(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Fy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Zs(t.document);i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=Zs(t.document)}return i}function bf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var JN=us&&"documentMode"in document&&11>=document.documentMode,_o=null,vf=null,$l=null,_f=!1;function By(t,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_f||_o==null||_o!==Zs(c)||(c=_o,"selectionStart"in c&&bf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),$l&&Hl($l,c)||($l=c,c=Md(vf,"onSelect"),0<c.length&&(i=new ni("onSelect","select",null,i,o),t.push({event:i,listeners:c}),i.target=_o)))}function Na(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var Eo={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},Ef={},Hy={};us&&(Hy=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function ja(t){if(Ef[t])return Ef[t];if(!Eo[t])return t;var i=Eo[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in Hy)return Ef[t]=i[o];return t}var $y=ja("animationend"),Gy=ja("animationiteration"),Ky=ja("animationstart"),ZN=ja("transitionrun"),ej=ja("transitionstart"),tj=ja("transitioncancel"),Yy=ja("transitionend"),Wy=new Map,Tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tf.push("scrollEnd");function Ms(t,i){Wy.set(t,i),Xs(i,[t])}var $u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},hs=[],To=0,wf=0;function Gu(){for(var t=To,i=wf=To=0;i<t;){var o=hs[i];hs[i++]=null;var c=hs[i];hs[i++]=null;var f=hs[i];hs[i++]=null;var m=hs[i];if(hs[i++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}m!==0&&Qy(o,f,m)}}function Ku(t,i,o,c){hs[To++]=t,hs[To++]=i,hs[To++]=o,hs[To++]=c,wf|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Nf(t,i,o,c){return Ku(t,i,o,c),Yu(t)}function Aa(t,i){return Ku(t,null,null,i),Yu(t)}function Qy(t,i,o){t.lanes|=o;var c=t.alternate;c!==null&&(c.lanes|=o);for(var f=!1,m=t.return;m!==null;)m.childLanes|=o,c=m.alternate,c!==null&&(c.childLanes|=o),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&i!==null&&(f=31-et(o),t=m.hiddenUpdates,c=t[f],c===null?t[f]=[i]:c.push(i),i.lane=o|536870912),m):null}function Yu(t){if(50<fc)throw fc=0,Pm=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var wo={};function nj(t,i,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,i,o,c){return new nj(t,i,o,c)}function jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ai(t,i){var o=t.alternate;return o===null?(o=Kn(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function Xy(t,i){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,i=o.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Wu(t,i,o,c,f,m){var b=0;if(c=t,typeof t=="function")jf(t)&&(b=1);else if(typeof t=="string")b=oA(t,o,K.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Kn(31,o,i,f),t.elementType=I,t.lanes=m,t;case z:return Sa(o.children,f,m,i);case q:b=8,f|=24;break;case ne:return t=Kn(12,o,i,f|2),t.elementType=ne,t.lanes=m,t;case de:return t=Kn(13,o,i,f),t.elementType=de,t.lanes=m,t;case ge:return t=Kn(19,o,i,f),t.elementType=ge,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:b=10;break e;case Z:b=9;break e;case B:b=11;break e;case S:b=14;break e;case A:b=16,c=null;break e}b=29,o=Error(r(130,t===null?"null":typeof t,"")),c=null}return i=Kn(b,o,i,f),i.elementType=t,i.type=c,i.lanes=m,i}function Sa(t,i,o,c){return t=Kn(7,t,c,i),t.lanes=o,t}function Af(t,i,o){return t=Kn(6,t,null,i),t.lanes=o,t}function Jy(t){var i=Kn(18,null,null,0);return i.stateNode=t,i}function Sf(t,i,o){return i=Kn(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Zy=new WeakMap;function fs(t,i){if(typeof t=="object"&&t!==null){var o=Zy.get(t);return o!==void 0?o:(i={value:t,source:i,stack:Ie(i)},Zy.set(t,i),i)}return{value:t,source:i,stack:Ie(i)}}var No=[],jo=0,Qu=null,Gl=0,ms=[],gs=0,pr=null,ai=1,oi="";function Si(t,i){No[jo++]=Gl,No[jo++]=Qu,Qu=t,Gl=i}function ex(t,i,o){ms[gs++]=ai,ms[gs++]=oi,ms[gs++]=pr,pr=t;var c=ai;t=oi;var f=32-et(c)-1;c&=~(1<<f),o+=1;var m=32-et(i)+f;if(30<m){var b=f-f%5;m=(c&(1<<b)-1).toString(32),c>>=b,f-=b,ai=1<<32-et(i)+f|o<<f|c,oi=m+t}else ai=1<<m|o<<f|c,oi=t}function Cf(t){t.return!==null&&(Si(t,1),ex(t,1,0))}function If(t){for(;t===Qu;)Qu=No[--jo],No[jo]=null,Gl=No[--jo],No[jo]=null;for(;t===pr;)pr=ms[--gs],ms[gs]=null,oi=ms[--gs],ms[gs]=null,ai=ms[--gs],ms[gs]=null}function tx(t,i){ms[gs++]=ai,ms[gs++]=oi,ms[gs++]=pr,ai=i.id,oi=i.overflow,pr=t}var bn=null,St=null,tt=!1,yr=null,ps=!1,Rf=Error(r(519));function xr(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(fs(i,t)),Rf}function nx(t){var i=t.stateNode,o=t.type,c=t.memoizedProps;switch(i[Wt]=t,i[hn]=c,o){case"dialog":$e("cancel",i),$e("close",i);break;case"iframe":case"object":case"embed":$e("load",i);break;case"video":case"audio":for(o=0;o<gc.length;o++)$e(gc[o],i);break;case"source":$e("error",i);break;case"img":case"image":case"link":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"input":$e("invalid",i),Cu(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":$e("invalid",i);break;case"textarea":$e("invalid",i),cr(i,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||bb(i.textContent,o)?(c.popover!=null&&($e("beforetoggle",i),$e("toggle",i)),c.onScroll!=null&&$e("scroll",i),c.onScrollEnd!=null&&$e("scrollend",i),c.onClick!=null&&(i.onclick=As),i=!0):i=!1,i||xr(t,!0)}function sx(t){for(bn=t.return;bn;)switch(bn.tag){case 5:case 31:case 13:ps=!1;return;case 27:case 3:ps=!0;return;default:bn=bn.return}}function Ao(t){if(t!==bn)return!1;if(!tt)return sx(t),tt=!0,!1;var i=t.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Wm(t.type,t.memoizedProps)),o=!o),o&&St&&xr(t),sx(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));St=Sb(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));St=Sb(t)}else i===27?(i=St,Mr(t.type)?(t=eg,eg=null,St=t):St=i):St=bn?xs(t.stateNode.nextSibling):null;return!0}function Ca(){St=bn=null,tt=!1}function Mf(){var t=yr;return t!==null&&(zn===null?zn=t:zn.push.apply(zn,t),yr=null),t}function Kl(t){yr===null?yr=[t]:yr.push(t)}var Df=k(null),Ia=null,Ci=null;function br(t,i,o){C(Df,i._currentValue),i._currentValue=o}function Ii(t){t._currentValue=Df.current,j(Df)}function Pf(t,i,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===o)break;t=t.return}}function Of(t,i,o,c){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var D=0;D<i.length;D++)if(T.context===i[D]){m.lanes|=o,T=m.alternate,T!==null&&(T.lanes|=o),Pf(m.return,o,t),c||(b=null);break e}m=T.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=o,m=b.alternate,m!==null&&(m.lanes|=o),Pf(b,o,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function So(t,i,o,c){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var T=f.type;Gn(f.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(f===Ae.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(vc):t=[vc])}f=f.return}t!==null&&Of(i,t,o,c),i.flags|=262144}function Xu(t){for(t=t.firstContext;t!==null;){if(!Gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ra(t){Ia=t,Ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function vn(t){return ix(Ia,t)}function Ju(t,i){return Ia===null&&Ra(t),ix(t,i)}function ix(t,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Ci===null){if(t===null)throw Error(r(308));Ci=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ci=Ci.next=i;return o}var sj=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(o,c){t.push(c)}};this.abort=function(){i.aborted=!0,t.forEach(function(o){return o()})}},ij=s.unstable_scheduleCallback,rj=s.unstable_NormalPriority,Jt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new sj,data:new Map,refCount:0}}function Yl(t){t.refCount--,t.refCount===0&&ij(rj,function(){t.controller.abort()})}var Wl=null,Lf=0,Co=0,Io=null;function aj(t,i){if(Wl===null){var o=Wl=[];Lf=0,Co=zm(),Io={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Lf++,i.then(rx,rx),i}function rx(){if(--Lf===0&&Wl!==null){Io!==null&&(Io.status="fulfilled");var t=Wl;Wl=null,Co=0,Io=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function oj(t,i){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return t.then(function(){c.status="fulfilled",c.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var ax=Q.S;Q.S=function(t,i){B0=Yt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&aj(t,i),ax!==null&&ax(t,i)};var Ma=k(null);function Vf(){var t=Ma.current;return t!==null?t:wt.pooledCache}function Zu(t,i){i===null?C(Ma,Ma.current):C(Ma,i.pool)}function ox(){var t=Vf();return t===null?null:{parent:Jt._currentValue,pool:t}}var Ro=Error(r(460)),Uf=Error(r(474)),ed=Error(r(542)),td={then:function(){}};function lx(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cx(t,i,o){switch(o=t[o],o===void 0?t.push(i):o!==i&&(i.then(As,As),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,dx(t),t;default:if(typeof i.status=="string")i.then(As,As);else{if(t=wt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(c){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=c}},function(c){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,dx(t),t}throw Pa=i,Ro}}function Da(t){try{var i=t._init;return i(t._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Pa=o,Ro):o}}var Pa=null;function ux(){if(Pa===null)throw Error(r(459));var t=Pa;return Pa=null,t}function dx(t){if(t===Ro||t===ed)throw Error(r(483))}var Mo=null,Ql=0;function nd(t){var i=Ql;return Ql+=1,Mo===null&&(Mo=[]),cx(Mo,t,i)}function Xl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function sd(t,i){throw i.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function hx(t){function i($,U){if(t){var Y=$.deletions;Y===null?($.deletions=[U],$.flags|=16):Y.push(U)}}function o($,U){if(!t)return null;for(;U!==null;)i($,U),U=U.sibling;return null}function c($){for(var U=new Map;$!==null;)$.key!==null?U.set($.key,$):U.set($.index,$),$=$.sibling;return U}function f($,U){return $=Ai($,U),$.index=0,$.sibling=null,$}function m($,U,Y){return $.index=Y,t?(Y=$.alternate,Y!==null?(Y=Y.index,Y<U?($.flags|=67108866,U):Y):($.flags|=67108866,U)):($.flags|=1048576,U)}function b($){return t&&$.alternate===null&&($.flags|=67108866),$}function T($,U,Y,ie){return U===null||U.tag!==6?(U=Af(Y,$.mode,ie),U.return=$,U):(U=f(U,Y),U.return=$,U)}function D($,U,Y,ie){var Se=Y.type;return Se===z?se($,U,Y.props.children,ie,Y.key):U!==null&&(U.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===A&&Da(Se)===U.type)?(U=f(U,Y.props),Xl(U,Y),U.return=$,U):(U=Wu(Y.type,Y.key,Y.props,null,$.mode,ie),Xl(U,Y),U.return=$,U)}function W($,U,Y,ie){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=Sf(Y,$.mode,ie),U.return=$,U):(U=f(U,Y.children||[]),U.return=$,U)}function se($,U,Y,ie,Se){return U===null||U.tag!==7?(U=Sa(Y,$.mode,ie,Se),U.return=$,U):(U=f(U,Y),U.return=$,U)}function ae($,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Af(""+U,$.mode,Y),U.return=$,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case V:return Y=Wu(U.type,U.key,U.props,null,$.mode,Y),Xl(Y,U),Y.return=$,Y;case H:return U=Sf(U,$.mode,Y),U.return=$,U;case A:return U=Da(U),ae($,U,Y)}if(be(U)||F(U))return U=Sa(U,$.mode,Y,null),U.return=$,U;if(typeof U.then=="function")return ae($,nd(U),Y);if(U.$$typeof===J)return ae($,Ju($,U),Y);sd($,U)}return null}function X($,U,Y,ie){var Se=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Se!==null?null:T($,U,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case V:return Y.key===Se?D($,U,Y,ie):null;case H:return Y.key===Se?W($,U,Y,ie):null;case A:return Y=Da(Y),X($,U,Y,ie)}if(be(Y)||F(Y))return Se!==null?null:se($,U,Y,ie,null);if(typeof Y.then=="function")return X($,U,nd(Y),ie);if(Y.$$typeof===J)return X($,U,Ju($,Y),ie);sd($,Y)}return null}function te($,U,Y,ie,Se){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return $=$.get(Y)||null,T(U,$,""+ie,Se);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case V:return $=$.get(ie.key===null?Y:ie.key)||null,D(U,$,ie,Se);case H:return $=$.get(ie.key===null?Y:ie.key)||null,W(U,$,ie,Se);case A:return ie=Da(ie),te($,U,Y,ie,Se)}if(be(ie)||F(ie))return $=$.get(Y)||null,se(U,$,ie,Se,null);if(typeof ie.then=="function")return te($,U,Y,nd(ie),Se);if(ie.$$typeof===J)return te($,U,Y,Ju(U,ie),Se);sd(U,ie)}return null}function we($,U,Y,ie){for(var Se=null,rt=null,je=U,Fe=U=0,We=null;je!==null&&Fe<Y.length;Fe++){je.index>Fe?(We=je,je=null):We=je.sibling;var at=X($,je,Y[Fe],ie);if(at===null){je===null&&(je=We);break}t&&je&&at.alternate===null&&i($,je),U=m(at,U,Fe),rt===null?Se=at:rt.sibling=at,rt=at,je=We}if(Fe===Y.length)return o($,je),tt&&Si($,Fe),Se;if(je===null){for(;Fe<Y.length;Fe++)je=ae($,Y[Fe],ie),je!==null&&(U=m(je,U,Fe),rt===null?Se=je:rt.sibling=je,rt=je);return tt&&Si($,Fe),Se}for(je=c(je);Fe<Y.length;Fe++)We=te(je,$,Fe,Y[Fe],ie),We!==null&&(t&&We.alternate!==null&&je.delete(We.key===null?Fe:We.key),U=m(We,U,Fe),rt===null?Se=We:rt.sibling=We,rt=We);return t&&je.forEach(function(Lr){return i($,Lr)}),tt&&Si($,Fe),Se}function Re($,U,Y,ie){if(Y==null)throw Error(r(151));for(var Se=null,rt=null,je=U,Fe=U=0,We=null,at=Y.next();je!==null&&!at.done;Fe++,at=Y.next()){je.index>Fe?(We=je,je=null):We=je.sibling;var Lr=X($,je,at.value,ie);if(Lr===null){je===null&&(je=We);break}t&&je&&Lr.alternate===null&&i($,je),U=m(Lr,U,Fe),rt===null?Se=Lr:rt.sibling=Lr,rt=Lr,je=We}if(at.done)return o($,je),tt&&Si($,Fe),Se;if(je===null){for(;!at.done;Fe++,at=Y.next())at=ae($,at.value,ie),at!==null&&(U=m(at,U,Fe),rt===null?Se=at:rt.sibling=at,rt=at);return tt&&Si($,Fe),Se}for(je=c(je);!at.done;Fe++,at=Y.next())at=te(je,$,Fe,at.value,ie),at!==null&&(t&&at.alternate!==null&&je.delete(at.key===null?Fe:at.key),U=m(at,U,Fe),rt===null?Se=at:rt.sibling=at,rt=at);return t&&je.forEach(function(xA){return i($,xA)}),tt&&Si($,Fe),Se}function bt($,U,Y,ie){if(typeof Y=="object"&&Y!==null&&Y.type===z&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case V:e:{for(var Se=Y.key;U!==null;){if(U.key===Se){if(Se=Y.type,Se===z){if(U.tag===7){o($,U.sibling),ie=f(U,Y.props.children),ie.return=$,$=ie;break e}}else if(U.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===A&&Da(Se)===U.type){o($,U.sibling),ie=f(U,Y.props),Xl(ie,Y),ie.return=$,$=ie;break e}o($,U);break}else i($,U);U=U.sibling}Y.type===z?(ie=Sa(Y.props.children,$.mode,ie,Y.key),ie.return=$,$=ie):(ie=Wu(Y.type,Y.key,Y.props,null,$.mode,ie),Xl(ie,Y),ie.return=$,$=ie)}return b($);case H:e:{for(Se=Y.key;U!==null;){if(U.key===Se)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){o($,U.sibling),ie=f(U,Y.children||[]),ie.return=$,$=ie;break e}else{o($,U);break}else i($,U);U=U.sibling}ie=Sf(Y,$.mode,ie),ie.return=$,$=ie}return b($);case A:return Y=Da(Y),bt($,U,Y,ie)}if(be(Y))return we($,U,Y,ie);if(F(Y)){if(Se=F(Y),typeof Se!="function")throw Error(r(150));return Y=Se.call(Y),Re($,U,Y,ie)}if(typeof Y.then=="function")return bt($,U,nd(Y),ie);if(Y.$$typeof===J)return bt($,U,Ju($,Y),ie);sd($,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(o($,U.sibling),ie=f(U,Y),ie.return=$,$=ie):(o($,U),ie=Af(Y,$.mode,ie),ie.return=$,$=ie),b($)):o($,U)}return function($,U,Y,ie){try{Ql=0;var Se=bt($,U,Y,ie);return Mo=null,Se}catch(je){if(je===Ro||je===ed)throw je;var rt=Kn(29,je,null,$.mode);return rt.lanes=ie,rt.return=$,rt}}}var Oa=hx(!0),fx=hx(!1),vr=!1;function zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _r(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Er(t,i,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(lt&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,i=Yu(t),Qy(t,null,o),i}return Ku(t,c,i,o),Yu(t)}function Jl(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=t.pendingLanes,o|=c,i.lanes=o,Nl(t,o)}}function Ff(t,i){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,o=o.next}while(o!==null);m===null?f=m=i:m=m.next=i}else f=m=i;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}var Bf=!1;function Zl(){if(Bf){var t=Io;if(t!==null)throw t}}function ec(t,i,o,c){Bf=!1;var f=t.updateQueue;vr=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var D=T,W=D.next;D.next=null,b===null?m=W:b.next=W,b=D;var se=t.alternate;se!==null&&(se=se.updateQueue,T=se.lastBaseUpdate,T!==b&&(T===null?se.firstBaseUpdate=W:T.next=W,se.lastBaseUpdate=D))}if(m!==null){var ae=f.baseState;b=0,se=W=D=null,T=m;do{var X=T.lane&-536870913,te=X!==T.lane;if(te?(Ye&X)===X:(c&X)===X){X!==0&&X===Co&&(Bf=!0),se!==null&&(se=se.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var we=t,Re=T;X=i;var bt=o;switch(Re.tag){case 1:if(we=Re.payload,typeof we=="function"){ae=we.call(bt,ae,X);break e}ae=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Re.payload,X=typeof we=="function"?we.call(bt,ae,X):we,X==null)break e;ae=E({},ae,X);break e;case 2:vr=!0}}X=T.callback,X!==null&&(t.flags|=64,te&&(t.flags|=8192),te=f.callbacks,te===null?f.callbacks=[X]:te.push(X))}else te={lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},se===null?(W=se=te,D=ae):se=se.next=te,b|=X;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;te=T,T=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);se===null&&(D=ae),f.baseState=D,f.firstBaseUpdate=W,f.lastBaseUpdate=se,m===null&&(f.shared.lanes=0),Ar|=b,t.lanes=b,t.memoizedState=ae}}function mx(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function gx(t,i){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)mx(o[t],i)}var Do=k(null),id=k(0);function px(t,i){t=Ui,C(id,t),C(Do,i),Ui=t|i.baseLanes}function Hf(){C(id,Ui),C(Do,Do.current)}function $f(){Ui=id.current,j(Do),j(id)}var Yn=k(null),ys=null;function Tr(t){var i=t.alternate;C($t,$t.current&1),C(Yn,t),ys===null&&(i===null||Do.current!==null||i.memoizedState!==null)&&(ys=t)}function Gf(t){C($t,$t.current),C(Yn,t),ys===null&&(ys=t)}function yx(t){t.tag===22?(C($t,$t.current),C(Yn,t),ys===null&&(ys=t)):wr()}function wr(){C($t,$t.current),C(Yn,Yn.current)}function Wn(t){j(Yn),ys===t&&(ys=null),j($t)}var $t=k(0);function rd(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Jm(o)||Zm(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ri=0,ze=null,yt=null,Zt=null,ad=!1,Po=!1,ka=!1,od=0,tc=0,Oo=null,lj=0;function zt(){throw Error(r(321))}function Kf(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!Gn(t[o],i[o]))return!1;return!0}function Yf(t,i,o,c,f,m){return Ri=m,ze=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?e0:cm,ka=!1,m=o(c,f),ka=!1,Po&&(m=bx(i,o,c,f)),xx(t),m}function xx(t){Q.H=ic;var i=yt!==null&&yt.next!==null;if(Ri=0,Zt=yt=ze=null,ad=!1,tc=0,Oo=null,i)throw Error(r(300));t===null||en||(t=t.dependencies,t!==null&&Xu(t)&&(en=!0))}function bx(t,i,o,c){ze=t;var f=0;do{if(Po&&(Oo=null),tc=0,Po=!1,25<=f)throw Error(r(301));if(f+=1,Zt=yt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=t0,m=i(o,c)}while(Po);return m}function cj(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?nc(i):i,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(ze.flags|=1024),i}function Wf(){var t=od!==0;return od=0,t}function Qf(t,i,o){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~o}function Xf(t){if(ad){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ad=!1}Ri=0,Zt=yt=ze=null,Po=!1,tc=od=0,Oo=null}function Dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?ze.memoizedState=Zt=t:Zt=Zt.next=t,Zt}function Gt(){if(yt===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var i=Zt===null?ze.memoizedState:Zt.next;if(i!==null)Zt=i,yt=t;else{if(t===null)throw ze.alternate===null?Error(r(467)):Error(r(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Zt===null?ze.memoizedState=Zt=t:Zt=Zt.next=t}return Zt}function ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nc(t){var i=tc;return tc+=1,Oo===null&&(Oo=[]),t=cx(Oo,t,i),i=ze,(Zt===null?i.memoizedState:Zt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?e0:cm),t}function cd(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nc(t);if(t.$$typeof===J)return vn(t)}throw Error(r(438,String(t)))}function Jf(t){var i=null,o=ze.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=ld(),ze.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(t),c=0;c<t;c++)o[c]=R;return i.index++,o}function Mi(t,i){return typeof i=="function"?i(t):i}function ud(t){var i=Gt();return Zf(i,yt,t)}function Zf(t,i,o){var c=t.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var f=t.baseQueue,m=c.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}i.baseQueue=f=m,c.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var T=b=null,D=null,W=i,se=!1;do{var ae=W.lane&-536870913;if(ae!==W.lane?(Ye&ae)===ae:(Ri&ae)===ae){var X=W.revertLane;if(X===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ae===Co&&(se=!0);else if((Ri&X)===X){W=W.next,X===Co&&(se=!0);continue}else ae={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},D===null?(T=D=ae,b=m):D=D.next=ae,ze.lanes|=X,Ar|=X;ae=W.action,ka&&o(m,ae),m=W.hasEagerState?W.eagerState:o(m,ae)}else X={lane:ae,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},D===null?(T=D=X,b=m):D=D.next=X,ze.lanes|=ae,Ar|=ae;W=W.next}while(W!==null&&W!==i);if(D===null?b=m:D.next=T,!Gn(m,t.memoizedState)&&(en=!0,se&&(o=Io,o!==null)))throw o;t.memoizedState=m,t.baseState=b,t.baseQueue=D,c.lastRenderedState=m}return f===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function em(t){var i=Gt(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var c=o.dispatch,f=o.pending,m=i.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do m=t(m,b.action),b=b.next;while(b!==f);Gn(m,i.memoizedState)||(en=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,c]}function vx(t,i,o){var c=ze,f=Gt(),m=tt;if(m){if(o===void 0)throw Error(r(407));o=o()}else o=i();var b=!Gn((yt||f).memoizedState,o);if(b&&(f.memoizedState=o,en=!0),f=f.queue,sm(Tx.bind(null,c,f,t),[t]),f.getSnapshot!==i||b||Zt!==null&&Zt.memoizedState.tag&1){if(c.flags|=2048,ko(9,{destroy:void 0},Ex.bind(null,c,f,o,i),null),wt===null)throw Error(r(349));m||(Ri&127)!==0||_x(c,i,o)}return o}function _x(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=ze.updateQueue,i===null?(i=ld(),ze.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function Ex(t,i,o,c){i.value=o,i.getSnapshot=c,wx(i)&&Nx(t)}function Tx(t,i,o){return o(function(){wx(i)&&Nx(t)})}function wx(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!Gn(t,o)}catch{return!0}}function Nx(t){var i=Aa(t,2);i!==null&&qn(i,t,2)}function tm(t){var i=Dn();if(typeof t=="function"){var o=t;if(t=o(),ka){dt(!0);try{o()}finally{dt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:t},i}function jx(t,i,o,c){return t.baseState=o,Zf(t,yt,typeof c=="function"?c:Mi)}function uj(t,i,o,c,f){if(fd(t))throw Error(r(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};Q.T!==null?o(!0):m.isTransition=!1,c(m),o=i.pending,o===null?(m.next=i.pending=m,Ax(i,m)):(m.next=o.next,i.pending=o.next=m)}}function Ax(t,i){var o=i.action,c=i.payload,f=t.state;if(i.isTransition){var m=Q.T,b={};Q.T=b;try{var T=o(f,c),D=Q.S;D!==null&&D(b,T),Sx(t,i,T)}catch(W){nm(t,i,W)}finally{m!==null&&b.types!==null&&(m.types=b.types),Q.T=m}}else try{m=o(f,c),Sx(t,i,m)}catch(W){nm(t,i,W)}}function Sx(t,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Cx(t,i,c)},function(c){return nm(t,i,c)}):Cx(t,i,o)}function Cx(t,i,o){i.status="fulfilled",i.value=o,Ix(i),t.state=o,i=t.pending,i!==null&&(o=i.next,o===i?t.pending=null:(o=o.next,i.next=o,Ax(t,o)))}function nm(t,i,o){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,Ix(i),i=i.next;while(i!==c)}t.action=null}function Ix(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Rx(t,i){return i}function Mx(t,i){if(tt){var o=wt.formState;if(o!==null){e:{var c=ze;if(tt){if(St){t:{for(var f=St,m=ps;f.nodeType!==8;){if(!m){f=null;break t}if(f=xs(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){St=xs(f.nextSibling),c=f.data==="F!";break e}}xr(c)}c=!1}c&&(i=o[0])}}return o=Dn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rx,lastRenderedState:i},o.queue=c,o=Xx.bind(null,ze,c),c.dispatch=o,c=tm(!1),m=lm.bind(null,ze,!1,c.queue),c=Dn(),f={state:i,dispatch:null,action:t,pending:null},c.queue=f,o=uj.bind(null,ze,f,m,o),f.dispatch=o,c.memoizedState=t,[i,o,!1]}function Dx(t){var i=Gt();return Px(i,yt,t)}function Px(t,i,o){if(i=Zf(t,i,Rx)[0],t=ud(Mi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=nc(i)}catch(b){throw b===Ro?ed:b}else c=i;i=Gt();var f=i.queue,m=f.dispatch;return o!==i.memoizedState&&(ze.flags|=2048,ko(9,{destroy:void 0},dj.bind(null,f,o),null)),[c,m,t]}function dj(t,i){t.action=i}function Ox(t){var i=Gt(),o=yt;if(o!==null)return Px(i,o,t);Gt(),i=i.memoizedState,o=Gt();var c=o.queue.dispatch;return o.memoizedState=t,[i,c,!1]}function ko(t,i,o,c){return t={tag:t,create:o,deps:c,inst:i,next:null},i=ze.updateQueue,i===null&&(i=ld(),ze.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,i.lastEffect=t),t}function kx(){return Gt().memoizedState}function dd(t,i,o,c){var f=Dn();ze.flags|=t,f.memoizedState=ko(1|i,{destroy:void 0},o,c===void 0?null:c)}function hd(t,i,o,c){var f=Gt();c=c===void 0?null:c;var m=f.memoizedState.inst;yt!==null&&c!==null&&Kf(c,yt.memoizedState.deps)?f.memoizedState=ko(i,m,o,c):(ze.flags|=t,f.memoizedState=ko(1|i,m,o,c))}function Lx(t,i){dd(8390656,8,t,i)}function sm(t,i){hd(2048,8,t,i)}function hj(t){ze.flags|=4;var i=ze.updateQueue;if(i===null)i=ld(),ze.updateQueue=i,i.events=[t];else{var o=i.events;o===null?i.events=[t]:o.push(t)}}function Vx(t){var i=Gt().memoizedState;return hj({ref:i,nextImpl:t}),function(){if((lt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Ux(t,i){return hd(4,2,t,i)}function zx(t,i){return hd(4,4,t,i)}function qx(t,i){if(typeof i=="function"){t=t();var o=i(t);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Fx(t,i,o){o=o!=null?o.concat([t]):null,hd(4,4,qx.bind(null,i,t),o)}function im(){}function Bx(t,i){var o=Gt();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Kf(i,c[1])?c[0]:(o.memoizedState=[t,i],t)}function Hx(t,i){var o=Gt();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Kf(i,c[1]))return c[0];if(c=t(),ka){dt(!0);try{t()}finally{dt(!1)}}return o.memoizedState=[c,i],c}function rm(t,i,o){return o===void 0||(Ri&1073741824)!==0&&(Ye&261930)===0?t.memoizedState=i:(t.memoizedState=o,t=$0(),ze.lanes|=t,Ar|=t,o)}function $x(t,i,o,c){return Gn(o,i)?o:Do.current!==null?(t=rm(t,o,c),Gn(t,i)||(en=!0),t):(Ri&42)===0||(Ri&1073741824)!==0&&(Ye&261930)===0?(en=!0,t.memoizedState=o):(t=$0(),ze.lanes|=t,Ar|=t,i)}function Gx(t,i,o,c,f){var m=he.p;he.p=m!==0&&8>m?m:8;var b=Q.T,T={};Q.T=T,lm(t,!1,i,o);try{var D=f(),W=Q.S;if(W!==null&&W(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var se=oj(D,c);sc(t,i,se,Jn(t))}else sc(t,i,c,Jn(t))}catch(ae){sc(t,i,{then:function(){},status:"rejected",reason:ae},Jn())}finally{he.p=m,b!==null&&T.types!==null&&(b.types=T.types),Q.T=b}}function fj(){}function am(t,i,o,c){if(t.tag!==5)throw Error(r(476));var f=Kx(t).queue;Gx(t,f,i,pe,o===null?fj:function(){return Yx(t),o(c)})}function Kx(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:pe},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:o},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Yx(t){var i=Kx(t);i.next===null&&(i=t.alternate.memoizedState),sc(t,i.next.queue,{},Jn())}function om(){return vn(vc)}function Wx(){return Gt().memoizedState}function Qx(){return Gt().memoizedState}function mj(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var o=Jn();t=_r(o);var c=Er(i,t,o);c!==null&&(qn(c,i,o),Jl(c,i,o)),i={cache:kf()},t.payload=i;return}i=i.return}}function gj(t,i,o){var c=Jn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},fd(t)?Jx(i,o):(o=Nf(t,i,o,c),o!==null&&(qn(o,t,c),Zx(o,i,c)))}function Xx(t,i,o){var c=Jn();sc(t,i,o,c)}function sc(t,i,o,c){var f={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(fd(t))Jx(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var b=i.lastRenderedState,T=m(b,o);if(f.hasEagerState=!0,f.eagerState=T,Gn(T,b))return Ku(t,i,f,0),wt===null&&Gu(),!1}catch{}if(o=Nf(t,i,f,c),o!==null)return qn(o,t,c),Zx(o,i,c),!0}return!1}function lm(t,i,o,c){if(c={lane:2,revertLane:zm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},fd(t)){if(i)throw Error(r(479))}else i=Nf(t,o,c,2),i!==null&&qn(i,t,2)}function fd(t){var i=t.alternate;return t===ze||i!==null&&i===ze}function Jx(t,i){Po=ad=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function Zx(t,i,o){if((o&4194048)!==0){var c=i.lanes;c&=t.pendingLanes,o|=c,i.lanes=o,Nl(t,o)}}var ic={readContext:vn,use:cd,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};ic.useEffectEvent=zt;var e0={readContext:vn,use:cd,useCallback:function(t,i){return Dn().memoizedState=[t,i===void 0?null:i],t},useContext:vn,useEffect:Lx,useImperativeHandle:function(t,i,o){o=o!=null?o.concat([t]):null,dd(4194308,4,qx.bind(null,i,t),o)},useLayoutEffect:function(t,i){return dd(4194308,4,t,i)},useInsertionEffect:function(t,i){dd(4,2,t,i)},useMemo:function(t,i){var o=Dn();i=i===void 0?null:i;var c=t();if(ka){dt(!0);try{t()}finally{dt(!1)}}return o.memoizedState=[c,i],c},useReducer:function(t,i,o){var c=Dn();if(o!==void 0){var f=o(i);if(ka){dt(!0);try{o(i)}finally{dt(!1)}}}else f=i;return c.memoizedState=c.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},c.queue=t,t=t.dispatch=gj.bind(null,ze,t),[c.memoizedState,t]},useRef:function(t){var i=Dn();return t={current:t},i.memoizedState=t},useState:function(t){t=tm(t);var i=t.queue,o=Xx.bind(null,ze,i);return i.dispatch=o,[t.memoizedState,o]},useDebugValue:im,useDeferredValue:function(t,i){var o=Dn();return rm(o,t,i)},useTransition:function(){var t=tm(!1);return t=Gx.bind(null,ze,t.queue,!0,!1),Dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,o){var c=ze,f=Dn();if(tt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),wt===null)throw Error(r(349));(Ye&127)!==0||_x(c,i,o)}f.memoizedState=o;var m={value:o,getSnapshot:i};return f.queue=m,Lx(Tx.bind(null,c,m,t),[t]),c.flags|=2048,ko(9,{destroy:void 0},Ex.bind(null,c,m,o,i),null),o},useId:function(){var t=Dn(),i=wt.identifierPrefix;if(tt){var o=oi,c=ai;o=(c&~(1<<32-et(c)-1)).toString(32)+o,i="_"+i+"R_"+o,o=od++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=lj++,i="_"+i+"r_"+o.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:om,useFormState:Mx,useActionState:Mx,useOptimistic:function(t){var i=Dn();i.memoizedState=i.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=lm.bind(null,ze,!0,o),o.dispatch=i,[t,i]},useMemoCache:Jf,useCacheRefresh:function(){return Dn().memoizedState=mj.bind(null,ze)},useEffectEvent:function(t){var i=Dn(),o={impl:t};return i.memoizedState=o,function(){if((lt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},cm={readContext:vn,use:cd,useCallback:Bx,useContext:vn,useEffect:sm,useImperativeHandle:Fx,useInsertionEffect:Ux,useLayoutEffect:zx,useMemo:Hx,useReducer:ud,useRef:kx,useState:function(){return ud(Mi)},useDebugValue:im,useDeferredValue:function(t,i){var o=Gt();return $x(o,yt.memoizedState,t,i)},useTransition:function(){var t=ud(Mi)[0],i=Gt().memoizedState;return[typeof t=="boolean"?t:nc(t),i]},useSyncExternalStore:vx,useId:Wx,useHostTransitionStatus:om,useFormState:Dx,useActionState:Dx,useOptimistic:function(t,i){var o=Gt();return jx(o,yt,t,i)},useMemoCache:Jf,useCacheRefresh:Qx};cm.useEffectEvent=Vx;var t0={readContext:vn,use:cd,useCallback:Bx,useContext:vn,useEffect:sm,useImperativeHandle:Fx,useInsertionEffect:Ux,useLayoutEffect:zx,useMemo:Hx,useReducer:em,useRef:kx,useState:function(){return em(Mi)},useDebugValue:im,useDeferredValue:function(t,i){var o=Gt();return yt===null?rm(o,t,i):$x(o,yt.memoizedState,t,i)},useTransition:function(){var t=em(Mi)[0],i=Gt().memoizedState;return[typeof t=="boolean"?t:nc(t),i]},useSyncExternalStore:vx,useId:Wx,useHostTransitionStatus:om,useFormState:Ox,useActionState:Ox,useOptimistic:function(t,i){var o=Gt();return yt!==null?jx(o,yt,t,i):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:Qx};t0.useEffectEvent=Vx;function um(t,i,o,c){i=t.memoizedState,o=o(c,i),o=o==null?i:E({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var dm={enqueueSetState:function(t,i,o){t=t._reactInternals;var c=Jn(),f=_r(c);f.payload=i,o!=null&&(f.callback=o),i=Er(t,f,c),i!==null&&(qn(i,t,c),Jl(i,t,c))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var c=Jn(),f=_r(c);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=Er(t,f,c),i!==null&&(qn(i,t,c),Jl(i,t,c))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=Jn(),c=_r(o);c.tag=2,i!=null&&(c.callback=i),i=Er(t,c,o),i!==null&&(qn(i,t,o),Jl(i,t,o))}};function n0(t,i,o,c,f,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,b):i.prototype&&i.prototype.isPureReactComponent?!Hl(o,c)||!Hl(f,m):!0}function s0(t,i,o,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==t&&dm.enqueueReplaceState(i,i.state,null)}function La(t,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(t=t.defaultProps){o===i&&(o=E({},o));for(var f in t)o[f]===void 0&&(o[f]=t[f])}return o}function i0(t){$u(t)}function r0(t){console.error(t)}function a0(t){$u(t)}function md(t,i){try{var o=t.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function o0(t,i,o){try{var c=t.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function hm(t,i,o){return o=_r(o),o.tag=3,o.payload={element:null},o.callback=function(){md(t,i)},o}function l0(t){return t=_r(t),t.tag=3,t}function c0(t,i,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;t.payload=function(){return f(m)},t.callback=function(){o0(i,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){o0(i,o,c),typeof f!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function pj(t,i,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&So(i,o,f,!0),o=Yn.current,o!==null){switch(o.tag){case 31:case 13:return ys===null?jd():o.alternate===null&&qt===0&&(qt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===td?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Lm(t,c,f)),!1;case 22:return o.flags|=65536,c===td?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Lm(t,c,f)),!1}throw Error(r(435,o.tag))}return Lm(t,c,f),jd(),!1}if(tt)return i=Yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,c!==Rf&&(t=Error(r(422),{cause:c}),Kl(fs(t,o)))):(c!==Rf&&(i=Error(r(423),{cause:c}),Kl(fs(i,o))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,c=fs(c,o),f=hm(t.stateNode,c,f),Ff(t,f),qt!==4&&(qt=2)),!1;var m=Error(r(520),{cause:c});if(m=fs(m,o),hc===null?hc=[m]:hc.push(m),qt!==4&&(qt=2),i===null)return!0;c=fs(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,t=f&-f,o.lanes|=t,t=hm(o.stateNode,c,t),Ff(o,t),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Sr===null||!Sr.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=l0(f),c0(f,t,o,c),Ff(o,f),!1}o=o.return}while(o!==null);return!1}var fm=Error(r(461)),en=!1;function _n(t,i,o,c){i.child=t===null?fx(i,null,o,c):Oa(i,t.child,o,c)}function u0(t,i,o,c,f){o=o.render;var m=i.ref;if("ref"in c){var b={};for(var T in c)T!=="ref"&&(b[T]=c[T])}else b=c;return Ra(i),c=Yf(t,i,o,b,m,f),T=Wf(),t!==null&&!en?(Qf(t,i,f),Di(t,i,f)):(tt&&T&&Cf(i),i.flags|=1,_n(t,i,c,f),i.child)}function d0(t,i,o,c,f){if(t===null){var m=o.type;return typeof m=="function"&&!jf(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,h0(t,i,m,c,f)):(t=Wu(o.type,null,c,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!_m(t,f)){var b=m.memoizedProps;if(o=o.compare,o=o!==null?o:Hl,o(b,c)&&t.ref===i.ref)return Di(t,i,f)}return i.flags|=1,t=Ai(m,c),t.ref=i.ref,t.return=i,i.child=t}function h0(t,i,o,c,f){if(t!==null){var m=t.memoizedProps;if(Hl(m,c)&&t.ref===i.ref)if(en=!1,i.pendingProps=c=m,_m(t,f))(t.flags&131072)!==0&&(en=!0);else return i.lanes=t.lanes,Di(t,i,f)}return mm(t,i,o,c,f)}function f0(t,i,o,c){var f=c.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,t!==null){for(c=i.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,i.child=null;return m0(t,i,m,o,c)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(i,m!==null?m.cachePool:null),m!==null?px(i,m):Hf(),yx(i);else return c=i.lanes=536870912,m0(t,i,m!==null?m.baseLanes|o:o,o,c)}else m!==null?(Zu(i,m.cachePool),px(i,m),wr(),i.memoizedState=null):(t!==null&&Zu(i,null),Hf(),wr());return _n(t,i,f,o),i.child}function rc(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function m0(t,i,o,c,f){var m=Vf();return m=m===null?null:{parent:Jt._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},t!==null&&Zu(i,null),Hf(),yx(i),t!==null&&So(t,i,c,!0),i.childLanes=f,null}function gd(t,i){return i=yd({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function g0(t,i,o){return Oa(i,t.child,null,o),t=gd(i,i.pendingProps),t.flags|=2,Wn(i),i.memoizedState=null,t}function yj(t,i,o){var c=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(tt){if(c.mode==="hidden")return t=gd(i,c),i.lanes=536870912,rc(null,t);if(Gf(i),(t=St)?(t=Ab(t,ps),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:pr!==null?{id:ai,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},o=Jy(t),o.return=i,i.child=o,bn=i,St=null)):t=null,t===null)throw xr(i);return i.lanes=536870912,null}return gd(i,c)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(Gf(i),f)if(i.flags&256)i.flags&=-257,i=g0(t,i,o);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(en||So(t,i,o,!1),f=(o&t.childLanes)!==0,en||f){if(c=wt,c!==null&&(b=jl(c,o),b!==0&&b!==m.retryLane))throw m.retryLane=b,Aa(t,b),qn(c,t,b),fm;jd(),i=g0(t,i,o)}else t=m.treeContext,St=xs(b.nextSibling),bn=i,tt=!0,yr=null,ps=!1,t!==null&&tx(i,t),i=gd(i,c),i.flags|=4096;return i}return t=Ai(t.child,{mode:c.mode,children:c.children}),t.ref=i.ref,i.child=t,t.return=i,t}function pd(t,i){var o=i.ref;if(o===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(t===null||t.ref!==o)&&(i.flags|=4194816)}}function mm(t,i,o,c,f){return Ra(i),o=Yf(t,i,o,c,void 0,f),c=Wf(),t!==null&&!en?(Qf(t,i,f),Di(t,i,f)):(tt&&c&&Cf(i),i.flags|=1,_n(t,i,o,f),i.child)}function p0(t,i,o,c,f,m){return Ra(i),i.updateQueue=null,o=bx(i,c,o,f),xx(t),c=Wf(),t!==null&&!en?(Qf(t,i,m),Di(t,i,m)):(tt&&c&&Cf(i),i.flags|=1,_n(t,i,o,m),i.child)}function y0(t,i,o,c,f){if(Ra(i),i.stateNode===null){var m=wo,b=o.contextType;typeof b=="object"&&b!==null&&(m=vn(b)),m=new o(c,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=dm,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=c,m.state=i.memoizedState,m.refs={},zf(i),b=o.contextType,m.context=typeof b=="object"&&b!==null?vn(b):wo,m.state=i.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(um(i,o,b,c),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&dm.enqueueReplaceState(m,m.state,null),ec(i,c,m,f),Zl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(t===null){m=i.stateNode;var T=i.memoizedProps,D=La(o,T);m.props=D;var W=m.context,se=o.contextType;b=wo,typeof se=="object"&&se!==null&&(b=vn(se));var ae=o.getDerivedStateFromProps;se=typeof ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,se||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||W!==b)&&s0(i,m,c,b),vr=!1;var X=i.memoizedState;m.state=X,ec(i,c,m,f),Zl(),W=i.memoizedState,T||X!==W||vr?(typeof ae=="function"&&(um(i,o,ae,c),W=i.memoizedState),(D=vr||n0(i,o,D,c,X,W,b))?(se||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=W),m.props=c,m.state=W,m.context=b,c=D):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{m=i.stateNode,qf(t,i),b=i.memoizedProps,se=La(o,b),m.props=se,ae=i.pendingProps,X=m.context,W=o.contextType,D=wo,typeof W=="object"&&W!==null&&(D=vn(W)),T=o.getDerivedStateFromProps,(W=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ae||X!==D)&&s0(i,m,c,D),vr=!1,X=i.memoizedState,m.state=X,ec(i,c,m,f),Zl();var te=i.memoizedState;b!==ae||X!==te||vr||t!==null&&t.dependencies!==null&&Xu(t.dependencies)?(typeof T=="function"&&(um(i,o,T,c),te=i.memoizedState),(se=vr||n0(i,o,se,c,X,te,D)||t!==null&&t.dependencies!==null&&Xu(t.dependencies))?(W||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,te,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,te,D)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&X===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&X===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=te),m.props=c,m.state=te,m.context=D,c=se):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&X===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&X===t.memoizedState||(i.flags|=1024),c=!1)}return m=c,pd(t,i),c=(i.flags&128)!==0,m||c?(m=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&c?(i.child=Oa(i,t.child,null,f),i.child=Oa(i,null,o,f)):_n(t,i,o,f),i.memoizedState=m.state,t=i.child):t=Di(t,i,f),t}function x0(t,i,o,c){return Ca(),i.flags|=256,_n(t,i,o,c),i.child}var gm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pm(t){return{baseLanes:t,cachePool:ox()}}function ym(t,i,o){return t=t!==null?t.childLanes&~o:0,i&&(t|=Xn),t}function b0(t,i,o){var c=i.pendingProps,f=!1,m=(i.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:($t.current&2)!==0),b&&(f=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,t===null){if(tt){if(f?Tr(i):wr(),(t=St)?(t=Ab(t,ps),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:pr!==null?{id:ai,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},o=Jy(t),o.return=i,i.child=o,bn=i,St=null)):t=null,t===null)throw xr(i);return Zm(t)?i.lanes=32:i.lanes=536870912,null}var T=c.children;return c=c.fallback,f?(wr(),f=i.mode,T=yd({mode:"hidden",children:T},f),c=Sa(c,f,o,null),T.return=i,c.return=i,T.sibling=c,i.child=T,c=i.child,c.memoizedState=pm(o),c.childLanes=ym(t,b,o),i.memoizedState=gm,rc(null,c)):(Tr(i),xm(i,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(m)i.flags&256?(Tr(i),i.flags&=-257,i=bm(t,i,o)):i.memoizedState!==null?(wr(),i.child=t.child,i.flags|=128,i=null):(wr(),T=c.fallback,f=i.mode,c=yd({mode:"visible",children:c.children},f),T=Sa(T,f,o,null),T.flags|=2,c.return=i,T.return=i,c.sibling=T,i.child=c,Oa(i,t.child,null,o),c=i.child,c.memoizedState=pm(o),c.childLanes=ym(t,b,o),i.memoizedState=gm,i=rc(null,c));else if(Tr(i),Zm(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var W=b.dgst;b=W,c=Error(r(419)),c.stack="",c.digest=b,Kl({value:c,source:null,stack:null}),i=bm(t,i,o)}else if(en||So(t,i,o,!1),b=(o&t.childLanes)!==0,en||b){if(b=wt,b!==null&&(c=jl(b,o),c!==0&&c!==D.retryLane))throw D.retryLane=c,Aa(t,c),qn(b,t,c),fm;Jm(T)||jd(),i=bm(t,i,o)}else Jm(T)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,St=xs(T.nextSibling),bn=i,tt=!0,yr=null,ps=!1,t!==null&&tx(i,t),i=xm(i,c.children),i.flags|=4096);return i}return f?(wr(),T=c.fallback,f=i.mode,D=t.child,W=D.sibling,c=Ai(D,{mode:"hidden",children:c.children}),c.subtreeFlags=D.subtreeFlags&65011712,W!==null?T=Ai(W,T):(T=Sa(T,f,o,null),T.flags|=2),T.return=i,c.return=i,c.sibling=T,i.child=c,rc(null,c),c=i.child,T=t.child.memoizedState,T===null?T=pm(o):(f=T.cachePool,f!==null?(D=Jt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=ox(),T={baseLanes:T.baseLanes|o,cachePool:f}),c.memoizedState=T,c.childLanes=ym(t,b,o),i.memoizedState=gm,rc(t.child,c)):(Tr(i),o=t.child,t=o.sibling,o=Ai(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,t!==null&&(b=i.deletions,b===null?(i.deletions=[t],i.flags|=16):b.push(t)),i.child=o,i.memoizedState=null,o)}function xm(t,i){return i=yd({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function yd(t,i){return t=Kn(22,t,null,i),t.lanes=0,t}function bm(t,i,o){return Oa(i,t.child,null,o),t=xm(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function v0(t,i,o){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),Pf(t.return,i,o)}function vm(t,i,o,c,f,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f,treeForkCount:m}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=f,b.treeForkCount=m)}function _0(t,i,o){var c=i.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var b=$t.current,T=(b&2)!==0;if(T?(b=b&1|2,i.flags|=128):b&=1,C($t,b),_n(t,i,c,o),c=tt?Gl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v0(t,o,i);else if(t.tag===19)v0(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(o=i.child,f=null;o!==null;)t=o.alternate,t!==null&&rd(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),vm(i,!1,f,o,m,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&rd(t)===null){i.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}vm(i,!0,o,null,m,c);break;case"together":vm(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Di(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),Ar|=i.lanes,(o&i.childLanes)===0)if(t!==null){if(So(t,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,o=Ai(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=Ai(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function _m(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Xu(t)))}function xj(t,i,o){switch(i.tag){case 3:ct(i,i.stateNode.containerInfo),br(i,Jt,t.memoizedState.cache),Ca();break;case 27:case 5:_i(i);break;case 4:ct(i,i.stateNode.containerInfo);break;case 10:br(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Gf(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Tr(i),i.flags|=128,null):(o&i.child.childLanes)!==0?b0(t,i,o):(Tr(i),t=Di(t,i,o),t!==null?t.sibling:null);Tr(i);break;case 19:var f=(t.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(So(t,i,o,!1),c=(o&i.childLanes)!==0),f){if(c)return _0(t,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),C($t,$t.current),c)break;return null;case 22:return i.lanes=0,f0(t,i,o,i.pendingProps);case 24:br(i,Jt,t.memoizedState.cache)}return Di(t,i,o)}function E0(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps)en=!0;else{if(!_m(t,o)&&(i.flags&128)===0)return en=!1,xj(t,i,o);en=(t.flags&131072)!==0}else en=!1,tt&&(i.flags&1048576)!==0&&ex(i,Gl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(t=Da(i.elementType),i.type=t,typeof t=="function")jf(t)?(c=La(t,c),i.tag=1,i=y0(null,i,t,c,o)):(i.tag=0,i=mm(null,i,t,c,o));else{if(t!=null){var f=t.$$typeof;if(f===B){i.tag=11,i=u0(null,i,t,c,o);break e}else if(f===S){i.tag=14,i=d0(null,i,t,c,o);break e}}throw i=Ne(t)||t,Error(r(306,i,""))}}return i;case 0:return mm(t,i,i.type,i.pendingProps,o);case 1:return c=i.type,f=La(c,i.pendingProps),y0(t,i,c,f,o);case 3:e:{if(ct(i,i.stateNode.containerInfo),t===null)throw Error(r(387));c=i.pendingProps;var m=i.memoizedState;f=m.element,qf(t,i),ec(i,c,null,o);var b=i.memoizedState;if(c=b.cache,br(i,Jt,c),c!==m.cache&&Of(i,[Jt],o,!0),Zl(),c=b.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=x0(t,i,c,o);break e}else if(c!==f){f=fs(Error(r(424)),i),Kl(f),i=x0(t,i,c,o);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,St=xs(t.firstChild),bn=i,tt=!0,yr=null,ps=!0,o=fx(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ca(),c===f){i=Di(t,i,o);break e}_n(t,i,c,o)}i=i.child}return i;case 26:return pd(t,i),t===null?(o=Db(i.type,null,i.pendingProps,null))?i.memoizedState=o:tt||(o=i.type,t=i.pendingProps,c=Dd(ue.current).createElement(o),c[Wt]=i,c[hn]=t,En(c,o,t),Qt(c),i.stateNode=c):i.memoizedState=Db(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return _i(i),t===null&&tt&&(c=i.stateNode=Ib(i.type,i.pendingProps,ue.current),bn=i,ps=!0,f=St,Mr(i.type)?(eg=f,St=xs(c.firstChild)):St=f),_n(t,i,i.pendingProps.children,o),pd(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&tt&&((f=c=St)&&(c=Yj(c,i.type,i.pendingProps,ps),c!==null?(i.stateNode=c,bn=i,St=xs(c.firstChild),ps=!1,f=!0):f=!1),f||xr(i)),_i(i),f=i.type,m=i.pendingProps,b=t!==null?t.memoizedProps:null,c=m.children,Wm(f,m)?c=null:b!==null&&Wm(f,b)&&(i.flags|=32),i.memoizedState!==null&&(f=Yf(t,i,cj,null,null,o),vc._currentValue=f),pd(t,i),_n(t,i,c,o),i.child;case 6:return t===null&&tt&&((t=o=St)&&(o=Wj(o,i.pendingProps,ps),o!==null?(i.stateNode=o,bn=i,St=null,t=!0):t=!1),t||xr(i)),null;case 13:return b0(t,i,o);case 4:return ct(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=Oa(i,null,c,o):_n(t,i,c,o),i.child;case 11:return u0(t,i,i.type,i.pendingProps,o);case 7:return _n(t,i,i.pendingProps,o),i.child;case 8:return _n(t,i,i.pendingProps.children,o),i.child;case 12:return _n(t,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,br(i,i.type,c.value),_n(t,i,c.children,o),i.child;case 9:return f=i.type._context,c=i.pendingProps.children,Ra(i),f=vn(f),c=c(f),i.flags|=1,_n(t,i,c,o),i.child;case 14:return d0(t,i,i.type,i.pendingProps,o);case 15:return h0(t,i,i.type,i.pendingProps,o);case 19:return _0(t,i,o);case 31:return yj(t,i,o);case 22:return f0(t,i,o,i.pendingProps);case 24:return Ra(i),c=vn(Jt),t===null?(f=Vf(),f===null&&(f=wt,m=kf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),i.memoizedState={parent:c,cache:f},zf(i),br(i,Jt,f)):((t.lanes&o)!==0&&(qf(t,i),ec(i,null,null,o),Zl()),f=t.memoizedState,m=i.memoizedState,f.parent!==c?(f={parent:c,cache:c},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),br(i,Jt,c)):(c=m.cache,br(i,Jt,c),c!==f.cache&&Of(i,[Jt],o,!0))),_n(t,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Pi(t){t.flags|=4}function Em(t,i,o,c,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(W0())t.flags|=8192;else throw Pa=td,Uf}else t.flags&=-16777217}function T0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vb(i))if(W0())t.flags|=8192;else throw Pa=td,Uf}function xd(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?wu():536870912,t.lanes|=i,zo|=i)}function ac(t,i){if(!tt)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Ct(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(i)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=o,i}function bj(t,i,o){var c=i.pendingProps;switch(If(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(i),null;case 1:return Ct(i),null;case 3:return o=i.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Ii(Jt),nt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Ao(i)?Pi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mf())),Ct(i),null;case 26:var f=i.type,m=i.memoizedState;return t===null?(Pi(i),m!==null?(Ct(i),T0(i,m)):(Ct(i),Em(i,f,null,c,o))):m?m!==t.memoizedState?(Pi(i),Ct(i),T0(i,m)):(Ct(i),i.flags&=-16777217):(t=t.memoizedProps,t!==c&&Pi(i),Ct(i),Em(i,f,t,c,o)),null;case 27:if(tr(i),o=ue.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&Pi(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Ct(i),null}t=K.current,Ao(i)?nx(i):(t=Ib(f,c,o),i.stateNode=t,Pi(i))}return Ct(i),null;case 5:if(tr(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&Pi(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Ct(i),null}if(m=K.current,Ao(i))nx(i);else{var b=Dd(ue.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?b.createElement(f,{is:c.is}):b.createElement(f)}}m[Wt]=i,m[hn]=c;e:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break e;for(;b.sibling===null;){if(b.return===null||b.return===i)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=m;e:switch(En(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Pi(i)}}return Ct(i),Em(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,o),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==c&&Pi(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(t=ue.current,Ao(i)){if(t=i.stateNode,o=i.memoizedProps,c=null,f=bn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}t[Wt]=i,t=!!(t.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||bb(t.nodeValue,o)),t||xr(i,!0)}else t=Dd(t).createTextNode(c),t[Wt]=i,i.stateNode=t}return Ct(i),null;case 31:if(o=i.memoizedState,t===null||t.memoizedState!==null){if(c=Ao(i),o!==null){if(t===null){if(!c)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Wt]=i}else Ca(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ct(i),t=!1}else o=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=o),t=!0;if(!t)return i.flags&256?(Wn(i),i):(Wn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return Ct(i),null;case 13:if(c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ao(i),c!==null&&c.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Wt]=i}else Ca(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ct(i),f=!1}else f=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Wn(i),i):(Wn(i),null)}return Wn(i),(i.flags&128)!==0?(i.lanes=o,i):(o=c!==null,t=t!==null&&t.memoizedState!==null,o&&(c=i.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),o!==t&&o&&(i.child.flags|=8192),xd(i,i.updateQueue),Ct(i),null);case 4:return nt(),t===null&&Hm(i.stateNode.containerInfo),Ct(i),null;case 10:return Ii(i.type),Ct(i),null;case 19:if(j($t),c=i.memoizedState,c===null)return Ct(i),null;if(f=(i.flags&128)!==0,m=c.rendering,m===null)if(f)ac(c,!1);else{if(qt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=rd(t),m!==null){for(i.flags|=128,ac(c,!1),t=m.updateQueue,i.updateQueue=t,xd(i,t),i.subtreeFlags=0,t=o,o=i.child;o!==null;)Xy(o,t),o=o.sibling;return C($t,$t.current&1|2),tt&&Si(i,c.treeForkCount),i.child}t=t.sibling}c.tail!==null&&Yt()>Td&&(i.flags|=128,f=!0,ac(c,!1),i.lanes=4194304)}else{if(!f)if(t=rd(m),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,xd(i,t),ac(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!tt)return Ct(i),null}else 2*Yt()-c.renderingStartTime>Td&&o!==536870912&&(i.flags|=128,f=!0,ac(c,!1),i.lanes=4194304);c.isBackwards?(m.sibling=i.child,i.child=m):(t=c.last,t!==null?t.sibling=m:i.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Yt(),t.sibling=null,o=$t.current,C($t,f?o&1|2:o&1),tt&&Si(i,c.treeForkCount),t):(Ct(i),null);case 22:case 23:return Wn(i),$f(),c=i.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Ct(i),i.subtreeFlags&6&&(i.flags|=8192)):Ct(i),o=i.updateQueue,o!==null&&xd(i,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),t!==null&&j(Ma),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ii(Jt),Ct(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function vj(t,i){switch(If(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ii(Jt),nt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return tr(i),null;case 31:if(i.memoizedState!==null){if(Wn(i),i.alternate===null)throw Error(r(340));Ca()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Wn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ca()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return j($t),null;case 4:return nt(),null;case 10:return Ii(i.type),null;case 22:case 23:return Wn(i),$f(),t!==null&&j(Ma),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ii(Jt),null;case 25:return null;default:return null}}function w0(t,i){switch(If(i),i.tag){case 3:Ii(Jt),nt();break;case 26:case 27:case 5:tr(i);break;case 4:nt();break;case 31:i.memoizedState!==null&&Wn(i);break;case 13:Wn(i);break;case 19:j($t);break;case 10:Ii(i.type);break;case 22:case 23:Wn(i),$f(),t!==null&&j(Ma);break;case 24:Ii(Jt)}}function oc(t,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&t)===t){c=void 0;var m=o.create,b=o.inst;c=m(),b.destroy=c}o=o.next}while(o!==f)}}catch(T){mt(i,i.return,T)}}function Nr(t,i,o){try{var c=i.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&t)===t){var b=c.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,f=i;var D=o,W=T;try{W()}catch(se){mt(f,D,se)}}}c=c.next}while(c!==m)}}catch(se){mt(i,i.return,se)}}function N0(t){var i=t.updateQueue;if(i!==null){var o=t.stateNode;try{gx(i,o)}catch(c){mt(t,t.return,c)}}}function j0(t,i,o){o.props=La(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(c){mt(t,i,c)}}function lc(t,i){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof o=="function"?t.refCleanup=o(c):o.current=c}}catch(f){mt(t,i,f)}}function li(t,i){var o=t.ref,c=t.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){mt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){mt(t,i,f)}else o.current=null}function A0(t){var i=t.type,o=t.memoizedProps,c=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){mt(t,t.return,f)}}function Tm(t,i,o){try{var c=t.stateNode;Fj(c,t.type,o,i),c[hn]=i}catch(f){mt(t,t.return,f)}}function S0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Mr(t.type)||t.tag===4}function wm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Mr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nm(t,i,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(t),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=As));else if(c!==4&&(c===27&&Mr(t.type)&&(o=t.stateNode,i=null),t=t.child,t!==null))for(Nm(t,i,o),t=t.sibling;t!==null;)Nm(t,i,o),t=t.sibling}function bd(t,i,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(c!==4&&(c===27&&Mr(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(bd(t,i,o),t=t.sibling;t!==null;)bd(t,i,o),t=t.sibling}function C0(t){var i=t.stateNode,o=t.memoizedProps;try{for(var c=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);En(i,c,o),i[Wt]=t,i[hn]=o}catch(m){mt(t,t.return,m)}}var Oi=!1,tn=!1,jm=!1,I0=typeof WeakSet=="function"?WeakSet:Set,mn=null;function _j(t,i){if(t=t.containerInfo,Km=zd,t=Fy(t),bf(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var b=0,T=-1,D=-1,W=0,se=0,ae=t,X=null;t:for(;;){for(var te;ae!==o||f!==0&&ae.nodeType!==3||(T=b+f),ae!==m||c!==0&&ae.nodeType!==3||(D=b+c),ae.nodeType===3&&(b+=ae.nodeValue.length),(te=ae.firstChild)!==null;)X=ae,ae=te;for(;;){if(ae===t)break t;if(X===o&&++W===f&&(T=b),X===m&&++se===c&&(D=b),(te=ae.nextSibling)!==null)break;ae=X,X=ae.parentNode}ae=te}o=T===-1||D===-1?null:{start:T,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ym={focusedElem:t,selectionRange:o},zd=!1,mn=i;mn!==null;)if(i=mn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,mn=t;else for(;mn!==null;){switch(i=mn,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(o=0;o<t.length;o++)f=t[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,o=i,f=m.memoizedProps,m=m.memoizedState,c=o.stateNode;try{var we=La(o.type,f);t=c.getSnapshotBeforeUpdate(we,m),c.__reactInternalSnapshotBeforeUpdate=t}catch(Re){mt(o,o.return,Re)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,o=t.nodeType,o===9)Xm(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,mn=t;break}mn=i.return}}function R0(t,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Li(t,o),c&4&&oc(5,o);break;case 1:if(Li(t,o),c&4)if(t=o.stateNode,i===null)try{t.componentDidMount()}catch(b){mt(o,o.return,b)}else{var f=La(o.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(b){mt(o,o.return,b)}}c&64&&N0(o),c&512&&lc(o,o.return);break;case 3:if(Li(t,o),c&64&&(t=o.updateQueue,t!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{gx(t,i)}catch(b){mt(o,o.return,b)}}break;case 27:i===null&&c&4&&C0(o);case 26:case 5:Li(t,o),i===null&&c&4&&A0(o),c&512&&lc(o,o.return);break;case 12:Li(t,o);break;case 31:Li(t,o),c&4&&P0(t,o);break;case 13:Li(t,o),c&4&&O0(t,o),c&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=Ij.bind(null,o),Qj(t,o))));break;case 22:if(c=o.memoizedState!==null||Oi,!c){i=i!==null&&i.memoizedState!==null||tn,f=Oi;var m=tn;Oi=c,(tn=i)&&!m?Vi(t,o,(o.subtreeFlags&8772)!==0):Li(t,o),Oi=f,tn=m}break;case 30:break;default:Li(t,o)}}function M0(t){var i=t.alternate;i!==null&&(t.alternate=null,M0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&co(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ot=null,Ln=!1;function ki(t,i,o){for(o=o.child;o!==null;)D0(t,i,o),o=o.sibling}function D0(t,i,o){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(kt,o)}catch{}switch(o.tag){case 26:tn||li(o,i),ki(t,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:tn||li(o,i);var c=Ot,f=Ln;Mr(o.type)&&(Ot=o.stateNode,Ln=!1),ki(t,i,o),yc(o.stateNode),Ot=c,Ln=f;break;case 5:tn||li(o,i);case 6:if(c=Ot,f=Ln,Ot=null,ki(t,i,o),Ot=c,Ln=f,Ot!==null)if(Ln)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(o.stateNode)}catch(m){mt(o,i,m)}else try{Ot.removeChild(o.stateNode)}catch(m){mt(o,i,m)}break;case 18:Ot!==null&&(Ln?(t=Ot,Nb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),Yo(t)):Nb(Ot,o.stateNode));break;case 4:c=Ot,f=Ln,Ot=o.stateNode.containerInfo,Ln=!0,ki(t,i,o),Ot=c,Ln=f;break;case 0:case 11:case 14:case 15:Nr(2,o,i),tn||Nr(4,o,i),ki(t,i,o);break;case 1:tn||(li(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&j0(o,i,c)),ki(t,i,o);break;case 21:ki(t,i,o);break;case 22:tn=(c=tn)||o.memoizedState!==null,ki(t,i,o),tn=c;break;default:ki(t,i,o)}}function P0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Yo(t)}catch(o){mt(i,i.return,o)}}}function O0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Yo(t)}catch(o){mt(i,i.return,o)}}function Ej(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new I0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new I0),i;default:throw Error(r(435,t.tag))}}function vd(t,i){var o=Ej(t);i.forEach(function(c){if(!o.has(c)){o.add(c);var f=Rj.bind(null,t,c);c.then(f,f)}})}function Vn(t,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],m=t,b=i,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(Mr(T.type)){Ot=T.stateNode,Ln=!1;break e}break;case 5:Ot=T.stateNode,Ln=!1;break e;case 3:case 4:Ot=T.stateNode.containerInfo,Ln=!0;break e}T=T.return}if(Ot===null)throw Error(r(160));D0(m,b,f),Ot=null,Ln=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)k0(i,t),i=i.sibling}var Ds=null;function k0(t,i){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vn(i,t),Un(t),c&4&&(Nr(3,t,t.return),oc(3,t),Nr(5,t,t.return));break;case 1:Vn(i,t),Un(t),c&512&&(tn||o===null||li(o,o.return)),c&64&&Oi&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=Ds;if(Vn(i,t),Un(t),c&512&&(tn||o===null||li(o,o.return)),c&4){var m=o!==null?o.memoizedState:null;if(c=t.memoizedState,o===null)if(c===null)if(t.stateNode===null){e:{c=t.type,o=t.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ys]||m[Wt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),En(m,c,o),m[Wt]=t,Qt(m),c=m;break e;case"link":var b=kb("link","href",f).get(c+(o.href||""));if(b){for(var T=0;T<b.length;T++)if(m=b[T],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(T,1);break t}}m=f.createElement(c),En(m,c,o),f.head.appendChild(m);break;case"meta":if(b=kb("meta","content",f).get(c+(o.content||""))){for(T=0;T<b.length;T++)if(m=b[T],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(T,1);break t}}m=f.createElement(c),En(m,c,o),f.head.appendChild(m);break;default:throw Error(r(468,c))}m[Wt]=t,Qt(m),c=m}t.stateNode=c}else Lb(f,t.type,t.stateNode);else t.stateNode=Ob(f,c,t.memoizedProps);else m!==c?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,c===null?Lb(f,t.type,t.stateNode):Ob(f,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Tm(t,t.memoizedProps,o.memoizedProps)}break;case 27:Vn(i,t),Un(t),c&512&&(tn||o===null||li(o,o.return)),o!==null&&c&4&&Tm(t,t.memoizedProps,o.memoizedProps);break;case 5:if(Vn(i,t),Un(t),c&512&&(tn||o===null||li(o,o.return)),t.flags&32){f=t.stateNode;try{kn(f,"")}catch(we){mt(t,t.return,we)}}c&4&&t.stateNode!=null&&(f=t.memoizedProps,Tm(t,f,o!==null?o.memoizedProps:f)),c&1024&&(jm=!0);break;case 6:if(Vn(i,t),Un(t),c&4){if(t.stateNode===null)throw Error(r(162));c=t.memoizedProps,o=t.stateNode;try{o.nodeValue=c}catch(we){mt(t,t.return,we)}}break;case 3:if(kd=null,f=Ds,Ds=Pd(i.containerInfo),Vn(i,t),Ds=f,Un(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Yo(i.containerInfo)}catch(we){mt(t,t.return,we)}jm&&(jm=!1,L0(t));break;case 4:c=Ds,Ds=Pd(t.stateNode.containerInfo),Vn(i,t),Un(t),Ds=c;break;case 12:Vn(i,t),Un(t);break;case 31:Vn(i,t),Un(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,vd(t,c)));break;case 13:Vn(i,t),Un(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ed=Yt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,vd(t,c)));break;case 22:f=t.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,W=Oi,se=tn;if(Oi=W||f,tn=se||D,Vn(i,t),tn=se,Oi=W,Un(t),c&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||D||Oi||tn||Va(t)),o=null,i=t;;){if(i.tag===5||i.tag===26){if(o===null){D=o=i;try{if(m=D.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=D.stateNode;var ae=D.memoizedProps.style,X=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(we){mt(D,D.return,we)}}}else if(i.tag===6){if(o===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(we){mt(D,D.return,we)}}}else if(i.tag===18){if(o===null){D=i;try{var te=D.stateNode;f?jb(te,!0):jb(D.stateNode,!1)}catch(we){mt(D,D.return,we)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=t.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,vd(t,o))));break;case 19:Vn(i,t),Un(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,vd(t,c)));break;case 30:break;case 21:break;default:Vn(i,t),Un(t)}}function Un(t){var i=t.flags;if(i&2){try{for(var o,c=t.return;c!==null;){if(S0(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,m=wm(t);bd(t,m,f);break;case 5:var b=o.stateNode;o.flags&32&&(kn(b,""),o.flags&=-33);var T=wm(t);bd(t,T,b);break;case 3:case 4:var D=o.stateNode.containerInfo,W=wm(t);Nm(t,W,D);break;default:throw Error(r(161))}}catch(se){mt(t,t.return,se)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function L0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;L0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Li(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)R0(t,i.alternate,i),i=i.sibling}function Va(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Nr(4,i,i.return),Va(i);break;case 1:li(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&j0(i,i.return,o),Va(i);break;case 27:yc(i.stateNode);case 26:case 5:li(i,i.return),Va(i);break;case 22:i.memoizedState===null&&Va(i);break;case 30:Va(i);break;default:Va(i)}t=t.sibling}}function Vi(t,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,f=t,m=i,b=m.flags;switch(m.tag){case 0:case 11:case 15:Vi(f,m,o),oc(4,m);break;case 1:if(Vi(f,m,o),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(W){mt(c,c.return,W)}if(c=m,f=c.updateQueue,f!==null){var T=c.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)mx(D[f],T)}catch(W){mt(c,c.return,W)}}o&&b&64&&N0(m),lc(m,m.return);break;case 27:C0(m);case 26:case 5:Vi(f,m,o),o&&c===null&&b&4&&A0(m),lc(m,m.return);break;case 12:Vi(f,m,o);break;case 31:Vi(f,m,o),o&&b&4&&P0(f,m);break;case 13:Vi(f,m,o),o&&b&4&&O0(f,m);break;case 22:m.memoizedState===null&&Vi(f,m,o),lc(m,m.return);break;case 30:break;default:Vi(f,m,o)}i=i.sibling}}function Am(t,i){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&Yl(o))}function Sm(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yl(t))}function Ps(t,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)V0(t,i,o,c),i=i.sibling}function V0(t,i,o,c){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Ps(t,i,o,c),f&2048&&oc(9,i);break;case 1:Ps(t,i,o,c);break;case 3:Ps(t,i,o,c),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yl(t)));break;case 12:if(f&2048){Ps(t,i,o,c),t=i.stateNode;try{var m=i.memoizedProps,b=m.id,T=m.onPostCommit;typeof T=="function"&&T(b,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){mt(i,i.return,D)}}else Ps(t,i,o,c);break;case 31:Ps(t,i,o,c);break;case 13:Ps(t,i,o,c);break;case 23:break;case 22:m=i.stateNode,b=i.alternate,i.memoizedState!==null?m._visibility&2?Ps(t,i,o,c):cc(t,i):m._visibility&2?Ps(t,i,o,c):(m._visibility|=2,Lo(t,i,o,c,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Am(b,i);break;case 24:Ps(t,i,o,c),f&2048&&Sm(i.alternate,i);break;default:Ps(t,i,o,c)}}function Lo(t,i,o,c,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,b=i,T=o,D=c,W=b.flags;switch(b.tag){case 0:case 11:case 15:Lo(m,b,T,D,f),oc(8,b);break;case 23:break;case 22:var se=b.stateNode;b.memoizedState!==null?se._visibility&2?Lo(m,b,T,D,f):cc(m,b):(se._visibility|=2,Lo(m,b,T,D,f)),f&&W&2048&&Am(b.alternate,b);break;case 24:Lo(m,b,T,D,f),f&&W&2048&&Sm(b.alternate,b);break;default:Lo(m,b,T,D,f)}i=i.sibling}}function cc(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=t,c=i,f=c.flags;switch(c.tag){case 22:cc(o,c),f&2048&&Am(c.alternate,c);break;case 24:cc(o,c),f&2048&&Sm(c.alternate,c);break;default:cc(o,c)}i=i.sibling}}var uc=8192;function Vo(t,i,o){if(t.subtreeFlags&uc)for(t=t.child;t!==null;)U0(t,i,o),t=t.sibling}function U0(t,i,o){switch(t.tag){case 26:Vo(t,i,o),t.flags&uc&&t.memoizedState!==null&&lA(o,Ds,t.memoizedState,t.memoizedProps);break;case 5:Vo(t,i,o);break;case 3:case 4:var c=Ds;Ds=Pd(t.stateNode.containerInfo),Vo(t,i,o),Ds=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=uc,uc=16777216,Vo(t,i,o),uc=c):Vo(t,i,o));break;default:Vo(t,i,o)}}function z0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];mn=c,F0(c,t)}z0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)q0(t),t=t.sibling}function q0(t){switch(t.tag){case 0:case 11:case 15:dc(t),t.flags&2048&&Nr(9,t,t.return);break;case 3:dc(t);break;case 12:dc(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,_d(t)):dc(t);break;default:dc(t)}}function _d(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];mn=c,F0(c,t)}z0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Nr(8,i,i.return),_d(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,_d(i));break;default:_d(i)}t=t.sibling}}function F0(t,i){for(;mn!==null;){var o=mn;switch(o.tag){case 0:case 11:case 15:Nr(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Yl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,mn=c;else e:for(o=t;mn!==null;){c=mn;var f=c.sibling,m=c.return;if(M0(c),c===o){mn=null;break e}if(f!==null){f.return=m,mn=f;break e}mn=m}}}var Tj={getCacheForType:function(t){var i=vn(Jt),o=i.data.get(t);return o===void 0&&(o=t(),i.data.set(t,o)),o},cacheSignal:function(){return vn(Jt).controller.signal}},wj=typeof WeakMap=="function"?WeakMap:Map,lt=0,wt=null,He=null,Ye=0,ft=0,Qn=null,jr=!1,Uo=!1,Cm=!1,Ui=0,qt=0,Ar=0,Ua=0,Im=0,Xn=0,zo=0,hc=null,zn=null,Rm=!1,Ed=0,B0=0,Td=1/0,wd=null,Sr=null,ln=0,Cr=null,qo=null,zi=0,Mm=0,Dm=null,H0=null,fc=0,Pm=null;function Jn(){return(lt&2)!==0&&Ye!==0?Ye&-Ye:Q.T!==null?zm():Nu()}function $0(){if(Xn===0)if((Ye&536870912)===0||tt){var t=Ei;Ei<<=1,(Ei&3932160)===0&&(Ei=262144),Xn=t}else Xn=536870912;return t=Yn.current,t!==null&&(t.flags|=32),Xn}function qn(t,i,o){(t===wt&&(ft===2||ft===9)||t.cancelPendingCommit!==null)&&(Fo(t,0),Ir(t,Ye,Xn,!1)),fa(t,o),((lt&2)===0||t!==wt)&&(t===wt&&((lt&2)===0&&(Ua|=o),qt===4&&Ir(t,Ye,Xn,!1)),ci(t))}function G0(t,i,o){if((lt&6)!==0)throw Error(r(327));var c=!o&&(i&127)===0&&(i&t.expiredLanes)===0||ws(t,i),f=c?Aj(t,i):km(t,i,!0),m=c;do{if(f===0){Uo&&!c&&Ir(t,i,0,!1);break}else{if(o=t.current.alternate,m&&!Nj(o)){f=km(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var T=t;f=hc;var D=T.current.memoizedState.isDehydrated;if(D&&(Fo(T,b).flags|=256),b=km(T,b,!1),b!==2){if(Cm&&!D){T.errorRecoveryDisabledLanes|=m,Ua|=m,f=4;break e}m=zn,zn=f,m!==null&&(zn===null?zn=m:zn.push.apply(zn,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){Fo(t,0),Ir(t,i,0,!0);break}e:{switch(c=t,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ir(c,i,Xn,!jr);break e;case 2:zn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=Ed+300-Yt(),10<f)){if(Ir(c,i,Xn,!jr),$s(c,0,!0)!==0)break e;zi=i,c.timeoutHandle=Tb(K0.bind(null,c,o,zn,wd,Rm,i,Xn,Ua,zo,jr,m,"Throttled",-0,0),f);break e}K0(c,o,zn,wd,Rm,i,Xn,Ua,zo,jr,m,null,-0,0)}}break}while(!0);ci(t)}function K0(t,i,o,c,f,m,b,T,D,W,se,ae,X,te){if(t.timeoutHandle=-1,ae=i.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:As},U0(i,m,ae);var we=(m&62914560)===m?Ed-Yt():(m&4194048)===m?B0-Yt():0;if(we=cA(ae,we),we!==null){zi=m,t.cancelPendingCommit=we(tb.bind(null,t,i,m,o,c,f,b,T,D,se,ae,null,X,te)),Ir(t,m,b,!W);return}}tb(t,i,m,o,c,f,b,T,D)}function Nj(t){for(var i=t;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],m=f.getSnapshot;f=f.value;try{if(!Gn(m(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ir(t,i,o,c){i&=~Im,i&=~Ua,t.suspendedLanes|=i,t.pingedLanes&=~i,c&&(t.warmLanes|=i),c=t.expirationTimes;for(var f=i;0<f;){var m=31-et(f),b=1<<m;c[m]=-1,f&=~b}o!==0&&ma(t,o,i)}function Nd(){return(lt&6)===0?(mc(0),!1):!0}function Om(){if(He!==null){if(ft===0)var t=He.return;else t=He,Ci=Ia=null,Xf(t),Mo=null,Ql=0,t=He;for(;t!==null;)w0(t.alternate,t),t=t.return;He=null}}function Fo(t,i){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,$j(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),zi=0,Om(),wt=t,He=o=Ai(t.current,null),Ye=i,ft=0,Qn=null,jr=!1,Uo=ws(t,i),Cm=!1,zo=Xn=Im=Ua=Ar=qt=0,zn=hc=null,Rm=!1,(i&8)!==0&&(i|=i&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=i;0<c;){var f=31-et(c),m=1<<f;i|=t[f],c&=~m}return Ui=i,Gu(),o}function Y0(t,i){ze=null,Q.H=ic,i===Ro||i===ed?(i=ux(),ft=3):i===Uf?(i=ux(),ft=4):ft=i===fm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Qn=i,He===null&&(qt=1,md(t,fs(i,t.current)))}function W0(){var t=Yn.current;return t===null?!0:(Ye&4194048)===Ye?ys===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?t===ys:!1}function Q0(){var t=Q.H;return Q.H=ic,t===null?ic:t}function X0(){var t=Q.A;return Q.A=Tj,t}function jd(){qt=4,jr||(Ye&4194048)!==Ye&&Yn.current!==null||(Uo=!0),(Ar&134217727)===0&&(Ua&134217727)===0||wt===null||Ir(wt,Ye,Xn,!1)}function km(t,i,o){var c=lt;lt|=2;var f=Q0(),m=X0();(wt!==t||Ye!==i)&&(wd=null,Fo(t,i)),i=!1;var b=qt;e:do try{if(ft!==0&&He!==null){var T=He,D=Qn;switch(ft){case 8:Om(),b=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(i=!0);var W=ft;if(ft=0,Qn=null,Bo(t,T,D,W),o&&Uo){b=0;break e}break;default:W=ft,ft=0,Qn=null,Bo(t,T,D,W)}}jj(),b=qt;break}catch(se){Y0(t,se)}while(!0);return i&&t.shellSuspendCounter++,Ci=Ia=null,lt=c,Q.H=f,Q.A=m,He===null&&(wt=null,Ye=0,Gu()),b}function jj(){for(;He!==null;)J0(He)}function Aj(t,i){var o=lt;lt|=2;var c=Q0(),f=X0();wt!==t||Ye!==i?(wd=null,Td=Yt()+500,Fo(t,i)):Uo=ws(t,i);e:do try{if(ft!==0&&He!==null){i=He;var m=Qn;t:switch(ft){case 1:ft=0,Qn=null,Bo(t,i,m,1);break;case 2:case 9:if(lx(m)){ft=0,Qn=null,Z0(i);break}i=function(){ft!==2&&ft!==9||wt!==t||(ft=7),ci(t)},m.then(i,i);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:lx(m)?(ft=0,Qn=null,Z0(i)):(ft=0,Qn=null,Bo(t,i,m,7));break;case 5:var b=null;switch(He.tag){case 26:b=He.memoizedState;case 5:case 27:var T=He;if(b?Vb(b):T.stateNode.complete){ft=0,Qn=null;var D=T.sibling;if(D!==null)He=D;else{var W=T.return;W!==null?(He=W,Ad(W)):He=null}break t}}ft=0,Qn=null,Bo(t,i,m,5);break;case 6:ft=0,Qn=null,Bo(t,i,m,6);break;case 8:Om(),qt=6;break e;default:throw Error(r(462))}}Sj();break}catch(se){Y0(t,se)}while(!0);return Ci=Ia=null,Q.H=c,Q.A=f,lt=o,He!==null?0:(wt=null,Ye=0,Gu(),qt)}function Sj(){for(;He!==null&&!is();)J0(He)}function J0(t){var i=E0(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,i===null?Ad(t):He=i}function Z0(t){var i=t,o=i.alternate;switch(i.tag){case 15:case 0:i=p0(o,i,i.pendingProps,i.type,void 0,Ye);break;case 11:i=p0(o,i,i.pendingProps,i.type.render,i.ref,Ye);break;case 5:Xf(i);default:w0(o,i),i=He=Xy(i,Ui),i=E0(o,i,Ui)}t.memoizedProps=t.pendingProps,i===null?Ad(t):He=i}function Bo(t,i,o,c){Ci=Ia=null,Xf(i),Mo=null,Ql=0;var f=i.return;try{if(pj(t,f,i,o,Ye)){qt=1,md(t,fs(o,t.current)),He=null;return}}catch(m){if(f!==null)throw He=f,m;qt=1,md(t,fs(o,t.current)),He=null;return}i.flags&32768?(tt||c===1?t=!0:Uo||(Ye&536870912)!==0?t=!1:(jr=t=!0,(c===2||c===9||c===3||c===6)&&(c=Yn.current,c!==null&&c.tag===13&&(c.flags|=16384))),eb(i,t)):Ad(i)}function Ad(t){var i=t;do{if((i.flags&32768)!==0){eb(i,jr);return}t=i.return;var o=bj(i.alternate,i,Ui);if(o!==null){He=o;return}if(i=i.sibling,i!==null){He=i;return}He=i=t}while(i!==null);qt===0&&(qt=5)}function eb(t,i){do{var o=vj(t.alternate,t);if(o!==null){o.flags&=32767,He=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(t=t.sibling,t!==null)){He=t;return}He=t=o}while(t!==null);qt=6,He=null}function tb(t,i,o,c,f,m,b,T,D){t.cancelPendingCommit=null;do Sd();while(ln!==0);if((lt&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(m=i.lanes|i.childLanes,m|=wf,gf(t,o,m,b,T,D),t===wt&&(He=wt=null,Ye=0),qo=i,Cr=t,zi=o,Mm=m,Dm=f,H0=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Mj(Bs,function(){return ab(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,f=he.p,he.p=2,b=lt,lt|=4;try{_j(t,i,o)}finally{lt=b,he.p=f,Q.T=c}}ln=1,nb(),sb(),ib()}}function nb(){if(ln===1){ln=0;var t=Cr,i=qo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var c=he.p;he.p=2;var f=lt;lt|=4;try{k0(i,t);var m=Ym,b=Fy(t.containerInfo),T=m.focusedElem,D=m.selectionRange;if(b!==T&&T&&T.ownerDocument&&qy(T.ownerDocument.documentElement,T)){if(D!==null&&bf(T)){var W=D.start,se=D.end;if(se===void 0&&(se=W),"selectionStart"in T)T.selectionStart=W,T.selectionEnd=Math.min(se,T.value.length);else{var ae=T.ownerDocument||document,X=ae&&ae.defaultView||window;if(X.getSelection){var te=X.getSelection(),we=T.textContent.length,Re=Math.min(D.start,we),bt=D.end===void 0?Re:Math.min(D.end,we);!te.extend&&Re>bt&&(b=bt,bt=Re,Re=b);var $=zy(T,Re),U=zy(T,bt);if($&&U&&(te.rangeCount!==1||te.anchorNode!==$.node||te.anchorOffset!==$.offset||te.focusNode!==U.node||te.focusOffset!==U.offset)){var Y=ae.createRange();Y.setStart($.node,$.offset),te.removeAllRanges(),Re>bt?(te.addRange(Y),te.extend(U.node,U.offset)):(Y.setEnd(U.node,U.offset),te.addRange(Y))}}}}for(ae=[],te=T;te=te.parentNode;)te.nodeType===1&&ae.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ae.length;T++){var ie=ae[T];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}zd=!!Km,Ym=Km=null}finally{lt=f,he.p=c,Q.T=o}}t.current=i,ln=2}}function sb(){if(ln===2){ln=0;var t=Cr,i=qo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var c=he.p;he.p=2;var f=lt;lt|=4;try{R0(t,i.alternate,i)}finally{lt=f,he.p=c,Q.T=o}}ln=3}}function ib(){if(ln===4||ln===3){ln=0,oo();var t=Cr,i=qo,o=zi,c=H0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ln=5:(ln=0,qo=Cr=null,rb(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Sr=null),Ti(o),i=i.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(kt,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=Q.T,f=he.p,he.p=2,Q.T=null;try{for(var m=t.onRecoverableError,b=0;b<c.length;b++){var T=c[b];m(T.value,{componentStack:T.stack})}}finally{Q.T=i,he.p=f}}(zi&3)!==0&&Sd(),ci(t),f=t.pendingLanes,(o&261930)!==0&&(f&42)!==0?t===Pm?fc++:(fc=0,Pm=t):fc=0,mc(0)}}function rb(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Yl(i)))}function Sd(){return nb(),sb(),ib(),ab()}function ab(){if(ln!==5)return!1;var t=Cr,i=Mm;Mm=0;var o=Ti(zi),c=Q.T,f=he.p;try{he.p=32>o?32:o,Q.T=null,o=Dm,Dm=null;var m=Cr,b=zi;if(ln=0,qo=Cr=null,zi=0,(lt&6)!==0)throw Error(r(331));var T=lt;if(lt|=4,q0(m.current),V0(m,m.current,b,o),lt=T,mc(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(kt,m)}catch{}return!0}finally{he.p=f,Q.T=c,rb(t,i)}}function ob(t,i,o){i=fs(o,i),i=hm(t.stateNode,i,2),t=Er(t,i,2),t!==null&&(fa(t,2),ci(t))}function mt(t,i,o){if(t.tag===3)ob(t,t,o);else for(;i!==null;){if(i.tag===3){ob(i,t,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Sr===null||!Sr.has(c))){t=fs(o,t),o=l0(2),c=Er(i,o,2),c!==null&&(c0(o,c,i,t),fa(c,2),ci(c));break}}i=i.return}}function Lm(t,i,o){var c=t.pingCache;if(c===null){c=t.pingCache=new wj;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(o)||(Cm=!0,f.add(o),t=Cj.bind(null,t,i,o),i.then(t,t))}function Cj(t,i,o){var c=t.pingCache;c!==null&&c.delete(i),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,wt===t&&(Ye&o)===o&&(qt===4||qt===3&&(Ye&62914560)===Ye&&300>Yt()-Ed?(lt&2)===0&&Fo(t,0):Im|=o,zo===Ye&&(zo=0)),ci(t)}function lb(t,i){i===0&&(i=wu()),t=Aa(t,i),t!==null&&(fa(t,i),ci(t))}function Ij(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),lb(t,o)}function Rj(t,i){var o=0;switch(t.tag){case 31:case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),lb(t,o)}function Mj(t,i){return qe(t,i)}var Cd=null,Ho=null,Vm=!1,Id=!1,Um=!1,Rr=0;function ci(t){t!==Ho&&t.next===null&&(Ho===null?Cd=Ho=t:Ho=Ho.next=t),Id=!0,Vm||(Vm=!0,Pj())}function mc(t,i){if(!Um&&Id){Um=!0;do for(var o=!1,c=Cd;c!==null;){if(t!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var b=c.suspendedLanes,T=c.pingedLanes;m=(1<<31-et(42|t)+1)-1,m&=f&~(b&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,hb(c,m))}else m=Ye,m=$s(c,c===wt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||ws(c,m)||(o=!0,hb(c,m));c=c.next}while(o);Um=!1}}function Dj(){cb()}function cb(){Id=Vm=!1;var t=0;Rr!==0&&Hj()&&(t=Rr);for(var i=Yt(),o=null,c=Cd;c!==null;){var f=c.next,m=ub(c,i);m===0?(c.next=null,o===null?Cd=f:o.next=f,f===null&&(Ho=o)):(o=c,(t!==0||(m&3)!==0)&&(Id=!0)),c=f}ln!==0&&ln!==5||mc(t),Rr!==0&&(Rr=0)}function ub(t,i){for(var o=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-et(m),T=1<<b,D=f[b];D===-1?((T&o)===0||(T&c)!==0)&&(f[b]=mf(T,i)):D<=i&&(t.expiredLanes|=T),m&=~T}if(i=wt,o=Ye,o=$s(t,t===i?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,o===0||t===i&&(ft===2||ft===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Nt(c),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||ws(t,o)){if(i=o&-o,i===t.callbackPriority)return i;switch(c!==null&&Nt(c),Ti(o)){case 2:case 8:o=ir;break;case 32:o=Bs;break;case 268435456:o=Ze;break;default:o=Bs}return c=db.bind(null,t),o=qe(o,c),t.callbackPriority=i,t.callbackNode=o,i}return c!==null&&c!==null&&Nt(c),t.callbackPriority=2,t.callbackNode=null,2}function db(t,i){if(ln!==0&&ln!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Sd()&&t.callbackNode!==o)return null;var c=Ye;return c=$s(t,t===wt?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(G0(t,c,i),ub(t,Yt()),t.callbackNode!=null&&t.callbackNode===o?db.bind(null,t):null)}function hb(t,i){if(Sd())return null;G0(t,i,!0)}function Pj(){Gj(function(){(lt&6)!==0?qe(sr,Dj):cb()})}function zm(){if(Rr===0){var t=Co;t===0&&(t=as,as<<=1,(as&261888)===0&&(as=256)),Rr=t}return Rr}function fb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:mo(""+t)}function mb(t,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,t.id&&o.setAttribute("form",t.id),i.parentNode.insertBefore(o,i),t=new FormData(t),o.parentNode.removeChild(o),t}function Oj(t,i,o,c,f){if(i==="submit"&&o&&o.stateNode===f){var m=fb((f[hn]||null).action),b=c.submitter;b&&(i=(i=b[hn]||null)?fb(i.formAction):b.getAttribute("formAction"),i!==null&&(m=i,b=null));var T=new ni("action","action",null,c,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Rr!==0){var D=b?mb(f,b):new FormData(f);am(o,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(T.preventDefault(),D=b?mb(f,b):new FormData(f),am(o,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var qm=0;qm<Tf.length;qm++){var Fm=Tf[qm],kj=Fm.toLowerCase(),Lj=Fm[0].toUpperCase()+Fm.slice(1);Ms(kj,"on"+Lj)}Ms($y,"onAnimationEnd"),Ms(Gy,"onAnimationIteration"),Ms(Ky,"onAnimationStart"),Ms("dblclick","onDoubleClick"),Ms("focusin","onFocus"),Ms("focusout","onBlur"),Ms(ZN,"onTransitionRun"),Ms(ej,"onTransitionStart"),Ms(tj,"onTransitionCancel"),Ms(Yy,"onTransitionEnd"),Js("onMouseEnter",["mouseout","mouseover"]),Js("onMouseLeave",["mouseout","mouseover"]),Js("onPointerEnter",["pointerout","pointerover"]),Js("onPointerLeave",["pointerout","pointerover"]),Xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gc));function gb(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var b=c.length-1;0<=b;b--){var T=c[b],D=T.instance,W=T.currentTarget;if(T=T.listener,D!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=W;try{m(f)}catch(se){$u(se)}f.currentTarget=null,m=D}else for(b=0;b<c.length;b++){if(T=c[b],D=T.instance,W=T.currentTarget,T=T.listener,D!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=W;try{m(f)}catch(se){$u(se)}f.currentTarget=null,m=D}}}}function $e(t,i){var o=i[lo];o===void 0&&(o=i[lo]=new Set);var c=t+"__bubble";o.has(c)||(pb(i,t,2,!1),o.add(c))}function Bm(t,i,o){var c=0;i&&(c|=4),pb(o,t,c,i)}var Rd="_reactListening"+Math.random().toString(36).slice(2);function Hm(t){if(!t[Rd]){t[Rd]=!0,Al.forEach(function(o){o!=="selectionchange"&&(Vj.has(o)||Bm(o,!1,t),Bm(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Rd]||(i[Rd]=!0,Bm("selectionchange",!1,i))}}function pb(t,i,o,c){switch($b(i)){case 2:var f=hA;break;case 8:f=fA;break;default:f=rg}o=f.bind(null,i,o,t),f=void 0,!ba||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(i,o,{capture:!0,passive:f}):t.addEventListener(i,o,!0):f!==void 0?t.addEventListener(i,o,{passive:f}):t.addEventListener(i,o,!1)}function $m(t,i,o,c,f){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var T=c.stateNode.containerInfo;if(T===f)break;if(b===4)for(b=c.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;T!==null;){if(b=Ws(T),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){c=m=b;continue e}T=T.parentNode}}c=c.return}hr(function(){var W=m,se=cs(o),ae=[];e:{var X=Wy.get(t);if(X!==void 0){var te=ni,we=t;switch(t){case"keypress":if(_a(o)===0)break e;case"keydown":case"keyup":te=Fu;break;case"focusin":we="focus",te=Ta;break;case"focusout":we="blur",te=Ta;break;case"beforeblur":case"afterblur":te=Ta;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=x;break;case $y:case Gy:case Ky:te=Ou;break;case Yy:te=w;break;case"scroll":case"scrollend":te=Ul;break;case"wheel":te=ee;break;case"copy":case"cut":case"paste":te=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=ji;break;case"toggle":case"beforetoggle":te=Ue}var Re=(i&4)!==0,bt=!Re&&(t==="scroll"||t==="scrollend"),$=Re?X!==null?X+"Capture":null:X;Re=[];for(var U=W,Y;U!==null;){var ie=U;if(Y=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Y===null||$===null||(ie=Ss(U,$),ie!=null&&Re.push(pc(U,ie,Y))),bt)break;U=U.return}0<Re.length&&(X=new te(X,we,null,o,se),ae.push({event:X,listeners:Re}))}}if((i&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",te=t==="mouseout"||t==="pointerout",X&&o!==kl&&(we=o.relatedTarget||o.fromElement)&&(Ws(we)||we[Ks]))break e;if((te||X)&&(X=se.window===se?se:(X=se.ownerDocument)?X.defaultView||X.parentWindow:window,te?(we=o.relatedTarget||o.toElement,te=W,we=we?Ws(we):null,we!==null&&(bt=u(we),Re=we.tag,we!==bt||Re!==5&&Re!==27&&Re!==6)&&(we=null)):(te=null,we=W),te!==we)){if(Re=zl,ie="onMouseLeave",$="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Re=ji,ie="onPointerLeave",$="onPointerEnter",U="pointer"),bt=te==null?X:Hn(te),Y=we==null?X:Hn(we),X=new Re(ie,U+"leave",te,o,se),X.target=bt,X.relatedTarget=Y,ie=null,Ws(se)===W&&(Re=new Re($,U+"enter",we,o,se),Re.target=Y,Re.relatedTarget=bt,ie=Re),bt=ie,te&&we)t:{for(Re=Uj,$=te,U=we,Y=0,ie=$;ie;ie=Re(ie))Y++;ie=0;for(var Se=U;Se;Se=Re(Se))ie++;for(;0<Y-ie;)$=Re($),Y--;for(;0<ie-Y;)U=Re(U),ie--;for(;Y--;){if($===U||U!==null&&$===U.alternate){Re=$;break t}$=Re($),U=Re(U)}Re=null}else Re=null;te!==null&&yb(ae,X,te,Re,!1),we!==null&&bt!==null&&yb(ae,bt,we,Re,!0)}}e:{if(X=W?Hn(W):window,te=X.nodeName&&X.nodeName.toLowerCase(),te==="select"||te==="input"&&X.type==="file")var rt=Py;else if(My(X))if(Oy)rt=QN;else{rt=YN;var je=KN}else te=X.nodeName,!te||te.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?W&&fo(W.elementType)&&(rt=Py):rt=WN;if(rt&&(rt=rt(t,W))){Dy(ae,rt,o,se);break e}je&&je(t,X,W),t==="focusout"&&W&&X.type==="number"&&W.memoizedProps.value!=null&&Dl(X,"number",X.value)}switch(je=W?Hn(W):window,t){case"focusin":(My(je)||je.contentEditable==="true")&&(_o=je,vf=W,$l=null);break;case"focusout":$l=vf=_o=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,By(ae,o,se);break;case"selectionchange":if(JN)break;case"keydown":case"keyup":By(ae,o,se)}var Fe;if(ot)e:{switch(t){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else vo?wa(t,o)&&(We="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(We="onCompositionStart");We&&(ri&&o.locale!=="ko"&&(vo||We!=="onCompositionStart"?We==="onCompositionEnd"&&vo&&(Fe=Vl()):(ti=se,Ll="value"in ti?ti.value:ti.textContent,vo=!0)),je=Md(W,We),0<je.length&&(We=new ii(We,t,null,o,se),ae.push({event:We,listeners:je}),Fe?We.data=Fe:(Fe=bo(o),Fe!==null&&(We.data=Fe)))),(Fe=ds?BN(t,o):HN(t,o))&&(We=Md(W,"onBeforeInput"),0<We.length&&(je=new ii("onBeforeInput","beforeinput",null,o,se),ae.push({event:je,listeners:We}),je.data=Fe)),Oj(ae,t,W,o,se)}gb(ae,i)})}function pc(t,i,o){return{instance:t,listener:i,currentTarget:o}}function Md(t,i){for(var o=i+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ss(t,o),f!=null&&c.unshift(pc(t,f,m)),f=Ss(t,i),f!=null&&c.push(pc(t,f,m))),t.tag===3)return c;t=t.return}return[]}function Uj(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yb(t,i,o,c,f){for(var m=i._reactName,b=[];o!==null&&o!==c;){var T=o,D=T.alternate,W=T.stateNode;if(T=T.tag,D!==null&&D===c)break;T!==5&&T!==26&&T!==27||W===null||(D=W,f?(W=Ss(o,m),W!=null&&b.unshift(pc(o,W,D))):f||(W=Ss(o,m),W!=null&&b.push(pc(o,W,D)))),o=o.return}b.length!==0&&t.push({event:i,listeners:b})}var zj=/\r\n?/g,qj=/\u0000|\uFFFD/g;function xb(t){return(typeof t=="string"?t:""+t).replace(zj,`
`).replace(qj,"")}function bb(t,i){return i=xb(i),xb(t)===i}function xt(t,i,o,c,f,m){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||kn(t,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&kn(t,""+c);break;case"className":$n(t,"class",c);break;case"tabIndex":$n(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(t,o,c);break;case"style":Ol(t,c,m);break;case"data":if(i!=="object"){$n(t,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){t.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(o);break}c=mo(""+c),t.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&xt(t,i,"name",f.name,f,null),xt(t,i,"formEncType",f.formEncType,f,null),xt(t,i,"formMethod",f.formMethod,f,null),xt(t,i,"formTarget",f.formTarget,f,null)):(xt(t,i,"encType",f.encType,f,null),xt(t,i,"method",f.method,f,null),xt(t,i,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(o);break}c=mo(""+c),t.setAttribute(o,c);break;case"onClick":c!=null&&(t.onclick=As);break;case"onScroll":c!=null&&$e("scroll",t);break;case"onScrollEnd":c!=null&&$e("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}o=mo(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,""+c):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":c===!0?t.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(o,c):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(o,c):t.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(o):t.setAttribute(o,c);break;case"popover":$e("beforetoggle",t),$e("toggle",t),uo(t,"popover",c);break;case"xlinkActuate":Xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Xt(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Xt(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Xt(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Xt(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":uo(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Mu.get(o)||o,uo(t,o,c))}}function Gm(t,i,o,c,f,m){switch(o){case"style":Ol(t,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=o}}break;case"children":typeof c=="string"?kn(t,c):(typeof c=="number"||typeof c=="bigint")&&kn(t,""+c);break;case"onScroll":c!=null&&$e("scroll",t);break;case"onScrollEnd":c!=null&&$e("scrollend",t);break;case"onClick":c!=null&&(t.onclick=As);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),m=t[hn]||null,m=m!=null?m[o]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(i,c,f);break e}o in t?t[o]=c:c===!0?t.setAttribute(o,""):uo(t,o,c)}}}function En(t,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",t),$e("load",t);var c=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var b=o[m];if(b!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:xt(t,i,m,b,o,null)}}f&&xt(t,i,"srcSet",o.srcSet,o,null),c&&xt(t,i,"src",o.src,o,null);return;case"input":$e("invalid",t);var T=m=b=f=null,D=null,W=null;for(c in o)if(o.hasOwnProperty(c)){var se=o[c];if(se!=null)switch(c){case"name":f=se;break;case"type":b=se;break;case"checked":D=se;break;case"defaultChecked":W=se;break;case"value":m=se;break;case"defaultValue":T=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,i));break;default:xt(t,i,c,se,o,null)}}Cu(t,m,T,D,W,b,f,!1);return;case"select":$e("invalid",t),c=b=m=null;for(f in o)if(o.hasOwnProperty(f)&&(T=o[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":b=T;break;case"multiple":c=T;default:xt(t,i,f,T,o,null)}i=m,o=b,t.multiple=!!c,i!=null?lr(t,!!c,i,!1):o!=null&&lr(t,!!c,o,!0);return;case"textarea":$e("invalid",t),m=f=c=null;for(b in o)if(o.hasOwnProperty(b)&&(T=o[b],T!=null))switch(b){case"value":c=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:xt(t,i,b,T,o,null)}cr(t,c,f,m);return;case"option":for(D in o)o.hasOwnProperty(D)&&(c=o[D],c!=null)&&(D==="selected"?t.selected=c&&typeof c!="function"&&typeof c!="symbol":xt(t,i,D,c,o,null));return;case"dialog":$e("beforetoggle",t),$e("toggle",t),$e("cancel",t),$e("close",t);break;case"iframe":case"object":$e("load",t);break;case"video":case"audio":for(c=0;c<gc.length;c++)$e(gc[c],t);break;case"image":$e("error",t),$e("load",t);break;case"details":$e("toggle",t);break;case"embed":case"source":case"link":$e("error",t),$e("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(c=o[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:xt(t,i,W,c,o,null)}return;default:if(fo(i)){for(se in o)o.hasOwnProperty(se)&&(c=o[se],c!==void 0&&Gm(t,i,se,c,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(c=o[T],c!=null&&xt(t,i,T,c,o,null))}function Fj(t,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,T=null,D=null,W=null,se=null;for(te in o){var ae=o[te];if(o.hasOwnProperty(te)&&ae!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":D=ae;default:c.hasOwnProperty(te)||xt(t,i,te,null,c,ae)}}for(var X in c){var te=c[X];if(ae=o[X],c.hasOwnProperty(X)&&(te!=null||ae!=null))switch(X){case"type":m=te;break;case"name":f=te;break;case"checked":W=te;break;case"defaultChecked":se=te;break;case"value":b=te;break;case"defaultValue":T=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,i));break;default:te!==ae&&xt(t,i,X,te,c,ae)}}ho(t,b,T,D,W,se,m,f);return;case"select":te=b=T=X=null;for(m in o)if(D=o[m],o.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":te=D;default:c.hasOwnProperty(m)||xt(t,i,m,null,c,D)}for(f in c)if(m=c[f],D=o[f],c.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":X=m;break;case"defaultValue":T=m;break;case"multiple":b=m;default:m!==D&&xt(t,i,f,m,c,D)}i=T,o=b,c=te,X!=null?lr(t,!!o,X,!1):!!c!=!!o&&(i!=null?lr(t,!!o,i,!0):lr(t,!!o,o?[]:"",!1));return;case"textarea":te=X=null;for(T in o)if(f=o[T],o.hasOwnProperty(T)&&f!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:xt(t,i,T,null,c,f)}for(b in c)if(f=c[b],m=o[b],c.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":X=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&xt(t,i,b,f,c,m)}Iu(t,X,te);return;case"option":for(var we in o)X=o[we],o.hasOwnProperty(we)&&X!=null&&!c.hasOwnProperty(we)&&(we==="selected"?t.selected=!1:xt(t,i,we,null,c,X));for(D in c)X=c[D],te=o[D],c.hasOwnProperty(D)&&X!==te&&(X!=null||te!=null)&&(D==="selected"?t.selected=X&&typeof X!="function"&&typeof X!="symbol":xt(t,i,D,X,c,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)X=o[Re],o.hasOwnProperty(Re)&&X!=null&&!c.hasOwnProperty(Re)&&xt(t,i,Re,null,c,X);for(W in c)if(X=c[W],te=o[W],c.hasOwnProperty(W)&&X!==te&&(X!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,i));break;default:xt(t,i,W,X,c,te)}return;default:if(fo(i)){for(var bt in o)X=o[bt],o.hasOwnProperty(bt)&&X!==void 0&&!c.hasOwnProperty(bt)&&Gm(t,i,bt,void 0,c,X);for(se in c)X=c[se],te=o[se],!c.hasOwnProperty(se)||X===te||X===void 0&&te===void 0||Gm(t,i,se,X,c,te);return}}for(var $ in o)X=o[$],o.hasOwnProperty($)&&X!=null&&!c.hasOwnProperty($)&&xt(t,i,$,null,c,X);for(ae in c)X=c[ae],te=o[ae],!c.hasOwnProperty(ae)||X===te||X==null&&te==null||xt(t,i,ae,X,c,te)}function vb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bj(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var f=o[c],m=f.transferSize,b=f.initiatorType,T=f.duration;if(m&&T&&vb(b)){for(b=0,T=f.responseEnd,c+=1;c<o.length;c++){var D=o[c],W=D.startTime;if(W>T)break;var se=D.transferSize,ae=D.initiatorType;se&&vb(ae)&&(D=D.responseEnd,b+=se*(D<T?1:(T-W)/(D-W)))}if(--c,i+=8*(m+b)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Km=null,Ym=null;function Dd(t){return t.nodeType===9?t:t.ownerDocument}function _b(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Eb(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Wm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qm=null;function Hj(){var t=window.event;return t&&t.type==="popstate"?t===Qm?!1:(Qm=t,!0):(Qm=null,!1)}var Tb=typeof setTimeout=="function"?setTimeout:void 0,$j=typeof clearTimeout=="function"?clearTimeout:void 0,wb=typeof Promise=="function"?Promise:void 0,Gj=typeof queueMicrotask=="function"?queueMicrotask:typeof wb<"u"?function(t){return wb.resolve(null).then(t).catch(Kj)}:Tb;function Kj(t){setTimeout(function(){throw t})}function Mr(t){return t==="head"}function Nb(t,i){var o=i,c=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(c===0){t.removeChild(f),Yo(i);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")yc(t.ownerDocument.documentElement);else if(o==="head"){o=t.ownerDocument.head,yc(o);for(var m=o.firstChild;m;){var b=m.nextSibling,T=m.nodeName;m[Ys]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=b}}else o==="body"&&yc(t.ownerDocument.body);o=f}while(o);Yo(i)}function jb(t,i){var o=t;t=0;do{var c=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(t===0)break;t--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||t++;o=c}while(o)}function Xm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Xm(o),co(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function Yj(t,i,o,c){for(;t.nodeType===1;){var f=o;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Ys])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=xs(t.nextSibling),t===null)break}return null}function Wj(t,i,o){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=xs(t.nextSibling),t===null))return null;return t}function Ab(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=xs(t.nextSibling),t===null))return null;return t}function Jm(t){return t.data==="$?"||t.data==="$~"}function Zm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Qj(t,i){var o=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||o.readyState!=="loading")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function xs(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var eg=null;function Sb(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"||o==="/&"){if(i===0)return xs(t.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}t=t.nextSibling}return null}function Cb(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return t;i--}else o!=="/$"&&o!=="/&"||i++}t=t.previousSibling}return null}function Ib(t,i,o){switch(i=Dd(o),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function yc(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);co(t)}var bs=new Map,Rb=new Set;function Pd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=he.d;he.d={f:Xj,r:Jj,D:Zj,C:eA,L:tA,m:nA,X:iA,S:sA,M:rA};function Xj(){var t=qi.f(),i=Nd();return t||i}function Jj(t){var i=ls(t);i!==null&&i.tag===5&&i.type==="form"?Yx(i):qi.r(t)}var $o=typeof document>"u"?null:document;function Mb(t,i,o){var c=$o;if(c&&typeof i=="string"&&i){var f=On(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Rb.has(f)||(Rb.add(f),t={rel:t,crossOrigin:o,href:i},c.querySelector(f)===null&&(i=c.createElement("link"),En(i,"link",t),Qt(i),c.head.appendChild(i)))}}function Zj(t){qi.D(t),Mb("dns-prefetch",t,null)}function eA(t,i){qi.C(t,i),Mb("preconnect",t,i)}function tA(t,i,o){qi.L(t,i,o);var c=$o;if(c&&t&&i){var f='link[rel="preload"][as="'+On(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+On(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+On(o.imageSizes)+'"]')):f+='[href="'+On(t)+'"]';var m=f;switch(i){case"style":m=Go(t);break;case"script":m=Ko(t)}bs.has(m)||(t=E({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:t,as:i},o),bs.set(m,t),c.querySelector(f)!==null||i==="style"&&c.querySelector(xc(m))||i==="script"&&c.querySelector(bc(m))||(i=c.createElement("link"),En(i,"link",t),Qt(i),c.head.appendChild(i)))}}function nA(t,i){qi.m(t,i);var o=$o;if(o&&t){var c=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+On(c)+'"][href="'+On(t)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ko(t)}if(!bs.has(m)&&(t=E({rel:"modulepreload",href:t},i),bs.set(m,t),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(bc(m)))return}c=o.createElement("link"),En(c,"link",t),Qt(c),o.head.appendChild(c)}}}function sA(t,i,o){qi.S(t,i,o);var c=$o;if(c&&t){var f=Qs(c).hoistableStyles,m=Go(t);i=i||"default";var b=f.get(m);if(!b){var T={loading:0,preload:null};if(b=c.querySelector(xc(m)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},o),(o=bs.get(m))&&tg(t,o);var D=b=c.createElement("link");Qt(D),En(D,"link",t),D._p=new Promise(function(W,se){D.onload=W,D.onerror=se}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Od(b,i,c)}b={type:"stylesheet",instance:b,count:1,state:T},f.set(m,b)}}}function iA(t,i){qi.X(t,i);var o=$o;if(o&&t){var c=Qs(o).hoistableScripts,f=Ko(t),m=c.get(f);m||(m=o.querySelector(bc(f)),m||(t=E({src:t,async:!0},i),(i=bs.get(f))&&ng(t,i),m=o.createElement("script"),Qt(m),En(m,"link",t),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function rA(t,i){qi.M(t,i);var o=$o;if(o&&t){var c=Qs(o).hoistableScripts,f=Ko(t),m=c.get(f);m||(m=o.querySelector(bc(f)),m||(t=E({src:t,async:!0,type:"module"},i),(i=bs.get(f))&&ng(t,i),m=o.createElement("script"),Qt(m),En(m,"link",t),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function Db(t,i,o,c){var f=(f=ue.current)?Pd(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Go(o.href),o=Qs(f).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=Go(o.href);var m=Qs(f).hoistableStyles,b=m.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=f.querySelector(xc(t)))&&!m._p&&(b.instance=m,b.state.loading=5),bs.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},bs.set(t,o),m||aA(f,t,o,b.state))),i&&c===null)throw Error(r(528,""));return b}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ko(o),o=Qs(f).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Go(t){return'href="'+On(t)+'"'}function xc(t){return'link[rel="stylesheet"]['+t+"]"}function Pb(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function aA(t,i,o,c){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=t.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),En(i,"link",o),Qt(i),t.head.appendChild(i))}function Ko(t){return'[src="'+On(t)+'"]'}function bc(t){return"script[async]"+t}function Ob(t,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=t.querySelector('style[data-href~="'+On(o.href)+'"]');if(c)return i.instance=c,Qt(c),c;var f=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),Qt(c),En(c,"style",f),Od(c,o.precedence,t),i.instance=c;case"stylesheet":f=Go(o.href);var m=t.querySelector(xc(f));if(m)return i.state.loading|=4,i.instance=m,Qt(m),m;c=Pb(o),(f=bs.get(f))&&tg(c,f),m=(t.ownerDocument||t).createElement("link"),Qt(m);var b=m;return b._p=new Promise(function(T,D){b.onload=T,b.onerror=D}),En(m,"link",c),i.state.loading|=4,Od(m,o.precedence,t),i.instance=m;case"script":return m=Ko(o.src),(f=t.querySelector(bc(m)))?(i.instance=f,Qt(f),f):(c=o,(f=bs.get(m))&&(c=E({},o),ng(c,f)),t=t.ownerDocument||t,f=t.createElement("script"),Qt(f),En(f,"link",c),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Od(c,o.precedence,t));return i.instance}function Od(t,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,b=0;b<c.length;b++){var T=c[b];if(T.dataset.precedence===i)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(t,i.firstChild))}function tg(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function ng(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var kd=null;function kb(t,i,o){if(kd===null){var c=new Map,f=kd=new Map;f.set(o,c)}else f=kd,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(t))return c;for(c.set(t,null),o=o.getElementsByTagName(t),f=0;f<o.length;f++){var m=o[f];if(!(m[Ys]||m[Wt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(i)||"";b=t+b;var T=c.get(b);T?T.push(m):c.set(b,[m])}}return c}function Lb(t,i,o){t=t.ownerDocument||t,t.head.insertBefore(o,i==="title"?t.querySelector("head > title"):null)}function oA(t,i,o){if(o===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Vb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function lA(t,i,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Go(c.href),m=i.querySelector(xc(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Ld.bind(t),i.then(t,t)),o.state.loading|=4,o.instance=m,Qt(m);return}m=i.ownerDocument||i,c=Pb(c),(f=bs.get(f))&&tg(c,f),m=m.createElement("link"),Qt(m);var b=m;b._p=new Promise(function(T,D){b.onload=T,b.onerror=D}),En(m,"link",c),o.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(t.count++,o=Ld.bind(t),i.addEventListener("load",o),i.addEventListener("error",o))}}var sg=0;function cA(t,i){return t.stylesheets&&t.count===0&&Ud(t,t.stylesheets),0<t.count||0<t.imgCount?function(o){var c=setTimeout(function(){if(t.stylesheets&&Ud(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&sg===0&&(sg=62500*Bj());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ud(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>sg?50:800)+i);return t.unsuspend=o,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Ld(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ud(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vd=null;function Ud(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vd=new Map,i.forEach(uA,t),Vd=null,Ld.call(t))}function uA(t,i){if(!(i.state.loading&4)){var o=Vd.get(t);if(o)var c=o.get(null);else{o=new Map,Vd.set(t,o);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}f=i.instance,b=f.getAttribute("data-precedence"),m=o.get(b)||c,m===c&&o.set(null,f),o.set(b,f),this.count++,c=Ld.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var vc={$$typeof:J,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function dA(t,i,o,c,f,m,b,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.hiddenUpdates=Gs(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Ub(t,i,o,c,f,m,b,T,D,W,se,ae){return t=new dA(t,i,o,b,D,W,se,ae,T),i=1,m===!0&&(i|=24),m=Kn(3,null,null,i),t.current=m,m.stateNode=t,i=kf(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:c,isDehydrated:o,cache:i},zf(m),t}function zb(t){return t?(t=wo,t):wo}function qb(t,i,o,c,f,m){f=zb(f),c.context===null?c.context=f:c.pendingContext=f,c=_r(i),c.payload={element:o},m=m===void 0?null:m,m!==null&&(c.callback=m),o=Er(t,c,i),o!==null&&(qn(o,t,i),Jl(o,t,i))}function Fb(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function ig(t,i){Fb(t,i),(t=t.alternate)&&Fb(t,i)}function Bb(t){if(t.tag===13||t.tag===31){var i=Aa(t,67108864);i!==null&&qn(i,t,67108864),ig(t,67108864)}}function Hb(t){if(t.tag===13||t.tag===31){var i=Jn();i=ga(i);var o=Aa(t,i);o!==null&&qn(o,t,i),ig(t,i)}}var zd=!0;function hA(t,i,o,c){var f=Q.T;Q.T=null;var m=he.p;try{he.p=2,rg(t,i,o,c)}finally{he.p=m,Q.T=f}}function fA(t,i,o,c){var f=Q.T;Q.T=null;var m=he.p;try{he.p=8,rg(t,i,o,c)}finally{he.p=m,Q.T=f}}function rg(t,i,o,c){if(zd){var f=ag(c);if(f===null)$m(t,i,c,qd,o),Gb(t,c);else if(gA(f,t,i,o,c))c.stopPropagation();else if(Gb(t,c),i&4&&-1<mA.indexOf(t)){for(;f!==null;){var m=ls(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=os(m.pendingLanes);if(b!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var D=1<<31-et(b);T.entanglements[1]|=D,b&=~D}ci(m),(lt&6)===0&&(Td=Yt()+500,mc(0))}}break;case 31:case 13:T=Aa(m,2),T!==null&&qn(T,m,2),Nd(),ig(m,2)}if(m=ag(c),m===null&&$m(t,i,c,qd,o),m===f)break;f=m}f!==null&&c.stopPropagation()}else $m(t,i,c,null,o)}}function ag(t){return t=cs(t),og(t)}var qd=null;function og(t){if(qd=null,t=Ws(t),t!==null){var i=u(t);if(i===null)t=null;else{var o=i.tag;if(o===13){if(t=d(i),t!==null)return t;t=null}else if(o===31){if(t=g(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return qd=t,null}function $b(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rs()){case sr:return 2;case ir:return 8;case Bs:case wl:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var lg=!1,Dr=null,Pr=null,Or=null,_c=new Map,Ec=new Map,kr=[],mA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gb(t,i){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":_c.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(i.pointerId)}}function Tc(t,i,o,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=ls(i),i!==null&&Bb(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function gA(t,i,o,c,f){switch(i){case"focusin":return Dr=Tc(Dr,t,i,o,c,f),!0;case"dragenter":return Pr=Tc(Pr,t,i,o,c,f),!0;case"mouseover":return Or=Tc(Or,t,i,o,c,f),!0;case"pointerover":var m=f.pointerId;return _c.set(m,Tc(_c.get(m)||null,t,i,o,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Ec.set(m,Tc(Ec.get(m)||null,t,i,o,c,f)),!0}return!1}function Kb(t){var i=Ws(t.target);if(i!==null){var o=u(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){t.blockedOn=i,Ns(t.priority,function(){Hb(o)});return}}else if(i===31){if(i=g(o),i!==null){t.blockedOn=i,Ns(t.priority,function(){Hb(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fd(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=ag(t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);kl=c,o.target.dispatchEvent(c),kl=null}else return i=ls(o),i!==null&&Bb(i),t.blockedOn=o,!1;i.shift()}return!0}function Yb(t,i,o){Fd(t)&&o.delete(i)}function pA(){lg=!1,Dr!==null&&Fd(Dr)&&(Dr=null),Pr!==null&&Fd(Pr)&&(Pr=null),Or!==null&&Fd(Or)&&(Or=null),_c.forEach(Yb),Ec.forEach(Yb)}function Bd(t,i){t.blockedOn===i&&(t.blockedOn=null,lg||(lg=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,pA)))}var Hd=null;function Wb(t){Hd!==t&&(Hd=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Hd===t&&(Hd=null);for(var i=0;i<t.length;i+=3){var o=t[i],c=t[i+1],f=t[i+2];if(typeof c!="function"){if(og(c||o)===null)continue;break}var m=ls(o);m!==null&&(t.splice(i,3),i-=3,am(m,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Yo(t){function i(D){return Bd(D,t)}Dr!==null&&Bd(Dr,t),Pr!==null&&Bd(Pr,t),Or!==null&&Bd(Or,t),_c.forEach(i),Ec.forEach(i);for(var o=0;o<kr.length;o++){var c=kr[o];c.blockedOn===t&&(c.blockedOn=null)}for(;0<kr.length&&(o=kr[0],o.blockedOn===null);)Kb(o),o.blockedOn===null&&kr.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],m=o[c+1],b=f[hn]||null;if(typeof m=="function")b||Wb(o);else if(b){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[hn]||null)T=b.formAction;else if(og(f)!==null)continue}else T=b.action;typeof T=="function"?o[c+1]=T:(o.splice(c,3),c-=3),Wb(o)}}}function Qb(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function cg(t){this._internalRoot=t}$d.prototype.render=cg.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,c=Jn();qb(o,c,t,i,null,null)},$d.prototype.unmount=cg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;qb(t.current,2,null,t,null,null),Nd(),i[Ks]=null}};function $d(t){this._internalRoot=t}$d.prototype.unstable_scheduleHydration=function(t){if(t){var i=Nu();t={blockedOn:null,target:t,priority:i};for(var o=0;o<kr.length&&i!==0&&i<kr[o].priority;o++);kr.splice(o,0,t),o===0&&Kb(t)}};var Xb=e.version;if(Xb!=="19.2.3")throw Error(r(527,Xb,"19.2.3"));he.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(i),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var yA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gd.isDisabled&&Gd.supportsFiber)try{kt=Gd.inject(yA),Ke=Gd}catch{}}return jc.createRoot=function(t,i){if(!l(t))throw Error(r(299));var o=!1,c="",f=i0,m=r0,b=a0;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=Ub(t,1,!1,null,null,o,c,null,f,m,b,Qb),t[Ks]=i.current,Hm(t),new cg(i)},jc.hydrateRoot=function(t,i,o){if(!l(t))throw Error(r(299));var c=!1,f="",m=i0,b=r0,T=a0,D=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.formState!==void 0&&(D=o.formState)),i=Ub(t,1,!0,i,o??null,c,f,D,m,b,T,Qb),i.context=zb(null),o=i.current,c=Jn(),c=ga(c),f=_r(c),f.callback=null,Er(o,f,c),o=c,i.current.lanes=o,fa(i,o),ci(i),t[Ks]=i.current,Hm(t),new $d(i)},jc.version="19.2.3",jc}var fv;function iS(){if(fv)return pg.exports;fv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),pg.exports=sS(),pg.exports}var rS=iS();const aS="/assets/face2-BnorMDId.webp",oS="/assets/face2-B6YhBnC2.png";function Mt(){return a.jsx("footer",{className:"bg-gray-900 text-gray-300 py-8",children:a.jsx("div",{className:"max-w-4xl mx-auto px-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:"Seth Jamison Kitchen"}),a.jsx("p",{children:"Professional Engineer, Missouri"}),a.jsx("p",{className:"text-sm",children:"License No. PE-2026001392"})]}),a.jsxs("nav",{"aria-label":"Footer navigation",className:"flex flex-wrap gap-4 text-sm",children:[a.jsx(ye,{to:"/contact",className:"hover:text-white transition-colors",children:"Contact"}),a.jsx(ye,{to:"/portal",className:"hover:text-white transition-colors",children:"Portal Login"}),a.jsx(ye,{to:"/legal",className:"hover:text-white transition-colors",children:"Legal / Disclaimer"})]})]})})})}const lS=()=>{};var mv={};const kE=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},cS=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],d=s[n++],g=s[n++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[n++],d=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},LE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,p=y?s[l+2]:0,_=u>>2,E=(u&3)<<4|g>>4;let N=(g&15)<<2|p>>6,V=p&63;y||(V=64,d||(N=64)),r.push(n[_],n[E],n[N],n[V])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(kE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):cS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const p=l<s.length?n[s.charAt(l)]:64;++l;const E=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||g==null||p==null||E==null)throw new uS;const N=u<<2|g>>4;if(r.push(N),p!==64){const V=g<<4&240|p>>2;if(r.push(V),E!==64){const H=p<<6&192|E;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class uS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dS=function(s){const e=kE(s);return LE.encodeByteArray(e,!0)},bh=function(s){return dS(s).replace(/\./g,"")},VE=function(s){try{return LE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fS=()=>hS().__FIREBASE_DEFAULTS__,mS=()=>{if(typeof process>"u"||typeof mv>"u")return;const s=mv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},gS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&VE(s[1]);return e&&JSON.parse(e)},Bh=()=>{try{return lS()||fS()||mS()||gS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},UE=s=>Bh()?.emulatorHosts?.[s],pS=s=>{const e=UE(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zE=()=>Bh()?.config,qE=s=>Bh()?.[`_${s}`];class yS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function pl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function FE(s){return(await fetch(s,{credentials:"include"})).ok}function xS(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[bh(JSON.stringify(n)),bh(JSON.stringify(d)),""].join(".")}const Lc={};function bS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Lc))Lc[e]?s.emulator.push(e):s.prod.push(e);return s}function vS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let gv=!1;function BE(s,e){if(typeof window>"u"||typeof document>"u"||!pl(window.location.host)||Lc[s]===e||Lc[s]||gv)return;Lc[s]=e;function n(N){return`__firebase__banner__${N}`}const r="__firebase__banner",u=bS().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,V){N.setAttribute("width","24"),N.setAttribute("id",V),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function p(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{gv=!0,d()},N}function _(N,V){N.setAttribute("id",V),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function E(){const N=vS(r),V=n("text"),H=document.getElementById(V)||document.createElement("span"),z=n("learnmore"),q=document.getElementById(z)||document.createElement("a"),ne=n("preprendIcon"),Z=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const J=N.element;g(J),_(q,z);const B=p();y(Z,ne),J.append(Z,H,q,B),document.body.appendChild(J)}u?(H.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _S(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function ES(){const s=Bh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ap(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function wS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NS(){const s=Rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function jS(){return!ES()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sp(){try{return typeof indexedDB=="object"}catch{return!1}}function Cp(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}function HE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const AS="FirebaseError";class Fs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AS,Object.setPrototypeOf(this,Fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,no.prototype.create)}}class no{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?SS(u,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Fs(l,g,r)}}function SS(s,e){return s.replace(CS,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const CS=/\{\$([^}]+)}/g;function IS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Jr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(pv(u)&&pv(d)){if(!Jr(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function pv(s){return s!==null&&typeof s=="object"}function hu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cc(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Ic(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function RS(s,e){const n=new MS(s,e);return n.subscribe.bind(n)}class MS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=bg),l.error===void 0&&(l.error=bg),l.complete===void 0&&(l.complete=bg);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DS(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function bg(){}const PS=1e3,OS=2,kS=14400*1e3,LS=.5;function yv(s,e=PS,n=OS){const r=e*Math.pow(n,s),l=Math.round(LS*r*(Math.random()-.5)*2);return Math.min(kS,r+l)}function Bt(s){return s&&s._delegate?s._delegate:s}class zs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const za="[DEFAULT]";class VS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zS(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:US(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function US(s){return s===za?void 0:s}function zS(s){return s.instantiationMode==="EAGER"}class qS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Qe||(Qe={}));const FS={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},BS=Qe.INFO,HS={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},$S=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=HS[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hh{constructor(e){this.name=e,this._logLevel=BS,this._logHandler=$S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const GS=(s,e)=>e.some(n=>s instanceof n);let xv,bv;function KS(){return xv||(xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YS(){return bv||(bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $E=new WeakMap,qg=new WeakMap,GE=new WeakMap,vg=new WeakMap,Ip=new WeakMap;function WS(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{n(Kr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&$E.set(n,s)}).catch(()=>{}),Ip.set(e,s),e}function QS(s){if(qg.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});qg.set(s,e)}let Fg={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return qg.get(s);if(e==="objectStoreNames")return s.objectStoreNames||GE.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function XS(s){Fg=s(Fg)}function JS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(_g(this),e,...n);return GE.set(r,e.sort?e.sort():[e]),Kr(r)}:YS().includes(s)?function(...e){return s.apply(_g(this),e),Kr($E.get(this))}:function(...e){return Kr(s.apply(_g(this),e))}}function ZS(s){return typeof s=="function"?JS(s):(s instanceof IDBTransaction&&QS(s),GS(s,KS())?new Proxy(s,Fg):s)}function Kr(s){if(s instanceof IDBRequest)return WS(s);if(vg.has(s))return vg.get(s);const e=ZS(s);return e!==s&&(vg.set(s,e),Ip.set(e,s)),e}const _g=s=>Ip.get(s);function KE(s,e,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),g=Kr(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Kr(d.result),y.oldVersion,y.newVersion,Kr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const e2=["get","getKey","getAll","getAllKeys","count"],t2=["put","add","delete","clear"],Eg=new Map;function vv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Eg.get(e))return Eg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=t2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||e2.includes(n)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let p=y.store;return r&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),l&&y.done]))[0]};return Eg.set(e,u),u}XS(s=>({...s,get:(e,n,r)=>vv(e,n)||s.get(e,n,r),has:(e,n)=>!!vv(e,n)||s.has(e,n)}));class n2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s2(s){return s.getComponent()?.type==="VERSION"}const Bg="@firebase/app",_v="0.14.7";const Qi=new Hh("@firebase/app"),i2="@firebase/app-compat",r2="@firebase/analytics-compat",a2="@firebase/analytics",o2="@firebase/app-check-compat",l2="@firebase/app-check",c2="@firebase/auth",u2="@firebase/auth-compat",d2="@firebase/database",h2="@firebase/data-connect",f2="@firebase/database-compat",m2="@firebase/functions",g2="@firebase/functions-compat",p2="@firebase/installations",y2="@firebase/installations-compat",x2="@firebase/messaging",b2="@firebase/messaging-compat",v2="@firebase/performance",_2="@firebase/performance-compat",E2="@firebase/remote-config",T2="@firebase/remote-config-compat",w2="@firebase/storage",N2="@firebase/storage-compat",j2="@firebase/firestore",A2="@firebase/ai",S2="@firebase/firestore-compat",C2="firebase",I2="12.8.0";const Hg="[DEFAULT]",R2={[Bg]:"fire-core",[i2]:"fire-core-compat",[a2]:"fire-analytics",[r2]:"fire-analytics-compat",[l2]:"fire-app-check",[o2]:"fire-app-check-compat",[c2]:"fire-auth",[u2]:"fire-auth-compat",[d2]:"fire-rtdb",[h2]:"fire-data-connect",[f2]:"fire-rtdb-compat",[m2]:"fire-fn",[g2]:"fire-fn-compat",[p2]:"fire-iid",[y2]:"fire-iid-compat",[x2]:"fire-fcm",[b2]:"fire-fcm-compat",[v2]:"fire-perf",[_2]:"fire-perf-compat",[E2]:"fire-rc",[T2]:"fire-rc-compat",[w2]:"fire-gcs",[N2]:"fire-gcs-compat",[j2]:"fire-fst",[S2]:"fire-fst-compat",[A2]:"fire-vertex","fire-js":"fire-js",[C2]:"fire-js-all"};const Kc=new Map,M2=new Map,$g=new Map;function Ev(s,e){try{s.container.addComponent(e)}catch(n){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function bi(s){const e=s.name;if($g.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;$g.set(e,s);for(const n of Kc.values())Ev(n,s);for(const n of M2.values())Ev(n,s);return!0}function so(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function ts(s){return s==null?!1:s.settings!==void 0}const D2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new no("app","Firebase",D2);class P2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}const yl=I2;function YE(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Hg,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Yr.create("bad-app-name",{appName:String(l)});if(n||(n=zE()),!n)throw Yr.create("no-options");const u=Kc.get(l);if(u){if(Jr(n,u.options)&&Jr(r,u.config))return u;throw Yr.create("duplicate-app",{appName:l})}const d=new qS(l);for(const y of $g.values())d.addComponent(y);const g=new P2(n,r,d);return Kc.set(l,g),g}function Rp(s=Hg){const e=Kc.get(s);if(!e&&s===Hg&&zE())return YE();if(!e)throw Yr.create("no-app",{appName:s});return e}function Tv(){return Array.from(Kc.values())}function _s(s,e,n){let r=R2[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(d.join(" "));return}bi(new zs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const O2="firebase-heartbeat-database",k2=1,Yc="firebase-heartbeat-store";let Tg=null;function WE(){return Tg||(Tg=KE(O2,k2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Yc)}catch(n){console.warn(n)}}}}).catch(s=>{throw Yr.create("idb-open",{originalErrorMessage:s.message})})),Tg}async function L2(s){try{const n=(await WE()).transaction(Yc),r=await n.objectStore(Yc).get(QE(s));return await n.done,r}catch(e){if(e instanceof Fs)Qi.warn(e.message);else{const n=Yr.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(n.message)}}}async function wv(s,e){try{const r=(await WE()).transaction(Yc,"readwrite");await r.objectStore(Yc).put(e,QE(s)),await r.done}catch(n){if(n instanceof Fs)Qi.warn(n.message);else{const r=Yr.create("idb-set",{originalErrorMessage:n?.message});Qi.warn(r.message)}}}function QE(s){return`${s.name}!${s.options.appId}`}const V2=1024,U2=30;class z2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new F2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Nv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>U2){const l=B2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Nv(),{heartbeatsToSend:n,unsentEntries:r}=q2(this._heartbeatsCache.heartbeats),l=bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Qi.warn(e),""}}}function Nv(){return new Date().toISOString().substring(0,10)}function q2(s,e=V2){const n=[];let r=s.slice();for(const l of s){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),jv(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),jv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class F2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sp()?Cp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await L2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function jv(s){return bh(JSON.stringify({version:2,heartbeats:s})).length}function B2(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function H2(s){bi(new zs("platform-logger",e=>new n2(e),"PRIVATE")),bi(new zs("heartbeat",e=>new z2(e),"PRIVATE")),_s(Bg,_v,s),_s(Bg,_v,"esm2020"),_s("fire-js","")}H2("");function XE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $2=XE,JE=new no("auth","Firebase",XE());const vh=new Hh("@firebase/auth");function G2(s,...e){vh.logLevel<=Qe.WARN&&vh.warn(`Auth (${yl}): ${s}`,...e)}function ah(s,...e){vh.logLevel<=Qe.ERROR&&vh.error(`Auth (${yl}): ${s}`,...e)}function Es(s,...e){throw Dp(s,...e)}function Ls(s,...e){return Dp(s,...e)}function Mp(s,e,n){const r={...$2(),[e]:n};return new no("auth","Firebase",r).create(e,{appName:s.name})}function Yi(s){return Mp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function K2(s,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Es(s,"argument-error"),Mp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dp(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return JE.create(s,...e)}function Me(s,e,...n){if(!s)throw Dp(e,...n)}function Hi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw ah(e),new Error(e)}function Xi(s,e){s||Hi(e)}function Gg(){return typeof self<"u"&&self.location?.href||""}function Y2(){return Av()==="http:"||Av()==="https:"}function Av(){return typeof self<"u"&&self.location?.protocol||null}function W2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y2()||Ap()||"connection"in navigator)?navigator.onLine:!0}function Q2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=_S()||wS()}get(){return W2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pp(s,e){Xi(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ZE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const X2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const J2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Z2=new fu(3e4,6e4);function la(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ca(s,e,n,r,l={}){return eT(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const g=hu({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:y,...u};return TS()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&pl(s.emulatorConfig.host)&&(p.credentials="include"),ZE.fetch()(await tT(s,s.config.apiHost,n,g),p)})}async function eT(s,e,n){s._canInitEmulator=!1;const r={...X2,...e};try{const l=new tC(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Yd(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,p]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yd(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Yd(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Yd(s,"user-disabled",d);const _=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Mp(s,_,p);Es(s,_)}}catch(l){if(l instanceof Fs)throw l;Es(s,"network-request-failed",{message:String(l)})}}async function mu(s,e,n,r,l={}){const u=await ca(s,e,n,r,l);return"mfaPendingCredential"in u&&Es(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function tT(s,e,n,r){const l=`${e}${n}?${r}`,u=s,d=u.config.emulator?Pp(s.config,l):`${s.config.apiScheme}://${l}`;return J2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function eC(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ls(this.auth,"network-request-failed")),Z2.get())})}}function Yd(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Ls(s,e,r);return l.customData._tokenResponse=n,l}function Sv(s){return s!==void 0&&s.enterprise!==void 0}class nC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sC(s,e){return ca(s,"GET","/v2/recaptchaConfig",la(s,e))}async function iC(s,e){return ca(s,"POST","/v1/accounts:delete",e)}async function _h(s,e){return ca(s,"POST","/v1/accounts:lookup",e)}function Vc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rC(s,e=!1){const n=Bt(s),r=await n.getIdToken(e),l=Op(r);Me(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Vc(wg(l.auth_time)),issuedAtTime:Vc(wg(l.iat)),expirationTime:Vc(wg(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function wg(s){return Number(s)*1e3}function Op(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const l=VE(n);return l?JSON.parse(l):(ah("Failed to decode base64 JWT payload"),null)}catch(l){return ah("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Cv(s){const e=Op(s);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wc(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fs&&aC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function aC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class oC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Kg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Eh(s){const e=s.auth,n=await s.getIdToken(),r=await Wc(s,_h(e,{idToken:n}));Me(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?nT(l.providerUserInfo):[],d=cC(s.providerData,u),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,p=g?y:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Kg(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(s,_)}async function lC(s){const e=Bt(s);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cC(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function nT(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function uC(s,e){const n=await eT(s,{},async()=>{const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await tT(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return s.emulatorConfig&&pl(s.emulatorConfig.host)&&(y.credentials="include"),ZE.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dC(s,e){return ca(s,"POST","/v2/accounts:revokeToken",la(s,e))}class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=Cv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await uC(e,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,d=new Zo;return r&&(Me(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Me(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Me(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return Hi("not implemented")}}function Vr(s,e){Me(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Os{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new oC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Kg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Wc(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rC(this,e)}reload(){return lC(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Os({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ts(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await Wc(this,iC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:E,emailVerified:N,isAnonymous:V,providerData:H,stsTokenManager:z}=n;Me(E&&z,e,"internal-error");const q=Zo.fromJSON(this.name,z);Me(typeof E=="string",e,"internal-error"),Vr(r,e.name),Vr(l,e.name),Me(typeof N=="boolean",e,"internal-error"),Me(typeof V=="boolean",e,"internal-error"),Vr(u,e.name),Vr(d,e.name),Vr(g,e.name),Vr(y,e.name),Vr(p,e.name),Vr(_,e.name);const ne=new Os({uid:E,auth:e,email:l,emailVerified:N,displayName:r,isAnonymous:V,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:q,createdAt:p,lastLoginAt:_});return H&&Array.isArray(H)&&(ne.providerData=H.map(Z=>({...Z}))),y&&(ne._redirectEventId=y),ne}static async _fromIdTokenResponse(e,n,r=!1){const l=new Zo;l.updateFromServerResponse(n);const u=new Os({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Eh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];Me(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?nT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new Zo;g.updateFromIdToken(r);const y=new Os({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Kg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const Iv=new Map;function $i(s){Xi(s instanceof Function,"Expected a class definition");let e=Iv.get(s);return e?(Xi(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Iv.set(s,e),e)}class sT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sT.type="NONE";const Rv=sT;function oh(s,e,n){return`firebase:${s}:${e}:${n}`}class el{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=oh(this.userKey,l.apiKey,u),this.fullPersistenceKey=oh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _h(this.auth,{idToken:e}).catch(()=>{});return n?Os._fromGetAccountInfoResponse(this.auth,n,e):null}return Os._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new el($i(Rv),e,r);const l=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||$i(Rv);const d=oh(r,e.config.apiKey,e.name);let g=null;for(const p of n)try{const _=await p._get(d);if(_){let E;if(typeof _=="string"){const N=await _h(e,{idToken:_}).catch(()=>{});if(!N)break;E=await Os._fromGetAccountInfoResponse(e,N,_)}else E=Os._fromJSON(e,_);p!==u&&(g=E),u=p;break}}catch{}const y=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new el(u,e,r):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new el(u,e,r))}}function Mv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cT(e))return"Blackberry";if(uT(e))return"Webos";if(rT(e))return"Safari";if((e.includes("chrome/")||aT(e))&&!e.includes("edge/"))return"Chrome";if(lT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function iT(s=Rn()){return/firefox\//i.test(s)}function rT(s=Rn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aT(s=Rn()){return/crios\//i.test(s)}function oT(s=Rn()){return/iemobile/i.test(s)}function lT(s=Rn()){return/android/i.test(s)}function cT(s=Rn()){return/blackberry/i.test(s)}function uT(s=Rn()){return/webos/i.test(s)}function kp(s=Rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function hC(s=Rn()){return kp(s)&&!!window.navigator?.standalone}function fC(){return NS()&&document.documentMode===10}function dT(s=Rn()){return kp(s)||lT(s)||uT(s)||cT(s)||/windows phone/i.test(s)||oT(s)}function hT(s,e=[]){let n;switch(s){case"Browser":n=Mv(Rn());break;case"Worker":n=`${Mv(Rn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yl}/${r}`}class mC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((d,g)=>{try{const y=e(u);d(y)}catch(y){g(y)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function gC(s,e={}){return ca(s,"GET","/v2/passwordPolicy",la(s,e))}const pC=6;class yC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??pC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class xC{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new mC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await el.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _h(this,{idToken:e}),r=await Os._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ts(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Q2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ts(this.app))return Promise.reject(Yi(this));const n=e?Bt(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ts(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ts(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gC(this),n=new yC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new no("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$i(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[$i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ts(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&G2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ua(s){return Bt(s)}class Dv{constructor(e){this.auth=e,this.observer=null,this.addObserver=RS(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bC(s){$h=s}function fT(s){return $h.loadJS(s)}function vC(){return $h.recaptchaEnterpriseScript}function _C(){return $h.gapiScript}function EC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class TC{constructor(){this.enterprise=new wC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const NC="recaptcha-enterprise",mT="NO_RECAPTCHA";class jC{constructor(e){this.type=NC,this.auth=ua(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{sC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new nC(y);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,d(p.siteKey)}}).catch(y=>{g(y)})})}function l(u,d,g){const y=window.grecaptcha;Sv(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(p=>{d(p)}).catch(()=>{d(mT)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TC().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(g=>{if(!n&&Sv(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=vC();y.length!==0&&(y+=g),fT(y).then(()=>{l(g,u,d)}).catch(p=>{d(p)})}}).catch(g=>{d(g)})})}}async function Pv(s,e,n,r=!1,l=!1){const u=new jC(s);let d;if(l)d=mT;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Yg(s,e,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Pv(s,e,n,n==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Pv(s,e,n,n==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function AC(s,e){const n=so(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Jr(u,e??{}))return l;Es(l,"already-initialized")}return n.initialize({options:e})}function SC(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($i);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function CC(s,e,n){const r=ua(s);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=gT(e),{host:d,port:g}=IC(e),y=g===null?"":`:${g}`,p={url:`${u}//${d}${y}/`},_=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Jr(p,r.config.emulator)&&Jr(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,pl(d)?(FE(`${u}//${d}${y}`),BE("Auth",!0)):RC()}function gT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function IC(s){const e=gT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Ov(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:Ov(d)}}}function Ov(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function RC(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Lp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,n){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}async function MC(s,e){return ca(s,"POST","/v1/accounts:signUp",e)}async function DC(s,e){return mu(s,"POST","/v1/accounts:signInWithPassword",la(s,e))}async function PC(s,e){return mu(s,"POST","/v1/accounts:signInWithEmailLink",la(s,e))}async function OC(s,e){return mu(s,"POST","/v1/accounts:signInWithEmailLink",la(s,e))}class Qc extends Lp{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Qc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yg(e,n,"signInWithPassword",DC);case"emailLink":return PC(e,{email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yg(e,r,"signUpPassword",MC);case"emailLink":return OC(e,{idToken:n,email:this._email,oobCode:this._password});default:Es(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function tl(s,e){return mu(s,"POST","/v1/accounts:signInWithIdp",la(s,e))}const kC="http://localhost";class Qa extends Lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Es("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const d=new Qa(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return tl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tl(e,n)}buildRequest(){const e={requestUri:kC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}function LC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VC(s){const e=Cc(Ic(s)).link,n=e?Cc(Ic(e)).deep_link_id:null,r=Cc(Ic(s)).deep_link_id;return(r?Cc(Ic(r)).link:null)||r||n||e||s}class Vp{constructor(e){const n=Cc(Ic(e)),r=n.apiKey??null,l=n.oobCode??null,u=LC(n.mode??null);Me(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=VC(e);try{return new Vp(n)}catch{return null}}}class xl{constructor(){this.providerId=xl.PROVIDER_ID}static credential(e,n){return Qc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Vp.parseLink(n);return Me(r,"argument-error"),Qc._fromEmailAndCode(e,r.code,r.tenantId)}}xl.PROVIDER_ID="password";xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Up{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends Up{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fr extends gu{constructor(){super("facebook.com")}static credential(e){return Qa._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";class Bi extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qa._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bi.credential(n,r)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";class Br extends gu{constructor(){super("github.com")}static credential(e){return Qa._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";class Hr extends gu{constructor(){super("twitter.com")}static credential(e,n){return Qa._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hr.credential(n,r)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";async function UC(s,e){return mu(s,"POST","/v1/accounts:signUp",la(s,e))}class Xa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const u=await Os._fromIdTokenResponse(e,r,l),d=kv(r);return new Xa({user:u,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=kv(r);return new Xa({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function kv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Th extends Fs{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new Th(e,n,r,l)}}function pT(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(s,u,e,r):u})}async function zC(s,e,n=!1){const r=await Wc(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Xa._forOperation(s,"link",r)}async function qC(s,e,n=!1){const{auth:r}=s;if(ts(r.app))return Promise.reject(Yi(r));const l="reauthenticate";try{const u=await Wc(s,pT(r,l,e,s),n);Me(u.idToken,r,"internal-error");const d=Op(u.idToken);Me(d,r,"internal-error");const{sub:g}=d;return Me(s.uid===g,r,"user-mismatch"),Xa._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&Es(r,"user-mismatch"),u}}async function yT(s,e,n=!1){if(ts(s.app))return Promise.reject(Yi(s));const r="signIn",l=await pT(s,r,e),u=await Xa._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(u.user),u}async function FC(s,e){return yT(ua(s),e)}async function xT(s){const e=ua(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BC(s,e,n){if(ts(s.app))return Promise.reject(Yi(s));const r=ua(s),d=await Yg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UC).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&xT(s),y}),g=await Xa._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function HC(s,e,n){return ts(s.app)?Promise.reject(Yi(s)):FC(Bt(s),xl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xT(s),r})}function $C(s,e,n,r){return Bt(s).onIdTokenChanged(e,n,r)}function GC(s,e,n){return Bt(s).beforeAuthStateChanged(e,n)}function zp(s,e,n,r){return Bt(s).onAuthStateChanged(e,n,r)}function KC(s){return Bt(s).signOut()}const wh="__sak";class bT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const YC=1e3,WC=10;class vT extends bT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);fC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,WC):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vT.type="LOCAL";const QC=vT;class _T extends bT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_T.type="SESSION";const ET=_T;function XC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Gh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async p=>p(n.origin,u)),y=await XC(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];function qp(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class JC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const p=qp("",20);l.port1.start();const _=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(E){const N=E;if(N.data.eventId===p)switch(N.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(N.data.response);break;default:clearTimeout(_),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function fi(){return window}function ZC(s){fi().location.href=s}function TT(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function eI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tI(){return navigator?.serviceWorker?.controller||null}function nI(){return TT()?self:null}const wT="firebaseLocalStorageDb",sI=1,Nh="firebaseLocalStorage",NT="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kh(s,e){return s.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function iI(){const s=indexedDB.deleteDatabase(wT);return new pu(s).toPromise()}function Wg(){const s=indexedDB.open(wT,sI);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Nh,{keyPath:NT})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Nh)?e(r):(r.close(),await iI(),e(await Wg()))})})}async function Lv(s,e,n){const r=Kh(s,!0).put({[NT]:e,value:n});return new pu(r).toPromise()}async function rI(s,e){const n=Kh(s,!1).get(e),r=await new pu(n).toPromise();return r===void 0?null:r.value}function Vv(s,e){const n=Kh(s,!0).delete(e);return new pu(n).toPromise()}const aI=800,oI=3;class jT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>oI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(nI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eI(),!this.activeServiceWorker)return;this.sender=new JC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wg();return await Lv(e,wh,"1"),await Vv(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Kh(l,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jT.type="LOCAL";const lI=jT;new fu(3e4,6e4);function AT(s,e){return e?$i(e):(Me(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Fp extends Lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cI(s){return yT(s.auth,new Fp(s),s.bypassAuthState)}function uI(s){const{auth:e,user:n}=s;return Me(n,e,"internal-error"),qC(n,new Fp(s),s.bypassAuthState)}async function dI(s){const{auth:e,user:n}=s;return Me(n,e,"internal-error"),zC(n,new Fp(s),s.bypassAuthState)}class ST{constructor(e,n,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cI;case"linkViaPopup":case"linkViaRedirect":return dI;case"reauthViaPopup":case"reauthViaRedirect":return uI;default:Es(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hI=new fu(2e3,1e4);async function fI(s,e,n){if(ts(s.app))return Promise.reject(Ls(s,"operation-not-supported-in-this-environment"));const r=ua(s);K2(s,e,Up);const l=AT(r,n);return new Fa(r,"signInViaPopup",e,l).executeNotNull()}class Fa extends ST{constructor(e,n,r,l,u){super(e,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ls(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ls(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ls(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hI.get())};e()}}Fa.currentPopupAction=null;const mI="pendingRedirect",lh=new Map;class gI extends ST{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const r=await pI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pI(s,e){const n=bI(e),r=xI(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function yI(s,e){lh.set(s._key(),e)}function xI(s){return $i(s._redirectPersistence)}function bI(s){return oh(mI,s.config.apiKey,s.name)}async function vI(s,e,n=!1){if(ts(s.app))return Promise.reject(Yi(s));const r=ua(s),l=AT(r,e),d=await new gI(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const _I=600*1e3;class EI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!CT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ls(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_I&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uv(e))}saveEventToCache(e){this.cachedEventUids.add(Uv(e)),this.lastProcessedEventTime=Date.now()}}function Uv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function CT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function TI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CT(s);default:return!1}}async function wI(s,e={}){return ca(s,"GET","/v1/projects",e)}const NI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jI=/^https?/;async function AI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await wI(s);for(const n of e)try{if(SI(n))return}catch{}Es(s,"unauthorized-domain")}function SI(s){const e=Gg(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!jI.test(n))return!1;if(NI.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const CI=new fu(3e4,6e4);function zv(){const s=fi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function II(s){return new Promise((e,n)=>{function r(){zv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zv(),n(Ls(s,"network-request-failed"))},timeout:CI.get()})}if(fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(fi().gapi?.load)r();else{const l=EC("iframefcb");return fi()[l]=()=>{gapi.load?r():n(Ls(s,"network-request-failed"))},fT(`${_C()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw ch=null,e})}let ch=null;function RI(s){return ch=ch||II(s),ch}const MI=new fu(5e3,15e3),DI="__/auth/iframe",PI="emulator/auth/iframe",OI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LI(s){const e=s.config;Me(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Pp(e,PI):`https://${s.config.authDomain}/${DI}`,r={apiKey:e.apiKey,appName:s.name,v:yl},l=kI.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${hu(r).slice(1)}`}async function VI(s){const e=await RI(s),n=fi().gapi;return Me(n,s,"internal-error"),e.open({where:document.body,url:LI(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OI,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=Ls(s,"network-request-failed"),g=fi().setTimeout(()=>{u(d)},MI.get());function y(){fi().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{u(d)})}))}const UI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zI=500,qI=600,FI="_blank",BI="http://localhost";class qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HI(s,e,n,r=zI,l=qI){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...UI,width:r.toString(),height:l.toString(),top:u,left:d},p=Rn().toLowerCase();n&&(g=aT(p)?FI:n),iT(p)&&(e=e||BI,y.scrollbars="yes");const _=Object.entries(y).reduce((N,[V,H])=>`${N}${V}=${H},`,"");if(hC(p)&&g!=="_self")return $I(e||"",g),new qv(null);const E=window.open(e||"",g,_);Me(E,s,"popup-blocked");try{E.focus()}catch{}return new qv(E)}function $I(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const GI="__/auth/handler",KI="emulator/auth/handler",YI=encodeURIComponent("fac");async function Fv(s,e,n,r,l,u){Me(s.config.authDomain,s,"auth-domain-config-required"),Me(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:yl,eventId:l};if(e instanceof Up){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",IS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))d[_]=E}if(e instanceof gu){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(d.scopes=_.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const _ of Object.keys(g))g[_]===void 0&&delete g[_];const y=await s._getAppCheckToken(),p=y?`#${YI}=${encodeURIComponent(y)}`:"";return`${WI(s)}?${hu(g).slice(1)}${p}`}function WI({config:s}){return s.emulator?Pp(s,KI):`https://${s.authDomain}/${GI}`}const Ng="webStorageSupport";class QI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ET,this._completeRedirectFn=vI,this._overrideRedirectResult=yI}async _openPopup(e,n,r,l){Xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Fv(e,n,r,Gg(),l);return HI(e,u,qp())}async _openRedirect(e,n,r,l){await this._originValidation(e);const u=await Fv(e,n,r,Gg(),l);return ZC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Xi(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VI(e),r=new EI(e);return n.register("authEvent",l=>(Me(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ng,{type:Ng},l=>{const u=l?.[0]?.[Ng];u!==void 0&&n(!!u),Es(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dT()||rT()||kp()}}const XI=QI;var Bv="@firebase/auth",Hv="1.12.0";class JI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ZI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eR(s){bi(new zs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Me(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hT(s)},p=new xC(r,l,u,y);return SC(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bi(new zs("auth-internal",e=>{const n=ua(e.getProvider("auth").getImmediate());return(r=>new JI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_s(Bv,Hv,ZI(s)),_s(Bv,Hv,"esm2020")}const tR=300,nR=qE("authIdTokenMaxAge")||tR;let $v=null;const sR=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nR)return;const l=n?.token;$v!==l&&($v=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function iR(s=Rp()){const e=so(s,"auth");if(e.isInitialized())return e.getImmediate();const n=AC(s,{popupRedirectResolver:XI,persistence:[lI,QC,ET]}),r=qE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=sR(u.toString());GC(n,d,()=>d(n.currentUser)),$C(n,g=>d(g))}}const l=UE("auth");return l&&CC(n,`http://${l}`),n}function rR(){return document.getElementsByTagName("head")?.[0]??document}bC({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=Ls("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",rR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eR("Browser");var aR="firebase",oR="12.8.0";_s(aR,oR,"app");const IT="@firebase/installations",Bp="0.6.19";const RT=1e4,MT=`w:${Bp}`,DT="FIS_v2",lR="https://firebaseinstallations.googleapis.com/v1",cR=3600*1e3,uR="installations",dR="Installations";const hR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ja=new no(uR,dR,hR);function PT(s){return s instanceof Fs&&s.code.includes("request-failed")}function OT({projectId:s}){return`${lR}/projects/${s}/installations`}function kT(s){return{token:s.token,requestStatus:2,expiresIn:mR(s.expiresIn),creationTime:Date.now()}}async function LT(s,e){const r=(await e.json()).error;return Ja.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function VT({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function fR(s,{refreshToken:e}){const n=VT(s);return n.append("Authorization",gR(e)),n}async function UT(s){const e=await s();return e.status>=500&&e.status<600?s():e}function mR(s){return Number(s.replace("s","000"))}function gR(s){return`${DT} ${s}`}async function pR({appConfig:s,heartbeatServiceProvider:e},{fid:n}){const r=OT(s),l=VT(s),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const d={fid:n,authVersion:DT,appId:s.appId,sdkVersion:MT},g={method:"POST",headers:l,body:JSON.stringify(d)},y=await UT(()=>fetch(r,g));if(y.ok){const p=await y.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:kT(p.authToken)}}else throw await LT("Create Installation",y)}function zT(s){return new Promise(e=>{setTimeout(e,s)})}function yR(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}const xR=/^[cdef][\w-]{21}$/,Qg="";function bR(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=vR(s);return xR.test(n)?n:Qg}catch{return Qg}}function vR(s){return yR(s).substr(0,22)}function Yh(s){return`${s.appName}!${s.appId}`}const qT=new Map;function FT(s,e){const n=Yh(s);BT(n,e),_R(n,e)}function BT(s,e){const n=qT.get(s);if(n)for(const r of n)r(e)}function _R(s,e){const n=ER();n&&n.postMessage({key:s,fid:e}),TR()}let Ba=null;function ER(){return!Ba&&"BroadcastChannel"in self&&(Ba=new BroadcastChannel("[Firebase] FID Change"),Ba.onmessage=s=>{BT(s.data.key,s.data.fid)}),Ba}function TR(){qT.size===0&&Ba&&(Ba.close(),Ba=null)}const wR="firebase-installations-database",NR=1,Za="firebase-installations-store";let jg=null;function Hp(){return jg||(jg=KE(wR,NR,{upgrade:(s,e)=>{e===0&&s.createObjectStore(Za)}})),jg}async function jh(s,e){const n=Yh(s),l=(await Hp()).transaction(Za,"readwrite"),u=l.objectStore(Za),d=await u.get(n);return await u.put(e,n),await l.done,(!d||d.fid!==e.fid)&&FT(s,e.fid),e}async function HT(s){const e=Yh(s),r=(await Hp()).transaction(Za,"readwrite");await r.objectStore(Za).delete(e),await r.done}async function Wh(s,e){const n=Yh(s),l=(await Hp()).transaction(Za,"readwrite"),u=l.objectStore(Za),d=await u.get(n),g=e(d);return g===void 0?await u.delete(n):await u.put(g,n),await l.done,g&&(!d||d.fid!==g.fid)&&FT(s,g.fid),g}async function $p(s){let e;const n=await Wh(s.appConfig,r=>{const l=jR(r),u=AR(s,l);return e=u.registrationPromise,u.installationEntry});return n.fid===Qg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function jR(s){const e=s||{fid:bR(),registrationStatus:0};return $T(e)}function AR(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Ja.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=SR(s,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:CR(s)}:{installationEntry:e}}async function SR(s,e){try{const n=await pR(s,e);return jh(s.appConfig,n)}catch(n){throw PT(n)&&n.customData.serverCode===409?await HT(s.appConfig):await jh(s.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function CR(s){let e=await Gv(s.appConfig);for(;e.registrationStatus===1;)await zT(100),e=await Gv(s.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await $p(s);return r||n}return e}function Gv(s){return Wh(s,e=>{if(!e)throw Ja.create("installation-not-found");return $T(e)})}function $T(s){return IR(s)?{fid:s.fid,registrationStatus:0}:s}function IR(s){return s.registrationStatus===1&&s.registrationTime+RT<Date.now()}async function RR({appConfig:s,heartbeatServiceProvider:e},n){const r=MR(s,n),l=fR(s,n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const d={installation:{sdkVersion:MT,appId:s.appId}},g={method:"POST",headers:l,body:JSON.stringify(d)},y=await UT(()=>fetch(r,g));if(y.ok){const p=await y.json();return kT(p)}else throw await LT("Generate Auth Token",y)}function MR(s,{fid:e}){return`${OT(s)}/${e}/authTokens:generate`}async function Gp(s,e=!1){let n;const r=await Wh(s.appConfig,u=>{if(!GT(u))throw Ja.create("not-registered");const d=u.authToken;if(!e&&OR(d))return u;if(d.requestStatus===1)return n=DR(s,e),u;{if(!navigator.onLine)throw Ja.create("app-offline");const g=LR(u);return n=PR(s,g),g}});return n?await n:r.authToken}async function DR(s,e){let n=await Kv(s.appConfig);for(;n.authToken.requestStatus===1;)await zT(100),n=await Kv(s.appConfig);const r=n.authToken;return r.requestStatus===0?Gp(s,e):r}function Kv(s){return Wh(s,e=>{if(!GT(e))throw Ja.create("not-registered");const n=e.authToken;return VR(n)?{...e,authToken:{requestStatus:0}}:e})}async function PR(s,e){try{const n=await RR(s,e),r={...e,authToken:n};return await jh(s.appConfig,r),n}catch(n){if(PT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await HT(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await jh(s.appConfig,r)}throw n}}function GT(s){return s!==void 0&&s.registrationStatus===2}function OR(s){return s.requestStatus===2&&!kR(s)}function kR(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+cR}function LR(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function VR(s){return s.requestStatus===1&&s.requestTime+RT<Date.now()}async function UR(s){const e=s,{installationEntry:n,registrationPromise:r}=await $p(e);return r?r.catch(console.error):Gp(e).catch(console.error),n.fid}async function zR(s,e=!1){const n=s;return await qR(n),(await Gp(n,e)).token}async function qR(s){const{registrationPromise:e}=await $p(s);e&&await e}function FR(s){if(!s||!s.options)throw Ag("App Configuration");if(!s.name)throw Ag("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!s.options[n])throw Ag(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Ag(s){return Ja.create("missing-app-config-values",{valueName:s})}const KT="installations",BR="installations-internal",HR=s=>{const e=s.getProvider("app").getImmediate(),n=FR(e),r=so(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},$R=s=>{const e=s.getProvider("app").getImmediate(),n=so(e,KT).getImmediate();return{getId:()=>UR(n),getToken:l=>zR(n,l)}};function GR(){bi(new zs(KT,HR,"PUBLIC")),bi(new zs(BR,$R,"PRIVATE"))}GR();_s(IT,Bp);_s(IT,Bp,"esm2020");const Ah="analytics",KR="firebase_id",YR="origin",WR=60*1e3,QR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kp="https://www.googletagmanager.com/gtag/js";const Pn=new Hh("@firebase/analytics");const XR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ss=new no("analytics","Analytics",XR);function JR(s){if(!s.startsWith(Kp)){const e=ss.create("invalid-gtag-resource",{gtagURL:s});return Pn.warn(e.message),""}return s}function YT(s){return Promise.all(s.map(e=>e.catch(n=>n)))}function ZR(s,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,e)),n}function eM(s,e){const n=ZR("firebase-js-sdk-policy",{createScriptURL:JR}),r=document.createElement("script"),l=`${Kp}?l=${s}&id=${e}`;r.src=n?n?.createScriptURL(l):l,r.async=!0,document.head.appendChild(r)}function tM(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function nM(s,e,n,r,l,u){const d=r[l];try{if(d)await e[d];else{const y=(await YT(n)).find(p=>p.measurementId===l);y&&await e[y.appId]}}catch(g){Pn.error(g)}s("config",l,u)}async function sM(s,e,n,r,l){try{let u=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const g=await YT(n);for(const y of d){const p=g.find(E=>E.measurementId===y),_=p&&e[p.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),s("event",r,l||{})}catch(u){Pn.error(u)}}function iM(s,e,n,r){async function l(u,...d){try{if(u==="event"){const[g,y]=d;await sM(s,e,n,g,y)}else if(u==="config"){const[g,y]=d;await nM(s,e,n,r,g,y)}else if(u==="consent"){const[g,y]=d;s("consent",g,y)}else if(u==="get"){const[g,y,p]=d;s("get",g,y,p)}else if(u==="set"){const[g]=d;s("set",g)}else s(u,...d)}catch(g){Pn.error(g)}}return l}function rM(s,e,n,r,l){let u=function(...d){window[r].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=iM(u,s,e,n),{gtagCore:u,wrappedGtag:window[l]}}function aM(s){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Kp)&&n.src.includes(s))return n;return null}const oM=30,lM=1e3;class cM{constructor(e={},n=lM){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const WT=new cM;function uM(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function dM(s){const{appId:e,apiKey:n}=s,r={method:"GET",headers:uM(n)},l=QR.replace("{app-id}",e),u=await fetch(l,r);if(u.status!==200&&u.status!==304){let d="";try{const g=await u.json();g.error?.message&&(d=g.error.message)}catch{}throw ss.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function hM(s,e=WT,n){const{appId:r,apiKey:l,measurementId:u}=s.options;if(!r)throw ss.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:r};throw ss.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new gM;return setTimeout(async()=>{g.abort()},WR),QT({appId:r,apiKey:l,measurementId:u},d,g,e)}async function QT(s,{throttleEndTimeMillis:e,backoffCount:n},r,l=WT){const{appId:u,measurementId:d}=s;try{await fM(r,e)}catch(g){if(d)return Pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:d};throw g}try{const g=await dM(s);return l.deleteThrottleMetadata(u),g}catch(g){const y=g;if(!mM(y)){if(l.deleteThrottleMetadata(u),d)return Pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:u,measurementId:d};throw g}const p=Number(y?.customData?.httpStatus)===503?yv(n,l.intervalMillis,oM):yv(n,l.intervalMillis),_={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return l.setThrottleMetadata(u,_),Pn.debug(`Calling attemptFetch again in ${p} millis`),QT(s,_,r,l)}}function fM(s,e){return new Promise((n,r)=>{const l=Math.max(e-Date.now(),0),u=setTimeout(n,l);s.addEventListener(()=>{clearTimeout(u),r(ss.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mM(s){if(!(s instanceof Fs)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class gM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function pM(s,e,n,r,l){if(l&&l.global){s("event",n,r);return}else{const u=await e,d={...r,send_to:u};s("event",n,d)}}async function yM(s,e,n,r){if(r&&r.global){const l={};for(const u of Object.keys(n))l[`user_properties.${u}`]=n[u];return s("set",l),Promise.resolve()}else{const l=await e;s("config",l,{update:!0,user_properties:n})}}async function xM(){if(Sp())try{await Cp()}catch(s){return Pn.warn(ss.create("indexeddb-unavailable",{errorInfo:s?.toString()}).message),!1}else return Pn.warn(ss.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function bM(s,e,n,r,l,u,d){const g=hM(s);g.then(N=>{n[N.measurementId]=N.appId,s.options.measurementId&&N.measurementId!==s.options.measurementId&&Pn.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>Pn.error(N)),e.push(g);const y=xM().then(N=>{if(N)return r.getId()}),[p,_]=await Promise.all([g,y]);aM(u)||eM(u,p.measurementId),l("js",new Date);const E=d?.config??{};return E[YR]="firebase",E.update=!0,_!=null&&(E[KR]=_),l("config",p.measurementId,E),p.measurementId}class vM{constructor(e){this.app=e}_delete(){return delete nl[this.app.options.appId],Promise.resolve()}}let nl={},Yv=[];const Wv={};let Sg="dataLayer",_M="gtag",Qv,Yp,Xv=!1;function EM(){const s=[];if(Ap()&&s.push("This is a browser extension environment."),HE()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,l)=>`(${l+1}) ${r}`).join(" "),n=ss.create("invalid-analytics-context",{errorInfo:e});Pn.warn(n.message)}}function TM(s,e,n){EM();const r=s.options.appId;if(!r)throw ss.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)Pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ss.create("no-api-key");if(nl[r]!=null)throw ss.create("already-exists",{id:r});if(!Xv){tM(Sg);const{wrappedGtag:u,gtagCore:d}=rM(nl,Yv,Wv,Sg,_M);Yp=u,Qv=d,Xv=!0}return nl[r]=bM(s,Yv,Wv,e,Qv,Sg,n),new vM(s)}function wM(s=Rp()){s=Bt(s);const e=so(s,Ah);return e.isInitialized()?e.getImmediate():NM(s)}function NM(s,e={}){const n=so(s,Ah);if(n.isInitialized()){const l=n.getImmediate();if(Jr(e,n.getOptions()))return l;throw ss.create("already-initialized")}return n.initialize({options:e})}async function jM(){if(Ap()||!HE()||!Sp())return!1;try{return await Cp()}catch{return!1}}function AM(s,e,n){s=Bt(s),yM(Yp,nl[s.app.options.appId],e,n).catch(r=>Pn.error(r))}function SM(s,e,n,r){s=Bt(s),pM(Yp,nl[s.app.options.appId],e,n,r).catch(l=>Pn.error(l))}const Jv="@firebase/analytics",Zv="0.10.19";function CM(){bi(new zs(Ah,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return TM(r,l,n)},"PUBLIC")),bi(new zs("analytics-internal",s,"PRIVATE")),_s(Jv,Zv),_s(Jv,Zv,"esm2020");function s(e){try{const n=e.getProvider(Ah).getImmediate();return{logEvent:(r,l,u)=>SM(n,r,l,u),setUserProperties:(r,l)=>AM(n,r,l)}}catch(n){throw ss.create("interop-component-reg-failed",{reason:n})}}}CM();var e_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wr,XT;(function(){var s;function e(S,A){function I(){}I.prototype=A.prototype,S.F=A.prototype,S.prototype=new I,S.prototype.constructor=S,S.D=function(R,P,F){for(var M=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)M[Ne-2]=arguments[Ne];return A.prototype[P].apply(R,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(S,A,I){I||(I=0);const R=Array(16);if(typeof A=="string")for(var P=0;P<16;++P)R[P]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(P=0;P<16;++P)R[P]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=S.g[0],I=S.g[1],P=S.g[2];let F=S.g[3],M;M=A+(F^I&(P^F))+R[0]+3614090360&4294967295,A=I+(M<<7&4294967295|M>>>25),M=F+(P^A&(I^P))+R[1]+3905402710&4294967295,F=A+(M<<12&4294967295|M>>>20),M=P+(I^F&(A^I))+R[2]+606105819&4294967295,P=F+(M<<17&4294967295|M>>>15),M=I+(A^P&(F^A))+R[3]+3250441966&4294967295,I=P+(M<<22&4294967295|M>>>10),M=A+(F^I&(P^F))+R[4]+4118548399&4294967295,A=I+(M<<7&4294967295|M>>>25),M=F+(P^A&(I^P))+R[5]+1200080426&4294967295,F=A+(M<<12&4294967295|M>>>20),M=P+(I^F&(A^I))+R[6]+2821735955&4294967295,P=F+(M<<17&4294967295|M>>>15),M=I+(A^P&(F^A))+R[7]+4249261313&4294967295,I=P+(M<<22&4294967295|M>>>10),M=A+(F^I&(P^F))+R[8]+1770035416&4294967295,A=I+(M<<7&4294967295|M>>>25),M=F+(P^A&(I^P))+R[9]+2336552879&4294967295,F=A+(M<<12&4294967295|M>>>20),M=P+(I^F&(A^I))+R[10]+4294925233&4294967295,P=F+(M<<17&4294967295|M>>>15),M=I+(A^P&(F^A))+R[11]+2304563134&4294967295,I=P+(M<<22&4294967295|M>>>10),M=A+(F^I&(P^F))+R[12]+1804603682&4294967295,A=I+(M<<7&4294967295|M>>>25),M=F+(P^A&(I^P))+R[13]+4254626195&4294967295,F=A+(M<<12&4294967295|M>>>20),M=P+(I^F&(A^I))+R[14]+2792965006&4294967295,P=F+(M<<17&4294967295|M>>>15),M=I+(A^P&(F^A))+R[15]+1236535329&4294967295,I=P+(M<<22&4294967295|M>>>10),M=A+(P^F&(I^P))+R[1]+4129170786&4294967295,A=I+(M<<5&4294967295|M>>>27),M=F+(I^P&(A^I))+R[6]+3225465664&4294967295,F=A+(M<<9&4294967295|M>>>23),M=P+(A^I&(F^A))+R[11]+643717713&4294967295,P=F+(M<<14&4294967295|M>>>18),M=I+(F^A&(P^F))+R[0]+3921069994&4294967295,I=P+(M<<20&4294967295|M>>>12),M=A+(P^F&(I^P))+R[5]+3593408605&4294967295,A=I+(M<<5&4294967295|M>>>27),M=F+(I^P&(A^I))+R[10]+38016083&4294967295,F=A+(M<<9&4294967295|M>>>23),M=P+(A^I&(F^A))+R[15]+3634488961&4294967295,P=F+(M<<14&4294967295|M>>>18),M=I+(F^A&(P^F))+R[4]+3889429448&4294967295,I=P+(M<<20&4294967295|M>>>12),M=A+(P^F&(I^P))+R[9]+568446438&4294967295,A=I+(M<<5&4294967295|M>>>27),M=F+(I^P&(A^I))+R[14]+3275163606&4294967295,F=A+(M<<9&4294967295|M>>>23),M=P+(A^I&(F^A))+R[3]+4107603335&4294967295,P=F+(M<<14&4294967295|M>>>18),M=I+(F^A&(P^F))+R[8]+1163531501&4294967295,I=P+(M<<20&4294967295|M>>>12),M=A+(P^F&(I^P))+R[13]+2850285829&4294967295,A=I+(M<<5&4294967295|M>>>27),M=F+(I^P&(A^I))+R[2]+4243563512&4294967295,F=A+(M<<9&4294967295|M>>>23),M=P+(A^I&(F^A))+R[7]+1735328473&4294967295,P=F+(M<<14&4294967295|M>>>18),M=I+(F^A&(P^F))+R[12]+2368359562&4294967295,I=P+(M<<20&4294967295|M>>>12),M=A+(I^P^F)+R[5]+4294588738&4294967295,A=I+(M<<4&4294967295|M>>>28),M=F+(A^I^P)+R[8]+2272392833&4294967295,F=A+(M<<11&4294967295|M>>>21),M=P+(F^A^I)+R[11]+1839030562&4294967295,P=F+(M<<16&4294967295|M>>>16),M=I+(P^F^A)+R[14]+4259657740&4294967295,I=P+(M<<23&4294967295|M>>>9),M=A+(I^P^F)+R[1]+2763975236&4294967295,A=I+(M<<4&4294967295|M>>>28),M=F+(A^I^P)+R[4]+1272893353&4294967295,F=A+(M<<11&4294967295|M>>>21),M=P+(F^A^I)+R[7]+4139469664&4294967295,P=F+(M<<16&4294967295|M>>>16),M=I+(P^F^A)+R[10]+3200236656&4294967295,I=P+(M<<23&4294967295|M>>>9),M=A+(I^P^F)+R[13]+681279174&4294967295,A=I+(M<<4&4294967295|M>>>28),M=F+(A^I^P)+R[0]+3936430074&4294967295,F=A+(M<<11&4294967295|M>>>21),M=P+(F^A^I)+R[3]+3572445317&4294967295,P=F+(M<<16&4294967295|M>>>16),M=I+(P^F^A)+R[6]+76029189&4294967295,I=P+(M<<23&4294967295|M>>>9),M=A+(I^P^F)+R[9]+3654602809&4294967295,A=I+(M<<4&4294967295|M>>>28),M=F+(A^I^P)+R[12]+3873151461&4294967295,F=A+(M<<11&4294967295|M>>>21),M=P+(F^A^I)+R[15]+530742520&4294967295,P=F+(M<<16&4294967295|M>>>16),M=I+(P^F^A)+R[2]+3299628645&4294967295,I=P+(M<<23&4294967295|M>>>9),M=A+(P^(I|~F))+R[0]+4096336452&4294967295,A=I+(M<<6&4294967295|M>>>26),M=F+(I^(A|~P))+R[7]+1126891415&4294967295,F=A+(M<<10&4294967295|M>>>22),M=P+(A^(F|~I))+R[14]+2878612391&4294967295,P=F+(M<<15&4294967295|M>>>17),M=I+(F^(P|~A))+R[5]+4237533241&4294967295,I=P+(M<<21&4294967295|M>>>11),M=A+(P^(I|~F))+R[12]+1700485571&4294967295,A=I+(M<<6&4294967295|M>>>26),M=F+(I^(A|~P))+R[3]+2399980690&4294967295,F=A+(M<<10&4294967295|M>>>22),M=P+(A^(F|~I))+R[10]+4293915773&4294967295,P=F+(M<<15&4294967295|M>>>17),M=I+(F^(P|~A))+R[1]+2240044497&4294967295,I=P+(M<<21&4294967295|M>>>11),M=A+(P^(I|~F))+R[8]+1873313359&4294967295,A=I+(M<<6&4294967295|M>>>26),M=F+(I^(A|~P))+R[15]+4264355552&4294967295,F=A+(M<<10&4294967295|M>>>22),M=P+(A^(F|~I))+R[6]+2734768916&4294967295,P=F+(M<<15&4294967295|M>>>17),M=I+(F^(P|~A))+R[13]+1309151649&4294967295,I=P+(M<<21&4294967295|M>>>11),M=A+(P^(I|~F))+R[4]+4149444226&4294967295,A=I+(M<<6&4294967295|M>>>26),M=F+(I^(A|~P))+R[11]+3174756917&4294967295,F=A+(M<<10&4294967295|M>>>22),M=P+(A^(F|~I))+R[2]+718787259&4294967295,P=F+(M<<15&4294967295|M>>>17),M=I+(F^(P|~A))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(P+(M<<21&4294967295|M>>>11))&4294967295,S.g[2]=S.g[2]+P&4294967295,S.g[3]=S.g[3]+F&4294967295}r.prototype.v=function(S,A){A===void 0&&(A=S.length);const I=A-this.blockSize,R=this.C;let P=this.h,F=0;for(;F<A;){if(P==0)for(;F<=I;)l(this,S,F),F+=this.blockSize;if(typeof S=="string"){for(;F<A;)if(R[P++]=S.charCodeAt(F++),P==this.blockSize){l(this,R),P=0;break}}else for(;F<A;)if(R[P++]=S[F++],P==this.blockSize){l(this,R),P=0;break}}this.h=P,this.o+=A},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;A=this.o*8;for(var I=S.length-8;I<S.length;++I)S[I]=A&255,A/=256;for(this.v(S),S=Array(16),A=0,I=0;I<4;++I)for(let R=0;R<32;R+=8)S[A++]=this.g[I]>>>R&255;return S};function u(S,A){var I=g;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=A(S)}function d(S,A){this.h=A;const I=[];let R=!0;for(let P=S.length-1;P>=0;P--){const F=S[P]|0;R&&F==A||(I[P]=F,R=!1)}this.g=I}var g={};function y(S){return-128<=S&&S<128?u(S,function(A){return new d([A|0],A<0?-1:0)}):new d([S|0],S<0?-1:0)}function p(S){if(isNaN(S)||!isFinite(S))return E;if(S<0)return q(p(-S));const A=[];let I=1;for(let R=0;S>=I;R++)A[R]=S/I|0,I*=4294967296;return new d(A,0)}function _(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return q(_(S.substring(1),A));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(A,8));let R=E;for(let F=0;F<S.length;F+=8){var P=Math.min(8,S.length-F);const M=parseInt(S.substring(F,F+P),A);P<8?(P=p(Math.pow(A,P)),R=R.j(P).add(p(M))):(R=R.j(I),R=R.add(p(M)))}return R}var E=y(0),N=y(1),V=y(16777216);s=d.prototype,s.m=function(){if(z(this))return-q(this).m();let S=0,A=1;for(let I=0;I<this.g.length;I++){const R=this.i(I);S+=(R>=0?R:4294967296+R)*A,A*=4294967296}return S},s.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(H(this))return"0";if(z(this))return"-"+q(this).toString(S);const A=p(Math.pow(S,6));var I=this;let R="";for(;;){const P=B(I,A).g;I=ne(I,P.j(A));let F=((I.g.length>0?I.g[0]:I.h)>>>0).toString(S);if(I=P,H(I))return F+R;for(;F.length<6;)F="0"+F;R=F+R}},s.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function H(S){if(S.h!=0)return!1;for(let A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function z(S){return S.h==-1}s.l=function(S){return S=ne(this,S),z(S)?-1:H(S)?0:1};function q(S){const A=S.g.length,I=[];for(let R=0;R<A;R++)I[R]=~S.g[R];return new d(I,~S.h).add(N)}s.abs=function(){return z(this)?q(this):this},s.add=function(S){const A=Math.max(this.g.length,S.g.length),I=[];let R=0;for(let P=0;P<=A;P++){let F=R+(this.i(P)&65535)+(S.i(P)&65535),M=(F>>>16)+(this.i(P)>>>16)+(S.i(P)>>>16);R=M>>>16,F&=65535,M&=65535,I[P]=M<<16|F}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ne(S,A){return S.add(q(A))}s.j=function(S){if(H(this)||H(S))return E;if(z(this))return z(S)?q(this).j(q(S)):q(q(this).j(S));if(z(S))return q(this.j(q(S)));if(this.l(V)<0&&S.l(V)<0)return p(this.m()*S.m());const A=this.g.length+S.g.length,I=[];for(var R=0;R<2*A;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(let P=0;P<S.g.length;P++){const F=this.i(R)>>>16,M=this.i(R)&65535,Ne=S.i(P)>>>16,be=S.i(P)&65535;I[2*R+2*P]+=M*be,Z(I,2*R+2*P),I[2*R+2*P+1]+=F*be,Z(I,2*R+2*P+1),I[2*R+2*P+1]+=M*Ne,Z(I,2*R+2*P+1),I[2*R+2*P+2]+=F*Ne,Z(I,2*R+2*P+2)}for(S=0;S<A;S++)I[S]=I[2*S+1]<<16|I[2*S];for(S=A;S<2*A;S++)I[S]=0;return new d(I,0)};function Z(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function J(S,A){this.g=S,this.h=A}function B(S,A){if(H(A))throw Error("division by zero");if(H(S))return new J(E,E);if(z(S))return A=B(q(S),A),new J(q(A.g),q(A.h));if(z(A))return A=B(S,q(A)),new J(q(A.g),A.h);if(S.g.length>30){if(z(S)||z(A))throw Error("slowDivide_ only works with positive integers.");for(var I=N,R=A;R.l(S)<=0;)I=de(I),R=de(R);var P=ge(I,1),F=ge(R,1);for(R=ge(R,2),I=ge(I,2);!H(R);){var M=F.add(R);M.l(S)<=0&&(P=P.add(I),F=M),R=ge(R,1),I=ge(I,1)}return A=ne(S,P.j(A)),new J(P,A)}for(P=E;S.l(A)>=0;){for(I=Math.max(1,Math.floor(S.m()/A.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),F=p(I),M=F.j(A);z(M)||M.l(S)>0;)I-=R,F=p(I),M=F.j(A);H(F)&&(F=N),P=P.add(F),S=ne(S,M)}return new J(P,S)}s.B=function(S){return B(this,S).h},s.and=function(S){const A=Math.max(this.g.length,S.g.length),I=[];for(let R=0;R<A;R++)I[R]=this.i(R)&S.i(R);return new d(I,this.h&S.h)},s.or=function(S){const A=Math.max(this.g.length,S.g.length),I=[];for(let R=0;R<A;R++)I[R]=this.i(R)|S.i(R);return new d(I,this.h|S.h)},s.xor=function(S){const A=Math.max(this.g.length,S.g.length),I=[];for(let R=0;R<A;R++)I[R]=this.i(R)^S.i(R);return new d(I,this.h^S.h)};function de(S){const A=S.g.length+1,I=[];for(let R=0;R<A;R++)I[R]=S.i(R)<<1|S.i(R-1)>>>31;return new d(I,S.h)}function ge(S,A){const I=A>>5;A%=32;const R=S.g.length-I,P=[];for(let F=0;F<R;F++)P[F]=A>0?S.i(F+I)>>>A|S.i(F+I+1)<<32-A:S.i(F+I);return new d(P,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,XT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=_,Wr=d}).apply(typeof e_<"u"?e_:typeof self<"u"?self:typeof window<"u"?window:{});var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var JT,Rc,ZT,uh,Xg,ew,tw,nw;(function(){var s,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wd=="object"&&Wd];for(var x=0;x<h.length;++x){var v=h[x];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(h,x){if(x)e:{var v=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var G=h[w];if(!(G in v))break e;v=v[G]}h=h[h.length-1],w=v[h],x=x(w),x!=w&&x!=null&&e(v,h,{configurable:!0,writable:!0,value:x})}}l("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(h){return h||function(x){var v=[],w;for(w in x)Object.prototype.hasOwnProperty.call(x,w)&&v.push([w,x[w]]);return v}});var u=u||{},d=this||self;function g(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function y(h,x,v){return h.call.apply(h.bind,arguments)}function p(h,x,v){return p=y,p.apply(null,arguments)}function _(h,x){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function E(h,x){function v(){}v.prototype=x.prototype,h.Z=x.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(w,G,ee){for(var fe=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)fe[Ue-2]=arguments[Ue];return x.prototype[G].apply(w,fe)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function V(h){const x=h.length;if(x>0){const v=Array(x);for(let w=0;w<x;w++)v[w]=h[w];return v}return[]}function H(h,x){for(let w=1;w<arguments.length;w++){const G=arguments[w];var v=typeof G;if(v=v!="object"?v:G?Array.isArray(G)?"array":v:"null",v=="array"||v=="object"&&typeof G.length=="number"){v=h.length||0;const ee=G.length||0;h.length=v+ee;for(let fe=0;fe<ee;fe++)h[v+fe]=G[fe]}else h.push(G)}}class z{constructor(x,v){this.i=x,this.j=v,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function q(h){d.setTimeout(()=>{throw h},0)}function ne(){var h=S;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class Z{constructor(){this.h=this.g=null}add(x,v){const w=J.get();w.set(x,v),this.h?this.h.next=w:this.g=w,this.h=w}}var J=new z(()=>new B,h=>h.reset());class B{constructor(){this.next=this.g=this.h=null}set(x,v){this.h=x,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ge=!1,S=new Z,A=()=>{const h=Promise.resolve(void 0);de=()=>{h.then(I)}};function I(){for(var h;h=ne();){try{h.h.call(h.g)}catch(v){q(v)}var x=J;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}ge=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};d.addEventListener("test",v,x),d.removeEventListener("test",v,x)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function Ne(h,x){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}E(Ne,P),Ne.prototype.init=function(h,x){const v=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(v=="mouseover"?x=h.fromElement:v=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ne.Z.h.call(this)},Ne.prototype.h=function(){Ne.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),Q=0;function he(h,x,v,w,G){this.listener=h,this.proxy=null,this.src=x,this.type=v,this.capture=!!w,this.ha=G,this.key=++Q,this.da=this.fa=!1}function pe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Pe(h,x,v){for(const w in h)x.call(v,h[w],w,h)}function Be(h,x){for(const v in h)x.call(void 0,h[v],v,h)}function k(h){const x={};for(const v in h)x[v]=h[v];return x}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(h,x){let v,w;for(let G=1;G<arguments.length;G++){w=arguments[G];for(v in w)h[v]=w[v];for(let ee=0;ee<j.length;ee++)v=j[ee],Object.prototype.hasOwnProperty.call(w,v)&&(h[v]=w[v])}}function K(h){this.src=h,this.g={},this.h=0}K.prototype.add=function(h,x,v,w,G){const ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);const fe=ue(h,x,w,G);return fe>-1?(x=h[fe],v||(x.fa=!1)):(x=new he(x,this.src,ee,!!w,G),x.fa=v,h.push(x)),x};function ce(h,x){const v=x.type;if(v in h.g){var w=h.g[v],G=Array.prototype.indexOf.call(w,x,void 0),ee;(ee=G>=0)&&Array.prototype.splice.call(w,G,1),ee&&(pe(x),h.g[v].length==0&&(delete h.g[v],h.h--))}}function ue(h,x,v,w){for(let G=0;G<h.length;++G){const ee=h[G];if(!ee.da&&ee.listener==x&&ee.capture==!!v&&ee.ha==w)return G}return-1}var Ae="closure_lm_"+(Math.random()*1e6|0),ct={};function nt(h,x,v,w,G){if(Array.isArray(x)){for(let ee=0;ee<x.length;ee++)nt(h,x[ee],v,w,G);return null}return v=Ie(v),h&&h[be]?h.J(x,v,g(w)?!!w.capture:!1,G):_i(h,x,v,!1,w,G)}function _i(h,x,v,w,G,ee){if(!x)throw Error("Invalid event type");const fe=g(G)?!!G.capture:!!G;let Ue=_e(h);if(Ue||(h[Ae]=Ue=new K(h)),v=Ue.add(x,v,w,fe,ee),v.proxy)return v;if(w=tr(),v.proxy=w,w.src=h,w.listener=v,h.addEventListener)F||(G=fe),G===void 0&&(G=!1),h.addEventListener(x.toString(),w,G);else if(h.attachEvent)h.attachEvent(re(x.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function tr(){function h(v){return x.call(h.src,h.listener,v)}const x=me;return h}function nr(h,x,v,w,G){if(Array.isArray(x))for(var ee=0;ee<x.length;ee++)nr(h,x[ee],v,w,G);else w=g(w)?!!w.capture:!!w,v=Ie(v),h&&h[be]?(h=h.i,ee=String(x).toString(),ee in h.g&&(x=h.g[ee],v=ue(x,v,w,G),v>-1&&(pe(x[v]),Array.prototype.splice.call(x,v,1),x.length==0&&(delete h.g[ee],h.h--)))):h&&(h=_e(h))&&(x=h.g[x.toString()],h=-1,x&&(h=ue(x,v,w,G)),(v=h>-1?x[h]:null)&&L(v))}function L(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[be])ce(x.i,h);else{var v=h.type,w=h.proxy;x.removeEventListener?x.removeEventListener(v,w,h.capture):x.detachEvent?x.detachEvent(re(v),w):x.addListener&&x.removeListener&&x.removeListener(w),(v=_e(x))?(ce(v,h),v.h==0&&(v.src=null,x[Ae]=null)):pe(h)}}}function re(h){return h in ct?ct[h]:ct[h]="on"+h}function me(h,x){if(h.da)h=!0;else{x=new Ne(x,this);const v=h.listener,w=h.ha||h.src;h.fa&&L(h),h=v.call(w,x)}return h}function _e(h){return h=h[Ae],h instanceof K?h:null}var ve="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ie(h){return typeof h=="function"?h:(h[ve]||(h[ve]=function(x){return h.handleEvent(x)}),h[ve])}function xe(){R.call(this),this.i=new K(this),this.M=this,this.G=null}E(xe,R),xe.prototype[be]=!0,xe.prototype.removeEventListener=function(h,x,v,w){nr(this,h,x,v,w)};function qe(h,x){var v,w=h.G;if(w)for(v=[];w;w=w.G)v.push(w);if(h=h.M,w=x.type||x,typeof x=="string")x=new P(x,h);else if(x instanceof P)x.target=x.target||h;else{var G=x;x=new P(w,h),C(x,G)}G=!0;let ee,fe;if(v)for(fe=v.length-1;fe>=0;fe--)ee=x.g=v[fe],G=Nt(ee,w,!0,x)&&G;if(ee=x.g=h,G=Nt(ee,w,!0,x)&&G,G=Nt(ee,w,!1,x)&&G,v)for(fe=0;fe<v.length;fe++)ee=x.g=v[fe],G=Nt(ee,w,!1,x)&&G}xe.prototype.N=function(){if(xe.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const v=h.g[x];for(let w=0;w<v.length;w++)pe(v[w]);delete h.g[x],h.h--}}this.G=null},xe.prototype.J=function(h,x,v,w){return this.i.add(String(h),x,!1,v,w)},xe.prototype.K=function(h,x,v,w){return this.i.add(String(h),x,!0,v,w)};function Nt(h,x,v,w){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let G=!0;for(let ee=0;ee<x.length;++ee){const fe=x[ee];if(fe&&!fe.da&&fe.capture==v){const Ue=fe.listener,Ht=fe.ha||fe.src;fe.fa&&ce(h.i,fe),G=Ue.call(Ht,w)!==!1&&G}}return G&&!w.defaultPrevented}function is(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:d.setTimeout(h,x||0)}function oo(h){h.g=is(()=>{h.g=null,h.i&&(h.i=!1,oo(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Yt extends R{constructor(x,v){super(),this.m=x,this.l=v,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:oo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(h){R.call(this),this.h=h,this.g={}}E(rs,R);var sr=[];function ir(h){Pe(h.g,function(x,v){this.g.hasOwnProperty(v)&&L(x)},h),h.g={}}rs.prototype.N=function(){rs.Z.N.call(this),ir(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bs=d.JSON.stringify,wl=d.JSON.parse,Ze=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function gt(){}function dn(){}var kt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){P.call(this,"d")}E(Ke,P);function dt(){P.call(this,"c")}E(dt,P);var et={},rr=null;function Hs(){return rr=rr||new xe}et.Ia="serverreachability";function ar(h){P.call(this,et.Ia,h)}E(ar,P);function as(h){const x=Hs();qe(x,new ar(x))}et.STAT_EVENT="statevent";function Ei(h,x){P.call(this,et.STAT_EVENT,h),this.stat=x}E(Ei,P);function Ut(h){const x=Hs();qe(x,new Ei(x,h))}et.Ja="timingevent";function os(h,x){P.call(this,et.Ja,h),this.size=x}E(os,P);function $s(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},x)}function ws(){this.g=!0}ws.prototype.ua=function(){this.g=!1};function mf(h,x,v,w,G,ee){h.info(function(){if(h.g)if(ee){var fe="",Ue=ee.split("&");for(let ot=0;ot<Ue.length;ot++){var Ht=Ue[ot].split("=");if(Ht.length>1){const Pt=Ht[0];Ht=Ht[1];const ds=Pt.split("_");fe=ds.length>=2&&ds[1]=="type"?fe+(Pt+"="+Ht+"&"):fe+(Pt+"=redacted&")}}}else fe=null;else fe=ee;return"XMLHTTP REQ ("+w+") [attempt "+G+"]: "+x+`
`+v+`
`+fe})}function wu(h,x,v,w,G,ee,fe){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+G+"]: "+x+`
`+v+`
`+ee+" "+fe})}function Gs(h,x,v,w){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+gf(h,v)+(w?" "+w:"")})}function fa(h,x){h.info(function(){return"TIMEOUT: "+x})}ws.prototype.info=function(){};function gf(h,x){if(!h.g)return x;if(!x)return null;try{const ee=JSON.parse(x);if(ee){for(h=0;h<ee.length;h++)if(Array.isArray(ee[h])){var v=ee[h];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var G=w[0];if(G!="noop"&&G!="stop"&&G!="close")for(let fe=1;fe<w.length;fe++)w[fe]=""}}}}return Bs(ee)}catch{return x}}var ma={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jl;function ga(){}E(ga,gt),ga.prototype.g=function(){return new XMLHttpRequest},jl=new ga;function Ti(h){return encodeURIComponent(String(h))}function Nu(h){var x=1;h=h.split(":");const v=[];for(;x>0&&h.length;)v.push(h.shift()),x--;return h.length&&v.push(h.join(":")),v}function Ns(h,x,v,w){this.j=h,this.i=x,this.l=v,this.S=w||1,this.V=new rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new js}function js(){this.i=null,this.g="",this.h=!1}var Wt={},hn={};function Ks(h,x,v){h.M=1,h.A=pa(Xt(x)),h.u=v,h.R=!0,lo(h,null)}function lo(h,x){h.F=Date.now(),Ys(h),h.B=Xt(h.A);var v=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),fo(v.i,"t",w),h.C=0,v=h.j.L,h.h=new js,h.g=zu(h.j,v?x:null,!h.u),h.P>0&&(h.O=new Yt(p(h.Y,h,h.g),h.P)),x=h.V,v=h.g,w=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(sr[0]=G.toString()),G=sr);for(let ee=0;ee<G.length;ee++){const fe=nt(v,G[ee],w||x.handleEvent,!1,x.h||x);if(!fe)break;x.g[fe.key]=fe}x=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),as(),mf(h.i,h.v,h.B,h.l,h.S,h.u)}Ns.prototype.ba=function(h){h=h.target;const x=this.O;x&&Cs(h)==3?x.j():this.Y(h)},Ns.prototype.Y=function(h){try{if(h==this.g)e:{const Ue=Cs(this.g),Ht=this.g.ya(),ot=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||xn(this.g)))){this.K||Ue!=4||Ht==7||(Ht==8||ot<=0?as(3):as(2)),Ws(this);var x=this.g.ca();this.X=x;var v=pf(this);if(this.o=x==200,wu(this.i,this.v,this.B,this.l,this.S,Ue,x),this.o){if(this.U&&!this.L){t:{if(this.g){var w,G=this.g;if((w=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(w)){var ee=w;break t}}ee=null}if(h=ee)Gs(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qs(this,h);else{this.o=!1,this.m=3,Ut(12),Hn(this),ls(this);break e}}if(this.R){h=!0;let Pt;for(;!this.K&&this.C<v.length;)if(Pt=Au(this,v),Pt==hn){Ue==4&&(this.m=4,Ut(14),h=!1),Gs(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==Wt){this.m=4,Ut(15),Gs(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else Gs(this.i,this.l,Pt,null),Qs(this,Pt);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||v.length!=0||this.h.h||(this.m=1,Ut(16),h=!1),this.o=this.o&&h,!h)Gs(this.i,this.l,v,"[Invalid Chunked Response]"),Hn(this),ls(this);else if(v.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ql(fe),fe.P=!0,Ut(11))}}else Gs(this.i,this.l,v,null),Qs(this,v);Ue==4&&Hn(this),this.o&&!this.K&&(Ue==4?ku(this.j,this):(this.o=!1,Ys(this)))}else Ni(this.g),x==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),Hn(this),ls(this)}}}catch{}};function pf(h){if(!ju(h))return h.g.la();const x=xn(h.g);if(x==="")return"";let v="";const w=x.length,G=Cs(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Hn(h),ls(h),"";h.h.i=new d.TextDecoder}for(let ee=0;ee<w;ee++)h.h.h=!0,v+=h.h.i.decode(x[ee],{stream:!(G&&ee==w-1)});return x.length=0,h.h.g+=v,h.C=0,h.h.g}function ju(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Au(h,x){var v=h.C,w=x.indexOf(`
`,v);return w==-1?hn:(v=Number(x.substring(v,w)),isNaN(v)?Wt:(w+=1,w+v>x.length?hn:(x=x.slice(w,w+v),h.C=w+v,x)))}Ns.prototype.cancel=function(){this.K=!0,Hn(this)};function Ys(h){h.T=Date.now()+h.H,co(h,h.H)}function co(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=$s(p(h.aa,h),x)}function Ws(h){h.D&&(d.clearTimeout(h.D),h.D=null)}Ns.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(fa(this.i,this.B),this.M!=2&&(as(),Ut(17)),Hn(this),this.m=2,ls(this)):co(this,this.T-h)};function ls(h){h.j.I==0||h.K||ku(h.j,h)}function Hn(h){Ws(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,ir(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Qs(h,x){try{var v=h.j;if(v.I!=0&&(v.g==h||Js(v.h,h))){if(!h.L&&Js(v.h,h)&&v.I==3){try{var w=v.Ba.g.parse(x)}catch{w=null}if(Array.isArray(w)&&w.length==3){var G=w;if(G[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)xo(v),mr(v);else break e;Ta(v),Ut(18)}}else v.xa=G[1],0<v.xa-v.K&&G[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=$s(p(v.Va,v),6e3));Xs(v.h)<=1&&v.ta&&(v.ta=void 0)}else ii(v,11)}else if((h.L||v.g==h)&&xo(v),!M(x))for(G=v.Ba.g.parse(x),x=0;x<G.length;x++){let ot=G[x];const Pt=ot[0];if(!(Pt<=v.K))if(v.K=Pt,ot=ot[1],v.I==2)if(ot[0]=="c"){v.M=ot[1],v.ba=ot[2];const ds=ot[3];ds!=null&&(v.ka=ds,v.j.info("VER="+v.ka));const ri=ot[4];ri!=null&&(v.za=ri,v.j.info("SVER="+v.za));const Is=ot[5];Is!=null&&typeof Is=="number"&&Is>0&&(w=1.5*Is,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Rs=h.g;if(Rs){const wa=Rs.g?Rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wa){var ee=w.h;ee.g||wa.indexOf("spdy")==-1&&wa.indexOf("quic")==-1&&wa.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Cl(ee,ee.h),ee.h=null))}if(w.G){const bo=Rs.g?Rs.g.getResponseHeader("X-HTTP-Session-Id"):null;bo&&(w.wa=bo,ht(w.J,w.G,bo))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var fe=h;if(w.na=Uu(w,w.L?w.ba:null,w.W),fe.L){Il(w.h,fe);var Ue=fe,Ht=w.O;Ht&&(Ue.H=Ht),Ue.D&&(Ws(Ue),Ys(Ue)),w.g=fe}else Pu(w);v.i.length>0&&si(v)}else ot[0]!="stop"&&ot[0]!="close"||ii(v,7);else v.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?ii(v,7):Ul(v):ot[0]!="noop"&&v.l&&v.l.qa(ot),v.A=0)}}as(4)}catch{}}var Qt=class{constructor(h,x){this.g=h,this.map=x}};function Al(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Xs(h){return h.h?1:h.g?h.g.size:0}function Js(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Cl(h,x){h.g?h.g.add(x):h.h=x}function Il(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}Al.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Rl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const v of h.g.values())x=x.concat(v.G);return x}return V(h.i)}var Su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uo(h,x){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const w=h[v].indexOf("=");let G,ee=null;w>=0?(G=h[v].substring(0,w),ee=h[v].substring(w+1)):G=h[v],x(G,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function $n(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof $n?(this.l=h.l,fn(this,h.j),this.o=h.o,this.g=h.g,or(this,h.u),this.h=h.h,Ml(this,Mu(h.i)),this.m=h.m):h&&(x=String(h).match(Su))?(this.l=!1,fn(this,x[1]||"",!0),this.o=Zs(x[2]||""),this.g=Zs(x[3]||"",!0),or(this,x[4]),this.h=Zs(x[5]||"",!0),Ml(this,x[6]||"",!0),this.m=Zs(x[7]||"")):(this.l=!1,this.i=new cr(null,this.l))}$n.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(ya(x,ho,!0),":");var v=this.g;return(v||x=="file")&&(h.push("//"),(x=this.o)&&h.push(ya(x,ho,!0),"@"),h.push(Ti(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(ya(v,v.charAt(0)=="/"?Dl:Cu,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",ya(v,Iu)),h.join("")},$n.prototype.resolve=function(h){const x=Xt(this);let v=!!h.j;v?fn(x,h.j):v=!!h.o,v?x.o=h.o:v=!!h.g,v?x.g=h.g:v=h.u!=null;var w=h.h;if(v)or(x,h.u);else if(v=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var G=x.h.lastIndexOf("/");G!=-1&&(w=x.h.slice(0,G+1)+w)}if(G=w,G==".."||G==".")w="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){w=G.lastIndexOf("/",0)==0,G=G.split("/");const ee=[];for(let fe=0;fe<G.length;){const Ue=G[fe++];Ue=="."?w&&fe==G.length&&ee.push(""):Ue==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),w&&fe==G.length&&ee.push("")):(ee.push(Ue),w=!0)}w=ee.join("/")}else w=G}return v?x.h=w:v=h.i.toString()!=="",v?Ml(x,Mu(h.i)):v=!!h.m,v&&(x.m=h.m),x};function Xt(h){return new $n(h)}function fn(h,x,v){h.j=v?Zs(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function or(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function Ml(h,x,v){x instanceof cr?(h.i=x,mo(h.i,h.l)):(v||(x=ya(x,lr)),h.i=new cr(x,h.l))}function ht(h,x,v){h.i.set(x,v)}function pa(h){return ht(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Zs(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ya(h,x,v){return typeof h=="string"?(h=encodeURI(h).replace(x,On),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function On(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ho=/[#\/\?@]/g,Cu=/[#\?:]/g,Dl=/[#\?]/g,lr=/[#\?@]/g,Iu=/#/g;function cr(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function kn(h){h.g||(h.g=new Map,h.h=0,h.i&&uo(h.i,function(x,v){h.add(decodeURIComponent(x.replace(/\+/g," ")),v)}))}s=cr.prototype,s.add=function(h,x){kn(this),this.i=null,h=ur(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(x),this.h+=1,this};function Ru(h,x){kn(h),x=ur(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Pl(h,x){return kn(h),x=ur(h,x),h.g.has(x)}s.forEach=function(h,x){kn(this),this.g.forEach(function(v,w){v.forEach(function(G){h.call(x,G,w,this)},this)},this)};function Ol(h,x){kn(h);let v=[];if(typeof x=="string")Pl(h,x)&&(v=v.concat(h.g.get(ur(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)v=v.concat(h[x]);return v}s.set=function(h,x){return kn(this),this.i=null,h=ur(this,h),Pl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},s.get=function(h,x){return h?(h=Ol(this,h),h.length>0?String(h[0]):x):x};function fo(h,x,v){Ru(h,x),v.length>0&&(h.i=null,h.g.set(ur(h,x),V(v)),h.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let w=0;w<x.length;w++){var v=x[w];const G=Ti(v);v=Ol(this,v);for(let ee=0;ee<v.length;ee++){let fe=G;v[ee]!==""&&(fe+="="+Ti(v[ee])),h.push(fe)}}return this.i=h.join("&")};function Mu(h){const x=new cr;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function ur(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function mo(h,x){x&&!h.j&&(kn(h),h.i=null,h.g.forEach(function(v,w){const G=w.toLowerCase();w!=G&&(Ru(this,w),fo(this,G,v))},h)),h.j=x}function As(h,x){const v=new ws;if(d.Image){const w=new Image;w.onload=_(cs,v,"TestLoadImage: loaded",!0,x,w),w.onerror=_(cs,v,"TestLoadImage: error",!1,x,w),w.onabort=_(cs,v,"TestLoadImage: abort",!1,x,w),w.ontimeout=_(cs,v,"TestLoadImage: timeout",!1,x,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else x(!1)}function kl(h,x){const v=new ws,w=new AbortController,G=setTimeout(()=>{w.abort(),cs(v,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:w.signal}).then(ee=>{clearTimeout(G),ee.ok?cs(v,"TestPingServer: ok",!0,x):cs(v,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(G),cs(v,"TestPingServer: error",!1,x)})}function cs(h,x,v,w,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),w(v)}catch{}}function dr(){this.g=new Ze}function ei(h){this.i=h.Sb||null,this.h=h.ab||!1}E(ei,gt),ei.prototype.g=function(){return new xa(this.i,this.h)};function xa(h,x){xe.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(xa,xe),s=xa.prototype,s.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,Ss(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||d).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ss(this)),this.g&&(this.readyState=3,Ss(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;go(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function go(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?hr(this):Ss(this),this.readyState==3&&go(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,hr(this))},s.Na=function(h){this.g&&(this.response=h,hr(this))},s.ga=function(){this.g&&hr(this)};function hr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ss(h)}s.setRequestHeader=function(h,x){this.A.append(h,x)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var v=x.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=x.next();return h.join(`\r
`)};function Ss(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function us(h){let x="";return Pe(h,function(v,w){x+=w,x+=":",x+=v,x+=`\r
`}),x}function ba(h,x,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=us(v),typeof h=="string"?v!=null&&Ti(v):ht(h,x,v))}function pt(h){xe.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(pt,xe);var ti=/^https?$/i,Ll=["POST","PUT"];s=pt.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,x,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jl.g(),this.g.onreadystatechange=N(p(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(ee){va(this,ee);return}if(h=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var G in w)v.set(G,w[G]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const ee of w.keys())v.set(ee,w.get(ee));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(ee=>ee.toLowerCase()=="content-type"),G=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(Ll,x,void 0)>=0)||w||G||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,fe]of v)this.g.setRequestHeader(ee,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ee){va(this,ee)}};function va(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,Vl(h),wi(h)}function Vl(h){h.A||(h.A=!0,qe(h,"complete"),qe(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,qe(this,"complete"),qe(this,"abort"),wi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),pt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?_a(this):this.Xa())},s.Xa=function(){_a(this)};function _a(h){if(h.h&&typeof u<"u"){if(h.v&&Cs(h)==4)setTimeout(h.Ca.bind(h),0);else if(qe(h,"readystatechange"),Cs(h)==4){h.h=!1;try{const ee=h.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var v;if(!(v=x)){var w;if(w=ee===0){let fe=String(h.D).match(Su)[1]||null;!fe&&d.self&&d.self.location&&(fe=d.self.location.protocol.slice(0,-1)),w=!ti.test(fe?fe.toLowerCase():"")}v=w}if(v)qe(h,"complete"),qe(h,"success");else{h.o=6;try{var G=Cs(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",Vl(h)}}finally{wi(h)}}}}function wi(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,x||qe(h,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Cs(h){return h.g?h.g.readyState:0}s.ca=function(){try{return Cs(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),wl(x)}};function xn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(h){const x={};h=(h.g&&Cs(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(M(h[w]))continue;var v=Nu(h[w]);const G=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const ee=x[G]||[];x[G]=ee,ee.push(v)}Be(x,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ni(h,x,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||x}function fr(h){this.za=0,this.i=[],this.j=new ws,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ni("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ni("baseRetryDelayMs",5e3,h),this.Za=ni("retryDelaySeedMs",1e4,h),this.Ta=ni("forwardChannelMaxRetries",2,h),this.va=ni("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Al(h&&h.concurrentRequestLimit),this.Ba=new dr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=fr.prototype,s.ka=8,s.I=1,s.connect=function(h,x,v,w){Ut(0),this.W=h,this.H=x||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=Uu(this,null,this.W),si(this)};function Ul(h){if(po(h),h.I==3){var x=h.V++,v=Xt(h.J);if(ht(v,"SID",h.M),ht(v,"RID",x),ht(v,"TYPE","terminate"),Ea(h,v),x=new Ns(h,h.j,x),x.M=2,x.A=pa(Xt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(x.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=x.A,v=!0),v||(x.g=zu(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Ys(x)}Vu(h)}function mr(h){h.g&&(ql(h),h.g.cancel(),h.g=null)}function po(h){mr(h),h.v&&(d.clearTimeout(h.v),h.v=null),xo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function si(h){if(!Sl(h.h)&&!h.m){h.m=!0;var x=h.Ea;de||A(),ge||(de(),ge=!0),S.add(x,h),h.D=0}}function yo(h,x){return Xs(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=$s(p(h.Ea,h,x),Lu(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new Ns(this,this.j,h);let ee=this.o;if(this.U&&(ee?(ee=k(ee),C(ee,this.U)):ee=this.U),this.u!==null||this.R||(G.J=ee,ee=null),this.S)e:{for(var x=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(x+=w,x>4096){x=v;break e}if(x===4096||v===this.i.length-1){x=v+1;break e}}x=1e3}else x=1e3;x=Du(this,G,x),v=Xt(this.J),ht(v,"RID",h),ht(v,"CVER",22),this.G&&ht(v,"X-HTTP-Session-Id",this.G),Ea(this,v),ee&&(this.R?x="headers="+Ti(us(ee))+"&"+x:this.u&&ba(v,this.u,ee)),Cl(this.h,G),this.Ra&&ht(v,"TYPE","init"),this.S?(ht(v,"$req",x),ht(v,"SID","null"),G.U=!0,Ks(G,v,null)):Ks(G,v,x),this.I=2}}else this.I==3&&(h?zl(this,h):this.i.length==0||Sl(this.h)||zl(this))};function zl(h,x){var v;x?v=x.l:v=h.V++;const w=Xt(h.J);ht(w,"SID",h.M),ht(w,"RID",v),ht(w,"AID",h.K),Ea(h,w),h.u&&h.o&&ba(w,h.u,h.o),v=new Ns(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),x&&(h.i=x.G.concat(h.i)),x=Du(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Cl(h.h,v),Ks(v,w,x)}function Ea(h,x){h.H&&Pe(h.H,function(v,w){ht(x,w,v)}),h.l&&Pe({},function(v,w){ht(x,w,v)})}function Du(h,x,v){v=Math.min(h.i.length,v);const w=h.l?p(h.l.Ka,h.l,h):null;e:{var G=h.i;let Ue=-1;for(;;){const Ht=["count="+v];Ue==-1?v>0?(Ue=G[0].g,Ht.push("ofs="+Ue)):Ue=0:Ht.push("ofs="+Ue);let ot=!0;for(let Pt=0;Pt<v;Pt++){var ee=G[Pt].g;const ds=G[Pt].map;if(ee-=Ue,ee<0)Ue=Math.max(0,G[Pt].g-100),ot=!1;else try{ee="req"+ee+"_"||"";try{var fe=ds instanceof Map?ds:Object.entries(ds);for(const[ri,Is]of fe){let Rs=Is;g(Is)&&(Rs=Bs(Is)),Ht.push(ee+ri+"="+encodeURIComponent(Rs))}}catch(ri){throw Ht.push(ee+"type="+encodeURIComponent("_badmap")),ri}}catch{w&&w(ds)}}if(ot){fe=Ht.join("&");break e}}fe=void 0}return h=h.i.splice(0,v),x.G=h,fe}function Pu(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;de||A(),ge||(de(),ge=!0),S.add(x,h),h.A=0}}function Ta(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=$s(p(h.Da,h),Lu(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,Ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=$s(p(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),mr(this),Ou(this))};function ql(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function Ou(h){h.g=new Ns(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=Xt(h.na);ht(x,"RID","rpc"),ht(x,"SID",h.M),ht(x,"AID",h.K),ht(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&ht(x,"TO",h.ia),ht(x,"TYPE","xmlhttp"),Ea(h,x),h.u&&h.o&&ba(x,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=pa(Xt(x)),v.u=null,v.R=!0,lo(v,h)}s.Va=function(){this.C!=null&&(this.C=null,mr(this),Ta(this),Ut(19))};function xo(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function ku(h,x){var v=null;if(h.g==x){xo(h),ql(h),h.g=null;var w=2}else if(Js(h.h,x))v=x.G,Il(h.h,x),w=1;else return;if(h.I!=0){if(x.o)if(w==1){v=x.u?x.u.length:0,x=Date.now()-x.F;var G=h.D;w=Hs(),qe(w,new os(w,v)),si(h)}else Pu(h);else if(G=x.m,G==3||G==0&&x.X>0||!(w==1&&yo(h,x)||w==2&&Ta(h)))switch(v&&v.length>0&&(x=h.h,x.i=x.i.concat(v)),G){case 1:ii(h,5);break;case 4:ii(h,10);break;case 3:ii(h,6);break;default:ii(h,2)}}}function Lu(h,x){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*x}function ii(h,x){if(h.j.info("Error code "+x),x==2){var v=p(h.bb,h),w=h.Ua;const G=!w;w=new $n(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||fn(w,"https"),pa(w),G?As(w.toString(),v):kl(w.toString(),v)}else Ut(2);h.I=0,h.l&&h.l.pa(x),Vu(h),po(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Vu(h){if(h.I=0,h.ja=[],h.l){const x=Rl(h.h);(x.length!=0||h.i.length!=0)&&(H(h.ja,x),H(h.ja,h.i),h.h.i.length=0,V(h.i),h.i.length=0),h.l.oa()}}function Uu(h,x,v){var w=v instanceof $n?Xt(v):new $n(v);if(w.g!="")x&&(w.g=x+"."+w.g),or(w,w.u);else{var G=d.location;w=G.protocol,x=x?x+"."+G.hostname:G.hostname,G=+G.port;const ee=new $n(null);w&&fn(ee,w),x&&(ee.g=x),G&&or(ee,G),v&&(ee.h=v),w=ee}return v=h.G,x=h.wa,v&&x&&ht(w,v,x),ht(w,"VER",h.ka),Ea(h,w),w}function zu(h,x,v){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new pt(new ei({ab:v})):new pt(h.ma),x.Fa(h.L),x}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}s=qu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function gr(){}gr.prototype.g=function(h,x){return new Mn(h,x)};function Mn(h,x){xe.call(this),this.g=new fr(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!M(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!M(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new ji(this)}E(Mn,xe),Mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){Ul(this.g)},Mn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=Bs(h),h=v);x.i.push(new Qt(x.Ya++,h)),x.I==3&&si(x)},Mn.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,Mn.Z.N.call(this)};function Fu(h){Ke.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const v in x){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}E(Fu,Ke);function Bu(){dt.call(this),this.status=1}E(Bu,dt);function ji(h){this.g=h}E(ji,qu),ji.prototype.ra=function(){qe(this.g,"a")},ji.prototype.qa=function(h){qe(this.g,new Fu(h))},ji.prototype.pa=function(h){qe(this.g,new Bu)},ji.prototype.oa=function(){qe(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,nw=function(){return new gr},tw=function(){return Hs()},ew=et,Xg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,uh=ma,Nl.COMPLETE="complete",ZT=Nl,dn.EventType=kt,kt.OPEN="a",kt.CLOSE="b",kt.ERROR="c",kt.MESSAGE="d",xe.prototype.listen=xe.prototype.J,Rc=dn,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,JT=pt}).apply(typeof Wd<"u"?Wd:typeof self<"u"?self:typeof window<"u"?window:{});class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");let bl="12.8.0";function IM(s){bl=s}const eo=new Hh("@firebase/firestore");function Wo(){return eo.logLevel}function Te(s,...e){if(eo.logLevel<=Qe.DEBUG){const n=e.map(Wp);eo.debug(`Firestore (${bl}): ${s}`,...n)}}function Ji(s,...e){if(eo.logLevel<=Qe.ERROR){const n=e.map(Wp);eo.error(`Firestore (${bl}): ${s}`,...n)}}function ol(s,...e){if(eo.logLevel<=Qe.WARN){const n=e.map(Wp);eo.warn(`Firestore (${bl}): ${s}`,...n)}}function Wp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function De(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,sw(s,r,n)}function sw(s,e,n){let r=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ji(r),new Error(r)}function ut(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||sw(e,l,r)}function Ve(s,e){return s}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Fs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ga{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class iw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Cn.UNAUTHENTICATED)))}shutdown(){}}class MM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class DM{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new Ga;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ga,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ga)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string",31837,{l:r}),new iw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Cn(e)}}class PM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class OM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new PM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class t_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ts(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const r=u=>{u.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,Te("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new t_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new t_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function LM(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class Qp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=LM(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=e.charAt(l[u]%62))}return r}}function Xe(s,e){return s<e?-1:s>e?1:0}function Jg(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return Cg(l)===Cg(u)?Xe(l,u):Cg(l)?1:-1}return Xe(s.length,e.length)}const VM=55296,UM=57343;function Cg(s){const e=s.charCodeAt(0);return e>=VM&&e<=UM}function ll(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const n_="__name__";class hi{constructor(e,n,r){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&De(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const u=hi.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Xe(e.length,n.length)}static compareSegments(e,n){const r=hi.isNumericId(e),l=hi.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?hi.extractNumericId(e).compare(hi.extractNumericId(n)):Jg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wr.fromString(e.substring(4,e.length-2))}}class At extends hi{construct(e,n,r){return new At(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new At(n)}static emptyPath(){return new At([])}}const zM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends hi{construct(e,n,r){return new Nn(e,n,r)}static isValidIdentifier(e){return zM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n_}static keyField(){return new Nn([n_])}static fromServerFormat(e){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new Ee(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Ee(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(u(),l++)}if(u(),d)throw new Ee(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(At.fromString(e))}static fromName(e){return new Ce(At.fromString(e).popFirst(5))}static empty(){return new Ce(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return At.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new At(e.slice()))}}function rw(s,e,n){if(!n)throw new Ee(oe.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function qM(s,e,n,r){if(e===!0&&r===!0)throw new Ee(oe.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function s_(s){if(!Ce.isDocumentKey(s))throw new Ee(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function i_(s){if(Ce.isDocumentKey(s))throw new Ee(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function aw(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Qh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":De(12329,{type:typeof s})}function Ka(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new Ee(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qh(s);throw new Ee(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function rn(s,e){const n={typeString:s};return e&&(n.value=e),n}function yu(s,e){if(!aw(s))throw new Ee(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new Ee(oe.INVALID_ARGUMENT,n);return!0}const r_=-62135596800,a_=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*a_);return new Rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<r_)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a_}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-r_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:rn("string",Rt._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Rt(0,0))}static max(){return new Oe(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xc=-1;function FM(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Oe.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new Zr(l,Ce.empty(),e)}function BM(s){return new Zr(s.readTime,s.key,Xc)}class Zr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zr(Oe.min(),Ce.empty(),Xc)}static max(){return new Zr(Oe.max(),Ce.empty(),Xc)}}function HM(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(s.documentKey,e.documentKey),n!==0?n:Xe(s.largestBatchId,e.largestBatchId))}const $M="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vl(s){if(s.code!==oe.FAILED_PRECONDITION||s.message!==$M)throw s;Te("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let l=0,u=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&n()}),(y=>r(y)))})),d=!0,u===l&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((l=>l?le.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,l)=>{const u=e.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const p=y;n(e[p]).next((_=>{d[p]=_,++g,g===u&&r(d)}),(_=>l(_)))}}))}static doWhile(e,n){return new le(((r,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):r()};u()}))}}function KM(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _l(s){return s.name==="IndexedDbTransactionError"}class Xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xh.ce=-1;const Xp=-1;function Jh(s){return s==null}function Sh(s){return s===0&&1/s==-1/0}function YM(s){return typeof s=="number"&&Number.isInteger(s)&&!Sh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const ow="";function WM(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=o_(e)),e=QM(s.get(n),e);return o_(e)}function QM(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case ow:n+="";break;default:n+=u}}return n}function o_(s){return s+ow+""}function l_(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function da(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function lw(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Vt{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qd(this.root,e,this.comparator,!0)}}class Qd{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,l,u){this.key=e,this.value=n,this.color=r??wn.RED,this.left=l??wn.EMPTY,this.right=u??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,u){return new wn(e??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return wn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,r,l,u){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class un{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new c_(this.data.getIterator())}getIteratorFrom(e){return new c_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class c_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ns{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new ns([])}unionWith(e){let n=new un(Nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ns(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class cw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cw("Invalid base64 string: "+u):u}})(e);return new jn(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new jn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const XM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(s){if(ut(!!s,39018),typeof s=="string"){let e=0;const n=XM.exec(s);if(ut(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(s.seconds),nanos:Kt(s.nanos)}}function Kt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ta(s){return typeof s=="string"?jn.fromBase64String(s):jn.fromUint8Array(s)}const uw="server_timestamp",dw="__type__",hw="__previous_value__",fw="__local_write_time__";function Jp(s){return(s?.mapValue?.fields||{})[dw]?.stringValue===uw}function Zh(s){const e=s.mapValue.fields[hw];return Jp(e)?Zh(e):e}function Jc(s){const e=ea(s.mapValue.fields[fw].timestampValue);return new Rt(e.seconds,e.nanos)}class JM{constructor(e,n,r,l,u,d,g,y,p,_,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=_,this.apiKey=E}}const Ch="(default)";class Zc{constructor(e,n){this.projectId=e,this.database=n||Ch}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}function ZM(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Ee(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(s.options.projectId,e)}const mw="__type__",e3="__max__",Xd={mapValue:{}},gw="__vector__",Ih="value";function na(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Jp(s)?4:n3(s)?9007199254740991:t3(s)?10:11:De(28295,{value:s})}function vi(s,e){if(s===e)return!0;const n=na(s);if(n!==na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Jc(s).isEqual(Jc(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=ea(l.timestampValue),g=ea(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return ta(l.bytesValue).isEqual(ta(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return Kt(l.geoPointValue.latitude)===Kt(u.geoPointValue.latitude)&&Kt(l.geoPointValue.longitude)===Kt(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Kt(l.integerValue)===Kt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Kt(l.doubleValue),g=Kt(u.doubleValue);return d===g?Sh(d)===Sh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return ll(s.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(l_(d)!==l_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!vi(d[y],g[y])))return!1;return!0})(s,e);default:return De(52216,{left:s})}}function eu(s,e){return(s.values||[]).find((n=>vi(n,e)))!==void 0}function cl(s,e){if(s===e)return 0;const n=na(s),r=na(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const g=Kt(u.integerValue||u.doubleValue),y=Kt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return u_(s.timestampValue,e.timestampValue);case 4:return u_(Jc(s),Jc(e));case 5:return Jg(s.stringValue,e.stringValue);case 6:return(function(u,d){const g=ta(u),y=ta(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const _=Xe(g[p],y[p]);if(_!==0)return _}return Xe(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const g=Xe(Kt(u.latitude),Kt(d.latitude));return g!==0?g:Xe(Kt(u.longitude),Kt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return d_(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const g=u.fields||{},y=d.fields||{},p=g[Ih]?.arrayValue,_=y[Ih]?.arrayValue,E=Xe(p?.values?.length||0,_?.values?.length||0);return E!==0?E:d_(p,_)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Xd.mapValue&&d===Xd.mapValue)return 0;if(u===Xd.mapValue)return 1;if(d===Xd.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),p=d.fields||{},_=Object.keys(p);y.sort(),_.sort();for(let E=0;E<y.length&&E<_.length;++E){const N=Jg(y[E],_[E]);if(N!==0)return N;const V=cl(g[y[E]],p[_[E]]);if(V!==0)return V}return Xe(y.length,_.length)})(s.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function u_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Xe(s,e);const n=ea(s),r=ea(e),l=Xe(n.seconds,r.seconds);return l!==0?l:Xe(n.nanos,r.nanos)}function d_(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=cl(n[l],r[l]);if(u)return u}return Xe(n.length,r.length)}function ul(s){return Zg(s)}function Zg(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=ea(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return ta(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return Ce.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=Zg(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${Zg(n.fields[d])}`;return l+"}"})(s.mapValue):De(61005,{value:s})}function dh(s){switch(na(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(s);return e?16+dh(e):16;case 5:return 2*s.stringValue.length;case 6:return ta(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+dh(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return da(r.fields,((u,d)=>{l+=u.length+dh(d)})),l})(s.mapValue);default:throw De(13486,{value:s})}}function h_(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function ep(s){return!!s&&"integerValue"in s}function Zp(s){return!!s&&"arrayValue"in s}function f_(s){return!!s&&"nullValue"in s}function m_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function hh(s){return!!s&&"mapValue"in s}function t3(s){return(s?.mapValue?.fields||{})[mw]?.stringValue===gw}function Uc(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return da(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Uc(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uc(s.arrayValue.values[n]);return e}return{...s}}function n3(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===e3}class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uc(n)}setAll(e){let n=Nn.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,r,l),r={},l=[],n=g.popLast()}d?r[g.lastSegment()]=Uc(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(e){const n=this.field(e.popLast());hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];hh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){da(n,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new Bn(Uc(this.value))}}function pw(s){const e=[];return da(s.fields,((n,r)=>{const l=new Nn([n]);if(hh(r)){const u=pw(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new ns(e)}class In{constructor(e,n,r,l,u,d,g){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new In(e,0,Oe.min(),Oe.min(),Oe.min(),Bn.empty(),0)}static newFoundDocument(e,n,r,l){return new In(e,1,n,Oe.min(),r,l,0)}static newNoDocument(e,n){return new In(e,2,n,Oe.min(),Oe.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new In(e,3,n,Oe.min(),Oe.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rh{constructor(e,n){this.position=e,this.inclusive=n}}function g_(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=Ce.comparator(Ce.fromName(d.referenceValue),n.key):r=cl(d,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function p_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!vi(s.position[n],e.position[n]))return!1;return!0}class tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function s3(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class yw{}class sn extends yw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new r3(e,n,r):n==="array-contains"?new l3(e,r):n==="in"?new c3(e,r):n==="not-in"?new u3(e,r):n==="array-contains-any"?new d3(e,r):new sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new a3(e,r):new o3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(cl(n,this.value)):n!==null&&na(this.value)===na(n)&&this.matchesComparison(cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qs extends yw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qs(e,n)}matches(e){return xw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xw(s){return s.op==="and"}function bw(s){return i3(s)&&xw(s)}function i3(s){for(const e of s.filters)if(e instanceof qs)return!1;return!0}function tp(s){if(s instanceof sn)return s.field.canonicalString()+s.op.toString()+ul(s.value);if(bw(s))return s.filters.map((e=>tp(e))).join(",");{const e=s.filters.map((n=>tp(n))).join(",");return`${s.op}(${e})`}}function vw(s,e){return s instanceof sn?(function(r,l){return l instanceof sn&&r.op===l.op&&r.field.isEqual(l.field)&&vi(r.value,l.value)})(s,e):s instanceof qs?(function(r,l){return l instanceof qs&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,g)=>u&&vw(d,l.filters[g])),!0):!1})(s,e):void De(19439)}function _w(s){return s instanceof sn?(function(n){return`${n.field.canonicalString()} ${n.op} ${ul(n.value)}`})(s):s instanceof qs?(function(n){return n.op.toString()+" {"+n.getFilters().map(_w).join(" ,")+"}"})(s):"Filter"}class r3 extends sn{constructor(e,n,r){super(e,n,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class a3 extends sn{constructor(e,n){super(e,"in",n),this.keys=Ew("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class o3 extends sn{constructor(e,n){super(e,"not-in",n),this.keys=Ew("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ew(s,e){return(e.arrayValue?.values||[]).map((n=>Ce.fromName(n.referenceValue)))}class l3 extends sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zp(n)&&eu(n.arrayValue,this.value)}}class c3 extends sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class u3 extends sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class d3 extends sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>eu(this.value.arrayValue,r)))}}class h3{constructor(e,n=null,r=[],l=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function y_(s,e=null,n=[],r=[],l=null,u=null,d=null){return new h3(s,e,n,r,l,u,d)}function ey(s){const e=Ve(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>tp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ul(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ul(r))).join(",")),e.Te=n}return e.Te}function ty(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!s3(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!vw(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!p_(s.startAt,e.startAt)&&p_(s.endAt,e.endAt)}function np(s){return Ce.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class El{constructor(e,n=null,r=[],l=[],u=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function f3(s,e,n,r,l,u,d,g){return new El(s,e,n,r,l,u,d,g)}function ny(s){return new El(s)}function x_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function m3(s){return Ce.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Tw(s){return s.collectionGroup!==null}function zc(s){const e=Ve(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new un(Nn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new tu(u,r))})),n.has(Nn.keyField().canonicalString())||e.Ie.push(new tu(Nn.keyField(),r))}return e.Ie}function mi(s){const e=Ve(s);return e.Ee||(e.Ee=g3(e,zc(s))),e.Ee}function g3(s,e){if(s.limitType==="F")return y_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new tu(l.field,u)}));const n=s.endAt?new Rh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Rh(s.startAt.position,s.startAt.inclusive):null;return y_(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function sp(s,e){const n=s.filters.concat([e]);return new El(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function p3(s,e){const n=s.explicitOrderBy.concat([e]);return new El(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function ip(s,e,n){return new El(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function ef(s,e){return ty(mi(s),mi(e))&&s.limitType===e.limitType}function ww(s){return`${ey(mi(s))}|lt:${s.limitType}`}function Qo(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>_w(l))).join(", ")}]`),Jh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>ul(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>ul(l))).join(",")),`Target(${r})`})(mi(s))}; limitType=${s.limitType})`}function tf(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Ce.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of zc(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const p=g_(d,g,y);return d.inclusive?p<=0:p<0})(r.startAt,zc(r),l)||r.endAt&&!(function(d,g,y){const p=g_(d,g,y);return d.inclusive?p>=0:p>0})(r.endAt,zc(r),l))})(s,e)}function y3(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Nw(s){return(e,n)=>{let r=!1;for(const l of zc(s)){const u=x3(l,e,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function x3(s,e,n){const r=s.field.isKeyField()?Ce.comparator(e.key,n.key):(function(u,d,g){const y=d.data.field(u),p=g.data.field(u);return y!==null&&p!==null?cl(y,p):De(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:s.dir})}}class io{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,((n,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return lw(this.inner)}size(){return this.innerSize}}const b3=new Vt(Ce.comparator);function Zi(){return b3}const jw=new Vt(Ce.comparator);function Mc(...s){let e=jw;for(const n of s)e=e.insert(n.key,n);return e}function Aw(s){let e=jw;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ha(){return qc()}function Sw(){return qc()}function qc(){return new io((s=>s.toString()),((s,e)=>s.isEqual(e)))}const v3=new Vt(Ce.comparator),_3=new un(Ce.comparator);function Je(...s){let e=_3;for(const n of s)e=e.add(n);return e}const E3=new un(Xe);function T3(){return E3}function sy(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function Cw(s){return{integerValue:""+s}}function w3(s,e){return YM(e)?Cw(e):sy(s,e)}class nf{constructor(){this._=void 0}}function N3(s,e,n){return s instanceof nu?(function(l,u){const d={fields:{[dw]:{stringValue:uw},[fw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Jp(u)&&(u=Zh(u)),u&&(d.fields[hw]=u),{mapValue:d}})(n,e):s instanceof su?Rw(s,e):s instanceof iu?Mw(s,e):(function(l,u){const d=Iw(l,u),g=b_(d)+b_(l.Ae);return ep(d)&&ep(l.Ae)?Cw(g):sy(l.serializer,g)})(s,e)}function j3(s,e,n){return s instanceof su?Rw(s,e):s instanceof iu?Mw(s,e):n}function Iw(s,e){return s instanceof Mh?(function(r){return ep(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class nu extends nf{}class su extends nf{constructor(e){super(),this.elements=e}}function Rw(s,e){const n=Dw(e);for(const r of s.elements)n.some((l=>vi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class iu extends nf{constructor(e){super(),this.elements=e}}function Mw(s,e){let n=Dw(e);for(const r of s.elements)n=n.filter((l=>!vi(l,r)));return{arrayValue:{values:n}}}class Mh extends nf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function b_(s){return Kt(s.integerValue||s.doubleValue)}function Dw(s){return Zp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class A3{constructor(e,n){this.field=e,this.transform=n}}function S3(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof su&&l instanceof su||r instanceof iu&&l instanceof iu?ll(r.elements,l.elements,vi):r instanceof Mh&&l instanceof Mh?vi(r.Ae,l.Ae):r instanceof nu&&l instanceof nu})(s.transform,e.transform)}class C3{constructor(e,n){this.version=e,this.transformResults=n}}class gi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class sf{}function Pw(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new kw(s.key,gi.none()):new xu(s.key,s.data,gi.none());{const n=s.data,r=Bn.empty();let l=new un(Nn.comparator);for(let u of e.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new ha(s.key,r,new ns(l.toArray()),gi.none())}}function I3(s,e,n){s instanceof xu?(function(l,u,d){const g=l.value.clone(),y=__(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):s instanceof ha?(function(l,u,d){if(!fh(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=__(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(Ow(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Fc(s,e,n,r){return s instanceof xu?(function(u,d,g,y){if(!fh(u.precondition,d))return g;const p=u.value.clone(),_=E_(u.fieldTransforms,y,d);return p.setAll(_),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(s,e,n,r):s instanceof ha?(function(u,d,g,y){if(!fh(u.precondition,d))return g;const p=E_(u.fieldTransforms,y,d),_=d.data;return _.setAll(Ow(u)),_.setAll(p),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(s,e,n,r):(function(u,d,g){return fh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,n)}function R3(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=Iw(r.transform,l||null);u!=null&&(n===null&&(n=Bn.empty()),n.set(r.field,u))}return n||null}function v_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ll(r,l,((u,d)=>S3(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class xu extends sf{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ha extends sf{constructor(e,n,r,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ow(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function __(s,e,n){const r=new Map;ut(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let l=0;l<n.length;l++){const u=s[l],d=u.transform,g=e.data.field(u.field);r.set(u.field,j3(d,g,n[l]))}return r}function E_(s,e,n){const r=new Map;for(const l of s){const u=l.transform,d=n.data.field(l.field);r.set(l.field,N3(u,d,e))}return r}class kw extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M3 extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class D3{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&I3(u,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Sw();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(l.key)?null:g;const y=Pw(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Oe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,((n,r)=>v_(n,r)))&&ll(this.baseMutations,e.baseMutations,((n,r)=>v_(n,r)))}}class iy{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){ut(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return v3})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new iy(e,n,r,l)}}class P3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class O3{constructor(e,n){this.count=e,this.unchangedNames=n}}var nn,st;function k3(s){switch(s){case oe.OK:return De(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return De(15467,{code:s})}}function Lw(s){if(s===void 0)return Ji("GRPC error has no .code"),oe.UNKNOWN;switch(s){case nn.OK:return oe.OK;case nn.CANCELLED:return oe.CANCELLED;case nn.UNKNOWN:return oe.UNKNOWN;case nn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case nn.INTERNAL:return oe.INTERNAL;case nn.UNAVAILABLE:return oe.UNAVAILABLE;case nn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case nn.NOT_FOUND:return oe.NOT_FOUND;case nn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case nn.ABORTED:return oe.ABORTED;case nn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case nn.DATA_LOSS:return oe.DATA_LOSS;default:return De(39323,{code:s})}}(st=nn||(nn={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";function L3(){return new TextEncoder}const V3=new Wr([4294967295,4294967295],0);function T_(s){const e=L3().encode(s),n=new XT;return n.update(e),new Uint8Array(n.digest())}function w_(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Wr([n,r],0),new Wr([l,u],0)]}class ry{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dc(`Invalid padding: ${n}`);if(r<0)throw new Dc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Dc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Wr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(Wr.fromNumber(r)));return l.compare(V3)===1&&(l=new Wr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=T_(e),[r,l]=w_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new ry(u,l,n);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const n=T_(e),[r,l]=w_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.be(d)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rf{constructor(e,n,r,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rf(Oe.min(),l,new Vt(Xe),Zi(),Je())}}class bu{constructor(e,n,r,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bu(r,n,Je(),Je(),Je())}}class mh{constructor(e,n,r,l){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=l}}class Vw{constructor(e,n){this.targetId=e,this.Ce=n}}class Uw{constructor(e,n,r=jn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class N_{constructor(){this.ve=0,this.Fe=j_(),this.Me=jn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),r=Je();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:De(38017,{changeType:u})}})),new bu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=j_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class U3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zi(),this.He=Jd(),this.Je=Jd(),this.Ze=new Vt(Xe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(np(u))if(r===0){const d=new Ce(u.path);this.et(n,d,In.newNoDocument(d,Oe.min()))}else ut(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let d,g;try{d=ta(r).toUint8Array()}catch(y){if(y instanceof cw)return ol("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new ry(d,l,u)}catch(y){return ol(y instanceof Dc?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&np(g.target)){const y=new Ce(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,In.newNoDocument(y,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let r=Je();this.Je.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new rf(e,n,this.Ze,this.je,r);return this.je=Zi(),this.He=Jd(),this.Je=Jd(),this.Ze=new Vt(Xe),l}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new N_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new un(Xe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new un(Xe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new N_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Jd(){return new Vt(Ce.comparator)}function j_(){return new Vt(Ce.comparator)}const z3={asc:"ASCENDING",desc:"DESCENDING"},q3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F3={and:"AND",or:"OR"};class B3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rp(s,e){return s.useProto3Json||Jh(e)?e:{value:e}}function Dh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zw(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function H3(s,e){return Dh(s,e.toTimestamp())}function pi(s){return ut(!!s,49232),Oe.fromTimestamp((function(n){const r=ea(n);return new Rt(r.seconds,r.nanos)})(s))}function ay(s,e){return ap(s,e).canonicalString()}function ap(s,e){const n=(function(l){return new At(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function qw(s){const e=At.fromString(s);return ut(Gw(e),10190,{key:e.toString()}),e}function op(s,e){return ay(s.databaseId,e.path)}function Ig(s,e){const n=qw(e);if(n.get(1)!==s.databaseId.projectId)throw new Ee(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new Ee(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new Ce(Bw(n))}function Fw(s,e){return ay(s.databaseId,e)}function $3(s){const e=qw(s);return e.length===4?At.emptyPath():Bw(e)}function lp(s){return new At(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Bw(s){return ut(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function A_(s,e,n){return{name:op(s,e),fields:n.value.mapValue.fields}}function G3(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:De(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(p,_){return p.useProto3Json?(ut(_===void 0||typeof _=="string",58123),jn.fromBase64String(_||"")):(ut(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),jn.fromUint8Array(_||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const _=p.code===void 0?oe.UNKNOWN:Lw(p.code);return new Ee(_,p.message||"")})(d);n=new Uw(r,l,u,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Ig(s,r.document.name),u=pi(r.document.updateTime),d=r.document.createTime?pi(r.document.createTime):Oe.min(),g=new Bn({mapValue:{fields:r.document.fields}}),y=In.newFoundDocument(l,u,d,g),p=r.targetIds||[],_=r.removedTargetIds||[];n=new mh(p,_,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Ig(s,r.document),u=r.readTime?pi(r.readTime):Oe.min(),d=In.newNoDocument(l,u),g=r.removedTargetIds||[];n=new mh([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Ig(s,r.document),u=r.removedTargetIds||[];n=new mh([],u,l,null)}else{if(!("filter"in e))return De(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new O3(l,u),g=r.targetId;n=new Vw(g,d)}}return n}function K3(s,e){let n;if(e instanceof xu)n={update:A_(s,e.key,e.value)};else if(e instanceof kw)n={delete:op(s,e.key)};else if(e instanceof ha)n={update:A_(s,e.key,e.data),updateMask:nD(e.fieldMask)};else{if(!(e instanceof M3))return De(16599,{dt:e.type});n={verify:op(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const g=d.transform;if(g instanceof nu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof su)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof iu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Mh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw De(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:H3(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:De(27497)})(s,e.precondition)),n}function Y3(s,e){return s&&s.length>0?(ut(e!==void 0,14353),s.map((n=>(function(l,u){let d=l.updateTime?pi(l.updateTime):pi(u);return d.isEqual(Oe.min())&&(d=pi(u)),new C3(d,l.transformResults||[])})(n,e)))):[]}function W3(s,e){return{documents:[Fw(s,e.path)]}}function Q3(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Fw(s,l);const u=(function(p){if(p.length!==0)return $w(qs.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(p){if(p.length!==0)return p.map((_=>(function(N){return{field:Xo(N.field),direction:Z3(N.dir)}})(_)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=rp(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:l}}function X3(s){let e=$3(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){ut(r===1,65062);const _=n.from[0];_.allDescendants?l=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(E){const N=Hw(E);return N instanceof qs&&bw(N)?N.getFilters():[N]})(n.where));let d=[];n.orderBy&&(d=(function(E){return E.map((N=>(function(H){return new tu(Jo(H.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(N)))})(n.orderBy));let g=null;n.limit&&(g=(function(E){let N;return N=typeof E=="object"?E.value:E,Jh(N)?null:N})(n.limit));let y=null;n.startAt&&(y=(function(E){const N=!!E.before,V=E.values||[];return new Rh(V,N)})(n.startAt));let p=null;return n.endAt&&(p=(function(E){const N=!E.before,V=E.values||[];return new Rh(V,N)})(n.endAt)),f3(e,l,d,u,g,"F",y,p)}function J3(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Hw(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jo(n.unaryFilter.field);return sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Jo(n.unaryFilter.field);return sn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Jo(n.unaryFilter.field);return sn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Jo(n.unaryFilter.field);return sn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(s):s.fieldFilter!==void 0?(function(n){return sn.create(Jo(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return qs.create(n.compositeFilter.filters.map((r=>Hw(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(s):De(30097,{filter:s})}function Z3(s){return z3[s]}function eD(s){return q3[s]}function tD(s){return F3[s]}function Xo(s){return{fieldPath:s.canonicalString()}}function Jo(s){return Nn.fromServerFormat(s.fieldPath)}function $w(s){return s instanceof sn?(function(n){if(n.op==="=="){if(m_(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NAN"}};if(f_(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(m_(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NAN"}};if(f_(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(n.field),op:eD(n.op),value:n.value}}})(s):s instanceof qs?(function(n){const r=n.getFilters().map((l=>$w(l)));return r.length===1?r[0]:{compositeFilter:{op:tD(n.op),filters:r}}})(s):De(54877,{filter:s})}function nD(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Gw(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function Kw(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class $r{constructor(e,n,r,l,u=Oe.min(),d=Oe.min(),g=jn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class sD{constructor(e){this.yt=e}}function iD(s){const e=X3({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ip(e,e.limit,"L"):e}class rD{constructor(){this.Sn=new aD}addToCollectionParentIndex(e,n){return this.Sn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Zr.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class aD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new un(At.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new un(At.comparator)).toArray()}}const S_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yw=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(Yw,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);class dl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new dl(0)}static ar(){return new dl(-1)}}const C_="LruGarbageCollector",oD=1048576;function I_([s,e],[n,r]){const l=Xe(s,n);return l===0?Xe(e,r):l}class lD{constructor(e){this.Pr=e,this.buffer=new un(I_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();I_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Te(C_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_l(n)?Te(C_,"Ignoring IndexedDB error during garbage collection: ",n):await vl(n)}await this.Ar(3e5)}))}}class uD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Xh.ce);const r=new lD(n);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(S_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,l,u,d,g,y,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,d=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(r=E,g=Date.now(),this.removeTargets(e,r,n)))).next((E=>(u=E,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(p=Date.now(),Wo()<=Qe.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-_}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${E} documents in `+(p-y)+`ms
Total Duration: ${p-_}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:E}))))}}function dD(s,e){return new uD(s,e)}class hD{constructor(){this.changes=new io((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class mD{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Fc(r.mutation,l,ns.empty(),Rt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Je()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Je()){const l=Ha();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((u=>{let d=Mc();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=Ha();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Je())))}populateOverlays(e,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(e,n,r,l){let u=Zi();const d=qc(),g=(function(){return qc()})();return n.forEach(((y,p)=>{const _=r.get(p.key);l.has(p.key)&&(_===void 0||_.mutation instanceof ha)?u=u.insert(p.key,p):_!==void 0?(d.set(p.key,_.mutation.getFieldMask()),Fc(_.mutation,p,_.mutation.getFieldMask(),Rt.now())):d.set(p.key,ns.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((p,_)=>d.set(p,_))),n.forEach(((p,_)=>g.set(p,new fD(_,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,n){const r=qc();let l=new Vt(((d,g)=>d-g)),u=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let _=r.get(y)||ns.empty();_=g.applyToLocalView(p,_),r.set(y,_);const E=(l.get(g.batchId)||Je()).add(y);l=l.insert(g.batchId,E)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,_=y.value,E=Sw();_.forEach((N=>{if(!u.has(N)){const V=Pw(n.get(N),r.get(N));V!==null&&E.set(N,V),u=u.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,E))}return le.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return m3(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Tw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-u.size):le.resolve(Ha());let g=Xc,y=u;return d.next((p=>le.forEach(p,((_,E)=>(g<E.largestBatchId&&(g=E.largestBatchId),u.get(_)?le.resolve():this.remoteDocumentCache.getEntry(e,_).next((N=>{y=y.insert(_,N)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,y,p,Je()))).next((_=>({batchId:g,changes:Aw(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next((r=>{let l=Mc();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const u=n.collectionGroup;let d=Mc();return this.indexManager.getCollectionParents(e,u).next((g=>le.forEach(g,(y=>{const p=(function(E,N){return new El(N,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,r,l).next((_=>{_.forEach(((E,N)=>{d=d.insert(E,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,l)))).next((d=>{u.forEach(((y,p)=>{const _=p.getKey();d.get(_)===null&&(d=d.insert(_,In.newInvalidDocument(_)))}));let g=Mc();return d.forEach(((y,p)=>{const _=u.get(y);_!==void 0&&Fc(_.mutation,p,ns.empty(),Rt.now()),tf(n,p)&&(g=g.insert(y,p))})),g}))}}class gD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return le.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:pi(l.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:iD(l.bundledQuery),readTime:pi(l.readTime)}})(n)),le.resolve()}}class pD{constructor(){this.overlays=new Vt(Ce.comparator),this.Lr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ha();return le.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,u)=>{this.bt(e,n,u)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const l=Ha(),u=n.length+1,d=new Ce(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>r&&l.set(y.getKey(),y)}return le.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let u=new Vt(((p,_)=>p-_));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let _=u.get(p.largestBatchId);_===null&&(_=Ha(),u=u.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const g=Ha(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,_)=>g.set(p,_))),!(g.size()>=l)););return le.resolve(g)}bt(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new P3(n,r));let u=this.Lr.get(n);u===void 0&&(u=Je(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class yD{constructor(){this.sessionToken=jn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class oy{constructor(){this.kr=new un(pn.Kr),this.qr=new un(pn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new pn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new pn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Ce(new At([])),r=new pn(n,e),l=new pn(n,e+1),u=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ce(new At([])),r=new pn(n,e),l=new pn(n,e+1);let u=Je();return this.qr.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new pn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ce.comparator(e.key,n.key)||Xe(e.Hr,n.Hr)}static Ur(e,n){return Xe(e.Hr,n.Hr)||Ce.comparator(e.key,n.key)}}class xD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new un(pn.Kr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new D3(u,n,r,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new pn(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return le.resolve(d)}lookupMutationBatch(e,n){return le.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.Xr(r),u=l<0?0:l;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Xp:this.Yn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pn(n,0),l=new pn(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,l],(d=>{const g=this.Zr(d.Hr);u.push(g)})),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(Xe);return n.forEach((l=>{const u=new pn(l,0),d=new pn(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(g=>{r=r.add(g.Hr)}))})),le.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let u=r;Ce.isDocumentKey(u)||(u=u.child(""));const d=new pn(new Ce(u),0);let g=new un(Xe);return this.Jr.forEachWhile((y=>{const p=y.key.path;return!!r.isPrefixOf(p)&&(p.length===l&&(g=g.add(y.Hr)),!0)}),d),le.resolve(this.Yr(g))}Yr(e){const n=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){ut(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return le.forEach(n.mutations,(l=>{const u=new pn(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new pn(n,0),l=this.Jr.firstAfterOrEqual(r);return le.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class bD{constructor(e){this.ti=e,this.docs=(function(){return new Vt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,d=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():In.newInvalidDocument(n))}getEntries(e,n){let r=Zi();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():In.newInvalidDocument(l))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let u=Zi();const d=n.path,g=new Ce(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:_}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||HM(BM(_),r)<=0||(l.has(_.key)||tf(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,n,r,l){De(9500)}ni(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new vD(this)}getSize(e){return le.resolve(this.size)}}class vD extends hD{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class _D{constructor(e){this.persistence=e,this.ri=new io((n=>ey(n)),ty),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.ii=0,this.si=new oy,this.targetCount=0,this.oi=dl._r()}forEachTarget(e,n){return this.ri.forEach(((r,l)=>n(l))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),le.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.lr(n),le.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let l=0;const u=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),le.waitFor(u).next((()=>l))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),le.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.si.containsKey(n))}}class Ww{constructor(e,n){this._i={},this.overlays={},this.ai=new Xh(0),this.ui=!1,this.ui=!0,this.ci=new yD,this.referenceDelegate=e(this),this.li=new _D(this),this.indexManager=new rD,this.remoteDocumentCache=(function(l){return new bD(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new sD(n),this.Pi=new gD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new xD(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const l=new ED(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(e,n){return le.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class ED extends GM{constructor(e){super(),this.currentSequenceNumber=e}}class ly{constructor(e){this.persistence=e,this.Ri=new oy,this.Ai=null}static Vi(e){return new ly(e)}get di(){if(this.Ai)return this.Ai;throw De(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,(r=>{const l=Ce.fromPath(r);return this.mi(e,l).next((u=>{u||n.removeEntry(l,Oe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ph{constructor(e,n){this.persistence=e,this.fi=new io((r=>WM(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=dD(this,n)}static Vi(e,n){return new Ph(e,n)}Ti(){}Ii(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return le.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((u=>u?le.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,n).next((g=>{g||(r++,u.removeEntry(d,Oe.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dh(e.data.value)),n}wr(e,n,r){return le.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.fi.get(n);return le.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cy{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=l}static Es(e,n){let r=Je(),l=Je();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new cy(e,n.fromCache,r,l)}}class TD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return jS()?8:KM(Rn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new TD;return this.ys(e,n,d).next((g=>{if(u.result=g,this.As)return this.ws(e,n,d,g.size)}))})).next((()=>u.result))}ws(e,n,r,l){return r.documentReadCount<this.Vs?(Wo()<=Qe.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(Wo()<=Qe.DEBUG&&Te("QueryEngine","Query:",Qo(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Wo()<=Qe.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(n))):le.resolve())}gs(e,n){if(x_(n))return le.resolve(null);let r=mi(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=ip(n,null,"F"),r=mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=Je(...u);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((y=>{const p=this.bs(n,g);return this.Ss(n,p,d,y.readTime)?this.gs(e,ip(n,null,"F")):this.Ds(e,p,n,y)}))))})))))}ps(e,n,r,l){return x_(n)||l.isEqual(Oe.min())?le.resolve(null):this.fs.getDocuments(e,r).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,r,l)?le.resolve(null):(Wo()<=Qe.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qo(n)),this.Ds(e,d,n,FM(l,Xc)).next((g=>g)))}))}bs(e,n){let r=new un(Nw(e));return n.forEach(((l,u)=>{tf(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(e,n,r){return Wo()<=Qe.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Qo(n)),this.fs.getDocumentsMatchingQuery(e,n,Zr.min(),r)}Ds(e,n,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const uy="LocalStore",ND=3e8;class jD{constructor(e,n,r,l){this.persistence=e,this.Cs=n,this.serializer=l,this.vs=new Vt(Xe),this.Fs=new io((u=>ey(u)),ty),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function AD(s,e,n,r){return new jD(s,e,n,r)}async function Qw(s,e){const n=Ve(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],g=[];let y=Je();for(const p of l){d.push(p.batchId);for(const _ of p.mutations)y=y.add(_.key)}for(const p of u){g.push(p.batchId);for(const _ of p.mutations)y=y.add(_.key)}return n.localDocuments.getDocuments(r,y).next((p=>({Ns:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function SD(s,e){const n=Ve(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,_){const E=p.batch,N=E.keys();let V=le.resolve();return N.forEach((H=>{V=V.next((()=>_.getEntry(y,H))).next((z=>{const q=p.docVersions.get(H);ut(q!==null,48541),z.version.compareTo(q)<0&&(E.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),_.addEntry(z)))}))})),V.next((()=>g.mutationQueue.removeMutationBatch(y,E)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=Je();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function Xw(s){const e=Ve(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function CD(s,e){const n=Ve(s),r=e.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const g=[];e.targetChanges.forEach(((_,E)=>{const N=l.get(E);if(!N)return;g.push(n.li.removeMatchingKeys(u,_.removedDocuments,E).next((()=>n.li.addMatchingKeys(u,_.addedDocuments,E))));let V=N.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?V=V.withResumeToken(jn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):_.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(_.resumeToken,r)),l=l.insert(E,V),(function(z,q,ne){return z.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=ND?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(N,V,_)&&g.push(n.li.updateTargetData(u,V))}));let y=Zi(),p=Je();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),g.push(ID(u,d,e.documentUpdates).next((_=>{y=_.Bs,p=_.Ls}))),!r.isEqual(Oe.min())){const _=n.li.getLastRemoteSnapshotVersion(u).next((E=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(_)}return le.waitFor(g).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.vs=l,u)))}function ID(s,e,n){let r=Je(),l=Je();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=Zi();return n.forEach(((g,y)=>{const p=u.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Oe.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):Te(uy,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{Bs:d,Ls:l}}))}function RD(s,e){const n=Ve(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Xp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function MD(s,e){const n=Ve(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.li.getTargetData(r,e).next((u=>u?(l=u,le.resolve(l)):n.li.allocateTargetId(r).next((d=>(l=new $r(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function cp(s,e,n){const r=Ve(s),l=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!_l(d))throw d;Te(uy,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function R_(s,e,n){const r=Ve(s);let l=Oe.min(),u=Je();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,_){const E=Ve(y),N=E.Fs.get(_);return N!==void 0?le.resolve(E.vs.get(N)):E.li.getTargetData(p,_)})(r,d,mi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,n?l:Oe.min(),n?u:Je()))).next((g=>(DD(r,y3(e),g),{documents:g,ks:u})))))}function DD(s,e,n){let r=s.Ms.get(e)||Oe.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Ms.set(e,r)}class M_{constructor(){this.activeTargetIds=T3()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PD{constructor(){this.vo=new M_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new M_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class OD{Mo(e){}shutdown(){}}const D_="ConnectivityMonitor";class P_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Te(D_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Te(D_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zd=null;function up(){return Zd===null?Zd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zd++,"0x"+Zd.toString(16)}const Rg="RestConnection",kD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class LD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===Ch?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,n,r,l,u){const d=up(),g=this.Qo(e,n.toUriEncodedString());Te(Rg,`Sending RPC '${e}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,l,u);const{host:p}=new URL(g),_=pl(p);return this.zo(e,g,y,r,_).then((E=>(Te(Rg,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw ol(Rg,`RPC '${e}' ${d} failed with error: `,E,"url: ",g,"request:",r),E}))}jo(e,n,r,l,u,d){return this.Wo(e,n,r,l,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}Qo(e,n){const r=kD[e];let l=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class VD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Sn="WebChannelConnection",Ac=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class sl extends LD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!sl.c_){const e=tw();Ac(e,ew.STAT_EVENT,(n=>{n.stat===Xg.PROXY?Te(Sn,"STAT_EVENT: detected buffering proxy"):n.stat===Xg.NOPROXY&&Te(Sn,"STAT_EVENT: detected no buffering proxy")})),sl.c_=!0}}zo(e,n,r,l,u){const d=up();return new Promise(((g,y)=>{const p=new JT;p.setWithCredentials(!0),p.listenOnce(ZT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case uh.NO_ERROR:const E=p.getResponseJson();Te(Sn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),g(E);break;case uh.TIMEOUT:Te(Sn,`RPC '${e}' ${d} timed out`),y(new Ee(oe.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const N=p.getStatus();if(Te(Sn,`RPC '${e}' ${d} failed with status:`,N,"response text:",p.getResponseText()),N>0){let V=p.getResponseJson();Array.isArray(V)&&(V=V[0]);const H=V?.error;if(H&&H.status&&H.message){const z=(function(ne){const Z=ne.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(Z)>=0?Z:oe.UNKNOWN})(H.status);y(new Ee(z,H.message))}else y(new Ee(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new Ee(oe.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Te(Sn,`RPC '${e}' ${d} completed.`)}}));const _=JSON.stringify(l);Te(Sn,`RPC '${e}' ${d} sending request:`,l),p.send(n,"POST",_,r,15)}))}T_(e,n,r){const l=up(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const p=u.join("");Te(Sn,`Creating RPC '${e}' stream ${l}: ${p}`,g);const _=d.createWebChannel(p,g);this.I_(_);let E=!1,N=!1;const V=new VD({Ho:H=>{N?Te(Sn,`Not sending because RPC '${e}' stream ${l} is closed:`,H):(E||(Te(Sn,`Opening RPC '${e}' stream ${l} transport.`),_.open(),E=!0),Te(Sn,`RPC '${e}' stream ${l} sending:`,H),_.send(H))},Jo:()=>_.close()});return Ac(_,Rc.EventType.OPEN,(()=>{N||(Te(Sn,`RPC '${e}' stream ${l} transport opened.`),V.i_())})),Ac(_,Rc.EventType.CLOSE,(()=>{N||(N=!0,Te(Sn,`RPC '${e}' stream ${l} transport closed`),V.o_(),this.E_(_))})),Ac(_,Rc.EventType.ERROR,(H=>{N||(N=!0,ol(Sn,`RPC '${e}' stream ${l} transport errored. Name:`,H.name,"Message:",H.message),V.o_(new Ee(oe.UNAVAILABLE,"The operation could not be completed")))})),Ac(_,Rc.EventType.MESSAGE,(H=>{if(!N){const z=H.data[0];ut(!!z,16349);const q=z,ne=q?.error||q[0]?.error;if(ne){Te(Sn,`RPC '${e}' stream ${l} received error:`,ne);const Z=ne.status;let J=(function(ge){const S=nn[ge];if(S!==void 0)return Lw(S)})(Z),B=ne.message;J===void 0&&(J=oe.INTERNAL,B="Unknown error status: "+Z+" with message "+ne.message),N=!0,V.o_(new Ee(J,B)),_.close()}else Te(Sn,`RPC '${e}' stream ${l} received:`,z),V.__(z)}})),sl.u_(),setTimeout((()=>{V.s_()}),0),V}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return nw()}}function UD(s){return new sl(s)}function Mg(){return typeof document<"u"?document:null}function af(s){return new B3(s,!0)}sl.c_=!1;class Jw{constructor(e,n,r=1e3,l=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&Te("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const O_="PersistentStream";class Zw{constructor(e,n,r,l,u,d,g,y){this.Ci=e,this.b_=r,this.S_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Jw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Ji(n.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new Ee(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(O_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Te(O_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zD extends Zw{constructor(e,n,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=G3(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Oe.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Oe.min():d.readTime?pi(d.readTime):Oe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=lp(this.serializer),n.addTarget=(function(u,d){let g;const y=d.target;if(g=np(y)?{documents:W3(u,y)}:{query:Q3(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=zw(u,d.resumeToken);const p=rp(u,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(Oe.min())>0){g.readTime=Dh(u,d.snapshotVersion.toTimestamp());const p=rp(u,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const r=J3(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=lp(this.serializer),n.removeTarget=e,this.K_(n)}}class qD extends Zw{constructor(e,n,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Y3(e.writeResults,e.commitTime),r=pi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=lp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>K3(this.serializer,r)))};this.K_(n)}}class FD{}class BD extends FD{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Ee(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,ap(n,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(oe.UNKNOWN,u.toString())}))}jo(e,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,ap(n,r),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ee(oe.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function HD(s,e,n,r){return new BD(s,e,n,r)}class $D{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ji(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const to="RemoteStore";class GD{constructor(e,n,r,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ro(this)&&(Te(to,"Restarting streams for network reachability change."),await(async function(y){const p=Ve(y);p.Ea.add(4),await vu(p),p.Va.set("Unknown"),p.Ea.delete(4),await of(p)})(this))}))})),this.Va=new $D(r,l)}}async function of(s){if(ro(s))for(const e of s.Ra)await e(!0)}async function vu(s){for(const e of s.Ra)await e(!1)}function eN(s,e){const n=Ve(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),my(n)?fy(n):Tl(n).O_()&&hy(n,e))}function dy(s,e){const n=Ve(s),r=Tl(n);n.Ia.delete(e),r.O_()&&tN(n,e),n.Ia.size===0&&(r.O_()?r.L_():ro(n)&&n.Va.set("Unknown"))}function hy(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tl(s).Z_(e)}function tN(s,e){s.da.$e(e),Tl(s).X_(e)}function fy(s){s.da=new U3({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Tl(s).start(),s.Va.ua()}function my(s){return ro(s)&&!Tl(s).x_()&&s.Ia.size>0}function ro(s){return Ve(s).Ea.size===0}function nN(s){s.da=void 0}async function KD(s){s.Va.set("Online")}async function YD(s){s.Ia.forEach(((e,n)=>{hy(s,e)}))}async function WD(s,e){nN(s),my(s)?(s.Va.ha(e),fy(s)):s.Va.set("Unknown")}async function QD(s,e,n){if(s.Va.set("Online"),e instanceof Uw&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,e)}catch(r){Te(to,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Oh(s,r)}else if(e instanceof mh?s.da.Xe(e):e instanceof Vw?s.da.st(e):s.da.tt(e),!n.isEqual(Oe.min()))try{const r=await Xw(s.localStore);n.compareTo(r)>=0&&await(function(u,d){const g=u.da.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const _=u.Ia.get(p);_&&u.Ia.set(p,_.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const _=u.Ia.get(y);if(!_)return;u.Ia.set(y,_.withResumeToken(jn.EMPTY_BYTE_STRING,_.snapshotVersion)),tN(u,y);const E=new $r(_.target,y,p,_.sequenceNumber);hy(u,E)})),u.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(r){Te(to,"Failed to raise snapshot:",r),await Oh(s,r)}}async function Oh(s,e,n){if(!_l(e))throw e;s.Ea.add(1),await vu(s),s.Va.set("Offline"),n||(n=()=>Xw(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{Te(to,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await of(s)}))}function sN(s,e){return e().catch((n=>Oh(s,n,e)))}async function lf(s){const e=Ve(s),n=sa(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xp;for(;XD(e);)try{const l=await RD(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,JD(e,l)}catch(l){await Oh(e,l)}iN(e)&&rN(e)}function XD(s){return ro(s)&&s.Ta.length<10}function JD(s,e){s.Ta.push(e);const n=sa(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function iN(s){return ro(s)&&!sa(s).x_()&&s.Ta.length>0}function rN(s){sa(s).start()}async function ZD(s){sa(s).ra()}async function eP(s){const e=sa(s);for(const n of s.Ta)e.ea(n.mutations)}async function tP(s,e,n){const r=s.Ta.shift(),l=iy.from(r,e,n);await sN(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await lf(s)}async function nP(s,e){e&&sa(s).Y_&&await(async function(r,l){if((function(d){return k3(d)&&d!==oe.ABORTED})(l.code)){const u=r.Ta.shift();sa(r).B_(),await sN(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await lf(r)}})(s,e),iN(s)&&rN(s)}async function k_(s,e){const n=Ve(s);n.asyncQueue.verifyOperationInProgress(),Te(to,"RemoteStore received new credentials");const r=ro(n);n.Ea.add(3),await vu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await of(n)}async function sP(s,e){const n=Ve(s);e?(n.Ea.delete(2),await of(n)):e||(n.Ea.add(2),await vu(n),n.Va.set("Unknown"))}function Tl(s){return s.ma||(s.ma=(function(n,r,l){const u=Ve(n);return u.sa(),new zD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:KD.bind(null,s),Yo:YD.bind(null,s),t_:WD.bind(null,s),J_:QD.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),my(s)?fy(s):s.Va.set("Unknown")):(await s.ma.stop(),nN(s))}))),s.ma}function sa(s){return s.fa||(s.fa=(function(n,r,l){const u=Ve(n);return u.sa(),new qD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ZD.bind(null,s),t_:nP.bind(null,s),ta:eP.bind(null,s),na:tP.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await lf(s)):(await s.fa.stop(),s.Ta.length>0&&(Te(to,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class gy{constructor(e,n,r,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,u){const d=Date.now()+r,g=new gy(e,n,d,l,u);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function py(s,e){if(Ji("AsyncQueue",`${e}: ${s}`),_l(s))return new Ee(oe.UNAVAILABLE,`${e}: ${s}`);throw s}class il{static emptySet(e){return new il(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ce.comparator(n.key,r.key):(n,r)=>Ce.comparator(n.key,r.key),this.keyedMap=Mc(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof il)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new il;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class L_{constructor(){this.ga=new Vt(Ce.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class hl{constructor(e,n,r,l,u,d,g,y,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,l,u){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new hl(e,n,il.emptySet(n),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class iP{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class rP{constructor(){this.queries=V_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Ve(n),u=l.queries;l.queries=V_(),u.forEach(((d,g)=>{for(const y of g.ba)y.onError(r)}))})(this,new Ee(oe.ABORTED,"Firestore shutting down"))}}function V_(){return new io((s=>ww(s)),ef)}async function aP(s,e){const n=Ve(s);let r=3;const l=e.query;let u=n.queries.get(l);u?!u.Sa()&&e.Da()&&(r=2):(u=new iP,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=py(d,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&yy(n)}async function oP(s,e){const n=Ve(s),r=e.query;let l=3;const u=n.queries.get(r);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?l=e.Da()?0:1:!u.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lP(s,e){const n=Ve(s);let r=!1;for(const l of e){const u=l.query,d=n.queries.get(u);if(d){for(const g of d.ba)g.Fa(l)&&(r=!0);d.wa=l}}r&&yy(n)}function cP(s,e,n){const r=Ve(s),l=r.queries.get(e);if(l)for(const u of l.ba)u.onError(n);r.queries.delete(e)}function yy(s){s.Ca.forEach((e=>{e.next()}))}var dp,U_;(U_=dp||(dp={})).Ma="default",U_.Cache="cache";class uP{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dp.Cache}}class aN{constructor(e){this.key=e}}class oN{constructor(e){this.key=e}}class dP{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Je(),this.mutatedKeys=Je(),this.eu=Nw(e),this.tu=new il(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new L_,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((_,E)=>{const N=l.get(_),V=tf(this.query,E)?E:null,H=!!N&&this.mutatedKeys.has(N.key),z=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let q=!1;N&&V?N.data.isEqual(V.data)?H!==z&&(r.track({type:3,doc:V}),q=!0):this.su(N,V)||(r.track({type:2,doc:V}),q=!0,(y&&this.eu(V,y)>0||p&&this.eu(V,p)<0)&&(g=!0)):!N&&V?(r.track({type:0,doc:V}),q=!0):N&&!V&&(r.track({type:1,doc:N}),q=!0,(y||p)&&(g=!0)),q&&(V?(d=d.add(V),u=z?u.add(_):u.delete(_)):(d=d.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const _=this.query.limitType==="F"?d.last():d.first();d=d.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{tu:d,iu:r,Ss:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((_,E)=>(function(V,H){const z=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Vt:q})}};return z(V)-z(H)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(r),l=l??!1;const g=n&&!l?this._u():[],y=this.Ya.size===0&&this.current&&!l?1:0,p=y!==this.Xa;return this.Xa=y,d.length!==0||p?{snapshot:new hl(this.query,e.tu,u,d,e.mutatedKeys,y===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new oN(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new aN(r))})),n}cu(e){this.Za=e.ks,this.Ya=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const xy="SyncEngine";class hP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fP{constructor(e){this.key=e,this.hu=!1}}class mP{constructor(e,n,r,l,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new io((g=>ww(g)),ef),this.Iu=new Map,this.Eu=new Set,this.Ru=new Vt(Ce.comparator),this.Au=new Map,this.Vu=new oy,this.du={},this.mu=new Map,this.fu=dl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gP(s,e,n=!0){const r=fN(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await lN(r,e,n,!0),l}async function pP(s,e){const n=fN(s);await lN(n,e,!0,!1)}async function lN(s,e,n,r){const l=await MD(s.localStore,mi(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,n);let g;return r&&(g=await yP(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&eN(s.remoteStore,l),g}async function yP(s,e,n,r,l){s.pu=(E,N,V)=>(async function(z,q,ne,Z){let J=q.view.ru(ne);J.Ss&&(J=await R_(z.localStore,q.query,!1).then((({documents:S})=>q.view.ru(S,J))));const B=Z&&Z.targetChanges.get(q.targetId),de=Z&&Z.targetMismatches.get(q.targetId)!=null,ge=q.view.applyChanges(J,z.isPrimaryClient,B,de);return q_(z,q.targetId,ge.au),ge.snapshot})(s,E,N,V);const u=await R_(s.localStore,e,!0),d=new dP(e,u.ks),g=d.ru(u.documents),y=bu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),p=d.applyChanges(g,s.isPrimaryClient,y);q_(s,n,p.au);const _=new hP(e,n,d);return s.Tu.set(e,_),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),p.snapshot}async function xP(s,e,n){const r=Ve(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!ef(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await cp(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&dy(r.remoteStore,l.targetId),hp(r,l.targetId)})).catch(vl)):(hp(r,l.targetId),await cp(r.localStore,l.targetId,!0))}async function bP(s,e){const n=Ve(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dy(n.remoteStore,r.targetId))}async function vP(s,e,n){const r=AP(s);try{const l=await(function(d,g){const y=Ve(d),p=Rt.now(),_=g.reduce(((V,H)=>V.add(H.key)),Je());let E,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let H=Zi(),z=Je();return y.xs.getEntries(V,_).next((q=>{H=q,H.forEach(((ne,Z)=>{Z.isValidDocument()||(z=z.add(ne))}))})).next((()=>y.localDocuments.getOverlayedDocuments(V,H))).next((q=>{E=q;const ne=[];for(const Z of g){const J=R3(Z,E.get(Z.key).overlayedDocument);J!=null&&ne.push(new ha(Z.key,J,pw(J.value.mapValue),gi.exists(!0)))}return y.mutationQueue.addMutationBatch(V,p,ne,g)})).next((q=>{N=q;const ne=q.applyToLocalDocumentSet(E,z);return y.documentOverlayCache.saveOverlays(V,q.batchId,ne)}))})).then((()=>({batchId:N.batchId,changes:Aw(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let p=d.du[d.currentUser.toKey()];p||(p=new Vt(Xe)),p=p.insert(g,y),d.du[d.currentUser.toKey()]=p})(r,l.batchId,n),await _u(r,l.changes),await lf(r.remoteStore)}catch(l){const u=py(l,"Failed to persist write");n.reject(u)}}async function cN(s,e){const n=Ve(s);try{const r=await CD(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(ut(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?ut(d.hu,14607):l.removedDocuments.size>0&&(ut(d.hu,42227),d.hu=!1))})),await _u(n,r,e)}catch(r){await vl(r)}}function z_(s,e,n){const r=Ve(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Ve(d);y.onlineState=g;let p=!1;y.queries.forEach(((_,E)=>{for(const N of E.ba)N.va(g)&&(p=!0)})),p&&yy(y)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _P(s,e,n){const r=Ve(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new Vt(Ce.comparator);d=d.insert(u,In.newNoDocument(u,Oe.min()));const g=Je().add(u),y=new rf(Oe.min(),new Map,new Vt(Xe),d,g);await cN(r,y),r.Ru=r.Ru.remove(u),r.Au.delete(e),by(r)}else await cp(r.localStore,e,!1).then((()=>hp(r,e,n))).catch(vl)}async function EP(s,e){const n=Ve(s),r=e.batch.batchId;try{const l=await SD(n.localStore,e);dN(n,r,null),uN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _u(n,l)}catch(l){await vl(l)}}async function TP(s,e,n){const r=Ve(s);try{const l=await(function(d,g){const y=Ve(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return y.mutationQueue.lookupMutationBatch(p,g).next((E=>(ut(E!==null,37113),_=E.keys(),y.mutationQueue.removeMutationBatch(p,E)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,_,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>y.localDocuments.getDocuments(p,_)))}))})(r.localStore,e);dN(r,e,n),uN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _u(r,l)}catch(l){await vl(l)}}function uN(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function dN(s,e,n){const r=Ve(s);let l=r.du[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function hp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||hN(s,r)}))}function hN(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(dy(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),by(s))}function q_(s,e,n){for(const r of n)r instanceof aN?(s.Vu.addReference(r.key,e),wP(s,r)):r instanceof oN?(Te(xy,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||hN(s,r.key)):De(19791,{wu:r})}function wP(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(Te(xy,"New document in limbo: "+n),s.Eu.add(r),by(s))}function by(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new Ce(At.fromString(e)),r=s.fu.next();s.Au.set(r,new fP(n)),s.Ru=s.Ru.insert(n,r),eN(s.remoteStore,new $r(mi(ny(n.path)),r,"TargetPurposeLimboResolution",Xh.ce))}}async function _u(s,e,n){const r=Ve(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,_?"current":"not-current")}if(p){l.push(p);const _=cy.Es(y.targetId,p);u.push(_)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(y,p){const _=Ve(y);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>le.forEach(p,(N=>le.forEach(N.Ts,(V=>_.persistence.referenceDelegate.addReference(E,N.targetId,V))).next((()=>le.forEach(N.Is,(V=>_.persistence.referenceDelegate.removeReference(E,N.targetId,V)))))))))}catch(E){if(!_l(E))throw E;Te(uy,"Failed to update sequence numbers: "+E)}for(const E of p){const N=E.targetId;if(!E.fromCache){const V=_.vs.get(N),H=V.snapshotVersion,z=V.withLastLimboFreeSnapshotVersion(H);_.vs=_.vs.insert(N,z)}}})(r.localStore,u))}async function NP(s,e){const n=Ve(s);if(!n.currentUser.isEqual(e)){Te(xy,"User change. New user:",e.toKey());const r=await Qw(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new Ee(oe.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _u(n,r.Ns)}}function jP(s,e){const n=Ve(s),r=n.Au.get(e);if(r&&r.hu)return Je().add(r.key);{let l=Je();const u=n.Iu.get(e);if(!u)return l;for(const d of u){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function fN(s){const e=Ve(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=cN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_P.bind(null,e),e.Pu.J_=lP.bind(null,e.eventManager),e.Pu.yu=cP.bind(null,e.eventManager),e}function AP(s){const e=Ve(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TP.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return AD(this.persistence,new wD,e.initialUser,this.serializer)}Cu(e){return new Ww(ly.Vi,this.serializer)}Du(e){return new PD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class SP extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof Ph,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new Ww((r=>Ph.Vi(r,n)),this.serializer)}}class fp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NP.bind(null,this.syncEngine),await sP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rP})()}createDatastore(e){const n=af(e.databaseInfo.databaseId),r=UD(e.databaseInfo);return HD(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,u,d,g){return new GD(r,l,u,d,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>z_(this.syncEngine,n,0)),(function(){return P_.v()?new P_:new OD})())}createSyncEngine(e,n){return(function(l,u,d,g,y,p,_){const E=new mP(l,u,d,g,y,p);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ve(n);Te(to,"RemoteStore shutting down."),r.Ea.add(5),await vu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fp.provider={build:()=>new fp};class CP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ia="FirestoreClient";class IP{constructor(e,n,r,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=l,this.user=Cn.UNAUTHENTICATED,this.clientId=Qp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{Te(ia,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(Te(ia,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=py(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Dg(s,e){s.asyncQueue.verifyOperationInProgress(),Te(ia,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await Qw(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function F_(s,e){s.asyncQueue.verifyOperationInProgress();const n=await RP(s);Te(ia,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>k_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>k_(e.remoteStore,l))),s._onlineComponents=e}async function RP(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Te(ia,"Using user provided OfflineComponentProvider");try{await Dg(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===oe.FAILED_PRECONDITION||l.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;ol("Error using user provided cache. Falling back to memory cache: "+n),await Dg(s,new kh)}}else Te(ia,"Using default OfflineComponentProvider"),await Dg(s,new SP(void 0));return s._offlineComponents}async function mN(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Te(ia,"Using user provided OnlineComponentProvider"),await F_(s,s._uninitializedComponentsProvider._online)):(Te(ia,"Using default OnlineComponentProvider"),await F_(s,new fp))),s._onlineComponents}function MP(s){return mN(s).then((e=>e.syncEngine))}async function B_(s){const e=await mN(s),n=e.eventManager;return n.onListen=gP.bind(null,e.syncEngine),n.onUnlisten=xP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bP.bind(null,e.syncEngine),n}function DP(s,e,n,r){const l=new CP(r),u=new uP(e,l,n);return s.asyncQueue.enqueueAndForget((async()=>aP(await B_(s),u))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>oP(await B_(s),u)))}}function PP(s,e){const n=new Ga;return s.asyncQueue.enqueueAndForget((async()=>vP(await MP(s),e,n))),n.promise}function gN(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const OP="ComponentProvider",H_=new Map;function kP(s,e,n,r,l){return new JM(s,e,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,gN(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const pN="firestore.googleapis.com",$_=!0;class G_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pN,this.ssl=$_}else this.host=e.host,this.ssl=e.ssl??$_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oD)throw new Ee(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gN(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cf{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new RM;switch(r.type){case"firstParty":return new OM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=H_.get(n);r&&(Te(OP,"Removing Datastore"),H_.delete(n),r.terminate())})(this),Promise.resolve()}}function LP(s,e,n,r={}){s=Ka(s,cf);const l=pl(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${n}`;l&&(FE(`https://${g}`),BE("Firestore",!0)),u.host!==pN&&u.host!==g&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:r};if(!Jr(y,d)&&(s._setSettings(y),r.mockUserToken)){let p,_;if(typeof r.mockUserToken=="string")p=r.mockUserToken,_=Cn.MOCK_USER;else{p=xS(r.mockUserToken,s._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Ee(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Cn(E)}s._authCredentials=new MM(new iw(p,_))}}class ao{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class an{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}toJSON(){return{type:an._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yu(n,an._jsonSchema))return new an(e,r||null,new Ce(At.fromString(n.referencePath)))}}an._jsonSchemaVersion="firestore/documentReference/1.0",an._jsonSchema={type:rn("string",an._jsonSchemaVersion),referencePath:rn("string")};class Qr extends ao{constructor(e,n,r){super(e,n,ny(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new Ce(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function K_(s,e,...n){if(s=Bt(s),rw("collection","path",e),s instanceof cf){const r=At.fromString(e,...n);return i_(r),new Qr(s,null,r)}{if(!(s instanceof an||s instanceof Qr))throw new Ee(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(At.fromString(e,...n));return i_(r),new Qr(s.firestore,null,r)}}function yN(s,e,...n){if(s=Bt(s),arguments.length===1&&(e=Qp.newId()),rw("doc","path",e),s instanceof cf){const r=At.fromString(e,...n);return s_(r),new an(s,null,new Ce(r))}{if(!(s instanceof an||s instanceof Qr))throw new Ee(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(At.fromString(e,...n));return s_(r),new an(s.firestore,s instanceof Qr?s.converter:null,new Ce(r))}}const Y_="AsyncQueue";class W_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Jw(this,"async_queue_retry"),this._c=()=>{const r=Mg();r&&Te(Y_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ga;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!_l(e))throw e;Te(Y_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ji("INTERNAL UNHANDLED ERROR: ",Q_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=gy.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&De(47125,{Pc:Q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Q_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ru extends cf{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new W_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new W_(e),this._firestoreClient=void 0,await e}}}function VP(s,e){const n=typeof s=="object"?s:Rp(),r=typeof s=="string"?s:Ch,l=so(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=pS("firestore");u&&LP(l,...u)}return l}function xN(s){if(s._terminated)throw new Ee(oe.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||UP(s),s._firestoreClient}function UP(s){const e=s._freezeSettings(),n=kP(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new IP(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vs(jn.fromBase64String(e))}catch(n){throw new Ee(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vs(jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,vs._jsonSchema))return vs.fromBase64String(e.bytes)}}vs._jsonSchemaVersion="firestore/bytes/1.0",vs._jsonSchema={type:rn("string",vs._jsonSchemaVersion),bytes:rn("string")};class vy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uf{constructor(e){this._methodName=e}}class yi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yi._jsonSchemaVersion}}static fromJSON(e){if(yu(e,yi._jsonSchema))return new yi(e.latitude,e.longitude)}}yi._jsonSchemaVersion="firestore/geoPoint/1.0",yi._jsonSchema={type:rn("string",yi._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};class Vs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,Vs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Vs(e.vectorValues);throw new Ee(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vs._jsonSchemaVersion="firestore/vectorValue/1.0",Vs._jsonSchema={type:rn("string",Vs._jsonSchemaVersion),vectorValues:rn("object")};const zP=/^__.*__$/;class qP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}class bN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ha(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vN(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{dataSource:s})}}class _y{constructor(e,n,r,l,u,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new _y({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Lh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(vN(this.dataSource)&&zP.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class FP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||af(e)}createContext(e,n,r,l=!1){return new _y({dataSource:e,methodName:n,targetDoc:r,path:Nn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ey(s){const e=s._freezeSettings(),n=af(s._databaseId);return new FP(s._databaseId,!!e.ignoreUndefinedProperties,n)}function BP(s,e,n,r,l,u={}){const d=s.createContext(u.merge||u.mergeFields?2:0,e,n,l);wy("Data must be an object, but it was:",d,r);const g=_N(r,d);let y,p;if(u.merge)y=new ns(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const _=[];for(const E of u.mergeFields){const N=fl(e,E,n);if(!d.contains(N))throw new Ee(oe.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);wN(_,N)||_.push(N)}y=new ns(_),p=d.fieldTransforms.filter((E=>y.covers(E.field)))}else y=null,p=d.fieldTransforms;return new qP(new Bn(g),y,p)}class df extends uf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof df}}class Ty extends uf{_toFieldTransform(e){return new A3(e.path,new nu)}isEqual(e){return e instanceof Ty}}function HP(s,e,n,r){const l=s.createContext(1,e,n);wy("Data must be an object, but it was:",l,r);const u=[],d=Bn.empty();da(r,((y,p)=>{const _=TN(e,y,n);p=Bt(p);const E=l.childContextForFieldPath(_);if(p instanceof df)u.push(_);else{const N=Eu(p,E);N!=null&&(u.push(_),d.set(_,N))}}));const g=new ns(u);return new bN(d,g,l.fieldTransforms)}function $P(s,e,n,r,l,u){const d=s.createContext(1,e,n),g=[fl(e,r,n)],y=[l];if(u.length%2!=0)throw new Ee(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)g.push(fl(e,u[N])),y.push(u[N+1]);const p=[],_=Bn.empty();for(let N=g.length-1;N>=0;--N)if(!wN(p,g[N])){const V=g[N];let H=y[N];H=Bt(H);const z=d.childContextForFieldPath(V);if(H instanceof df)p.push(V);else{const q=Eu(H,z);q!=null&&(p.push(V),_.set(V,q))}}const E=new ns(p);return new bN(_,E,d.fieldTransforms)}function GP(s,e,n,r=!1){return Eu(n,s.createContext(r?4:3,e))}function Eu(s,e){if(EN(s=Bt(s)))return wy("Unsupported field value:",e,s),_N(s,e);if(s instanceof uf)return(function(r,l){if(!vN(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const g of r){let y=Eu(g,l.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return w3(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Rt.fromDate(r);return{timestampValue:Dh(l.serializer,u)}}if(r instanceof Rt){const u=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dh(l.serializer,u)}}if(r instanceof yi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vs)return{bytesValue:zw(l.serializer,r._byteString)};if(r instanceof an){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ay(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Vs)return(function(d,g){const y=d instanceof Vs?d.toArray():d;return{mapValue:{fields:{[mw]:{stringValue:gw},[Ih]:{arrayValue:{values:y.map((_=>{if(typeof _!="number")throw g.createError("VectorValues must only contain numeric values.");return sy(g.serializer,_)}))}}}}}})(r,l);if(Kw(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Qh(r)}`)})(s,e)}function _N(s,e){const n={};return lw(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(s,((r,l)=>{const u=Eu(l,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function EN(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Rt||s instanceof yi||s instanceof vs||s instanceof an||s instanceof uf||s instanceof Vs||Kw(s))}function wy(s,e,n){if(!EN(n)||!aw(n)){const r=Qh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function fl(s,e,n){if((e=Bt(e))instanceof vy)return e._internalPath;if(typeof e=="string")return TN(s,e);throw Lh("Field path arguments must be of type string or ",s,!1,void 0,n)}const KP=new RegExp("[~\\*/\\[\\]]");function TN(s,e,n){if(e.search(KP)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new vy(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Lh(s,e,n,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new Ee(oe.INVALID_ARGUMENT,g+s+y)}function wN(s,e){return s.some((n=>n.isEqual(e)))}class YP{convertValue(e,n="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return da(e,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[Ih].arrayValue?.values?.map((r=>Kt(r.doubleValue)));return new Vs(n)}convertGeoPoint(e){return new yi(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const n=ea(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=At.fromString(e);ut(Gw(r),9688,{name:e});const l=new Zc(r.get(1),r.get(3)),u=new Ce(r.popFirst(5));return l.isEqual(n)||Ji(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class NN extends YP{constructor(e){super(),this.firestore=e}convertBytes(e){return new vs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function Pg(){return new Ty("serverTimestamp")}const X_="@firebase/firestore",J_="4.10.0";function Z_(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(s,["next","error","complete"])}class jN{constructor(e,n,r,l,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(fl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WP extends jN{data(){return super.data()}}function QP(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Ee(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ny{}class AN extends Ny{}function XP(s,e,...n){let r=[];e instanceof Ny&&r.push(e),r=r.concat(n),(function(u){const d=u.filter((y=>y instanceof Ay)).length,g=u.filter((y=>y instanceof jy)).length;if(d>1||d>0&&g>0)throw new Ee(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class jy extends AN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jy(e,n,r)}_apply(e){const n=this._parse(e);return SN(e._query,n),new ao(e.firestore,e.converter,sp(e._query,n))}_parse(e){const n=Ey(e.firestore);return(function(u,d,g,y,p,_,E){let N;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new Ee(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){tE(E,_);const H=[];for(const z of E)H.push(eE(y,u,z));N={arrayValue:{values:H}}}else N=eE(y,u,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||tE(E,_),N=GP(g,d,E,_==="in"||_==="not-in");return sn.create(p,_,N)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ay extends Ny{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ay(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:qs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const y of g)SN(d,y),d=sp(d,y)})(e._query,n),new ao(e.firestore,e.converter,sp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sy extends AN{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sy(e,n)}_apply(e){const n=(function(l,u,d){if(l.startAt!==null)throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(u,d)})(e._query,this._field,this._direction);return new ao(e.firestore,e.converter,p3(e._query,n))}}function JP(s,e="asc"){const n=e,r=fl("orderBy",s);return Sy._create(r,n)}function eE(s,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tw(e)&&n.indexOf("/")!==-1)throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(At.fromString(n));if(!Ce.isDocumentKey(r))throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return h_(s,new Ce(r))}if(n instanceof an)return h_(s,n._key);throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(n)}.`)}function tE(s,e){if(!Array.isArray(s)||s.length===0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SN(s,e){const n=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ee(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ZP(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Pc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ya extends jN{constructor(e,n,r,l,u,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ya._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ya._jsonSchema={type:rn("string",Ya._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class gh extends Ya{data(e={}){return super.data(e)}}class rl{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Pc(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new gh(this._firestore,this._userDataWriter,r.key,r,new Pc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new gh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Pc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new gh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Pc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,_=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),_=d.indexOf(g.doc.key)),{type:eO(g.type),doc:y,oldIndex:p,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function eO(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:s})}}rl._jsonSchemaVersion="firestore/querySnapshot/1.0",rl._jsonSchema={type:rn("string",rl._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};function nE(s,e,n,...r){s=Ka(s,an);const l=Ka(s.firestore,ru),u=Ey(l);let d;return d=typeof(e=Bt(e))=="string"||e instanceof vy?$P(u,"updateDoc",s._key,e,n,r):HP(u,"updateDoc",s._key,e),CN(l,[d.toMutation(s._key,gi.exists(!0))])}function tO(s,e){const n=Ka(s.firestore,ru),r=yN(s),l=ZP(s.converter,e),u=Ey(s.firestore);return CN(n,[BP(u,"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,gi.exists(!1))]).then((()=>r))}function nO(s,...e){s=Bt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Z_(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Z_(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let u,d,g;if(s instanceof an)d=Ka(s.firestore,ru),g=ny(s._key.path),u={next:p=>{e[r]&&e[r](sO(d,s,p))},error:e[r+1],complete:e[r+2]};else{const p=Ka(s,ao);d=Ka(p.firestore,ru),g=p._query;const _=new NN(d);u={next:E=>{e[r]&&e[r](new rl(d,_,p,E))},error:e[r+1],complete:e[r+2]},QP(s._query)}const y=xN(d);return DP(y,g,l,u)}function CN(s,e){const n=xN(s);return PP(n,e)}function sO(s,e,n){const r=n.docs.get(e._key),l=new NN(s);return new Ya(s,l,e._key,r,new Pc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){IM(yl),bi(new zs("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),g=new ru(new DM(r.getProvider("auth-internal")),new kM(d,r.getProvider("app-check-internal")),ZM(d,l),d);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),_s(X_,J_,e),_s(X_,J_,"esm2020")})();const IN={apiKey:"AIzaSyBrTZY2DOv714a8O1uuaMxAczguSX292SE",authDomain:"professionalengineer-a104d.firebaseapp.com",projectId:"professionalengineer-a104d",storageBucket:"professionalengineer-a104d.firebasestorage.app",messagingSenderId:"539571105207",appId:"1:539571105207:web:bfdaeb4d398de90eb70c32",measurementId:"G-RBCKLQFNLW"},RN=Object.values(IN).every(s=>s&&!s.startsWith("REPLACE_WITH_")),Cy=Tv().length?Tv()[0]:YE(IN),qa=iR(Cy),Og=VP(Cy);RN&&jM().then(s=>{s&&wM(Cy)}).catch(()=>{});function Dt(){const[s,e]=O.useState(null),n=oa();return O.useEffect(()=>zp(qa,l=>{e(l)}),[]),a.jsxs("div",{className:"sticky top-0 z-30",children:[a.jsx(ye,{to:"/contact",className:"block bg-gray-900 text-white text-sm","aria-label":`Reach out for quotes on plans,\r
          review/analysis, calculation, freelance, or expert witness work. Sealing and stamping when appropriate.`,children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-2 text-center",children:[a.jsx("span",{className:"underline",children:"Reach out"})," for quotes on plans, review/analysis, calculation, freelance, or expert witness work. Sealing and stamping when appropriate."]})}),a.jsx("div",{className:"bg-white border-b border-gray-200",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-3 flex items-center justify-between",children:[a.jsx(ye,{to:"/",className:"text-sm text-gray-700 hover:text-gray-900 transition-colors",children:"Professional Engineer, Missouri"}),a.jsxs("nav",{"aria-label":"Primary navigation",className:"flex items-center gap-6 text-sm",children:[s?a.jsx(ye,{to:"/dashboard",className:n.pathname.startsWith("/dashboard")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Dashboard"}):a.jsx(ye,{to:"/contact",className:n.pathname.startsWith("/contact")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Contact"}),a.jsx(ye,{to:"/toolbox",className:n.pathname.startsWith("/toolbox")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Toolbox"}),a.jsx(ye,{to:"/blog",className:n.pathname.startsWith("/blog")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Blog"}),a.jsx(ye,{to:"/portal",className:n.pathname.startsWith("/portal")?"text-gray-900 border-b-2 border-gray-900":"text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:s?"Signed In":"Register / Login"})]})]})})]})}function iO(){return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(Dt,{}),a.jsx("header",{className:"bg-white",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Professional Engineering Services â€” Missouri"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Independent professional practice licensed in Missouri. Engineering services, analysis, and review."})]})}),a.jsxs("main",{className:"flex-1",children:[a.jsx("section",{className:"bg-white py-12 md:py-16",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"Scope of Practice"}),a.jsx("p",{className:"text-lg text-gray-700",children:"This practice provides engineering services involving professional analysis, review, and judgment. Work is performed in accordance with applicable Missouri statutes and professional engineering rules. Professional liability insurance is maintained."})]})}),a.jsx("section",{className:"bg-gray-50 py-12 md:py-16",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"Services Overview"}),a.jsxs("ul",{className:"space-y-3 text-gray-700",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),a.jsx("span",{children:"Engineering drawings and calculations"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),a.jsx("span",{children:"Engineering review and opinion"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),a.jsx("span",{children:"Professional Engineer sealing when appropriate"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),a.jsx("span",{children:"Forensic engineering analysis"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),a.jsx("span",{children:"Expert engineering opinion and testimony"})]})]})]})}),a.jsx("section",{className:"bg-white py-12 md:py-16",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"Client Portal"}),a.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Clients may access a secure portal for document exchange, communication, and project tracking. Portal access is not a substitute for professional engagement."}),a.jsx(ye,{to:"/portal",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Portal Login"})]})}),a.jsx("section",{className:"bg-gray-50 py-12 md:py-16",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"About the Engineer"}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-[180px,1fr] items-center",children:[a.jsx("div",{className:"w-full max-w-[180px]",children:a.jsxs("picture",{children:[a.jsx("source",{srcSet:aS,type:"image/webp"}),a.jsx("img",{src:oS,width:"180",height:"220",alt:"Portrait of the engineer",className:"block w-full h-auto border border-gray-200",loading:"lazy",decoding:"async"})]})}),a.jsxs("div",{className:"space-y-4 text-lg text-gray-700",children:[a.jsx("p",{children:"I am a licensed Professional Engineer in Missouri. My educational background includes aerospace engineering, agriculture engineering, and computer engineering."}),a.jsx("p",{children:"I have experience designing and reviewing complex systems involving software, distributed systems, control systems, and embedded and hardware-adjacent systems. I have led engineering teams and reviewed work produced by others. My work has involved regulated environments and formal verification and testing."}),a.jsx("p",{children:"I am engaged in ongoing advanced study in control systems."}),a.jsx("p",{children:"I live and work in Missouri with my wife and son."})]})]})]})})]}),a.jsx(Mt,{})]})}function rO(){return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-12 md:py-16",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Contact"}),a.jsxs("p",{className:"text-lg text-gray-700 mb-8",children:["Initial contact precedes any engagement. The form below is used for intake and scheduling. Submissions are sent to"," ",a.jsx("a",{href:"mailto:seth.kitchen@seth.kitchen",className:"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"seth.kitchen@seth.kitchen"}),"."]}),a.jsxs("form",{action:"https://formspree.io/f/maqqndgz",method:"POST",className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"name",children:"Name"}),a.jsx("input",{id:"name",name:"name",type:"text",required:!0,autoComplete:"name",className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"email",children:"Email"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,autoComplete:"email",className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"organization",children:"Organization (optional)"}),a.jsx("input",{id:"organization",name:"organization",type:"text",autoComplete:"organization",className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"message",children:"Description"}),a.jsx("textarea",{id:"message",name:"message",rows:6,required:!0,className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded bg-gray-900 px-4 py-2 text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2",children:"Submit"})})]})]})}),a.jsx(Mt,{})]})}function aO(){const[s,e]=O.useState(null),[n,r]=O.useState("signin"),[l,u]=O.useState(""),[d,g]=O.useState(""),[y,p]=O.useState(null),[_,E]=O.useState(!1),N=O.useMemo(()=>RN,[]);O.useEffect(()=>zp(qa,ne=>{e(ne)}),[]);const V=async()=>{p(null),E(!0);try{const q=new Bi;await fI(qa,q)}catch{p("Unable to complete Google sign-in. Please try again.")}finally{E(!1)}},H=async q=>{q.preventDefault(),p(null),E(!0);try{n==="register"?await BC(qa,l,d):await HC(qa,l,d)}catch{p("Unable to complete the request. Verify credentials and try again.")}finally{E(!1)}},z=async()=>{await KC(qa)};return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-12 md:py-16",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Client Portal"}),a.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Portal access supports document exchange and project tracking. Access is provided after intake and confirmation of engagement."}),!N&&a.jsx("div",{className:"mb-8 rounded border border-gray-300 bg-gray-50 p-4 text-sm text-gray-700",children:"Portal authentication is not configured. Set the Firebase environment variables before enabling login."}),s?a.jsxs("div",{className:"rounded border border-gray-200 p-6",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Signed in as"}),a.jsx("div",{className:"text-gray-900 font-medium",children:s.email??"Authenticated user"}),a.jsx("button",{type:"button",onClick:z,className:"mt-6 inline-flex items-center justify-center rounded border border-gray-300 px-4 py-2 text-gray-900 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2",children:"Sign out"})]}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex gap-4 text-sm",children:[a.jsx("button",{type:"button",onClick:()=>r("signin"),className:`border-b-2 ${n==="signin"?"border-gray-900 text-gray-900":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Sign in"}),a.jsx("button",{type:"button",onClick:()=>r("register"),className:`border-b-2 ${n==="register"?"border-gray-900 text-gray-900":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Register"})]}),a.jsx("button",{type:"button",onClick:V,disabled:!N||_,className:"inline-flex items-center justify-center rounded border border-gray-300 px-4 py-2 text-gray-900 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 disabled:opacity-50",children:"Continue with Google"}),a.jsxs("form",{onSubmit:H,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"portal-email",children:"Email"}),a.jsx("input",{id:"portal-email",name:"email",type:"email",required:!0,autoComplete:"email",value:l,onChange:q=>u(q.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"portal-password",children:"Password"}),a.jsx("input",{id:"portal-password",name:"password",type:"password",required:!0,autoComplete:n==="register"?"new-password":"current-password",value:d,onChange:q=>g(q.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),y&&a.jsx("div",{className:"text-sm text-red-700",children:y}),a.jsx("button",{type:"submit",disabled:!N||_,className:"inline-flex items-center justify-center rounded bg-gray-900 px-4 py-2 text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 disabled:opacity-50",children:n==="register"?"Create account":"Sign in"})]})]})]})}),a.jsx(Mt,{})]})}function oO(){const[s,e]=O.useState(null),[n,r]=O.useState([]),[l,u]=O.useState(null),[d,g]=O.useState(""),[y,p]=O.useState(""),[_,E]=O.useState(""),[N,V]=O.useState(""),[H,z]=O.useState(null),[q,ne]=O.useState(null),[Z,J]=O.useState(null),[B,de]=O.useState(!1),[ge,S]=O.useState(!1),A=700*1024,I=O.useRef(null);O.useEffect(()=>zp(qa,be=>{e(be)}),[]),O.useEffect(()=>{if(!s){r([]);return}const Ne=XP(K_(Og,"users",s.uid,"projects"),JP("createdAt","desc"));return nO(Ne,Q=>{const he=Q.docs.map(pe=>{const Pe=pe.data();return{id:pe.id,title:Pe.title??"",description:Pe.description??"",fileUrl:Pe.fileUrl??void 0,fileName:Pe.fileName??void 0,fileType:Pe.fileType??void 0,fileData:Pe.fileData??void 0,createdAt:Pe.createdAt?.toDate?.()}});r(he),he.length>0&&!l&&u(he[0].id),J(null)},()=>{r([]),J("Permission denied reading projects. Update Firestore rules to allow signed-in access.")})},[s]);const R=O.useMemo(()=>!!s&&d.trim().length>0&&y.trim().length>0,[s,d,y]),P=O.useMemo(()=>n.find(Ne=>Ne.id===l)??null,[n,l]);O.useEffect(()=>{if(!P){E(""),V("");return}E(P.title),V(P.description)},[P]);const F=async Ne=>{if(Ne.preventDefault(),!s){J("Please sign in to create a project.");return}J(null),de(!0);try{let be,Q,he,pe;if(q){if(q.size>A){J("File is too large for inline storage. Use a smaller file or enable Storage."),de(!1);return}pe=await new Promise((Pe,Be)=>{const k=new FileReader;k.onload=()=>Pe(k.result),k.onerror=()=>Be(new Error("File read failed")),k.readAsDataURL(q)}),Q=q.name,he=q.type||"application/octet-stream",be=pe}await tO(K_(Og,"users",s.uid,"projects"),{title:d.trim(),description:y.trim(),fileUrl:be??null,fileName:Q??null,fileType:he??null,fileData:pe??null,createdAt:Pg()}),g(""),p(""),ne(null),I.current&&(I.current.value="")}catch{J("Unable to create the project. Check Firestore rules and try again.")}finally{de(!1)}},M=async Ne=>{if(!(!s||!P)){J(null),S(!0);try{const be=yN(Og,"users",s.uid,"projects",P.id);Ne==="title"&&await nE(be,{title:_.trim(),updatedAt:Pg()}),Ne==="description"&&await nE(be,{description:N.trim(),updatedAt:Pg()}),z(null)}catch{J("Unable to save changes. Please try again.")}finally{S(!1)}}};return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Dashboard"}),a.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Project records and documents are available only after authentication."}),!s&&a.jsxs("div",{className:"rounded border border-gray-200 bg-gray-50 p-6 text-gray-700",children:[a.jsx("p",{className:"mb-4",children:"You must be signed in to view or create projects."}),a.jsx(ye,{to:"/portal",className:"inline-flex items-center justify-center rounded border border-gray-300 px-4 py-2 text-gray-900 hover:border-gray-400",children:"Go to portal"})]}),s&&a.jsxs("div",{className:"grid gap-10",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-4",children:"Existing Projects"}),n.length===0?a.jsx("p",{className:"text-gray-700",children:"No projects on file."}):a.jsxs("div",{className:"grid gap-6 grid-cols-2",children:[a.jsx("div",{className:"space-y-3",children:n.map(Ne=>a.jsxs("button",{type:"button",onClick:()=>u(Ne.id),className:`w-full rounded border px-4 py-3 text-left transition-colors ${Ne.id===l?"border-gray-900 bg-gray-50 text-gray-900":"border-gray-200 text-gray-700 hover:border-gray-400"}`,children:[a.jsx("div",{className:"text-sm font-medium",children:Ne.title}),a.jsx("div",{className:"text-xs text-gray-600 line-clamp-2",children:Ne.description})]},Ne.id))}),a.jsx("div",{className:"rounded border border-gray-200 p-4",children:P?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-gray-600",children:"Selected project"}),a.jsx("div",{className:"flex items-center gap-2",children:H==="title"?a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("label",{className:"sr-only",htmlFor:"edit-title",children:"Title"}),a.jsx("input",{id:"edit-title",name:"edit-title",type:"text",required:!0,value:_,onChange:Ne=>E(Ne.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"}),a.jsxs("div",{className:"flex gap-3 text-sm",children:[a.jsx("button",{type:"button",onClick:()=>M("title"),disabled:ge,className:"text-gray-900 border-b border-gray-400 hover:border-gray-600 disabled:opacity-50",children:"Save"}),a.jsx("button",{type:"button",onClick:()=>{E(P.title),z(null)},className:"text-gray-700 border-b border-gray-300 hover:border-gray-500",children:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-lg text-gray-900",children:P.title}),a.jsx("button",{type:"button",onClick:()=>z("title"),className:"text-gray-600 hover:text-gray-900","aria-label":"Edit title",children:a.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 20 20",className:"h-4 w-4",fill:"currentColor",children:a.jsx("path",{d:"M14.69 2.86a2.25 2.25 0 0 1 3.18 3.18l-9.5 9.5-4.24.94.94-4.24 9.5-9.5z"})})})]})})]}),a.jsx("div",{className:"space-y-2",children:a.jsx("div",{className:"flex items-start gap-2",children:H==="description"?a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("label",{className:"sr-only",htmlFor:"edit-description",children:"Description"}),a.jsx("textarea",{id:"edit-description",name:"edit-description",rows:4,required:!0,value:N,onChange:Ne=>V(Ne.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"}),a.jsxs("div",{className:"flex gap-3 text-sm",children:[a.jsx("button",{type:"button",onClick:()=>M("description"),disabled:ge,className:"text-gray-900 border-b border-gray-400 hover:border-gray-600 disabled:opacity-50",children:"Save"}),a.jsx("button",{type:"button",onClick:()=>{V(P.description),z(null)},className:"text-gray-700 border-b border-gray-300 hover:border-gray-500",children:"Cancel"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-700",children:P.description}),a.jsx("button",{type:"button",onClick:()=>z("description"),className:"text-gray-600 hover:text-gray-900","aria-label":"Edit description",children:a.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 20 20",className:"h-4 w-4",fill:"currentColor",children:a.jsx("path",{d:"M14.69 2.86a2.25 2.25 0 0 1 3.18 3.18l-9.5 9.5-4.24.94.94-4.24 9.5-9.5z"})})})]})})}),P.fileUrl&&a.jsx("a",{href:P.fileUrl,className:"text-sm text-gray-900 border-b border-gray-400 hover:border-gray-600",target:"_blank",rel:"noreferrer",children:P.fileName??"Download file"})]}):a.jsx("p",{className:"text-gray-700",children:"Select a project to view details."})})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-4",children:"Create Project"}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"project-title",children:"Title"}),a.jsx("input",{id:"project-title",name:"title",type:"text",required:!0,value:d,onChange:Ne=>g(Ne.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"project-description",children:"Description"}),a.jsx("textarea",{id:"project-description",name:"description",rows:4,required:!0,value:y,onChange:Ne=>p(Ne.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"project-file",children:"File (optional)"}),a.jsx("input",{id:"project-file",name:"file",type:"file",ref:I,onChange:Ne=>ne(Ne.target.files?.[0]??null),className:"block w-full text-sm text-gray-700 file:mr-4 file:rounded file:border-0 file:bg-gray-100 file:px-3 file:py-2 file:text-gray-900"})]}),Z&&a.jsx("div",{className:"text-sm text-red-700",children:Z}),a.jsx("button",{type:"submit",disabled:!R||B,className:"inline-flex items-center justify-center rounded bg-gray-900 px-4 py-2 text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 disabled:opacity-50",children:"Create Project"})]})]})]})]})}),a.jsx(Mt,{})]})}function lO(){return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsx("div",{children:a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Legal Disclaimer"})}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"General Information"}),a.jsx("p",{className:"text-gray-700",children:"This website provides general information about professional engineering services in Missouri. It is not a substitute for professional consultation or a formal engagement."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"No Professional Engagement"}),a.jsx("p",{className:"text-gray-700",children:"Contact through this site does not establish a professional engineer-client relationship. Any engagement requires a written agreement and confirmation of scope, schedule, and terms."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Reliance and Use"}),a.jsx("p",{className:"text-gray-700",children:"Information provided here is intended for general informational purposes only. Decisions based on this information should be made only after direct consultation and review of project-specific facts."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Jurisdiction and Licensure"}),a.jsx("p",{className:"text-gray-700",children:"Professional engineering services are offered only in jurisdictions where the engineer is properly licensed. This website does not constitute an offer to provide engineering services in any jurisdiction where such services would be unlawful."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Use of Sealed Documents"}),a.jsx("p",{className:"text-gray-700",children:"Engineering documents that are signed and sealed are valid only in their final form and for the specific project and conditions for which they were prepared. Any reuse, modification, or reliance beyond the original purpose is at the userâ€™s sole risk unless expressly authorized in writing."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Confidentiality"}),a.jsx("p",{className:"text-gray-700",children:"Do not transmit sensitive or privileged information before an engagement is established. Submitted materials may not be treated as confidential unless an agreement is in place."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Accuracy and Changes"}),a.jsx("p",{className:"text-gray-700",children:"Information on this website may be updated or modified at any time without notice and is not guaranteed to reflect the most current statutes, regulations, or professional standards."})]})]})}),a.jsx(Mt,{})]})}function cO(){return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-6",children:"Engineering Notes"}),a.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Articles addressing professional engineering practice, review, and analysis."}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(ye,{to:"/blog/pca-vs-cna-understanding-the-difference",className:"border-b border-transparent hover:border-gray-400",children:"PCA vs. CNA: Understanding the Difference"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 3, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Two common building assessments with different goals: present condition baseline vs. future capital planning."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(ye,{to:"/blog/property-condition-assessment-pca",className:"border-b border-transparent hover:border-gray-400",children:"What Is a Property Condition Assessment (PCA)?"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 2, 2026"}),a.jsx("p",{className:"text-gray-700",children:"What a PCA typically includes, how itâ€™s used in due diligence, and when engineering judgment may apply."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(ye,{to:"/blog/structural-analysis-building-approval-missouri",className:"border-b border-transparent hover:border-gray-400",children:"Structural Analysis and Building Approval in Missouri: What to Know"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 1, 2026"}),a.jsx("p",{className:"text-gray-700",children:"How structural analysis relates to building approval in Missouri, including when engineering is required and the role of a licensed Professional Engineer."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(ye,{to:"/blog/common-mistakes-engineering-expert-reports",className:"border-b border-transparent hover:border-gray-400",children:"Common Mistakes in Engineering Expert Reports"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 31, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Why report quality matters in expert engineering reports, including scope, assumptions, evidence, and communication."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(ye,{to:"/blog/root-cause-vs-legal-cause-engineering",className:"border-b border-transparent hover:border-gray-400",children:"Root Cause vs. Legal Cause: An Engineering Perspective"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 30, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Why the distinction between engineering root cause and legal cause matters in technical disputes and expert testimony."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(ye,{to:"/blog/courts-evaluate-engineering-causation-testimony",className:"border-b border-transparent hover:border-gray-400",children:"How Courts Evaluate Engineering Causation Testimony"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 29, 2026"}),a.jsx("p",{className:"text-gray-700",children:"How courts evaluate engineering causation testimony, including admissibility, methodology, and evidentiary connection."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(ye,{to:"/blog/engineering-causation-failure-analysis",className:"border-b border-transparent hover:border-gray-400",children:"How Engineers Evaluate Causation in Failure Analysis"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 28, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Understanding causation analysis in failure investigations, including evidence, failure modes, and professional judgment."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(ye,{to:"/blog/what-does-professional-engineer-seal-mean",className:"border-b border-transparent hover:border-gray-400",children:"What Does It Mean When a Professional Engineer Seals a Document?"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 27, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Understanding the purpose of an engineering seal in Missouri: professional responsibility, legal obligations, and when sealing is required."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(ye,{to:"/blog/what-does-engineering-expert-witness-do",className:"border-b border-transparent hover:border-gray-400",children:"What Does an Engineering Expert Witness Do?"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 25, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Understanding the role of engineering expert witnesses in legal matters: independent analysis, forensic evaluation, and professional testimony."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(ye,{to:"/blog/when-professional-engineer-required-missouri",className:"border-b border-transparent hover:border-gray-400",children:"When Is a Professional Engineer Required in Missouri?"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 24, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Understanding when engineering licensure is necessary, including sealing, professional judgment, and common compliance scenarios."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(ye,{to:"/blog/engineering-standards-assumptions-failure-analysis",className:"border-b border-transparent hover:border-gray-400",children:"Engineering Standards, Assumptions, and Failure Analysis"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 21, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Why assumptions matter in engineering practice, including standards, documentation, and failure analysis."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(ye,{to:"/blog/professional-engineer-expert-witness-missouri",className:"border-b border-transparent hover:border-gray-400",children:"The Role of a Professional Engineer as an Expert Witness in Missouri"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 20, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Technical expertise in legal and dispute contexts, including professional responsibilities and independence of engineering expert witnesses."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(ye,{to:"/blog/forensic-engineering-missouri-technical-analysis",className:"border-b border-transparent hover:border-gray-400",children:"Forensic Engineering in Missouri: Technical Analysis After a Failure"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 19, 2026"}),a.jsx("p",{className:"text-gray-700",children:"Understanding forensic engineering practice in Missouri: technical investigation of failures, incidents, and disputes by a licensed Professional Engineer."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(ye,{to:"/blog/engineering-review-professional-judgment-st-louis-missouri",className:"border-b border-transparent hover:border-gray-400",children:"Engineering Review and Professional Judgment in the St. Louis Region"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 18, 2026"}),a.jsx("p",{className:"text-gray-700",children:"A discussion of professional engineering review and judgment in the St. Louis region, including typical review activities and forensic engineering contexts."})]}),a.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:a.jsx(ye,{to:"/blog/professional-engineering-st-louis-missouri",className:"border-b border-transparent hover:border-gray-400",children:"Professional Engineering Practice in St. Louis, Missouri"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 16, 2026"}),a.jsx("p",{className:"text-gray-700",children:"An overview of professional engineering practice in St. Louis, Missouri, including licensure requirements, common project types, and the role of licensed Professional Engineers."})]})]})]})}),a.jsx(Mt,{})]})}function uO(){const s="2026-01-16",e="January 16, 2026";return O.useEffect(()=>{const n=(l,u)=>{const d=document.head.querySelector(`meta[name="${l}"]`),g=d??document.createElement("meta");g.name=l,g.content=u,d||document.head.appendChild(g)},r=(l,u)=>{const d=document.head.querySelector(`meta[property="${l}"]`),g=d??document.createElement("meta");g.setAttribute("property",l),g.content=u,d||document.head.appendChild(g)};n("date",s),r("article:published_time",s)},[]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(ye,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Professional Engineering Practice in St. Louis, Missouri"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Professional Engineering Practice in St. Louis, Missouri"}),a.jsx("p",{className:"text-lg text-gray-700",children:"An overview of professional engineering practice in St. Louis, Missouri, including licensure requirements, common project types, and the role of licensed Professional Engineers."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Introduction"}),a.jsx("p",{className:"text-gray-700",children:"St. Louis has a long history of engineering activity, spanning transportation, manufacturing, aerospace, energy, and modern software-enabled systems. Professional engineering practice in the region operates within a regulatory framework established by the State of Missouri to protect public health, safety, and welfare."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"This article provides an overview of how professional engineering work is practiced in St. Louis, the role of a licensed Professional Engineer (PE), and common contexts in which engineering review and judgment are required."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Professional Engineering Licensure in Missouri"}),a.jsx("p",{className:"text-gray-700",children:"Engineering services offered to the public in Missouri are regulated under Chapter 327 of the Revised Statutes of Missouri. Individuals offering professional engineering services must be licensed by the Missouri Board for Architects, Professional Engineers, Professional Land Surveyors, and Professional Landscape Architects."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Licensure requires formal education, documented experience, successful completion of national examinations, and adherence to ongoing professional and ethical obligations. A licensed Professional Engineer is personally responsible for engineering work performed under their seal."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"In St. Louis, as elsewhere in Missouri, engineering documents such as drawings, specifications, calculations, reports, and certifications may require review and sealing by a licensed PE, depending on the nature and use of the work."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Work Commonly Performed in the St. Louis Region"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"The St. Louis metropolitan area supports a wide range of engineering activities. Common categories include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Infrastructure and transportation systems, including civil and structural components"}),a.jsx("li",{children:"Manufacturing and industrial systems, often involving mechanical, electrical, and controls engineering"}),a.jsx("li",{children:"Aerospace and defense-related engineering, reflecting the regionâ€™s historical strengths"}),a.jsx("li",{children:"Energy, utilities, and power systems"}),a.jsx("li",{children:"Software-integrated and automated systems, where engineering judgment intersects with computing and control systems"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Many projects involve multidisciplinary considerations and require formal engineering analysis, documentation, and professional review."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Review, Analysis, and Professional Judgment"}),a.jsx("p",{className:"text-gray-700",children:"Not all engineering work is the same. Some projects involve original design, while others require independent review, verification, or expert opinion. In regulated or high-consequence environments, professional engineering judgment is often necessary to assess compliance, safety, reliability, and fitness for purpose."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering review may include evaluation of calculations, assumptions, testing results, system behavior, or failure modes. When appropriate, a Professional Engineer may seal documents to indicate responsibility for the technical content under Missouri law."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Forensic Engineering and Expert Analysis"}),a.jsx("p",{className:"text-gray-700",children:"In addition to design and review, professional engineers in St. Louis may perform forensic engineering work. This can include analysis of system failures, construction issues, accidents, or disputes involving technical matters."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic engineering often supports legal proceedings, insurance claims, or internal investigations. In such contexts, engineering opinions must be based on sound methodology, documented evidence, and professional standards."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Selecting a Professional Engineer in St. Louis"}),a.jsx("p",{className:"text-gray-700",children:"When engaging a Professional Engineer, it is important to confirm licensure status, relevant experience, and scope alignment with the work being requested. Professional engagements are typically established through a written agreement defining responsibilities, limitations, and deliverables."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering services should be performed in accordance with Missouri statutes, applicable codes and standards, and accepted engineering practices."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Conclusion"}),a.jsx("p",{className:"text-gray-700",children:"Professional engineering practice in St. Louis reflects both the regionâ€™s technical history and its ongoing development. Licensed Professional Engineers play a critical role in ensuring that engineering work affecting the public is performed with appropriate competence, judgment, and accountability."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"For projects requiring engineering analysis, review, or professional oversight, consultation with a Missouri-licensed Professional Engineer is an essential step."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published"," ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(ye,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(ye,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]}),a.jsxs("p",{children:["Learn more about the"," ",a.jsx(ye,{to:"/",className:"border-b border-gray-300 hover:border-gray-500",children:"licensed Professional Engineer"})," ","providing services in Missouri."]})]})]})}),a.jsx(Mt,{})]})}function dO(){const s="2026-01-18",e="January 18, 2026",n="Engineering Review and Professional Judgment in the St. Louis Region",r="An overview of professional engineering review in the St. Louis region, including typical review activities, software-driven systems, and forensic engineering contexts.";return O.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,n]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(ye,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Engineering Review and Professional Judgment in the St. Louis Region"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Engineering Review and Professional Judgment in the St. Louis Region"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Role of a Licensed Professional Engineer"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"Engineering work in the St. Louis region spans a wide range of industries, including manufacturing, transportation, technology, utilities, and regulated systems. Many projects involve complex interactions between software, hardware, and physical systems, where failure modes are not always obvious."}),a.jsx("p",{className:"text-gray-700",children:"In Missouri, a licensed Professional Engineer (PE) is responsible for applying engineering judgment to evaluate designs, analyses, and technical decisions that may affect public safety, reliability, or compliance with applicable standards."}),a.jsx("p",{className:"text-gray-700",children:"This post explains how professional engineering review fits into real-world projects in the St. Louis area, and when engaging a Missouri-licensed PE is appropriate."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Professional Engineering Review Involves"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Professional engineering review is not limited to producing new designs. In many cases, it involves evaluating existing work, assumptions, or system behavior."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Typical review activities may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Reviewing engineering drawings, calculations, or specifications"}),a.jsx("li",{children:"Evaluating system architecture or control logic"}),a.jsx("li",{children:"Assessing whether assumptions align with operating conditions"}),a.jsx("li",{children:"Identifying failure modes, edge cases, or unintended interactions"}),a.jsx("li",{children:"Providing a documented engineering opinion based on analysis"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"The goal of review is not to â€œapproveâ€ work informally, but to apply professional judgment grounded in education, experience, and applicable engineering principles."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Judgment in Complex and Software-Driven Systems"}),a.jsx("p",{className:"text-gray-700",children:"Modern engineering projects increasingly involve software-defined behavior, distributed systems, and embedded control. In these environments, failures often arise from system interactions rather than single-component defects."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering judgment in these cases may involve:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Understanding how software logic interacts with physical processes"}),a.jsx("li",{children:"Reviewing control strategies and fault handling"}),a.jsx("li",{children:"Evaluating verification and validation methods"}),a.jsx("li",{children:"Assessing risk where deterministic proof is impractical"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"These types of reviews are common in regulated or high-reliability environments and often benefit from independent professional evaluation."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Forensic Engineering and Expert Analysis"}),a.jsx("p",{className:"text-gray-700",children:"In some situations, engineering review occurs after an incident, failure, or dispute. Forensic engineering focuses on understanding what happened and why, based on technical evidence rather than speculation."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic engineering services may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Analysis of system behavior leading up to a failure"}),a.jsx("li",{children:"Review of documentation, logs, or test results"}),a.jsx("li",{children:"Evaluation of compliance with accepted engineering practices"}),a.jsx("li",{children:"Preparation of engineering opinions suitable for legal or insurance contexts"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"In Missouri, forensic opinions offered by a Professional Engineer must remain within the engineerâ€™s area of competence and be based on sufficient technical analysis."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Engage a Missouri-Licensed Professional Engineer"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engaging a Professional Engineer may be appropriate when:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Engineering work affects public safety or critical operations"}),a.jsx("li",{children:"Independent technical review is required"}),a.jsx("li",{children:"Engineering documents require sealing under Missouri law"}),a.jsx("li",{children:"An objective engineering opinion is needed"}),a.jsx("li",{children:"A failure or dispute involves technical systems"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Early engagement often allows issues to be identified before they become costly or contentious."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Professional Practice in the St. Louis Area"}),a.jsx("p",{className:"text-gray-700",children:"Engineering practice in the St. Louis region reflects the areaâ€™s diverse industrial and technical base. Projects frequently involve interdisciplinary systems where careful analysis and clear documentation are essential."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Professional engineering services are governed by Missouri statutes and board rules, which establish requirements for licensure, responsibility, and ethical conduct. Any engineering engagement should clearly define scope, responsibilities, and limitations in writing."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article is intended to provide general information about professional engineering practice in Missouri. It does not constitute engineering advice or establish a professional engagement."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"If you are considering engineering review, analysis, or forensic evaluation, consultation with a Missouri-licensed Professional Engineer can help clarify next steps and determine whether professional services are appropriate for your situation."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published"," ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(ye,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(ye,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Mt,{})]})}function hO(){const s="2026-01-19",e="January 19, 2026",n="Forensic Engineering in Missouri: Technical Analysis After a Failure",r="Understanding forensic engineering practice in Missouri: technical investigation of failures, incidents, and disputes by a licensed Professional Engineer.";return O.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,n]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(ye,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Forensic Engineering in Missouri: Technical Analysis After a Failure"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Forensic Engineering in Missouri: Technical Analysis After a Failure"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Understanding forensic engineering practice in Missouri: technical investigation of failures, incidents, and disputes by a licensed Professional Engineer."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Forensic Engineering Is â€” and Is Not"}),a.jsx("p",{className:"text-gray-700",children:"Forensic engineering focuses on the investigation of engineering-related failures, incidents, or disputes. The purpose is not advocacy, but technical understanding: determining what occurred, how systems behaved, and whether engineering practices were consistent with accepted standards."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"In Missouri, forensic engineering opinions offered by a licensed Professional Engineer must be based on sufficient facts, appropriate analysis, and the engineer's area of competence."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"This article outlines how forensic engineering is typically applied and when it may be appropriate to engage a Missouri-licensed Professional Engineer."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Common Situations Involving Forensic Engineering"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Forensic engineering may be involved in a wide range of situations, including:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"System or equipment failures"}),a.jsx("li",{children:"Software-controlled system malfunctions"}),a.jsx("li",{children:"Industrial or infrastructure incidents"}),a.jsx("li",{children:"Construction or design disputes"}),a.jsx("li",{children:"Product performance issues"}),a.jsx("li",{children:"Insurance or liability investigations"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"In many cases, forensic analysis occurs months or years after the original work was performed, requiring careful reconstruction of events from available evidence."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"The Forensic Engineering Process"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"While each investigation is unique, forensic engineering often follows a structured process:"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Evidence Collection"}),a.jsx("p",{className:"text-gray-700",children:"Review of drawings, specifications, logs, test results, photographs, and physical evidence."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"System Understanding"}),a.jsx("p",{className:"text-gray-700",children:"Analysis of how the system was intended to function, including control logic, operating conditions, and interfaces."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Failure Analysis"}),a.jsx("p",{className:"text-gray-700",children:"Identification of failure modes, contributing factors, and sequence of events."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Engineering Evaluation"}),a.jsx("p",{className:"text-gray-700",children:"Assessment of whether engineering decisions aligned with accepted practices at the time the work was performed."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Documentation"}),a.jsx("p",{className:"text-gray-700",children:"Preparation of clear, technically grounded findings and opinions."})]})]}),a.jsx("p",{className:"text-gray-700 mt-4",children:"The emphasis is on reproducible analysis and defensible reasoning rather than conclusions drawn from limited data."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Software and Complex Systems in Forensic Analysis"}),a.jsx("p",{className:"text-gray-700",children:"Modern forensic engineering increasingly involves software-driven and distributed systems. In these cases, failures may arise from timing, state transitions, data dependencies, or unexpected interactions between components."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic analysis of such systems may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Review of source code or configuration artifacts"}),a.jsx("li",{children:"Analysis of logs, telemetry, or audit trails"}),a.jsx("li",{children:"Evaluation of control strategies and fault handling"}),a.jsx("li",{children:"Reconstruction of system state over time"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Understanding both software behavior and physical system constraints is often necessary to form a reliable engineering opinion."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Expert Engineering Opinions and Legal Contexts"}),a.jsx("p",{className:"text-gray-700",children:"Forensic engineering findings are frequently used in legal, insurance, or regulatory contexts. When acting as an expert, a Professional Engineer's role is to provide objective technical opinions â€” not legal conclusions."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Key principles include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Remaining within the engineer's area of expertise"}),a.jsx("li",{children:"Avoiding speculation beyond available evidence"}),a.jsx("li",{children:"Clearly stating assumptions and limitations"}),a.jsx("li",{children:"Distinguishing facts from professional judgment"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Professional engineers are ethically obligated to present opinions honestly and without bias."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Engage a Forensic Engineer"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engaging a forensic engineer may be appropriate when:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"The cause of a failure is unclear or disputed"}),a.jsx("li",{children:"Technical evidence requires expert interpretation"}),a.jsx("li",{children:"An independent engineering opinion is needed"}),a.jsx("li",{children:"Engineering documentation or practices are questioned"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Early involvement can help preserve evidence and reduce uncertainty as investigations progress."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about forensic engineering practice in Missouri. It does not constitute engineering advice or establish a professional engagement."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic engineering requires careful analysis, technical rigor, and professional judgment grounded in engineering principles and experience."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsx("p",{children:a.jsxs("time",{dateTime:s,children:["Published ",e]})}),a.jsxs("p",{children:["Related:"," ",a.jsx(ye,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(ye,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]}),a.jsxs("p",{children:["Learn more about the"," ",a.jsx(ye,{to:"/",className:"border-b border-gray-300 hover:border-gray-500",children:"licensed Professional Engineer"})," ","providing forensic engineering services in Missouri."]})]})]})}),a.jsx(Mt,{})]})}function fO(){const s="2026-01-20",e="January 20, 2026",n="The Role of a Professional Engineer as an Expert Witness in Missouri",r="An overview of the role of licensed Professional Engineers as expert witnesses in Missouri, including independence, professional judgment, and legal context.";return O.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,n]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(ye,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ The Role of a Professional Engineer as an Expert Witness in Missouri"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"The Role of a Professional Engineer as an Expert Witness in Missouri"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Technical Expertise in Legal and Dispute Contexts"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"Engineering issues frequently arise in legal disputes, insurance claims, and regulatory proceedings. When technical questions are central to a matter, courts and attorneys may rely on expert testimony to understand engineering principles, system behavior, and technical causation."}),a.jsx("p",{className:"text-gray-700",children:"In Missouri, a licensed Professional Engineer may serve as an expert witness when the subject matter falls within the engineerâ€™s area of competence and the opinions offered are based on sufficient technical analysis."}),a.jsx("p",{className:"text-gray-700",children:"This article describes the role of an engineering expert witness and the professional responsibilities that accompany that role."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What an Engineering Expert Witness Does"}),a.jsx("p",{className:"text-gray-700",children:"An engineering expert witness provides independent technical opinions to assist the court or other decision-makers. This role is distinct from advocacy and is grounded in objective engineering analysis."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Typical expert witness activities may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Reviewing technical documents, drawings, and records"}),a.jsx("li",{children:"Evaluating system design, operation, and failure modes"}),a.jsx("li",{children:"Analyzing data, logs, and test results"}),a.jsx("li",{children:"Preparing written expert reports"}),a.jsx("li",{children:"Providing deposition or trial testimony"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"The expertâ€™s duty is to the facts and engineering principles, not to a particular outcome."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Independence and Professional Judgment"}),a.jsx("p",{className:"text-gray-700",children:"Professional engineers serving as expert witnesses are ethically obligated to remain independent and unbiased. Opinions must be formed through analysis rather than instruction from counsel or clients."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Key elements of professional judgment in expert work include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Clear distinction between facts, assumptions, and opinions"}),a.jsx("li",{children:"Use of accepted engineering methods"}),a.jsx("li",{children:"Disclosure of limitations or uncertainties"}),a.jsx("li",{children:"Avoidance of conclusions beyond available evidence"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Maintaining independence is essential for credibility and admissibility."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Expertise and Modern Systems"}),a.jsx("p",{className:"text-gray-700",children:"Many disputes today involve complex systems that include software, control logic, or distributed components. Expert evaluation of such systems often requires understanding both theoretical design and real-world operation."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Expert witness work in these cases may involve:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Reconstruction of system behavior over time"}),a.jsx("li",{children:"Evaluation of control or decision logic"}),a.jsx("li",{children:"Analysis of interactions between software and physical components"}),a.jsx("li",{children:"Review of verification and validation practices"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering expertise must be applied in a manner that is clear and accessible to non-technical audiences without oversimplifying the underlying analysis."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Legal Standards and Professional Responsibility"}),a.jsx("p",{className:"text-gray-700",children:"While legal standards for expert testimony vary by jurisdiction, professional engineers are governed by ethical and licensure obligations regardless of venue."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"In Missouri, engineers must:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Practice within their area of competence"}),a.jsx("li",{children:"Avoid misleading statements or omissions"}),a.jsx("li",{children:"Maintain honesty and objectivity"}),a.jsx("li",{children:"Accept responsibility for opinions offered"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Failure to adhere to these principles can affect both professional credibility and licensure."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When an Engineering Expert May Be Needed"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"An engineering expert witness may be appropriate when:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Technical causation is disputed"}),a.jsx("li",{children:"Engineering standards or practices are questioned"}),a.jsx("li",{children:"System behavior is not readily understood by non-engineers"}),a.jsx("li",{children:"Independent analysis is required to inform decision-making"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Early technical evaluation can often clarify issues and narrow the scope of disputes."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article is intended to provide general information about the role of Professional Engineers as expert witnesses in Missouri. It does not constitute engineering advice or establish a professional engagement."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering expert testimony relies on careful analysis, clear reasoning, and professional integrity."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published"," ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(ye,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(ye,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Mt,{})]})}function mO(){const s="2026-01-21",e="January 21, 2026",n="Engineering Standards, Assumptions, and Failure Analysis",r="Why assumptions matter in engineering practice, and how standards and documentation influence failure analysis and professional judgment.";return O.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,n]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(ye,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Engineering Standards, Assumptions, and Failure Analysis"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Engineering Standards, Assumptions, and Failure Analysis"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Why Assumptions Matter in Engineering Practice"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"Engineering analysis is built on assumptions. These may involve operating conditions, loads, environmental factors, user behavior, data quality, or system boundaries. While assumptions are unavoidable, they must be reasonable, documented, and appropriate to the problem being addressed."}),a.jsx("p",{className:"text-gray-700",children:"In professional engineering practice, unexamined or invalid assumptions are a common source of system failures and disputes. Understanding how assumptions influence analysis is central to both design review and forensic engineering."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Standards and Accepted Practice"}),a.jsx("p",{className:"text-gray-700",children:"Engineering standards provide a framework for consistent and reliable analysis. Standards may be developed by professional organizations, regulatory bodies, or industry groups, and they often reflect consensus on acceptable methods and safety considerations."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"In practice, standards:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Inform design criteria and analysis methods"}),a.jsx("li",{children:"Establish minimum performance or safety thresholds"}),a.jsx("li",{children:"Provide reference points for professional judgment"}),a.jsx("li",{children:"Evolve over time as technology and knowledge advance"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Compliance with a standard does not eliminate the need for judgment, but deviations from standards should be intentional, justified, and documented."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"The Role of Assumptions in Failure Analysis"}),a.jsx("p",{className:"text-gray-700",children:"When a system fails, forensic engineering analysis often begins by examining the assumptions underlying its design, implementation, and operation."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Common assumption-related issues include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Operating conditions outside the original design envelope"}),a.jsx("li",{children:"Environmental factors not fully considered"}),a.jsx("li",{children:"Simplifications that obscured critical interactions"}),a.jsx("li",{children:"Incomplete or outdated data inputs"}),a.jsx("li",{children:"Misalignment between documented assumptions and actual use"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Failure analysis seeks to identify not only what failed, but why the assumptions supporting earlier decisions may no longer have been valid."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Distinguishing Errors from Engineering Judgment"}),a.jsx("p",{className:"text-gray-700",children:"Not every unfavorable outcome reflects an error. Engineering decisions are often made under uncertainty, with incomplete information and competing constraints."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"A key task in professional and forensic analysis is distinguishing between:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Reasonable engineering judgment based on available information"}),a.jsx("li",{children:"Decisions that deviated from accepted practice without justification"}),a.jsx("li",{children:"Changes in conditions that were not foreseeable at the time"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"This distinction is particularly important in legal or insurance contexts, where outcomes alone do not define professional responsibility."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Documentation and Traceability"}),a.jsx("p",{className:"text-gray-700",children:"Clear documentation of assumptions, standards, and decision rationale plays a critical role in both project execution and post-event analysis."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Effective documentation supports:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Technical review and peer evaluation"}),a.jsx("li",{children:"Future modifications or maintenance"}),a.jsx("li",{children:"Regulatory or contractual compliance"}),a.jsx("li",{children:"Forensic reconstruction if issues arise"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Inadequate documentation can significantly increase uncertainty during failure analysis and complicate resolution of disputes."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Judgment in Complex Systems"}),a.jsx("p",{className:"text-gray-700",children:"Modern systems often involve interactions between physical components, software, and human operators. In these cases, assumptions may be embedded in algorithms, control logic, or operational procedures rather than explicitly stated."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Failure analysis of complex systems may require:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Examination of implicit assumptions in system behavior"}),a.jsx("li",{children:"Evaluation of edge cases and state transitions"}),a.jsx("li",{children:"Review of validation and testing coverage"}),a.jsx("li",{children:"Consideration of how systems respond to unexpected inputs"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Professional judgment is required to assess whether these assumptions were reasonable in context."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about engineering standards, assumptions, and failure analysis. It does not constitute engineering advice or establish a professional engagement."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Careful consideration of assumptions and standards is fundamental to sound engineering practice, effective review, and reliable forensic analysis."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published"," ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(ye,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(ye,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Mt,{})]})}function gO(){const s="2026-01-24",e="January 24, 2026",n="When Is a Professional Engineer Required in Missouri?",r="Understanding when engineering licensure is necessary in Missouri and how professional judgment, sealing, and compliance requirements apply.";return O.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,n]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(ye,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ When Is a Professional Engineer Required in Missouri?"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"When Is a Professional Engineer Required in Missouri?"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Understanding When Engineering Licensure Is Necessary"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"In Missouri, the practice of professional engineering is regulated to protect public health, safety, and welfare. Not every technical task requires a licensed Professional Engineer (PE), but certain activities legally do."}),a.jsx("p",{className:"text-gray-700",children:"Understanding when a PE is required can help project owners, developers, contractors, and attorneys avoid delays, compliance issues, or rejected submissions."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Constitutes the Practice of Engineering in Missouri"}),a.jsx("p",{className:"text-gray-700",children:"Missouri law defines the practice of engineering broadly. In general, it includes the application of engineering principles and judgment to services such as:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Engineering analysis and evaluation"}),a.jsx("li",{children:"Preparation of engineering drawings and specifications"}),a.jsx("li",{children:"Design or review of systems affecting safety or performance"}),a.jsx("li",{children:"Engineering reports, opinions, or certifications"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"If a task involves professional judgment that could impact public safety, it may fall under regulated engineering practice."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Common Situations Where a PE Is Required"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"While requirements vary by jurisdiction and project type, a Missouri-licensed PE is commonly required for:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Engineering drawings submitted to public agencies"}),a.jsx("li",{children:"Structural, mechanical, electrical, or system designs affecting safety"}),a.jsx("li",{children:"Sealed engineering calculations or reports"}),a.jsx("li",{children:"Expert engineering opinions in legal or insurance matters"}),a.jsx("li",{children:"Engineering evaluations relied upon by third parties"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Local authorities may impose additional requirements depending on the scope and nature of the work."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Activities That May Not Require a PE"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Not all technical work requires licensure. Examples of activities that may not require a PE include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Drafting or modeling performed under supervision"}),a.jsx("li",{children:"Work based strictly on prescriptive codes without judgment"}),a.jsx("li",{children:"Internal technical analysis not released externally"}),a.jsx("li",{children:"Manufacturing or installation following stamped plans"}),a.jsx("li",{children:"Software development that does not constitute regulated engineering practice"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"The distinction often depends on whether professional judgment is exercised and whether the work is offered to the public."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Review vs. Engineering Design"}),a.jsx("p",{className:"text-gray-700",children:"Engineering review and engineering design are related but distinct activities."}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Design involves creating engineering solutions and selecting parameters"}),a.jsx("li",{children:"Review involves evaluating work prepared by others for compliance, reasonableness, and suitability"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Both activities may require licensure when professional judgment is applied and the work is relied upon by others."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Sealing and Responsibility"}),a.jsx("p",{className:"text-gray-700",children:"When a Missouri PE seals a document, they are affirming that:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"The work was prepared by them or under their responsible charge"}),a.jsx("li",{children:"The work meets applicable standards and requirements"}),a.jsx("li",{children:"They accept professional responsibility for the content"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Sealing is not a formality. It carries legal and ethical obligations and should only be done when appropriate."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Consequences of Improper Practice"}),a.jsx("p",{className:"text-gray-700",children:"Performing regulated engineering services without proper licensure can result in:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Rejected submissions or project delays"}),a.jsx("li",{children:"Regulatory action or penalties"}),a.jsx("li",{children:"Increased liability exposure"}),a.jsx("li",{children:"Challenges to the validity of work products"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Clarifying licensure requirements early can prevent issues later."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Seek Professional Guidance"}),a.jsx("p",{className:"text-gray-700",children:"If there is uncertainty about whether a PE is required, consulting with a licensed Professional Engineer early in the process can help clarify obligations and define appropriate scope."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information regarding professional engineering licensure in Missouri. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published"," ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(ye,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(ye,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Mt,{})]})}function pO(){const s="2026-01-25",e="January 25, 2026",n="What Does an Engineering Expert Witness Do?",r="Understanding the role of engineering expert witnesses in legal matters: independent analysis, forensic evaluation, and professional testimony in Missouri.";return O.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,n]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(ye,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ What Does an Engineering Expert Witness Do?"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"What Does an Engineering Expert Witness Do?"}),a.jsx("p",{className:"text-lg text-gray-700",children:"The Role of Engineering Expertise in Legal Matters"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"Engineering expert witnesses play a critical role in legal disputes involving technical, scientific, or engineering issues. Their function is not to advocate for a party, but to provide independent, objective engineering analysis and opinion to assist the court in understanding complex matters."}),a.jsx("p",{className:"text-gray-700",children:"In Missouri, expert witnesses offering engineering opinions are often licensed Professional Engineers (PEs)."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Independence and Objectivity"}),a.jsx("p",{className:"text-gray-700",children:"An engineering expert witness is expected to remain independent. Unlike consultants retained to solve problems or design solutions, an expert witness evaluates facts, applies engineering principles, and offers opinions based on evidence."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Credibility depends on:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[a.jsx("li",{children:"Objectivity"}),a.jsx("li",{children:"Technical rigor"}),a.jsx("li",{children:"Transparency of assumptions"}),a.jsx("li",{children:"Consistency with accepted engineering practice"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Typical Engineering Expert Witness Services"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering expert witnesses may be asked to perform tasks such as:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Reviewing engineering drawings, reports, and calculations"}),a.jsx("li",{children:"Evaluating compliance with applicable standards and codes"}),a.jsx("li",{children:"Analyzing failure modes and causation"}),a.jsx("li",{children:"Assessing reasonableness of engineering decisions"}),a.jsx("li",{children:"Preparing written expert reports"}),a.jsx("li",{children:"Providing sworn testimony or deposition"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"The scope of work is typically defined in writing and tailored to the needs of the matter."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Forensic Engineering vs. Design Engineering"}),a.jsx("p",{className:"text-gray-700",children:"Forensic engineering focuses on understanding what occurred, why it occurred, and whether professional standards were met."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"This differs from design engineering, which involves creating systems or solutions. Forensic work is retrospective and analytical, rather than prescriptive."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Licensing and Qualifications"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"In Missouri, offering engineering opinions that rely on professional judgment may require licensure as a Professional Engineer. Courts and attorneys frequently seek experts who:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Hold active PE licensure"}),a.jsx("li",{children:"Have relevant technical education and experience"}),a.jsx("li",{children:"Can clearly explain technical concepts"}),a.jsx("li",{children:"Are familiar with professional standards and ethics"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Licensure alone does not make someone an expert witness, but it is often a baseline requirement."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Reports and Testimony"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Expert reports must be well-organized, technically sound, and defensible. Assumptions, methodologies, and limitations should be clearly stated."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"During testimony, an engineering expert witness may be asked to:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Explain technical findings in plain language"}),a.jsx("li",{children:"Defend methods and conclusions under questioning"}),a.jsx("li",{children:"Clarify what opinions are and are not being offered"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Professional demeanor and clarity are as important as technical correctness."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Ethical Considerations"}),a.jsx("p",{className:"text-gray-700",children:"Engineering expert witnesses are bound by professional ethics. Opinions must be honest, unbiased, and based on sufficient facts and analysis. Compensation should not depend on the outcome of a case."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Maintaining ethical standards protects both the integrity of the process and the credibility of the expert."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When an Engineering Expert Witness Is Needed"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Common situations include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Construction or design disputes"}),a.jsx("li",{children:"Structural or system failures"}),a.jsx("li",{children:"Professional negligence claims"}),a.jsx("li",{children:"Insurance or property damage matters"}),a.jsx("li",{children:"Regulatory or compliance disputes"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Early involvement can help clarify technical issues and narrow disputes."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information regarding engineering expert witness services. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(ye,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(ye,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Mt,{})]})}function yO(){const s="2026-01-27",e="January 27, 2026",n="What Does It Mean When a Professional Engineer Seals a Document?",r="Understanding the purpose of an engineering seal in Missouri: professional responsibility, legal obligations, and when sealing is required by licensed PEs.";return O.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,n]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(ye,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ What Does It Mean When a Professional Engineer Seals a Document?"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"What Does It Mean When a Professional Engineer Seals a Document?"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Purpose of an Engineering Seal"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"When a Professional Engineer (PE) places their seal on an engineering document, it signifies more than approval or review. In Missouri, sealing is a formal declaration of professional responsibility for the work."}),a.jsx("p",{className:"text-gray-700",children:"Sealed documents are often relied upon by public agencies, courts, lenders, insurers, and other third parties. For this reason, the use of an engineering seal carries legal, ethical, and professional obligations."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What the Engineering Seal Represents"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"By sealing a document, a Missouri-licensed Professional Engineer affirms that:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"The work was prepared by them or under their responsible charge"}),a.jsx("li",{children:"Professional engineering judgment was applied"}),a.jsx("li",{children:"The document complies with applicable standards and regulations"}),a.jsx("li",{children:"The engineer accepts responsibility for the technical content"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"The seal is not a certification of perfection, but it is a statement of accountability."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Documents Commonly Sealed by Professional Engineers"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Depending on project type and jurisdiction, sealed documents may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Engineering drawings and specifications"}),a.jsx("li",{children:"Engineering reports and evaluations"}),a.jsx("li",{children:"Calculations and technical memoranda"}),a.jsx("li",{children:"Property condition or capital needs assessments"}),a.jsx("li",{children:"Forensic engineering opinions"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Not all engineering documents require a seal, but those that do must be sealed appropriately."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Responsible Charge and Professional Judgment"}),a.jsx("p",{className:"text-gray-700 mb-3",children:'A key requirement for sealing is that the engineer exercised "responsible charge" over the work. This means the engineer:'}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Directly prepared the work, or"}),a.jsx("li",{children:"Personally supervised its preparation, and"}),a.jsx("li",{children:"Had sufficient knowledge to control and evaluate the work"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Sealing work prepared entirely by others without meaningful involvement is not permitted."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Signing and Dating Requirements"}),a.jsx("p",{className:"text-gray-700",children:"In Missouri, sealed documents must also be signed and dated. This establishes when professional responsibility was assumed and helps identify the applicable standards and conditions at the time of issuance."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Electronic seals and signatures are commonly used for digital submissions, provided they meet regulatory requirements."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Improper Use of an Engineering Seal"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Improper sealing can create significant risk for both the engineer and the public. Examples include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Sealing work outside the engineer's area of competence"}),a.jsx("li",{children:"Sealing documents without adequate review or supervision"}),a.jsx("li",{children:"Sealing documents for convenience rather than responsibility"}),a.jsx("li",{children:"Allowing others to use the engineer's seal"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Such actions may result in disciplinary action or legal exposure."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When a Seal Is Not Appropriate"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Some technical work does not require or justify sealing, including:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Preliminary or conceptual studies"}),a.jsx("li",{children:"Internal analyses not released externally"}),a.jsx("li",{children:"Draft documents clearly marked as such"}),a.jsx("li",{children:"Work that does not involve professional judgment"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"In these cases, sealing may be inappropriate or misleading."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Why Sealing Matters to Clients and Third Parties"}),a.jsx("p",{className:"text-gray-700",children:"For clients, a sealed document provides assurance that a licensed professional has taken responsibility for the work. For third parties, it establishes a clear point of accountability."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Understanding when and why a document is sealed helps all parties rely on engineering work appropriately."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about the use of an engineering seal in Missouri. It does not constitute engineering advice or establish a professional engagement."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(ye,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(ye,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Mt,{})]})}function xO(){const s="2026-01-28",e="January 28, 2026",n="How Engineers Evaluate Causation in Failure Analysis",r="Understanding how engineers evaluate causation in failure analysis, including evidence collection, failure modes, and professional judgment in Missouri.";return O.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,n]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(ye,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ How Engineers Evaluate Causation in Failure Analysis"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"How Engineers Evaluate Causation in Failure Analysis"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Understanding Why a System Failed"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"Failure analysis is not limited to identifying what went wrong. A central objective is determining causationâ€”why the failure occurred and what factors materially contributed to the outcome."}),a.jsx("p",{className:"text-gray-700",children:"In professional engineering practice, causation is evaluated through structured analysis grounded in evidence, engineering principles, and accepted methodology. This process is especially important in forensic and expert witness contexts, where conclusions may be relied upon by courts, insurers, or other decision-makers."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Defining Failure and Scope"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Before causation can be evaluated, the engineer must define:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"What constitutes â€œfailureâ€ in the specific context"}),a.jsx("li",{children:"The performance criteria or expectations involved"}),a.jsx("li",{children:"The system boundaries and time frame under consideration"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Failure may involve physical damage, loss of function, deviation from specifications, or inability to meet operational requirements. Clear definition prevents conclusions from drifting beyond the facts."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Evidence Collection and Preservation"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Causation analysis depends on reliable evidence. Engineers typically begin by gathering and reviewing available materials, which may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Drawings, specifications, and design documents"}),a.jsx("li",{children:"Maintenance and inspection records"}),a.jsx("li",{children:"Operational data and logs"}),a.jsx("li",{children:"Photographs, videos, or physical artifacts"}),a.jsx("li",{children:"Witness statements or timelines"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Where possible, evidence is preserved to avoid altering or obscuring relevant conditions."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Identifying Potential Failure Modes"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineers then identify plausible failure modesâ€”mechanisms by which the system could have failed. This may involve:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Reviewing design assumptions"}),a.jsx("li",{children:"Evaluating loading and operating conditions"}),a.jsx("li",{children:"Considering environmental factors"}),a.jsx("li",{children:"Examining human or procedural interactions"}),a.jsx("li",{children:"Assessing degradation over time"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"At this stage, multiple hypotheses are often considered."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Evaluating Contributing Factors"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Causation in engineering is rarely singular. Engineers distinguish between:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Primary causes that directly led to failure"}),a.jsx("li",{children:"Contributing factors that increased likelihood or severity"}),a.jsx("li",{children:"Non-causal conditions present but not materially relevant"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"This distinction is critical in forensic contexts, where responsibility and liability may hinge on material contribution rather than mere association."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Use of Engineering Principles and Standards"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering causation analysis relies on established principles, such as:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Mechanics and material behavior"}),a.jsx("li",{children:"Control system response"}),a.jsx("li",{children:"Load paths and redundancy"}),a.jsx("li",{children:"Failure progression and sequence"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Applicable standards and codes are often used as reference points, not as automatic determinants of causation. Deviation from a standard does not necessarily cause failure, and compliance does not guarantee immunity from it."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Testing, Modeling, and Reconstruction"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Where appropriate, engineers may use:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Analytical calculations"}),a.jsx("li",{children:"Computer modeling or simulation"}),a.jsx("li",{children:"Laboratory testing"}),a.jsx("li",{children:"Scenario reconstruction"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"These tools help evaluate whether proposed causes are consistent with observed outcomes. Assumptions and limitations must be clearly stated."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Eliminating Alternative Explanations"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"A key element of causation analysis is the systematic elimination of alternative explanations. Engineers assess whether:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Evidence supports or contradicts each hypothesis"}),a.jsx("li",{children:"Proposed causes are physically or technically plausible"}),a.jsx("li",{children:"Timing and sequence align with observed damage"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Conclusions are strengthened when reasonable alternatives are addressed and ruled out based on evidence."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Communicating Causation Clearly"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering conclusions must be communicated in a way that is accurate, transparent, and understandable to non-engineers."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Effective communication includes:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Clear separation of facts, assumptions, and opinions"}),a.jsx("li",{children:"Explanation of reasoning and methodology"}),a.jsx("li",{children:"Identification of uncertainties or data gaps"}),a.jsx("li",{children:"Avoidance of speculation beyond available evidence"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"In expert witness settings, clarity is as important as technical rigor."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limits of Engineering Causation Analysis"}),a.jsx("p",{className:"text-gray-700",children:"Engineering analysis does not determine legal responsibility or fault. Engineers evaluate technical causation, not legal conclusions. Where evidence is incomplete or ambiguous, responsible engineers acknowledge limitations rather than overstate certainty."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about how engineers evaluate causation in failure analysis. It does not constitute engineering advice or establish a professional engagement."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(ye,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(ye,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Mt,{})]})}function bO(){const s="2026-01-29",e="January 29, 2026",n="How Courts Evaluate Engineering Causation Testimony",r="How courts evaluate engineering causation testimony, including admissibility, methodology, evidence connection, and professional conduct in Missouri.";return O.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,n]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(ye,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ How Courts Evaluate Engineering Causation Testimony"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"How Courts Evaluate Engineering Causation Testimony"}),a.jsx("p",{className:"text-lg text-gray-700",children:"The Role of Engineering Testimony in Legal Proceedings"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"In cases involving technical or engineering issues, courts often rely on expert testimony to understand causation. Engineering causation testimony helps explain whether and how a system failed, what factors contributed to that failure, and whether proposed explanations are technically sound."}),a.jsx("p",{className:"text-gray-700",children:"Courts do not evaluate engineering testimony based on conclusions alone. They examine the methods, reasoning, and reliability underlying the opinions offered."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Admissibility vs. Persuasiveness"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Courts typically distinguish between two related but separate questions:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Admissibility: Whether the testimony meets legal standards to be considered"}),a.jsx("li",{children:"Persuasiveness: How much weight the court gives the testimony"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"An opinion may be admissible but still unpersuasive if it lacks clarity, support, or credibility."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Methodology and Reliability"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Courts evaluate whether an engineerâ€™s analysis is grounded in reliable methodology. Factors commonly considered include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Use of accepted engineering principles"}),a.jsx("li",{children:"Consistency with professional standards or practices"}),a.jsx("li",{children:"Application of methods appropriate to the problem"}),a.jsx("li",{children:"Logical connection between evidence and conclusions"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Courts are generally skeptical of opinions that rely on unexplained assumptions or unsupported leaps in reasoning."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Connection to the Evidence"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering causation testimony must be tied to the facts of the case. Courts examine whether:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"The engineer reviewed relevant documents and data"}),a.jsx("li",{children:"Physical evidence supports the proposed causation"}),a.jsx("li",{children:"Alternative explanations were considered and addressed"}),a.jsx("li",{children:"The timing and sequence of events are consistent"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Opinions that are abstract or disconnected from case-specific evidence are often given less weight."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Transparency of Assumptions"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"All engineering analysis involves assumptions. Courts do not expect assumptions to be eliminated, but they do expect them to be:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Identified explicitly"}),a.jsx("li",{children:"Reasonable in context"}),a.jsx("li",{children:"Consistently applied"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Unstated or shifting assumptions can undermine credibility, even if the technical analysis is otherwise sound."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Qualifications and Scope"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Courts consider whether the expertâ€™s qualifications align with the opinions offered. Relevant factors may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Licensure and professional standing"}),a.jsx("li",{children:"Education and technical experience"}),a.jsx("li",{children:"Familiarity with the subject matter"}),a.jsx("li",{children:"Experience with similar systems or failures"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Courts may discount testimony that extends beyond the expertâ€™s demonstrated area of competence."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Treatment of Alternative Causes"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Credible engineering testimony addresses alternative causation theories. Courts look for evidence that the expert:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Considered other plausible explanations"}),a.jsx("li",{children:"Evaluated them using engineering principles"}),a.jsx("li",{children:"Explained why they were accepted or rejected"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Failure to engage with alternative causes can suggest incomplete or biased analysis."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Communication and Clarity"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Even technically correct opinions may be ineffective if they are poorly communicated. Courts value testimony that:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Clearly separates facts, analysis, and conclusions"}),a.jsx("li",{children:"Uses plain language where possible"}),a.jsx("li",{children:"Avoids unnecessary jargon"}),a.jsx("li",{children:"Acknowledges uncertainty when appropriate"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Clear explanations help courts understand both the reasoning and its limitations."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Independence and Professional Conduct"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Courts are attentive to signs of bias or advocacy. Factors that may affect credibility include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Consistency of opinions across cases"}),a.jsx("li",{children:"Compensation arrangements"}),a.jsx("li",{children:"Willingness to acknowledge unfavorable facts"}),a.jsx("li",{children:"Adherence to professional ethics"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering experts are expected to assist the court, not argue a case."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limits of Engineering Testimony"}),a.jsx("p",{className:"text-gray-700",children:"Engineering experts provide technical opinions, not legal conclusions. Courts evaluate causation testimony within the broader legal framework, which may involve additional considerations beyond engineering analysis."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Responsible experts respect these boundaries."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about how courts evaluate engineering causation testimony. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(ye,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(ye,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Mt,{})]})}function vO(){const s="2026-01-30",e="January 30, 2026",n="Root Cause vs. Legal Cause: An Engineering Perspective",r="Why the distinction between engineering root cause and legal cause matters in Missouri disputes involving technical failures.";return O.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,n]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(ye,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Root Cause vs. Legal Cause: An Engineering Perspective"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Root Cause vs. Legal Cause: An Engineering Perspective"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Why the Distinction Matters"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"In disputes involving technical failures, the terms root cause and legal cause are sometimes used interchangeably. In practice, they represent different concepts. Understanding the distinction is important for attorneys, courts, and engineers alike."}),a.jsx("p",{className:"text-gray-700",children:"Professional engineers evaluate technical causation. Courts evaluate legal responsibility. While related, these analyses serve different purposes."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Engineers Mean by Root Cause"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"In engineering practice, a root cause is the underlying technical reason a failure occurred. Identifying it typically involves:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Defining failure criteria"}),a.jsx("li",{children:"Examining system behavior and conditions"}),a.jsx("li",{children:"Reviewing assumptions and design decisions"}),a.jsx("li",{children:"Evaluating failure modes and sequences"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"A root cause analysis seeks to explain why a system did not perform as intended from an engineering standpoint."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"There may be more than one contributing technical factor, but the root cause is generally the factor without which the failure would not have occurred."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Legal Cause Is a Separate Question"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Legal causeâ€”often discussed as proximate causeâ€”is a legal concept. Courts evaluate whether a particular act or omission is sufficiently connected to an outcome to warrant responsibility under the law."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Legal causation may consider factors such as:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Foreseeability"}),a.jsx("li",{children:"Intervening events"}),a.jsx("li",{children:"Allocation of responsibility"}),a.jsx("li",{children:"Policy considerations"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"These considerations extend beyond technical analysis."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"How Engineering Analysis Informs Legal Decisions"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering causation analysis provides courts with a factual and technical foundation. Courts may rely on engineering testimony to understand:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"How a system was designed to function"}),a.jsx("li",{children:"What conditions existed at the time of failure"}),a.jsx("li",{children:"Whether technical standards were met"}),a.jsx("li",{children:"Which factors materially contributed to the outcome"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"However, engineering opinions do not determine legal outcomes on their own."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Multiple Causes and Contributing Factors"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering failures often involve multiple contributing factors. Engineers distinguish between:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Primary technical causes"}),a.jsx("li",{children:"Secondary or contributing conditions"}),a.jsx("li",{children:"Factors that were present but not causally significant"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Legal frameworks may treat these factors differently when assigning responsibility."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Importance of Clear Scope in Expert Testimony"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering experts must clearly define the scope of their opinions. Testimony should focus on technical causation and avoid legal conclusions."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Clear scope helps:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Preserve credibility"}),a.jsx("li",{children:"Avoid confusion for the court"}),a.jsx("li",{children:"Ensure testimony remains within professional competence"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Courts are generally skeptical of experts who blur the line between engineering analysis and legal judgment."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Communicating Technical Causation Effectively"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"For engineering analysis to be useful in legal settings, it must be communicated clearly. Effective testimony:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Separates facts from opinions"}),a.jsx("li",{children:"Explains assumptions and limitations"}),a.jsx("li",{children:"Uses engineering principles consistently"}),a.jsx("li",{children:"Avoids speculation beyond available evidence"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Clear communication allows legal decision-makers to properly weigh technical findings."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Professional Responsibility and Ethics"}),a.jsx("p",{className:"text-gray-700",children:"Professional engineers are bound by ethical obligations to provide honest, objective opinions. Root cause analysis must be grounded in evidence and professional judgment, regardless of how the conclusions may affect the parties involved."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about the distinction between engineering root cause and legal cause. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(ye,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(ye,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Mt,{})]})}function _O(){const s="2026-01-31",e="January 31, 2026",n="Common Mistakes in Engineering Expert Reports",r="Why report quality matters in engineering expert reports, including scope, assumptions, evidence, and communication in Missouri legal contexts.";return O.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,n]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(ye,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Common Mistakes in Engineering Expert Reports"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Common Mistakes in Engineering Expert Reports"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Why Report Quality Matters"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"In legal and dispute contexts, engineering expert reports often carry significant weight. Courts, attorneys, insurers, and opposing experts may rely on these reports to understand technical issues and evaluate causation. The quality of an expert report can influence not only how persuasive the analysis is, but whether it is taken seriously at all."}),a.jsx("p",{className:"text-gray-700",children:"Even technically correct opinions can lose credibility if they are poorly presented or inadequately supported."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Lack of Clear Scope and Questions"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"A common issue in expert reports is the absence of a clearly defined scope. Effective reports state:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"The specific questions the expert was asked to address"}),a.jsx("li",{children:"The boundaries of the analysis"}),a.jsx("li",{children:"What issues are outside the scope of the report"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Without this clarity, readers may misinterpret conclusions or assume opinions extend beyond what was actually analyzed."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Unstated or Unsupported Assumptions"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"All engineering analysis involves assumptions. Problems arise when assumptions are:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Not disclosed"}),a.jsx("li",{children:"Not justified"}),a.jsx("li",{children:"Inconsistent with available evidence"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Courts and opposing experts often focus on assumptions. Failure to state and support them can undermine otherwise sound analysis."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Insufficient Connection to Evidence"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Expert opinions must be grounded in the facts of the case. Reports that present general engineering theory without tying it to specific evidence are often less persuasive."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Effective reports:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Cite relevant documents, data, and observations"}),a.jsx("li",{children:"Explain how evidence supports conclusions"}),a.jsx("li",{children:"Distinguish between observed facts and inferred conditions"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Failure to Address Alternative Explanations"}),a.jsx("p",{className:"text-gray-700",children:"Credible engineering analysis considers plausible alternative causes. Reports that present a single explanation without addressing reasonable alternatives may appear incomplete or biased."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Addressing alternative explanations does not weaken a report; it often strengthens it by demonstrating that competing hypotheses were considered and evaluated."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Overstating Certainty"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering analysis often involves uncertainty. Overstating confidence or presenting conclusions as absolute can be misleading."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Responsible reports:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Acknowledge data limitations"}),a.jsx("li",{children:"Identify uncertainties or assumptions"}),a.jsx("li",{children:"Avoid definitive language when evidence does not support it"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Transparency about uncertainty enhances credibility."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Blurring Technical and Legal Conclusions"}),a.jsx("p",{className:"text-gray-700",children:"Engineering experts provide technical opinions, not legal judgments. Reports that drift into legal conclusionsâ€”such as fault, negligence, or liabilityâ€”risk being discounted or challenged."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Maintaining a clear distinction between technical causation and legal responsibility helps preserve the integrity of the report."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Poor Organization and Communication"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Even strong technical analysis can be undermined by poor structure or unclear writing. Common communication issues include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Dense, jargon-heavy language"}),a.jsx("li",{children:"Unclear presentation of methods"}),a.jsx("li",{children:"Disorganized findings"}),a.jsx("li",{children:"Lack of summaries or conclusions"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Clear organization and plain language help non-technical readers understand the analysis and reasoning."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Inadequate Documentation of Methods"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Courts and opposing experts often scrutinize methodology. Reports should describe:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"The methods used"}),a.jsx("li",{children:"Why those methods are appropriate"}),a.jsx("li",{children:"Any limitations of the methods"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Without this documentation, opinions may appear unsupported."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about common issues in engineering expert reports. It does not constitute engineering or legal advice and does not establish a professional engagement."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(ye,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(ye,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Mt,{})]})}function EO(){const s="2026-02-01",e="February 1, 2026",n="Structural Analysis and Building Approval in Missouri: What to Know",r="How structural analysis relates to building approval in Missouri, including when engineering is required and the role of a licensed Professional Engineer.";return O.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,n]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(ye,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Structural Analysis and Building Approval in Missouri"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Structural Analysis and Building Approval in Missouri: What to Know"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Role of Engineering in the Approval Process"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"Building projects in Missouri often require review and approval by local authorities before construction can proceed. When a project involves structural considerations that affect safety or performance, engineering analysis may be required as part of the approval process."}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about how structural analysis relates to building approval in Missouri and how professional engineering judgment is used in that context."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When Structural Analysis Is Required"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Local building departments may require engineering analysis when proposed work:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Modifies load-bearing elements"}),a.jsx("li",{children:"Alters structural systems or support conditions"}),a.jsx("li",{children:"Involves unusual loading or non-standard configurations"}),a.jsx("li",{children:"Affects safety-related components of a structure"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"The specific requirements vary by jurisdiction and project type. Some projects may proceed under prescriptive code provisions, while others require engineering evaluation."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Role of a Missouri-Licensed Professional Engineer"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"When structural analysis is required for approval, a Missouri-licensed Professional Engineer may be engaged to evaluate the proposed work and prepare supporting documentation."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering involvement may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Review of proposed modifications"}),a.jsx("li",{children:"Evaluation of load paths and structural behavior"}),a.jsx("li",{children:"Assessment of compatibility with existing structures"}),a.jsx("li",{children:"Preparation of sealed engineering reports or drawings when required"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"The engineerâ€™s role is to apply professional judgment to the specific conditions of the project."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Sealed Documents and Submissions"}),a.jsx("p",{className:"text-gray-700",children:"In many cases, building departments require sealed documents for work involving structural modifications. Sealed submissions indicate that a licensed engineer has taken professional responsibility for the technical content of the analysis or drawings."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Requirements for sealing, signing, and dating are governed by Missouri statutes and professional rules. Not all submissions require a seal, but when they do, sealing should be performed in accordance with applicable regulations."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Interaction with Building Codes and Prescriptive Provisions"}),a.jsx("p",{className:"text-gray-700",children:"Building codes often include prescriptive provisions for common construction scenarios. When work falls outside prescriptive limits, engineering analysis may be required to demonstrate compliance with performance-based criteria."}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Engineers may evaluate:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Whether proposed work meets code intent"}),a.jsx("li",{children:"Whether alternative approaches provide equivalent performance"}),a.jsx("li",{children:"Whether existing conditions warrant additional analysis"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering judgment supplements code requirements rather than replacing them."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Coordination with Design and Construction Teams"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering analysis for building approval typically occurs alongside architectural and construction planning. Clear communication among project participants helps ensure that:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Engineering assumptions are understood"}),a.jsx("li",{children:"Structural implications are considered early"}),a.jsx("li",{children:"Submissions to authorities are complete and consistent"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Early coordination can reduce delays and rework during the approval process."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations and Scope"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering analysis for building approval is limited to the scope of the engagement. It does not replace:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Contractor means and methods"}),a.jsx("li",{children:"Construction supervision"}),a.jsx("li",{children:"Ongoing inspection unless specifically agreed"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Understanding the boundaries of professional responsibility is important for all parties involved."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Seek Engineering Input"}),a.jsx("p",{className:"text-gray-700",children:"If there is uncertainty about whether structural analysis is required, consulting with a licensed Professional Engineer early in the planning process can help clarify requirements and define appropriate scope."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about structural analysis and building approval in Missouri. It does not constitute engineering advice and does not establish a professional engagement."})]}),a.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[a.jsxs("p",{children:["Published ",a.jsx("time",{dateTime:s,children:e})]}),a.jsxs("p",{children:["Related:"," ",a.jsx(ye,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",a.jsx(ye,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),a.jsx(Mt,{})]})}function TO(){const s="2026-02-02",e="February 2, 2026",n="What Is a Property Condition Assessment (PCA)?",r="A Property Condition Assessment (PCA) is a high-level evaluation of a buildingâ€™s condition used in due diligence, financing, and asset planning to identify significant deficiencies and risks.";return O.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,n]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(ye,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Property Condition Assessment (PCA)"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"What Is a Property Condition Assessment (PCA)?"}),a.jsx("p",{className:"text-sm text-gray-600",children:e}),a.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Purpose of a PCA"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"A Property Condition Assessment (PCA) is an evaluation of the physical condition of a building or group of buildings. PCAs are commonly used in real estate transactions, financing, asset management, and due diligence to understand the current condition of a property and to identify significant deficiencies that may require repair or further investigation."}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about what a PCA is, what it typically includes, and how engineering judgment may be applied in the process."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What a PCA Typically Covers"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"While the scope of a PCA can vary depending on the property type and purpose of the assessment, PCAs often include a review of major building systems, such as:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Structural components"}),a.jsx("li",{children:"Building envelope (roof, exterior walls, openings)"}),a.jsx("li",{children:"Mechanical, electrical, and plumbing systems"}),a.jsx("li",{children:"Life safety systems"}),a.jsx("li",{children:"Site-related features affecting the building"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"The goal is to identify observed conditions and potential concerns, not to provide detailed design or repair plans."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"The Role of Engineering Judgment"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"In some cases, a PCA involves professional engineering judgment, particularly when observed conditions may affect safety, performance, or service life. Engineering involvement may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Evaluation of observed structural or system deficiencies"}),a.jsx("li",{children:"Assessment of potential implications of deterioration"}),a.jsx("li",{children:"Identification of conditions that warrant further investigation"}),a.jsx("li",{children:"Technical input on remaining useful life of components"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Not all PCAs require a Professional Engineer, but when engineering judgment is applied, licensure may be required depending on jurisdiction and scope."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"PCA vs. Detailed Engineering Investigation"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"A PCA is generally a high-level assessment. It is not a substitute for:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Detailed structural analysis"}),a.jsx("li",{children:"Invasive testing"}),a.jsx("li",{children:"Design of repairs or modifications"}),a.jsx("li",{children:"Construction documents"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"When a PCA identifies issues that cannot be evaluated visually or at a high level, further engineering investigation may be recommended."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"How PCAs Are Used"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"PCAs are commonly used to:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Inform purchase or financing decisions"}),a.jsx("li",{children:"Identify near-term capital needs"}),a.jsx("li",{children:"Support asset management planning"}),a.jsx("li",{children:"Provide baseline documentation of building condition"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Lenders and investors often rely on PCAs to understand potential risks associated with a property."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Documentation and Reporting"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"PCA reports typically document:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Observed conditions"}),a.jsx("li",{children:"Noted deficiencies"}),a.jsx("li",{children:"Areas of uncertainty or limited access"}),a.jsx("li",{children:"Recommendations for further evaluation where appropriate"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Clear documentation helps readers understand both what was observed and what was not evaluated."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations of a PCA"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"PCAs are limited by:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Accessibility of building components"}),a.jsx("li",{children:"Non-invasive nature of most assessments"}),a.jsx("li",{children:"Time and scope constraints"}),a.jsx("li",{children:"Reliance on visual observation"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Responsible PCA reports acknowledge these limitations rather than implying certainty where none exists."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Consider a PCA"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"A PCA may be appropriate when:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Acquiring or refinancing a property"}),a.jsx("li",{children:"Evaluating capital planning needs"}),a.jsx("li",{children:"Establishing a baseline condition record"}),a.jsx("li",{children:"Assessing potential risks prior to significant investment"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Early assessment can help identify issues before they become more costly."})]}),a.jsxs("section",{className:"border-t border-gray-200 pt-6",children:[a.jsx("h2",{className:"text-xl font-serif text-gray-900 mb-2",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about Property Condition Assessments. It does not constitute engineering advice and does not establish a professional engagement."})]})]})}),a.jsx(Mt,{})]})}function wO(){const s="2026-02-03",e="February 3, 2026",n="PCA vs. CNA: Understanding the Difference",r="Property Condition Assessments (PCAs) and Capital Needs Assessments (CNAs) both evaluate buildings, but they serve different purposes: present condition baseline vs. future capital planning.";return O.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",s),u("article:published_time",s)},[r,s,n]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-4",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[a.jsx(ye,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ PCA vs. CNA"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"PCA vs. CNA: Understanding the Difference"}),a.jsx("p",{className:"text-sm text-gray-600",children:e}),a.jsx("p",{className:"text-lg text-gray-700",children:"Two Common Property Assessments With Different Purposes"})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-700",children:"Property Condition Assessments (PCAs) and Capital Needs Assessments (CNAs) are both used to evaluate buildings, but they serve different purposes and answer different questions. Understanding the distinction can help property owners, lenders, and investors request the appropriate scope of work and interpret reports correctly."}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about PCAs and CNAs and how they differ in purpose, scope, and application."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Is a Property Condition Assessment (PCA)?"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"A PCA is a high-level evaluation of the current physical condition of a property. It is typically used to identify observed deficiencies and potential concerns at a point in time."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"A PCA commonly focuses on:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Current condition of major building systems"}),a.jsx("li",{children:"Observable deficiencies or deterioration"}),a.jsx("li",{children:"Issues that may warrant further investigation"}),a.jsx("li",{children:"Near-term concerns that may affect use or safety"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"PCAs are often used in transactions, refinancing, and due diligence to establish a baseline understanding of a propertyâ€™s condition."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Is a Capital Needs Assessment (CNA)?"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"A CNA is a forward-looking evaluation of anticipated capital expenditures over a defined planning horizon, often several years. It is commonly used for budgeting, long-term planning, and asset management."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"A CNA typically addresses:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Expected replacement or major repair of building components"}),a.jsx("li",{children:"Estimated remaining useful life of systems"}),a.jsx("li",{children:"Projected capital expenditures over time"}),a.jsx("li",{children:"Prioritization of major capital projects"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"CNAs are frequently used by property owners, HOAs, and institutions to plan for future capital needs."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Key Differences in Scope and Focus"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"While PCAs and CNAs may overlap in the systems reviewed, they differ in emphasis:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsxs("li",{children:[a.jsx("span",{className:"font-medium",children:"Time horizon"}),": PCA: present condition. CNA: future capital planning."]}),a.jsxs("li",{children:[a.jsx("span",{className:"font-medium",children:"Primary purpose"}),": PCA: due diligence and condition baseline. CNA: long-term budgeting and planning."]}),a.jsxs("li",{children:[a.jsx("span",{className:"font-medium",children:"Output"}),": PCA: condition findings and observations. CNA: capital planning projections and schedules."]})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Role of Engineering Judgment"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Both PCAs and CNAs may involve engineering judgment, particularly when evaluating structural or system-related conditions that affect safety, performance, or service life."}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering involvement may include:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Assessment of observed deficiencies"}),a.jsx("li",{children:"Evaluation of remaining useful life of components"}),a.jsx("li",{children:"Identification of conditions requiring further investigation"}),a.jsx("li",{children:"Technical input into capital planning assumptions"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Not all PCAs or CNAs require a Professional Engineer, but when professional judgment is applied, licensure may be required depending on scope and jurisdiction."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations and Assumptions"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"Both assessments rely on assumptions and are subject to limitations, including:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"Non-invasive evaluation methods"}),a.jsx("li",{children:"Limited access to certain components"}),a.jsx("li",{children:"Reliance on visual observations"}),a.jsx("li",{children:"Uncertainty in projecting future conditions and costs"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Responsible reports document these limitations clearly."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Choosing the Appropriate Assessment"}),a.jsx("p",{className:"text-gray-700 mb-3",children:"The appropriate assessment depends on the purpose of the work:"}),a.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[a.jsx("li",{children:"For transactions or refinancing: a PCA may be appropriate"}),a.jsx("li",{children:"For long-term ownership and budgeting: a CNA may be more useful"}),a.jsx("li",{children:"For complex properties: both may be appropriate, with coordinated scopes"})]}),a.jsx("p",{className:"text-gray-700 mt-3",children:"Clarifying objectives at the outset helps ensure the assessment meets the intended needs."})]}),a.jsxs("section",{className:"border-t border-gray-200 pt-6",children:[a.jsx("h2",{className:"text-xl font-serif text-gray-900 mb-2",children:"Closing"}),a.jsx("p",{className:"text-gray-700",children:"This article provides general information about the differences between Property Condition Assessments and Capital Needs Assessments. It does not constitute engineering advice and does not establish a professional engagement."})]})]})}),a.jsx(Mt,{})]})}function NO(){return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-3",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Toolbox"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Reference tools for engineering calculations and unit handling."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-serif text-gray-900",children:"Utilities"}),a.jsxs("div",{className:"border border-gray-200 p-5 bg-white",children:[a.jsx("h3",{className:"text-lg font-serif text-gray-900 mb-2",children:"Unit Conversion"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Convert numerator and denominator measurements to SI units, or convert to a target set of units."}),a.jsx(ye,{to:"/toolbox/unit-conversion",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Open unit conversion tool"})]}),a.jsxs("div",{className:"border border-gray-200 p-5 bg-white",children:[a.jsx("h3",{className:"text-lg font-serif text-gray-900 mb-2",children:"Force vectors"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Draw force vectors on an XY plane and compute the resultant."}),a.jsx(ye,{to:"/toolbox/force-vectors",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Open force vectors tool"})]}),a.jsxs("div",{className:"border border-gray-200 p-5 bg-white",children:[a.jsx("h3",{className:"text-lg font-serif text-gray-900 mb-2",children:"Static system"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Build a simple 2D static system (springs, cables/pulleys, smooth contacts) and solve Î£Fx = 0, Î£Fy = 0."}),a.jsx(ye,{to:"/toolbox/static-system",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Open static system tool"})]})]})]})}),a.jsx(Mt,{})]})}const MN=9.80665;class on{constructor(e){this.abbreviation=e.abbreviation,this.fullName=e.fullName,this.type=e.type,this.prefix=e.prefix??null,this.prefixMultiplier=e.prefixMultiplier??null,this.baseMultiplier=e.baseMultiplier??null}}class Ge{constructor(e,n){this.value=e,this.unit=n}}const Le=new on({abbreviation:"N",fullName:"Newtons",type:"Force"}),mp=s=>{if(s.baseMultiplier!=null)return s.baseMultiplier;const e=s.prefixMultiplier??1;return s.type==="Mass"?e/1e3:e},sE=(s,e,n={})=>{if(s.type==="Mass"){const l=s.baseMultiplier!=null?s.baseMultiplier*1e3:s.prefixMultiplier??1,u=s.baseMultiplier!=null?s.baseMultiplier:(s.prefixMultiplier??1)/1e3;return e==="numerator"&&!n.preferKilogram?{multiplier:l,label:"g",baseLabel:"g"}:{multiplier:u,label:"kg",baseLabel:"kg"}}const r=s.baseMultiplier??s.prefixMultiplier??1;return s.type==="Force"?{multiplier:r,label:"N",baseLabel:"N"}:s.type==="Time"?{multiplier:r,label:"s",baseLabel:"s"}:s.type==="Length"?{multiplier:r,label:"m",baseLabel:"m"}:{multiplier:r,label:s.abbreviation,baseLabel:s.abbreviation}},kg=[{name:"tera",symbol:"T",multiplier:1e12},{name:"giga",symbol:"G",multiplier:1e9},{name:"mega",symbol:"M",multiplier:1e6},{name:"kilo",symbol:"k",multiplier:1e3},{name:"",symbol:"",multiplier:1},{name:"milli",symbol:"m",multiplier:.001},{name:"micro",symbol:"Î¼",multiplier:1e-6}],iE=(s,e,n=.1)=>{const r=Math.abs(s);if(r===0)return{value:s,label:e};for(const u of kg){const d=r/u.multiplier;if(d>=n&&d<1e3)return{value:s/u.multiplier,label:`${u.symbol}${e}`}}const l=kg[kg.length-1];return{value:s/l.multiplier,label:`${l.symbol}${e}`}},rE=s=>{const e=["N","kg","m","g","s"],n=e.indexOf(s);return n===-1?e.length:n},aE=s=>[...s].sort((e,n)=>rE(e.baseLabel)-rE(n.baseLabel)).map(e=>e.label).join("*"),jO=(s,e)=>{if(!Number.isFinite(s)||s===0)return s;const n=Math.floor(Math.log10(Math.abs(s))),r=10**(e-1-n);return Math.round(s*r)/r},Vh=s=>s.map(e=>"unit"in e?{unit:e.unit,power:e.power??1}:{unit:e,power:1}),Tt=(s,e,n=[])=>{const r=Vh(e),l=Vh(n),u=r.reduce((g,{unit:y,power:p})=>g*mp(y)**(p??1),1),d=l.reduce((g,{unit:y,power:p})=>g*mp(y)**(p??1),1);return s*(u/d)},_t=(s,e,n,r,l=[])=>{const u=Tt(s,e,n),d=Tt(1,r,l);return u/d},AO=s=>{if(s.unit.type!=="Mass")throw new Error(`Expected Mass unit, received ${s.unit.type}.`);return s.value*mp(s.unit)},SO=(s,e=MN)=>{const n=AO(s);return new Ge(n*e,Le)},CO=(s,e,n=[],r={})=>{const l=Vh(e),u=Vh(n),d=l.length>1,g=l.map(({unit:q,power:ne})=>{const Z=ne??1,J=sE(q,"numerator",{preferKilogram:d});return{multiplier:J.multiplier**Z,label:Z===1?J.label:`${J.label}^${Z}`,power:Z,baseLabel:J.baseLabel}}),y=u.map(({unit:q,power:ne})=>{const Z=ne??1,J=sE(q,"denominator");return{multiplier:J.multiplier**Z,label:Z===1?J.label:`${J.label}^${Z}`,power:Z,baseLabel:J.baseLabel}}),p=g.reduce((q,ne)=>q*ne.multiplier,1),_=y.reduce((q,ne)=>q*ne.multiplier,1);let E=s*(p/_),N=aE(g);const V=y.map(q=>q.label).join("*");if(g.length===1&&g[0].power===1){const q=g[0].baseLabel;if(q==="N"||q==="g"||q==="m"){const ne=iE(E,q,.1);E=ne.value,N=ne.label}}if(g.length>1){const ne=["m","N","g"].map(Z=>g.findIndex(J=>J.baseLabel===Z&&J.power===1)).find(Z=>Z!==void 0&&Z>=0);if(ne!==void 0&&ne>=0){const Z=Math.abs(E);if(Z<.1||Z>=1e3){const J=g[ne],B=iE(E,J.baseLabel,.1);B.label!==J.label&&(E=B.value,g[ne]={...J,label:B.label},N=aE(g))}}}if(r.sigFigs!==void 0){const q=Math.max(1,Math.floor(r.sigFigs));E=jO(E,q)}const H=V&&V.includes("*")?`(${V})`:V,z=H?`${N}/${H}`:N;return{value:E,unit:z}},Iy=new on({abbreviation:"kg",fullName:"Kilograms",type:"Mass",prefix:"kilo",prefixMultiplier:1e3}),DN=new on({abbreviation:"g",fullName:"Grams",type:"Mass",prefixMultiplier:1}),PN=new on({abbreviation:"Mg",fullName:"Megagrams",type:"Mass",prefix:"mega",prefixMultiplier:1e6}),ON=new on({abbreviation:"mg",fullName:"Milligrams",type:"Mass",prefix:"milli",prefixMultiplier:.001}),IO=new on({abbreviation:"s",fullName:"Seconds",type:"Time"}),RO=new on({abbreviation:"ms",fullName:"Milliseconds",type:"Time",prefix:"milli",prefixMultiplier:.001}),MO=new on({abbreviation:"Î¼s",fullName:"Microseconds",type:"Time",prefix:"micro",prefixMultiplier:1e-6}),DO=new on({abbreviation:"mN",fullName:"Millinewtons",type:"Force",prefix:"milli",prefixMultiplier:.001}),PO=new on({abbreviation:"kN",fullName:"Kilonewtons",type:"Force",prefix:"kilo",prefixMultiplier:1e3}),OO=new on({abbreviation:"MN",fullName:"Meganewtons",type:"Force",prefix:"mega",prefixMultiplier:1e6}),xi=new on({abbreviation:"m",fullName:"Meters",type:"Length"}),kO=new on({abbreviation:"mm",fullName:"Millimeters",type:"Length",prefix:"milli",prefixMultiplier:.001}),LO=new on({abbreviation:"Î¼m",fullName:"Micrometers",type:"Length",prefix:"micro",prefixMultiplier:1e-6}),VO=new on({abbreviation:"km",fullName:"Kilometers",type:"Length",prefix:"kilo",prefixMultiplier:1e3}),UO=new on({abbreviation:"Mm",fullName:"Megameters",type:"Length",prefix:"mega",prefixMultiplier:1e6}),hf=new on({abbreviation:"ft",fullName:"Feet",type:"Length",baseMultiplier:.3048}),zO=new on({abbreviation:"hr",fullName:"Hours",type:"Time",baseMultiplier:3600}),ff=new on({abbreviation:"lb",fullName:"Pound-force",type:"Force",baseMultiplier:4.4482216152605}),kN=new on({abbreviation:"slug",fullName:"Slugs",type:"Mass",baseMultiplier:14.59390294}),Oc=[{label:"N",unit:Le},{label:"kN",unit:PO},{label:"MN",unit:OO},{label:"mN",unit:DO},{label:"lb",unit:ff},{label:"kg",unit:Iy},{label:"g",unit:DN},{label:"mg",unit:ON},{label:"Mg",unit:PN},{label:"slug",unit:kN},{label:"m",unit:xi},{label:"mm",unit:kO},{label:"Î¼m",unit:LO},{label:"km",unit:VO},{label:"Mm",unit:UO},{label:"ft",unit:hf},{label:"s",unit:IO},{label:"ms",unit:RO},{label:"Î¼s",unit:MO},{label:"hr",unit:zO}],eh=s=>Oc.find(n=>n.label===s)?.unit??Le,oE=s=>Number.isFinite(s)?s===0?"0":Number(s.toPrecision(6)).toString():"â€”";function qO(){const[s,e]=O.useState("1"),[n,r]=O.useState("1"),[l,u]=O.useState("N"),[d,g]=O.useState("s"),[y,p]=O.useState("N"),[_,E]=O.useState("s"),[N,V]=O.useState(1),[H,z]=O.useState(1),[q,ne]=O.useState(1),[Z,J]=O.useState(1),B=O.useMemo(()=>eh(l),[l]),de=O.useMemo(()=>eh(d),[d]),ge=O.useMemo(()=>eh(y),[y]),S=O.useMemo(()=>eh(_),[_]),A=Number(s),I=Number(n),R=Number.isFinite(A),P=Number.isFinite(I)&&I!==0,F=R&&P?A/I:NaN,M=O.useMemo(()=>Number.isFinite(F)?CO(F,[{unit:B,power:N}],[{unit:de,power:H}],{sigFigs:6}):null,[F,B,de,N,H]),Ne=O.useMemo(()=>{if(!Number.isFinite(F))return null;const be=_t(F,[{unit:B,power:N}],[{unit:de,power:H}],[{unit:ge,power:q}],[{unit:S,power:Z}]),Q=q===1?ge.abbreviation:`${ge.abbreviation}^${q}`,he=Z===1?S.abbreviation:`${S.abbreviation}^${Z}`,pe=`${Q}/${he}`;return{value:be,unit:pe}},[F,B,de,N,H,ge,S,q,Z]);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-3",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Unit Conversion"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Convert a numerator and denominator measurement to SI, or convert to a target unit pair."})]}),a.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-serif text-gray-900",children:"Input"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"block text-sm text-gray-700",children:["Numerator value",a.jsx("input",{className:"mt-1 w-full border border-gray-300 px-3 py-2 text-sm",value:s,onChange:be=>e(be.target.value),inputMode:"decimal"})]}),a.jsxs("label",{className:"block text-sm text-gray-700",children:["Numerator unit",a.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[a.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:l,onChange:be=>u(be.target.value),children:Oc.map(be=>a.jsx("option",{value:be.label,children:be.label},be.label))}),a.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:N,onChange:be=>V(Number(be.target.value)),children:[a.jsx("option",{value:1,children:"^1"}),a.jsx("option",{value:2,children:"^2"}),a.jsx("option",{value:3,children:"^3"})]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"block text-sm text-gray-700",children:["Denominator value",a.jsx("input",{className:"mt-1 w-full border border-gray-300 px-3 py-2 text-sm",value:n,onChange:be=>r(be.target.value),inputMode:"decimal"})]}),a.jsxs("label",{className:"block text-sm text-gray-700",children:["Denominator unit",a.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[a.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:d,onChange:be=>g(be.target.value),children:Oc.map(be=>a.jsx("option",{value:be.label,children:be.label},be.label))}),a.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:H,onChange:be=>z(Number(be.target.value)),children:[a.jsx("option",{value:1,children:"^1"}),a.jsx("option",{value:2,children:"^2"}),a.jsx("option",{value:3,children:"^3"})]})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-serif text-gray-900",children:"Results"}),a.jsxs("div",{className:"border border-gray-200 p-4 space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"A) Convert to SI"}),a.jsx("p",{className:"text-lg text-gray-900",children:M?`${oE(M.value)} ${M.unit}`:"â€”"})]}),a.jsxs("div",{className:"border border-gray-200 p-4 space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"B) Convert to target numerator / denominator"}),a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsxs("label",{className:"block text-sm text-gray-700",children:["Target numerator unit",a.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[a.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:y,onChange:be=>p(be.target.value),children:Oc.map(be=>a.jsx("option",{value:be.label,children:be.label},be.label))}),a.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:q,onChange:be=>ne(Number(be.target.value)),children:[a.jsx("option",{value:1,children:"^1"}),a.jsx("option",{value:2,children:"^2"}),a.jsx("option",{value:3,children:"^3"})]})]})]}),a.jsxs("label",{className:"block text-sm text-gray-700",children:["Target denominator unit",a.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[a.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:_,onChange:be=>E(be.target.value),children:Oc.map(be=>a.jsx("option",{value:be.label,children:be.label},be.label))}),a.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:Z,onChange:be=>J(Number(be.target.value)),children:[a.jsx("option",{value:1,children:"^1"}),a.jsx("option",{value:2,children:"^2"}),a.jsx("option",{value:3,children:"^3"})]})]})]})]}),a.jsx("p",{className:"text-lg text-gray-900",children:Ne?`${oE(Ne.value)} ${Ne.unit}`:"â€”"})]}),!R&&a.jsx("p",{className:"text-sm text-red-600",children:"Enter a valid numerator value."}),!P&&a.jsx("p",{className:"text-sm text-red-600",children:"Enter a valid, non-zero denominator value."})]})]})]})}),a.jsx(Mt,{})]})}const th=2*Math.PI,qr=(s,e)=>{if(!Number.isFinite(s))throw new Error(`${e} must be a finite number.`)},ra=s=>{const e=(s%th+th)%th;return e===th?0:e},LN=s=>Math.hypot(s.x,s.y,s.z);class gn{constructor(e){this._radians=e}static fromDegrees(e){return qr(e,"degrees"),gn.fromRadians(e*Math.PI/180)}static fromRadians(e){return qr(e,"radians"),new gn(ra(e))}get radians(){return this._radians}get degrees(){return this._radians*180/Math.PI}}const Ry=s=>{if(s.unit.type!=="Force")throw new Error(`Expected Force unit, received ${s.unit.type}.`);return Tt(s.value,[s.unit],[])};class ks{constructor(e){this._unit=e}static fromUnitVector(e){const n=LN(e);if(!Number.isFinite(n)||n===0)throw new Error("Unit vector must be a non-zero finite vector.");return new ks({x:e.x/n,y:e.y/n,z:e.z/n})}static fromThetaPhiRadians(e,n){qr(e,"theta"),qr(n,"phi");const r=ra(e),l=Math.max(-Math.PI/2,Math.min(Math.PI/2,n)),u=Math.cos(l),d={x:u*Math.cos(r),y:u*Math.sin(r),z:Math.sin(l)};return new ks(d)}static fromThetaPhiDegrees(e,n){return ks.fromThetaPhiRadians(e*Math.PI/180,n*Math.PI/180)}static fromDirectionAnglesDegrees(e,n,r){qr(e,"alpha"),qr(n,"beta"),qr(r,"gamma");const l=Math.cos(e*Math.PI/180),u=Math.cos(n*Math.PI/180),d=Math.cos(r*Math.PI/180),g=Math.hypot(l,u,d);if(!Number.isFinite(g)||g===0)throw new Error("Invalid direction angles.");return new ks({x:l/g,y:u/g,z:d/g})}static completeDirectionAnglesDegrees(e){const n=e.alphaDeg??null,r=e.betaDeg??null,l=e.gammaDeg??null;if([n!=null?1:0,r!=null?1:0,l!=null?1:0].reduce((V,H)=>V+H,0)!==2)throw new Error("Provide exactly two of alpha/beta/gamma to compute the third.");const d=V=>{qr(V,"angle");const H=Math.cos(V*Math.PI/180);return H*H},g=n!=null?d(n):0,y=r!=null?d(r):0,p=l!=null?d(l):0,_=1-(g+y+p);if(!Number.isFinite(_)||_<-1e-12)throw new Error("Invalid direction angles: cos^2 sum exceeds 1.");const E=Math.sqrt(Math.max(0,_)),N=Math.acos(Math.max(-1,Math.min(1,E)))*180/Math.PI;return{alphaDeg:n??N,betaDeg:r??N,gammaDeg:l??N}}get unit(){return this._unit}get thetaRadians(){return ra(Math.atan2(this._unit.y,this._unit.x))}get phiRadians(){const e=Math.hypot(this._unit.x,this._unit.y);return Math.atan2(this._unit.z,e)}get thetaDegrees(){return this.thetaRadians*180/Math.PI}get phiDegrees(){return this.phiRadians*180/Math.PI}get alphaDegrees(){return Math.acos(Math.max(-1,Math.min(1,this._unit.x)))*180/Math.PI}get betaDegrees(){return Math.acos(Math.max(-1,Math.min(1,this._unit.y)))*180/Math.PI}get gammaDegrees(){return Math.acos(Math.max(-1,Math.min(1,this._unit.z)))*180/Math.PI}}class Tn{constructor(e,n){if(e.unit.type!=="Force")throw new Error(`Expected Force unit, received ${e.unit.type}.`);this.measurement=e,this.direction=n}static fromComponents(e,n){if(e.unit.type!=="Force"||n.unit.type!=="Force")throw new Error("Components must use Force units.");if(e.unit!==n.unit)throw new Error("Component units must match.");const r=Tt(e.value,[e.unit],[]),l=Tt(n.value,[n.unit],[]),u=Math.hypot(r,l),d=u===0?0:ra(Math.atan2(l,r));return new Tn(new Ge(u,Le),gn.fromRadians(d))}toComponentsNewtons(){const e=Ry(this.measurement),n=this.direction.radians;return{x:e*Math.cos(n),y:e*Math.sin(n)}}components(e=Le){if(e.type!=="Force")throw new Error(`Expected Force unit, received ${e.type}.`);const n=this.toComponentsNewtons(),r=_t(n.x,[Le],[],[e],[]),l=_t(n.y,[Le],[],[e],[]);return{i:new Ge(r,e),j:new Ge(l,e)}}toIHatJHatString(e={}){const n=e.unit??Le,r=e.sigFigs??6,{i:l,j:u}=this.components(n),d=E=>Number.isFinite(E)?E===0?"0":Number(E.toPrecision(Math.max(1,Math.floor(r)))).toString():"â€”",g=`${d(l.value)} ${n.abbreviation} iÌ‚`,y=Math.abs(u.value),p=u.value>=0?"+":"-",_=`${d(y)} ${n.abbreviation} jÌ‚`;return`${g} ${p} ${_}`}add(e){return Bc(this,e)}}class $a{constructor(e,n){if(e.unit.type!=="Force")throw new Error(`Expected Force unit, received ${e.unit.type}.`);this.measurement=e,this.direction=n}static fromComponents(e,n,r){if(e.unit.type!=="Force"||n.unit.type!=="Force"||r.unit.type!=="Force")throw new Error("Components must use Force units.");if(e.unit!==n.unit||e.unit!==r.unit)throw new Error("Component units must match.");const l=Tt(e.value,[e.unit],[]),u=Tt(n.value,[n.unit],[]),d=Tt(r.value,[r.unit],[]),g=Math.hypot(l,u,d),y=g===0?{x:1,y:0,z:0}:{x:l/g,y:u/g,z:d/g};return new $a(new Ge(g,Le),ks.fromUnitVector(y))}toComponentsNewtons(){const e=Ry(this.measurement),n=this.direction.unit;return{x:e*n.x,y:e*n.y,z:e*n.z}}components(e=Le){if(e.type!=="Force")throw new Error(`Expected Force unit, received ${e.type}.`);const n=this.toComponentsNewtons(),r=_t(n.x,[Le],[],[e],[]),l=_t(n.y,[Le],[],[e],[]),u=_t(n.z,[Le],[],[e],[]);return{i:new Ge(r,e),j:new Ge(l,e),k:new Ge(u,e)}}toIJKString(e={}){const n=e.unit??Le,r=e.sigFigs??6,{i:l,j:u,k:d}=this.components(n),g=N=>Number.isFinite(N)?N===0?"0":Number(N.toPrecision(Math.max(1,Math.floor(r)))).toString():"â€”",y=(N,V)=>`${g(Math.abs(N))} ${n.abbreviation} ${V}`,p=`${g(l.value)} ${n.abbreviation} iÌ‚`,_=`${u.value>=0?"+":"-"} ${y(u.value,"jÌ‚")}`,E=`${d.value>=0?"+":"-"} ${y(d.value,"kÌ‚")}`;return`${p} ${_} ${E}`}}const FO=(...s)=>{if(s.length===0)throw new Error("addForces3D requires at least one force.");const e=s.reduce((l,u)=>{const d=u.toComponentsNewtons();return{x:l.x+d.x,y:l.y+d.y,z:l.z+d.z}},{x:0,y:0,z:0}),n=LN(e),r=n===0?{x:1,y:0,z:0}:{x:e.x/n,y:e.y/n,z:e.z/n};return new $a(new Ge(n,Le),ks.fromUnitVector(r))},BO=(s,e)=>{const n=s.toComponentsNewtons(),r=e.toComponentsNewtons(),l={x:n.x-r.x,y:n.y-r.y},u=Math.hypot(l.x,l.y),d=u===0?0:ra(Math.atan2(l.y,l.x));return new Tn(new Ge(u,Le),gn.fromRadians(d))},HO=s=>{const e=s.resultant.toComponentsNewtons(),n=s.direction1.radians,r=s.direction2.radians,l=Math.cos(n),u=Math.cos(r),d=Math.sin(n),g=Math.sin(r),y=l*g-u*d;if(!Number.isFinite(y)||Math.abs(y)<1e-12)throw new Error("Directions are colinear; cannot solve unique magnitudes.");const p=(e.x*g-u*e.y)/y,_=(l*e.y-e.x*d)/y;return{force1:new Tn(new Ge(p,Le),s.direction1),force2:new Tn(new Ge(_,Le),s.direction2)}},$O=s=>{const e=s.knownForces.length?Bc(...s.knownForces):null,n=e?e.toComponentsNewtons():{x:0,y:0},r=s.resultantDirection.radians,l={x:Math.cos(r),y:Math.sin(r)},u={x:-Math.sin(r),y:Math.cos(r)},d=Ry(s.unknownForceMagnitude);if(!Number.isFinite(d)||d<=0)throw new Error("Unknown force magnitude must be a positive finite number.");const y=-(u.x*n.x+u.y*n.y)/d;if(!Number.isFinite(y)||Math.abs(y)>1)throw new Error("Not solvable: no direction satisfies the resultant direction constraint.");const p=Math.asin(y),_=[ra(r+p),ra(r+(Math.PI-p))];let E=null;for(const N of _){const V={x:n.x+d*Math.cos(N),y:n.y+d*Math.sin(N)},H=u.x*V.x+u.y*V.y,z=l.x*V.x+l.y*V.y,q=1e-9*Math.max(1,Math.abs(z),Math.hypot(V.x,V.y));z<-q||Math.abs(H)>1e3*q||(!E||z>E.resultantMagnitude)&&(E={theta:N,resultantMagnitude:z,perp:H,sum:V})}if(!E)throw new Error("Not solvable: solutions point opposite the given resultant direction.");return{unknownForce:new Tn(new Ge(d,Le),gn.fromRadians(E.theta)),resultant:new Tn(new Ge(E.resultantMagnitude,Le),gn.fromRadians(r))}},Bc=(...s)=>{if(s.length===0)throw new Error("addForces requires at least one force.");const e=s.reduce((l,u)=>{const d=u.toComponentsNewtons();return{x:l.x+d.x,y:l.y+d.y}},{x:0,y:0}),n=Math.hypot(e.x,e.y),r=ra(Math.atan2(e.y,e.x));return new Tn(new Ge(n,Le),gn.fromRadians(r))},gp=[{label:"N",unit:Le},{label:"lb",unit:ff}],Uh=s=>gp.find(e=>e.label===s)?.unit??Le,pp=[{label:"m",unit:xi},{label:"ft",unit:hf}],zr=s=>pp.find(e=>e.label===s)?.unit??xi,Et=s=>Number.isFinite(s)?s===0?"0":Number(s.toPrecision(6)).toString():"â€”",cn=s=>{const e=s.trim();if(e==="")return null;const n=Number(e);return Number.isFinite(n)?n:null},GO=s=>{if(s.entryMode!=="alphaBetaGamma")return s;const e=cn(s.alphaText),n=cn(s.betaText),r=cn(s.gammaText);if([e!=null?1:0,n!=null?1:0,r!=null?1:0].reduce((u,d)=>u+d,0)!==2)return s;try{const u=ks.completeDirectionAnglesDegrees({alphaDeg:e,betaDeg:n,gammaDeg:r});return{...s,alphaText:s.alphaText.trim()?s.alphaText:Et(u.alphaDeg),betaText:s.betaText.trim()?s.betaText:Et(u.betaDeg),gammaText:s.gammaText.trim()?s.gammaText:Et(u.gammaDeg)}}catch{return s}},lE=(s,e,n,r)=>{const l=`${Et(s)} ${r} iÌ‚`,u=e>=0?"+":"-",d=n>=0?"+":"-",g=`${Et(Math.abs(e))} ${r} jÌ‚`,y=`${Et(Math.abs(n))} ${r} kÌ‚`;return`${l} ${u} ${g} ${d} ${y}`},al=(s,e)=>{const n=cn(s);if(n===null)return 0;if(e.type!=="Length")throw new Error(`Expected Length unit, received ${e.type}.`);return Tt(n,[e],[])},KO=(s,e)=>{const n=cn(s.endXText),r=cn(s.endYText),l=cn(s.endZText);if(n===null||r===null||l===null)return null;if(e.type!=="Length")throw new Error(`Expected Length unit, received ${e.type}.`);return{x:Tt(n,[e],[]),y:Tt(r,[e],[]),z:Tt(l,[e],[])}},VN=(s,e)=>{const n=KO(s,e);if(!n)return null;const r={x:al(s.startXText,e),y:al(s.startYText,e),z:al(s.startZText,e)},l={x:n.x-r.x,y:n.y-r.y,z:n.z-r.z};try{return ks.fromUnitVector(l)}catch{return null}},Hc=640,nh=40,cE={x:Hc/2,y:Hc/2},YO=Math.cos(Math.PI/6),WO=Math.sin(Math.PI/6),QO=1,Ur=s=>{const e=(s.x-s.y)*YO,n=(s.x+s.y)*WO+s.z*QO;return{x:cE.x+e,y:cE.y-n}},sh=s=>Tt(s.measurement.value,[s.measurement.unit],[]),kc=s=>{const e=Uh(s.unitLabel);if(s.entryMode==="points"){const d=cn(s.magnitudeText);if(d===null)return null;const g=VN(s,zr(s.positionUnitLabel));return g?new $a(new Ge(d,e),g):null}if(s.entryMode==="components"){const d=cn(s.iText),g=cn(s.jText),y=cn(s.kText);return d===null||g===null||y===null?null:$a.fromComponents(new Ge(d,e),new Ge(g,e),new Ge(y,e))}if(s.entryMode==="thetaPhi"){const d=cn(s.magnitudeText),g=cn(s.thetaText),y=cn(s.phiText);return d===null||g===null||y===null?null:new $a(new Ge(d,e),ks.fromThetaPhiDegrees(g,y))}const n=cn(s.magnitudeText),r=cn(s.alphaText),l=cn(s.betaText),u=cn(s.gammaText);return n===null||r===null||l===null||u===null?null:new $a(new Ge(n,e),ks.fromDirectionAnglesDegrees(r,l,u))},uE=s=>{const e=Uh(s.unitLabel),n=GO(s),r=kc(n);if(!r)return s;const l=r.components(e),u=_t(r.measurement.value,[Le],[],[e],[]);return{...n,iText:Et(l.i.value),jText:Et(l.j.value),kText:Et(l.k.value),magnitudeText:Et(u),thetaText:Et(r.direction.thetaDegrees),phiText:Et(r.direction.phiDegrees),alphaText:Et(r.direction.alphaDegrees),betaText:Et(r.direction.betaDegrees),gammaText:Et(r.direction.gammaDegrees)}};function XO(){const[s,e]=O.useState("N"),[n,r]=O.useState("m"),l=O.useMemo(()=>zr(n),[n]),[u,d]=O.useState([]),[g,y]=O.useState(null),[p,_]=O.useState(null),E=O.useMemo(()=>{const B=[...u.map(de=>kc(de)).filter(de=>de!=null).map(de=>sh(de)),...p?[sh(p)]:[]].filter(de=>Number.isFinite(de)&&de>0);return B.length?Math.max(...B):1},[u,p]),N=O.useMemo(()=>{const B=Hc/2-80;return Math.min(1,B/E)},[E]),V=()=>{y(null);const B=crypto.randomUUID();d(de=>[{id:B,entryMode:"components",unitLabel:s,positionUnitLabel:n,startXText:"0",startYText:"0",startZText:"0",endXText:"",endYText:"",endZText:"",iText:"",jText:"",kText:"",magnitudeText:"",thetaText:"",phiText:"",alphaText:"",betaText:"",gammaText:""},...de])},H=B=>{d(de=>de.filter(ge=>ge.id!==B)),_(null)},z=(B,de)=>{d(ge=>ge.map(S=>{if(S.id!==B)return S;const A={...S,...de};return uE(A)})),_(null)},q=(B,de,ge)=>{if(B.trim()==="")return"";const S=cn(B);return S===null?"":de.type!=="Length"||ge.type!=="Length"?B:Et(_t(S,[de],[],[ge],[]))},ne=(B,de)=>{d(ge=>ge.map(S=>{if(S.id!==B)return S;const A=zr(S.positionUnitLabel),I=zr(de),R={...S,positionUnitLabel:de,startXText:q(S.startXText,A,I),startYText:q(S.startYText,A,I),startZText:q(S.startZText,A,I),endXText:q(S.endXText,A,I),endYText:q(S.endYText,A,I),endZText:q(S.endZText,A,I)};return uE(R)})),_(null)},Z=()=>{if(y(null),u.length===0)return;const B=u.map(de=>kc(de)).filter(de=>de!=null);if(B.length!==u.length){y("Cannot draw resultant: one or more vectors are incomplete.");return}_(FO(...B))},J=O.useMemo(()=>{if(!p)return null;const B=Uh(s),de=_t(p.measurement.value,[Le],[],[B],[]),ge=p.components(B);return{magnitude:de,theta:p.direction.thetaDegrees,phi:p.direction.phiDegrees,alpha:p.direction.alphaDegrees,beta:p.direction.betaDegrees,gamma:p.direction.gammaDegrees,i:ge.i.value,j:ge.j.value,k:ge.k.value}},[p,s]);return a.jsxs("div",{className:"border border-gray-200 bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[a.jsx("div",{className:"text-sm text-gray-700",children:"3D mode uses component/angle entry and renders an isometric preview."}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Force"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:s,onChange:B=>e(B.target.value),children:gp.map(B=>a.jsx("option",{value:B.label,children:B.label},B.label))})]}),a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Position"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:n,onChange:B=>r(B.target.value),children:pp.map(B=>a.jsx("option",{value:B.label,children:B.label},B.label))})]})]})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"border border-gray-200 bg-gray-50",children:[a.jsx("div",{className:"px-3 py-2 text-sm text-gray-700 border-b border-gray-200",children:"Preview (isometric): +X is down-right, +Y is down-left, +Z is up."}),a.jsx("div",{className:"p-3",children:a.jsxs("svg",{viewBox:`0 0 ${Hc} ${Hc}`,className:"w-full h-[420px] select-none bg-white border border-gray-200",children:[a.jsx("defs",{children:a.jsx("marker",{id:"arrowhead-3d",markerWidth:"10",markerHeight:"10",refX:"8",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:a.jsx("path",{d:"M0,0 L8,3 L0,6 Z",fill:"currentColor"})})}),(()=>{const B=Tt(6,[l],[])*nh,de=Ur({x:0,y:0,z:0}),ge=Ur({x:B,y:0,z:0}),S=Ur({x:0,y:B,z:0}),A=Ur({x:0,y:0,z:B});return a.jsxs("g",{className:"text-gray-400",children:[a.jsx("line",{x1:de.x,y1:de.y,x2:ge.x,y2:ge.y,stroke:"currentColor",strokeWidth:2}),a.jsx("line",{x1:de.x,y1:de.y,x2:S.x,y2:S.y,stroke:"currentColor",strokeWidth:2}),a.jsx("line",{x1:de.x,y1:de.y,x2:A.x,y2:A.y,stroke:"currentColor",strokeWidth:2}),a.jsx("text",{x:ge.x+6,y:ge.y,fill:"currentColor",fontSize:12,dominantBaseline:"middle",children:"+X"}),a.jsx("text",{x:S.x-6,y:S.y,fill:"currentColor",fontSize:12,dominantBaseline:"middle",textAnchor:"end",children:"+Y"}),a.jsx("text",{x:A.x,y:A.y-8,fill:"currentColor",fontSize:12,dominantBaseline:"middle",textAnchor:"middle",children:"+Z"}),a.jsx("circle",{cx:de.x,cy:de.y,r:3,fill:"currentColor"})]})})(),u.map((B,de)=>{const ge=kc(B);if(!ge)return null;const S=sh(ge);if(!Number.isFinite(S)||S<=0)return null;const A=B.entryMode==="points"?{x:al(B.startXText,zr(B.positionUnitLabel))*nh,y:al(B.startYText,zr(B.positionUnitLabel))*nh,z:al(B.startZText,zr(B.positionUnitLabel))*nh}:{x:0,y:0,z:0},I=ge.direction.unit,R={x:I.x*S*N,y:I.y*S*N,z:I.z*S*N},P={x:A.x+R.x,y:A.y+R.y,z:A.z+R.z},F=Ur(A),M=Ur(P),Ne=`F${u.length-de}`;return a.jsxs("g",{className:"text-gray-700",children:[a.jsx("line",{x1:F.x,y1:F.y,x2:M.x,y2:M.y,stroke:"currentColor",strokeWidth:4,markerEnd:"url(#arrowhead-3d)"}),a.jsx("text",{x:(F.x+M.x)/2,y:(F.y+M.y)/2,fill:"currentColor",fontSize:12,dominantBaseline:"middle",children:Ne})]},B.id)}),p?(()=>{const B=sh(p);if(!Number.isFinite(B)||B<=0)return null;const de=p.direction.unit,ge={x:0,y:0,z:0},S={x:de.x*B*N,y:de.y*B*N,z:de.z*B*N},A=Ur(ge),I=Ur(S);return a.jsxs("g",{className:"text-red-600",children:[a.jsx("line",{x1:A.x,y1:A.y,x2:I.x,y2:I.y,stroke:"currentColor",strokeWidth:6,markerEnd:"url(#arrowhead-3d)"}),a.jsx("text",{x:(A.x+I.x)/2,y:(A.y+I.y)/2,fill:"currentColor",fontSize:12,dominantBaseline:"middle",children:"Î£"})]})})():null]})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:V,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add vector"}),a.jsx("button",{type:"button",onClick:Z,className:"px-3 py-1.5 text-sm bg-gray-900 text-white hover:bg-gray-800 transition-colors disabled:opacity-50",disabled:u.length===0,children:"Draw resultant"})]}),g&&a.jsx("div",{className:"border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-800",children:g}),u.length===0?a.jsx("div",{className:"text-sm text-gray-600",children:"Add a vector to get started."}):a.jsx("div",{className:"space-y-3",children:u.map((B,de)=>{const ge=Uh(B.unitLabel),S=kc(B),A=S?S.components(ge):null,I=S&&Number.isFinite(S.measurement.value)?_t(S.measurement.value,[Le],[],[ge],[]):null;return a.jsxs("div",{className:"border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["F",u.length-de]}),a.jsx("button",{type:"button",onClick:()=>H(B.id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>z(B.id,{entryMode:"components"}),className:`text-sm border px-2 py-1 ${B.entryMode==="components"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"iÌ‚/jÌ‚/kÌ‚"}),a.jsx("button",{type:"button",onClick:()=>z(B.id,{entryMode:"thetaPhi"}),className:`text-sm border px-2 py-1 ${B.entryMode==="thetaPhi"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Î¸/Ï†"}),a.jsx("button",{type:"button",onClick:()=>z(B.id,{entryMode:"alphaBetaGamma"}),className:`text-sm border px-2 py-1 ${B.entryMode==="alphaBetaGamma"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Î±/Î²/Î³"}),a.jsx("button",{type:"button",onClick:()=>z(B.id,{entryMode:"points"}),className:`text-sm border px-2 py-1 ${B.entryMode==="points"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Start/End"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Force"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:B.unitLabel,onChange:R=>z(B.id,{unitLabel:R.target.value}),children:gp.map(R=>a.jsx("option",{value:R.label,children:R.label},R.label))})]}),a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Pos"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:B.positionUnitLabel,onChange:R=>ne(B.id,R.target.value),children:pp.map(R=>a.jsx("option",{value:R.label,children:R.label},R.label))})]})]})]}),B.entryMode==="points"?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Magnitude"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.magnitudeText,onChange:R=>z(B.id,{magnitudeText:R.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start x"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.startXText,onChange:R=>z(B.id,{startXText:R.target.value}),inputMode:"decimal",placeholder:"0"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start y"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.startYText,onChange:R=>z(B.id,{startYText:R.target.value}),inputMode:"decimal",placeholder:"0"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start z"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.startZText,onChange:R=>z(B.id,{startZText:R.target.value}),inputMode:"decimal",placeholder:"0"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End x"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.endXText,onChange:R=>z(B.id,{endXText:R.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End y"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.endYText,onChange:R=>z(B.id,{endYText:R.target.value}),inputMode:"decimal",placeholder:"(required)"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End z"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.endZText,onChange:R=>z(B.id,{endZText:R.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),a.jsx("div",{className:"col-span-2 text-xs text-gray-600 flex items-end",children:"Direction is taken from Aâ†’B (startâ†’end)."})]})]}):B.entryMode==="components"?a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"i (x)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.iText,onChange:R=>z(B.id,{iText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"j (y)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.jText,onChange:R=>z(B.id,{jText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"k (z)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.kText,onChange:R=>z(B.id,{kText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}):B.entryMode==="thetaPhi"?a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Magnitude"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.magnitudeText,onChange:R=>z(B.id,{magnitudeText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Î¸ (azimuth deg)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.thetaText,onChange:R=>z(B.id,{thetaText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Ï† (elevation deg)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.phiText,onChange:R=>z(B.id,{phiText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}):a.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Magnitude"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.magnitudeText,onChange:R=>z(B.id,{magnitudeText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Î± (deg)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.alphaText,onChange:R=>z(B.id,{alphaText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Î² (deg)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.betaText,onChange:R=>z(B.id,{betaText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Î³ (deg)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.gammaText,onChange:R=>z(B.id,{gammaText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}),B.entryMode==="alphaBetaGamma"?a.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"If one of Î±/Î²/Î³ is blank and the other two are provided, the missing angle is computed from \\(cos^2Î± + cos^2Î² + cos^2Î³ = 1\\) using the acute solution."}):null,B.entryMode==="points"&&!VN(B,zr(B.positionUnitLabel))?a.jsx("div",{className:"mt-2 text-xs text-red-700",children:"Provide a valid end point different from the start point."}):null,a.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:[A?lE(A.i.value,A.j.value,A.k.value,B.unitLabel):`â€” ${B.unitLabel} iÌ‚ + â€” ${B.unitLabel} jÌ‚ + â€” ${B.unitLabel} kÌ‚`,I!==null?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-400",children:" Â· "}),Et(I)," ",B.unitLabel," @ Î¸=",Et(S.direction.thetaDegrees),"Â°, Ï†=",Et(S.direction.phiDegrees),"Â°",a.jsx("span",{className:"text-gray-400",children:" Â· "}),"Î±=",Et(S.direction.alphaDegrees),"Â°, Î²=",Et(S.direction.betaDegrees),"Â°, Î³=",Et(S.direction.gammaDegrees),"Â°"]}):null]})]},B.id)})}),a.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Resultant (3D)"}),J?a.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[a.jsxs("div",{children:[Et(J.magnitude)," ",s," @ Î¸=",Et(J.theta),"Â°, Ï†=",Et(J.phi),"Â°"]}),a.jsx("div",{className:"text-xs text-gray-600",children:lE(J.i,J.j,J.k,s)}),a.jsxs("div",{className:"text-xs text-gray-600",children:["Î±=",Et(J.alpha),"Â°, Î²=",Et(J.beta),"Â°, Î³=",Et(J.gamma),"Â°"]})]}):a.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œDraw resultantâ€ to compute the sum."})]})]})]})}const ph=[{label:"N",unit:Le},{label:"lb",unit:ff}],Ft=s=>ph.find(e=>e.label===s)?.unit??Le,yp=[{label:"m",unit:xi},{label:"ft",unit:hf}],Sc=s=>yp.find(e=>e.label===s)?.unit??xi,Zn=640,JO=40,It={x:Zn/2,y:Zn/2},xp=40,ZO=120,Tu=s=>{const e=(s%360+360)%360;return e===360?0:e},it=s=>Number.isFinite(s)?s===0?"0":Number(s.toPrecision(6)).toString():"â€”",vt=s=>{const e=s.trim();if(e==="")return null;const n=Number(e);return Number.isFinite(n)?n:null},ui=s=>{const e=vt(s);return e===null?null:Tu(e)},dE=(s,e,n)=>{const r=`${it(s)} ${n} iÌ‚`,l=e>=0?"+":"-",u=`${it(Math.abs(e))} ${n} jÌ‚`;return`${r} ${l} ${u}`},hE=(s,e)=>{const n=e.getBoundingClientRect(),r=(s.clientX-n.left)/n.width*Zn,l=(s.clientY-n.top)/n.height*Zn;return{x:r,y:l}},fE=s=>{const e=s.x-It.x,n=It.y-s.y,r=Math.hypot(e,n),l=Tu(Math.atan2(n,e)*180/Math.PI);return{magnitude:r,angleDeg:l}},e6=s=>({x:It.x+s.x*xp,y:It.y-s.y*xp}),Lg=(s,e,n,r)=>{const l=Tu(n)*Math.PI/180,u=e*r*Math.cos(l),d=e*r*Math.sin(l);return{x:s.x+u,y:s.y-d}},t6=(s,e,n)=>{const r=Tu(e)*Math.PI/180,l=n*Math.cos(r),u=n*Math.sin(r);return{x:s.x+l,y:s.y-u}};function n6(){const[s,e]=O.useState("2d"),n=O.useRef(null),[r,l]=O.useState([]),[u,d]=O.useState(null),[g,y]=O.useState(null),[p,_]=O.useState(null),[E,N]=O.useState(null),[V,H]=O.useState("N"),[z,q]=O.useState("m"),ne=O.useMemo(()=>Sc(z),[z]),[Z,J]=O.useState(null),B=L=>{if(L.entryMode==="components"){const _e=vt(L.iText),ve=vt(L.jText);if(_e===null||ve===null)return null;const Ie=Ft(L.unitLabel),xe=Tt(_e,[Ie],[]),qe=Tt(ve,[Ie],[]);return Math.hypot(xe,qe)}const re=vt(L.magnitudeText);if(re===null)return null;const me=Ft(L.unitLabel);return Tt(re,[me],[])},de=L=>ui(L.angleText),ge=(L,re)=>{const me=vt(L);return me===null?0:Tt(me,[re],[])},S=L=>{const re=Sc(L.positionUnitLabel);return{x:ge(L.startXText,re),y:ge(L.startYText,re)}},A=L=>{const re=vt(L.endXText),me=vt(L.endYText);if(re===null||me===null)return null;const _e=Sc(L.positionUnitLabel);return{x:Tt(re,[_e],[]),y:Tt(me,[_e],[])}},I=L=>{const re=A(L);if(!re)return null;const me=S(L),_e=re.x-me.x,ve=re.y-me.y,Ie=Math.hypot(_e,ve);return!Number.isFinite(Ie)||Ie===0?null:Tu(Math.atan2(ve,_e)*180/Math.PI)},R=L=>{const re=Ft(L.unitLabel);if(L.entryMode==="points"){const ve=vt(L.magnitudeText);if(ve===null)return null;const Ie=I(L);return Ie===null?null:new Tn(new Ge(ve,re),gn.fromDegrees(Ie))}if(L.entryMode==="components"){const ve=vt(L.iText),Ie=vt(L.jText);return ve===null||Ie===null?null:Tn.fromComponents(new Ge(ve,re),new Ge(Ie,re))}const me=vt(L.magnitudeText),_e=ui(L.angleText);return me===null||_e===null?null:new Tn(new Ge(me,re),gn.fromDegrees(_e))},P=L=>{const re=Ft(L.unitLabel);if(L.entryMode!=="polar"){const ve=R(L);return ve?{magnitude:_t(ve.measurement.value,[Le],[],[re],[]),angleDeg:ve.direction.degrees,unit:re}:null}const me=vt(L.magnitudeText),_e=ui(L.angleText);return me===null||_e===null?null:{magnitude:me,angleDeg:_e,unit:re}},F=L=>{const re=Ft(L.unitLabel);if(L.entryMode==="components"){const ve=vt(L.iText),Ie=vt(L.jText);return ve===null||Ie===null?null:{i:ve,j:Ie,unit:re}}const me=R(L);if(!me)return null;const _e=me.components(re);return{i:_e.i.value,j:_e.j.value,unit:re}},M=(L,re)=>{l(me=>me.map(_e=>{if(_e.id!==L)return _e;const ve=Ft(_e.unitLabel),Ie=_t(re.measurement.value,[Le],[],[ve],[]),xe=re.components(ve);return{..._e,magnitudeText:it(Ie),angleText:it(re.direction.degrees),iText:it(xe.i.value),jText:it(xe.j.value)}}))},Ne=O.useMemo(()=>{const L=[...r.map(re=>B(re)).filter(re=>re!=null),...p?[B(p)].filter(re=>re!=null):[],...E?[B(E)].filter(re=>re!=null):[]].filter(re=>Number.isFinite(re)&&re>0);return L.length?Math.max(...L):1},[r,p,E]),be=O.useMemo(()=>{const L=Zn/2-JO;return Math.min(1,L/Ne)},[Ne]);O.useMemo(()=>r.find(L=>L.id===u)??null,[r,u]);const Q=O.useMemo(()=>{if(!g)return null;const{magnitude:L,angleDeg:re}=fE(g);return!Number.isFinite(L)||L<5?null:{magnitudeNewtons:L,angleDeg:re}},[g]),he=L=>{const re=Ft(L.unitLabel);if(L.entryMode==="points"){const xe=vt(L.magnitudeText),qe=I(L);if(xe===null||qe===null)return L;const Nt=new Tn(new Ge(xe,re),gn.fromDegrees(qe)),is=Nt.components(re);return{...L,angleText:it(Nt.direction.degrees),iText:it(is.i.value),jText:it(is.j.value)}}if(L.entryMode==="components"){const xe=vt(L.iText),qe=vt(L.jText);if(xe===null||qe===null)return L;const Nt=Tn.fromComponents(new Ge(xe,re),new Ge(qe,re)),is=_t(Nt.measurement.value,[Le],[],[re],[]);return{...L,magnitudeText:it(is),angleText:it(Nt.direction.degrees)}}const me=vt(L.magnitudeText),_e=ui(L.angleText);if(me===null||_e===null)return L;const Ie=new Tn(new Ge(me,re),gn.fromDegrees(_e)).components(re);return{...L,iText:it(Ie.i.value),jText:it(Ie.j.value)}},pe=(L,re)=>{l(me=>me.map(_e=>{if(_e.id!==L)return _e;let ve={..._e,...re};if(re.entryMode&&re.entryMode!==_e.entryMode){const Ie=R(_e);if(Ie){const xe=Ft(ve.unitLabel),qe=_t(Ie.measurement.value,[Le],[],[xe],[]),Nt=Ie.components(xe);ve={...ve,magnitudeText:it(qe),angleText:it(Ie.direction.degrees),iText:it(Nt.i.value),jText:it(Nt.j.value)}}}return he(ve)}))},Pe=(L,re)=>{l(me=>me.map(_e=>{if(_e.id!==L)return _e;const ve=R(_e);if(!ve)return{..._e,unitLabel:re};const Ie=Ft(re),xe=_t(ve.measurement.value,[Le],[],[Ie],[]),qe=ve.components(Ie);return he({..._e,unitLabel:re,magnitudeText:it(xe),angleText:it(ve.direction.degrees),iText:it(qe.i.value),jText:it(qe.j.value)})}))},Be=(L,re,me)=>{if(L.trim()==="")return"";const _e=vt(L);return _e===null?"":re.type!=="Length"||me.type!=="Length"?L:it(_t(_e,[re],[],[me],[]))},k=(L,re)=>{l(me=>me.map(_e=>{if(_e.id!==L)return _e;const ve=Sc(_e.positionUnitLabel),Ie=Sc(re),xe={..._e,positionUnitLabel:re,startXText:Be(_e.startXText,ve,Ie),startYText:Be(_e.startYText,ve,Ie),endXText:Be(_e.endXText,ve,Ie),endYText:Be(_e.endYText,ve,Ie)};return he(xe)}))},j=L=>he(L),C=L=>{N(re=>{if(!re)return re;const me={...re,...L};return j(me)})},K=L=>{l(re=>re.filter(me=>me.id!==L)),d(re=>re===L?null:re)},ce=()=>{J(null);const L=crypto.randomUUID(),re={id:L,entryMode:"components",magnitudeText:"",unitLabel:V,positionUnitLabel:z,angleText:"",iText:"",jText:"",startXText:"",startYText:"",endXText:"",endYText:""};l(me=>[he(re),...me]),d(L),_(null)},ue=()=>{if(J(null),r.length===0)return;const L=r.map(ve=>R(ve)).filter(ve=>ve!=null);if(L.length!==r.length){J("Cannot draw resultant: one or more vectors have unknown magnitude or angle.");return}const re=Bc(...L),me=Ft(V),_e=_t(re.measurement.value,[Le],[],[me],[]);_({id:"resultant",entryMode:"polar",magnitudeText:it(_e),unitLabel:V,positionUnitLabel:z,angleText:it(re.direction.degrees),iText:it(re.components(me).i.value),jText:it(re.components(me).j.value),startXText:"",startYText:"",endXText:"",endYText:""})},Ae=()=>{J(null),!E&&N({id:"given-resultant",entryMode:"polar",magnitudeText:"",unitLabel:V,positionUnitLabel:z,angleText:"",iText:"",jText:"",startXText:"",startYText:"",endXText:"",endYText:""})},ct=()=>{if(J(null),!E){J("Add a resultant vector first.");return}const L=vt(E.magnitudeText),re=ui(E.angleText);if(re===null){J("Resultant angle is required.");return}const me=gn.fromDegrees(re),ve=r.map((Ze,gt)=>{if(Ze.entryMode==="components"){const Ke=vt(Ze.iText),dt=vt(Ze.jText),et=Ke!==null&&dt!==null;return{idx:gt,magnitudeKnown:et,angleKnown:et}}if(Ze.entryMode==="points"){const Ke=vt(Ze.magnitudeText),dt=I(Ze);return{idx:gt,magnitudeKnown:Ke!==null,angleKnown:dt!==null}}const dn=vt(Ze.magnitudeText),kt=ui(Ze.angleText);return{idx:gt,magnitudeKnown:dn!==null,angleKnown:kt!==null}}).filter(Ze=>!Ze.magnitudeKnown||!Ze.angleKnown).map(Ze=>Ze.idx);if(ve.length===0){if(L===null){const Ze=r.map(dt=>R(dt)).filter(dt=>dt!=null);if(Ze.length!==r.length){J("Not solvable: one or more vectors are incomplete.");return}const gt=Bc(...Ze);if(Math.abs(gt.direction.degrees-me.degrees)>1e-6){J("Not solvable: computed resultant direction does not match the provided direction.");return}const kt=Ft(E.unitLabel),Ke=_t(gt.measurement.value,[Le],[],[kt],[]);C({magnitudeText:it(Ke)});return}J("Nothing to solve: all vectors have known magnitude and angle.");return}if(ve.length>2){J("Too many unknown values. This tool currently solves up to 2 incomplete vectors.");return}const Ie=r.map(Ze=>R(Ze)).filter(Ze=>Ze!=null),xe=Ie.length?Bc(...Ie):null;if(L===null){if(ve.length!==1){J("Not solvable: with unknown resultant magnitude, exactly one vector must be incomplete.");return}const Ze=ve[0],gt=r[Ze],dn=vt(gt.magnitudeText),kt=ui(gt.angleText);if(dn===null){J("Not solvable: with unknown resultant magnitude, the incomplete vector must have a known magnitude.");return}if(kt!==null){J("Nothing to solve: the incomplete vector has a known angle (try leaving the angle blank).");return}try{const Ke=$O({knownForces:Ie,unknownForceMagnitude:new Ge(dn,Ft(gt.unitLabel)),resultantDirection:me});M(gt.id,Ke.unknownForce);const dt=Ft(E.unitLabel),et=_t(Ke.resultant.measurement.value,[Le],[],[dt],[]);C({magnitudeText:it(et)})}catch(Ke){J(Ke instanceof Error?Ke.message:"Failed to solve unknowns.")}return}const qe=new Tn(new Ge(L,Ft(E.unitLabel)),me),Nt=xe?BO(qe,xe):qe;if(ve.length===1){const Ze=ve[0],gt=r[Ze],dn=vt(gt.magnitudeText),kt=ui(gt.angleText);if(kt===null){if(dn!==null){const Hs=Tt(dn,[Ft(gt.unitLabel)],[]),ar=1e-6*Math.max(1,Nt.measurement.value);if(Math.abs(Hs-Nt.measurement.value)>ar){J("Not solvable: provided magnitude does not match the required remainder.");return}}const Ke=Ft(gt.unitLabel),dt=_t(Nt.measurement.value,[Le],[],[Ke],[]),et=Ft(gt.unitLabel),rr=new Tn(new Ge(dn===null?dt:dn,et),gn.fromDegrees(Nt.direction.degrees));M(gt.id,rr);return}if(dn===null){const Ke=gn.fromDegrees(kt).radians,dt={x:Math.cos(Ke),y:Math.sin(Ke)},et=Nt.toComponentsNewtons(),rr=et.x*dt.x+et.y*dt.y,Hs=et.x*-dt.y+et.y*dt.x,ar=1e-6*Math.max(1,Math.hypot(et.x,et.y));if(Math.abs(Hs)>ar){J("Not solvable: resultant/known vectors are not consistent with the unknown direction.");return}const as=Ft(gt.unitLabel),Ei=_t(rr,[Le],[],[as],[]),Ut=Ft(gt.unitLabel),os=new Tn(new Ge(Ei,Ut),gn.fromDegrees(kt));M(gt.id,os);return}J("Nothing to solve for the incomplete vector.");return}const[is,oo]=ve,Yt=r[is],rs=r[oo],sr=ui(Yt.angleText),ir=ui(rs.angleText),Bs=vt(Yt.magnitudeText),wl=vt(rs.magnitudeText);if(sr===null||ir===null||Bs!==null||wl!==null){J("Not solvable: to solve two vectors, both directions must be known and both magnitudes must be unknown.");return}try{const Ze=HO({resultant:Nt,direction1:gn.fromDegrees(sr),direction2:gn.fromDegrees(ir)}),gt=Ft(Yt.unitLabel),dn=Ft(rs.unitLabel),kt=_t(Ze.force1.measurement.value,[Le],[],[gt],[]),Ke=_t(Ze.force2.measurement.value,[Le],[],[dn],[]);pe(Yt.id,{magnitudeText:it(kt)}),pe(rs.id,{magnitudeText:it(Ke)})}catch(Ze){J(Ze instanceof Error?Ze.message:"Failed to solve unknowns.")}},nt=L=>{n.current&&(n.current.setPointerCapture(L.pointerId),y(hE(L,n.current)))},_i=L=>{n.current&&g&&y(hE(L,n.current))},tr=L=>{if(n.current){if(n.current.releasePointerCapture(L.pointerId),g){const{magnitude:re,angleDeg:me}=fE(g);if(Number.isFinite(re)&&re>=5){const _e=crypto.randomUUID(),ve=Ft(V),Ie=_t(re,[Le],[],[ve],[]),xe={id:_e,entryMode:"polar",magnitudeText:it(Ie),unitLabel:V,positionUnitLabel:z,angleText:it(me),iText:"",jText:"",startXText:"",startYText:"",endXText:"",endYText:""};l(qe=>[he(xe),...qe]),d(_e),_(null),J(null)}}y(null)}},nr=O.useMemo(()=>{const L=[],re=Tt(1,[ne],[])*xp;for(let me=0;me<=Zn;me+=re)L.push({x1:me,y1:0,x2:me,y2:Zn});for(let me=0;me<=Zn;me+=re)L.push({x1:0,y1:me,x2:Zn,y2:me});return L},[ne]);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-3",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx(ye,{to:"/toolbox",className:"border-b border-gray-300 hover:border-gray-500 transition-colors",children:"Toolbox"})," ",a.jsx("span",{className:"text-gray-400",children:"/"})," Force vectors"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Force vectors"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Draw vectors on the plane, then edit magnitude and angle. Angle is measured counterclockwise from +X."}),a.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>e("2d"),className:`text-sm border px-2 py-1 ${s==="2d"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"2D"}),a.jsx("button",{type:"button",onClick:()=>e("3d"),className:`text-sm border px-2 py-1 ${s==="3d"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"3D"})]})]}),s==="3d"?a.jsx(XO,{}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-6",children:[a.jsxs("section",{className:"border border-gray-200 bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[a.jsx("div",{className:"text-sm text-gray-700",children:"Drag anywhere to create an arrow from the origin."}),a.jsx("div",{className:"text-sm text-gray-600",children:"Auto-fit scale (based on max magnitude)"})]}),a.jsx("div",{className:"p-4",children:a.jsxs("svg",{ref:n,viewBox:`0 0 ${Zn} ${Zn}`,className:"w-full h-[520px] touch-none select-none bg-gray-50 border border-gray-200",onPointerDown:nt,onPointerMove:_i,onPointerUp:tr,children:[a.jsx("defs",{children:a.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"8",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:a.jsx("path",{d:"M0,0 L8,3 L0,6 Z",fill:"currentColor"})})}),a.jsx("g",{className:"text-gray-200",children:nr.map((L,re)=>a.jsx("line",{x1:L.x1,y1:L.y1,x2:L.x2,y2:L.y2,stroke:"currentColor",strokeWidth:1},re))}),a.jsxs("g",{className:"text-gray-400",children:[a.jsx("line",{x1:0,y1:It.y,x2:Zn,y2:It.y,stroke:"currentColor",strokeWidth:2}),a.jsx("line",{x1:It.x,y1:0,x2:It.x,y2:Zn,stroke:"currentColor",strokeWidth:2})]}),a.jsx("circle",{cx:It.x,cy:It.y,r:4,fill:"#111827"}),Q&&a.jsx("g",{className:"text-gray-500",children:a.jsx("line",{x1:It.x,y1:It.y,x2:g?.x??It.x,y2:g?.y??It.y,stroke:"currentColor",strokeWidth:3,strokeDasharray:"6 6",markerEnd:"url(#arrowhead)"})}),r.map((L,re)=>{const me=B(L),_e=de(L),ve=L.entryMode==="points"?e6(S(L)):It,Ie=_e===null?ve:me===null?t6(ve,_e,ZO):Lg(ve,me,_e,be),xe=L.id===u,qe=xe?"#111827":"#374151",Nt=`F${r.length-re}`;return a.jsxs("g",{onClick:is=>{is.stopPropagation(),d(L.id)},style:{cursor:"pointer"},children:[_e!==null?a.jsx("line",{x1:ve.x,y1:ve.y,x2:Ie.x,y2:Ie.y,stroke:qe,strokeWidth:xe?5:4,strokeDasharray:me===null?"6 6":void 0,markerEnd:"url(#arrowhead)"}):a.jsx("circle",{cx:ve.x,cy:ve.y,r:10,fill:"none",stroke:qe,strokeWidth:2,strokeDasharray:"6 6"}),a.jsx("text",{x:_e===null?ve.x+14:(ve.x+Ie.x)/2,y:_e===null?ve.y-14:(ve.y+Ie.y)/2,fill:qe,fontSize:14,dominantBaseline:"middle",children:Nt})]},L.id)}),E&&a.jsx("g",{className:"text-blue-600",children:(()=>{const L=B(E),re=de(E);if(L===null||re===null)return null;const me=Lg(It,L,re,be);return a.jsxs(a.Fragment,{children:[a.jsx("line",{x1:It.x,y1:It.y,x2:me.x,y2:me.y,stroke:"currentColor",strokeWidth:6,markerEnd:"url(#arrowhead)"}),a.jsx("text",{x:(It.x+me.x)/2,y:(It.y+me.y)/2,fill:"currentColor",fontSize:14,dominantBaseline:"middle",children:"R"})]})})()}),p&&a.jsx("g",{className:"text-red-600",children:(()=>{const L=B(p),re=de(p);if(L===null||re===null)return null;const me=Lg(It,L,re,be);return a.jsxs(a.Fragment,{children:[a.jsx("line",{x1:It.x,y1:It.y,x2:me.x,y2:me.y,stroke:"currentColor",strokeWidth:6,markerEnd:"url(#arrowhead)"}),a.jsx("text",{x:(It.x+me.x)/2,y:(It.y+me.y)/2,fill:"currentColor",fontSize:14,dominantBaseline:"middle",children:"Î£"})]})})()})]})})]}),a.jsxs("aside",{className:"border border-gray-200 bg-white",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-3",children:[a.jsx("div",{className:"text-lg font-serif text-gray-900",children:"Vectors"}),a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Force"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:V,onChange:L=>{const re=L.target.value;H(re)},children:ph.map(L=>a.jsx("option",{value:L.label,children:L.label},L.label))})]}),a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Position"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:z,onChange:L=>q(L.target.value),children:yp.map(L=>a.jsx("option",{value:L.label,children:L.label},L.label))})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"button",onClick:ce,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add vector"}),a.jsx("button",{type:"button",onClick:Ae,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors disabled:opacity-50",disabled:E!=null,children:"Add resultant"}),a.jsx("button",{type:"button",onClick:ct,className:"px-3 py-1.5 text-sm bg-gray-900 text-white hover:bg-gray-800 transition-colors",children:"Calculate unknown values"}),a.jsx("button",{type:"button",onClick:ue,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors disabled:opacity-50",disabled:r.length===0,children:"Draw resultant"})]})]}),a.jsxs("div",{className:"p-4 space-y-6",children:[Z&&a.jsx("div",{className:"border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-800",children:Z}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Resultant (given)",a.jsxs("span",{className:"text-gray-500 font-normal",children:[" ","â€” angle required, magnitude optional"]})]}),E?a.jsxs("div",{className:"border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"R"}),a.jsx("button",{type:"button",onClick:()=>N(null),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>C({entryMode:"polar"}),className:`text-sm border px-2 py-1 ${E.entryMode==="polar"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Magnitude/Angle"}),a.jsx("button",{type:"button",onClick:()=>C({entryMode:"components"}),className:`text-sm border px-2 py-1 ${E.entryMode==="components"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"iÌ‚/jÌ‚"})]}),a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Unit"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:E.unitLabel,onChange:L=>C({unitLabel:L.target.value}),children:ph.map(L=>a.jsx("option",{value:L.label,children:L.label},L.label))})]})]}),E.entryMode==="polar"?a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Magnitude"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.magnitudeText,onChange:L=>C({magnitudeText:L.target.value}),inputMode:"decimal",placeholder:"(optional)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Angle (deg)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.angleText,onChange:L=>C({angleText:L.target.value}),inputMode:"decimal",placeholder:"(required)"})]})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"i (x)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.iText,onChange:L=>C({iText:L.target.value}),inputMode:"decimal",placeholder:"(optional)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"j (y)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.jText,onChange:L=>C({jText:L.target.value}),inputMode:"decimal",placeholder:"(optional)"})]})]}),(()=>{const L=F(E);return L?a.jsx("div",{className:"mt-3 text-xs text-gray-600",children:dE(L.i,L.j,E.unitLabel)}):null})()]}):a.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œAdd resultantâ€ to define the target vector."})]}),r.length===0?a.jsx("div",{className:"text-gray-700 text-sm",children:"No vectors yet. Drag on the plane to add one."}):a.jsx("div",{className:"space-y-3",children:r.map((L,re)=>{const me=`F${r.length-re}`,_e=L.id===u,ve=P(L),Ie=F(L);return a.jsxs("div",{className:`border p-3 ${_e?"border-gray-900":"border-gray-200"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("button",{type:"button",onClick:()=>d(L.id),className:"text-sm font-medium text-gray-900 border-b border-gray-300 hover:border-gray-700 transition-colors",children:me}),a.jsx("button",{type:"button",onClick:()=>K(L.id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between mb-3",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>pe(L.id,{entryMode:"polar"}),className:`text-sm border px-2 py-1 ${L.entryMode==="polar"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Magnitude/Angle"}),a.jsx("button",{type:"button",onClick:()=>pe(L.id,{entryMode:"components"}),className:`text-sm border px-2 py-1 ${L.entryMode==="components"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"iÌ‚/jÌ‚"}),a.jsx("button",{type:"button",onClick:()=>pe(L.id,{entryMode:"points"}),className:`text-sm border px-2 py-1 ${L.entryMode==="points"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Start/End"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:[a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Force"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:L.unitLabel,onChange:xe=>Pe(L.id,xe.target.value),children:ph.map(xe=>a.jsx("option",{value:xe.label,children:xe.label},xe.label))})]}),a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Pos"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:L.positionUnitLabel,onChange:xe=>k(L.id,xe.target.value),children:yp.map(xe=>a.jsx("option",{value:xe.label,children:xe.label},xe.label))})]})]})]}),L.entryMode==="points"?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Magnitude"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:L.magnitudeText,onChange:xe=>pe(L.id,{magnitudeText:xe.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),a.jsx("div",{className:"text-xs text-gray-600 flex items-end",children:"Direction is taken from startâ†’end."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start x"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:L.startXText,onChange:xe=>pe(L.id,{startXText:xe.target.value}),inputMode:"decimal",placeholder:"0"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start y"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:L.startYText,onChange:xe=>pe(L.id,{startYText:xe.target.value}),inputMode:"decimal",placeholder:"0"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End x"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:L.endXText,onChange:xe=>pe(L.id,{endXText:xe.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End y"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:L.endYText,onChange:xe=>pe(L.id,{endYText:xe.target.value}),inputMode:"decimal",placeholder:"(required)"})]})]})]}):L.entryMode==="polar"?a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Magnitude"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:L.magnitudeText,onChange:xe=>pe(L.id,{magnitudeText:xe.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Angle (deg)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:L.angleText,onChange:xe=>pe(L.id,{angleText:xe.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}):a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"i (x)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:L.iText,onChange:xe=>pe(L.id,{iText:xe.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"j (y)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:L.jText,onChange:xe=>pe(L.id,{jText:xe.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}),a.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:[ve?`${it(ve.magnitude)} ${L.unitLabel} @ ${it(ve.angleDeg)}Â°`:`â€” ${L.unitLabel} @ â€”Â°`,Ie?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-gray-400",children:" Â· "}),dE(Ie.i,Ie.j,L.unitLabel)]}):null]})]},L.id)})}),a.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Resultant (sum of vectors)"}),p?a.jsxs("div",{className:"text-sm text-gray-700",children:[p.magnitudeText.trim()?p.magnitudeText.trim():"â€”"," ",p.unitLabel," @"," ",p.angleText.trim()?p.angleText.trim():"â€”","Â°"]}):a.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œDraw resultantâ€ to compute the vector sum."})]})]})]})]})]})}),a.jsx(Mt,{})]})}const zh=(s,e)=>{if(!Number.isFinite(s))throw new Error(`${e} must be a finite number.`)},mE=(s,e)=>{zh(s.x,`${e}.x`),zh(s.y,`${e}.y`)},s6=(s,e)=>{zh(s.x,`${e}.x`),zh(s.y,`${e}.y`)},au=(s,e)=>(mE(s,"a"),mE(e,"b"),{x:e.x-s.x,y:e.y-s.y}),UN=s=>(s6(s,"v"),Math.hypot(s.x,s.y)),ou=s=>{const e=UN(s);if(!Number.isFinite(e)||e===0)throw new Error("Unit vector must be a non-zero finite vector.");return{x:s.x/e,y:s.y/e}},zN=(s,e)=>{if(!Number.isFinite(s))throw new Error(`${e} must be a finite number.`)},aa=s=>({constant:s,terms:{}}),Xr=(s,e=1)=>({constant:0,terms:{[s.id]:e}}),Wa=(s,e)=>{const n={...s.terms};for(const[r,l]of Object.entries(e.terms)){const u=(n[r]??0)+l;Math.abs(u)<1e-14?delete n[r]:n[r]=u}return{constant:s.constant+e.constant,terms:n}},yn=(s,e)=>{if(!Number.isFinite(e))throw new Error("exprScale scalar must be finite.");const n={};for(const[r,l]of Object.entries(s.terms)){const u=l*e;Math.abs(u)>=1e-14&&(n[r]=u)}return{constant:s.constant*e,terms:n}},i6=(s,e)=>{let n=s.constant;for(const[r,l]of Object.entries(s.terms)){const u=e[r];if(u===void 0)throw new Error(`Missing value for variable "${r}".`);n+=l*u}return n},Gi=(s,e)=>{const n=s.nodes.find(r=>r.id===e);if(!n)throw new Error(`Unknown node "${e}".`);return n},r6=s=>{if(s.forceUnit.type!=="Force")throw new Error(`Expected Force unit for stiffness forceUnit, received ${s.forceUnit.type}.`);if(s.lengthUnit.type!=="Length")throw new Error(`Expected Length unit for stiffness lengthUnit, received ${s.lengthUnit.type}.`);return zN(s.value,"k.value"),Tt(s.value,[s.forceUnit],[s.lengthUnit])};class a6{constructor(e){if(this.id=e.id,this.startNodeId=e.startNodeId,this.endNodeId=e.endNodeId,this.stiffness=e.stiffness,this.forceVariable={id:e.forceVariableId??`${e.id}.F`,label:`${e.id} force`},e.naturalLength){if(e.naturalLength.unit.type!=="Length")throw new Error(`Expected Length unit for naturalLength, received ${e.naturalLength.unit.type}.`);this.naturalLength={kind:"known",valueMeters:Tt(e.naturalLength.value,[e.naturalLength.unit],[])}}else this.naturalLength={kind:"unknown",variable:{id:e.naturalLengthVariableId??`${e.id}.l0`,label:`${e.id} natural length`}}}variables(){return[this.forceVariable,...this.naturalLength.kind==="unknown"?[this.naturalLength.variable]:[]]}equations(e){const n=Gi(e,this.startNodeId).positionMeters,r=Gi(e,this.endNodeId).positionMeters,l=au(n,r),u=UN(l);if(!Number.isFinite(u)||u===0)throw new Error("Spring endpoints must not coincide.");const d=r6(this.stiffness);let g=Wa(Xr(this.forceVariable,1),aa(-d*u));return this.naturalLength.kind==="known"?g=Wa(g,aa(d*this.naturalLength.valueMeters)):g=Wa(g,Xr(this.naturalLength.variable,d)),[{expr:g,label:`${this.id}: Hooke's law`}]}forces(e){const n=Gi(e,this.startNodeId).positionMeters,r=Gi(e,this.endNodeId).positionMeters,l=ou(au(n,r)),u=Xr(this.forceVariable,1);return[{nodeId:this.startNodeId,fx:yn(u,l.x),fy:yn(u,l.y),label:`${this.id} @ ${this.startNodeId}`},{nodeId:this.endNodeId,fx:yn(u,-l.x),fy:yn(u,-l.y),label:`${this.id} @ ${this.endNodeId}`}]}}class o6{constructor(e){this.id=e.id,this.startNodeId=e.startNodeId,this.pulleyNodeId=e.pulleyNodeId,this.endNodeId=e.endNodeId,this.tensionVariable={id:e.tensionVariableId??`${e.id}.T`,label:`${e.id} tension`}}variables(){return[this.tensionVariable]}equations(e){return[]}forces(e){const n=Gi(e,this.startNodeId).positionMeters,r=Gi(e,this.pulleyNodeId).positionMeters,l=Gi(e,this.endNodeId).positionMeters,u=ou(au(n,r)),d=ou(au(l,r)),g=Xr(this.tensionVariable,1);return[{nodeId:this.startNodeId,fx:yn(g,u.x),fy:yn(g,u.y),label:`${this.id} @ ${this.startNodeId}`},{nodeId:this.endNodeId,fx:yn(g,d.x),fy:yn(g,d.y),label:`${this.id} @ ${this.endNodeId}`},{nodeId:this.pulleyNodeId,fx:Wa(yn(g,-u.x),yn(g,-d.x)),fy:Wa(yn(g,-u.y),yn(g,-d.y)),label:`${this.id} @ ${this.pulleyNodeId}`}]}}class l6{constructor(e){this.id=e.id,this.startNodeId=e.startNodeId,this.endNodeId=e.endNodeId,this.tensionVariable={id:e.tensionVariableId??`${e.id}.T`,label:`${e.id} tension`}}variables(){return[this.tensionVariable]}equations(e){return[]}forces(e){const n=Gi(e,this.startNodeId).positionMeters,r=Gi(e,this.endNodeId).positionMeters,l=ou(au(n,r)),u=Xr(this.tensionVariable,1);return[{nodeId:this.startNodeId,fx:yn(u,l.x),fy:yn(u,l.y),label:`${this.id} @ ${this.startNodeId}`},{nodeId:this.endNodeId,fx:yn(u,-l.x),fy:yn(u,-l.y),label:`${this.id} @ ${this.endNodeId}`}]}}class c6{constructor(e){this.id=e.id,this.nodeId=e.nodeId,this.rxVariable={id:e.rxVariableId??`${e.nodeId}.Rx`,label:`${e.nodeId} reaction x`},this.ryVariable={id:e.ryVariableId??`${e.nodeId}.Ry`,label:`${e.nodeId} reaction y`}}variables(){return[this.rxVariable,this.ryVariable]}equations(e){return[]}forces(e){return[{nodeId:this.nodeId,fx:Xr(this.rxVariable,1),fy:Xr(this.ryVariable,1),label:`${this.id} @ ${this.nodeId}`}]}}class u6{constructor(e){this.id=e.id,this.nodeId=e.nodeId,this.normal=ou(e.normal),this.normalForceVariable={id:e.normalForceVariableId??`${e.id}.N`,label:`${e.id} normal`}}variables(){return[this.normalForceVariable]}equations(e){return[]}forces(e){const n=Xr(this.normalForceVariable,1);return[{nodeId:this.nodeId,fx:yn(n,this.normal.x),fy:yn(n,this.normal.y),label:`${this.id} @ ${this.nodeId}`}]}}class d6{constructor(e){if(this.id=e.id,this.nodeId=e.nodeId,e.force.x.unit.type!=="Force"||e.force.y.unit.type!=="Force")throw new Error("AppliedForce2D components must use Force units for x and y.");const n=Tt(e.force.x.value,[e.force.x.unit],[]),r=Tt(e.force.y.value,[e.force.y.unit],[]);this.forceNewtons={x:n,y:r}}variables(){return[]}equations(e){return[]}forces(e){return[{nodeId:this.nodeId,fx:aa(this.forceNewtons.x),fy:aa(this.forceNewtons.y),label:`${this.id} @ ${this.nodeId}`}]}}class h6{constructor(e){if(this.id=e.id,this.nodeId=e.nodeId,e.mass.unit.type!=="Mass")throw new Error(`Expected Mass unit for weight mass, received ${e.mass.unit.type}.`);this.mass=e.mass,this.gravity=e.gravity??MN,zN(this.gravity,"gravity")}variables(){return[]}equations(e){return[]}forces(e){const n=SO(this.mass,this.gravity);return[{nodeId:this.nodeId,fx:aa(0),fy:aa(-n.value),label:`${this.id} @ ${this.nodeId}`}]}}const f6=(s,e)=>{const n=s.components.flatMap(l=>l.forces(s)),r=[];for(const l of e){const u=n.filter(y=>y.nodeId===l),d=u.reduce((y,p)=>Wa(y,p.fx),aa(0)),g=u.reduce((y,p)=>Wa(y,p.fy),aa(0));r.push({expr:d,label:`${l}: Î£Fx = 0`}),r.push({expr:g,label:`${l}: Î£Fy = 0`})}return r},qN=(s,e)=>{const n=s.components.flatMap(r=>r.equations(s));return[...f6(s,e),...n]},m6=s=>{const e=s.components.flatMap(l=>l.variables()),n=new Set,r=[];for(const l of e)n.has(l.id)||(n.add(l.id),r.push(l));return r},g6=s=>{const e=qN(s.system,s.equilibriumNodeIds),n=m6(s.system),r=s.variableIds??n.map(H=>H.id),l=r.length;if(l===0)return{variables:{},equations:e};const u=e.length;if(u<l)throw new Error(`Underdetermined system: ${u} equations for ${l} variables.`);const d=Array.from({length:u},()=>Array.from({length:l},()=>0)),g=Array.from({length:u},()=>0);for(let H=0;H<u;H++){const z=e[H].expr;g[H]=-z.constant;for(let q=0;q<l;q++){const ne=r[q];d[H][q]=z.terms[ne]??0}}const y=1e-12;let p=0;const _=[];for(let H=0;H<l&&p<u;H++){let z=p,q=Math.abs(d[p][H]);for(let Z=p+1;Z<u;Z++){const J=Math.abs(d[Z][H]);J>q&&(q=J,z=Z)}if(q<y)continue;z!==p&&([d[z],d[p]]=[d[p],d[z]],[g[z],g[p]]=[g[p],g[z]]);const ne=d[p][H];for(let Z=H;Z<l;Z++)d[p][Z]/=ne;g[p]/=ne;for(let Z=p+1;Z<u;Z++){const J=d[Z][H];if(!(Math.abs(J)<y)){for(let B=H;B<l;B++)d[Z][B]-=J*d[p][B];g[Z]-=J*g[p]}}_[p]=H,p++}const E=p;if(E<l)throw new Error("System does not have a unique solution (rank deficient).");const N=Array.from({length:l},()=>0);for(let H=E-1;H>=0;H--){const z=_[H];let q=g[H];for(let ne=z+1;ne<l;ne++)q-=d[H][ne]*N[ne];N[z]=q}const V={};for(let H=0;H<l;H++)V[r[H]]=N[H];for(const H of e){const z=i6(H.expr,V),q=1+Math.abs(H.expr.constant)+Object.values(H.expr.terms).reduce((ne,Z)=>ne+Math.abs(Z),0);if(Math.abs(z)>1e-7*q)throw new Error(`Inconsistent solution; residual too large for equation "${H.label??"unnamed"}".`)}return{variables:V,equations:e}},bp=[{label:"N",unit:Le},{label:"lb",unit:ff}],vp=s=>bp.find(e=>e.label===s)?.unit??Le,yh=[{label:"m",unit:xi},{label:"ft",unit:hf}],$c=s=>yh.find(e=>e.label===s)?.unit??xi,FN=[{label:"kg",unit:Iy},{label:"g",unit:DN},{label:"Mg",unit:PN},{label:"mg",unit:ON},{label:"slug",unit:kN}],p6=s=>FN.find(e=>e.label===s)?.unit??Iy,es=640,y6=40,Gr={x:es/2,y:es/2},lu=80,Vg=s=>Number.isFinite(s)?s===0?"0":Number(s.toPrecision(6)).toString():"â€”",Fi=s=>{const e=s.trim();if(e==="")return null;const n=Number(e);return Number.isFinite(n)?n:null},x6=s=>{const e=(s%360+360)%360;return e===360?0:e},di=s=>({x:Gr.x+s.x*lu,y:Gr.y-s.y*lu}),b6=s=>({x:(s.x-Gr.x)/lu,y:(Gr.y-s.y)/lu}),gE=(s,e)=>{const n=e.getBoundingClientRect(),r=(s.clientX-n.left)/n.width*es,l=(s.clientY-n.top)/n.height*es;return{x:r,y:l}},v6=(s,e)=>{const n=s.map(l=>{const u=$c(l.unitLabel),d=Fi(l.xText)??0,g=Fi(l.yText)??0;return{id:l.id,positionMeters:{x:Tt(d,[u],[]),y:Tt(g,[u],[])}}}),r=[...s.filter(l=>l.support==="pinned").map(l=>new c6({id:`pin.${l.id}`,nodeId:l.id})),...e.map(l=>{if(l.type==="spring"){const p={value:Fi(l.kText)??0,forceUnit:vp(l.kForceUnitLabel),lengthUnit:$c(l.kLengthUnitLabel)},_=Fi(l.l0Text),E=$c(l.l0UnitLabel);return new a6({id:l.id,startNodeId:l.startNodeId,endNodeId:l.endNodeId,stiffness:p,naturalLength:_==null?void 0:new Ge(_,E)})}if(l.type==="cablePulley")return new o6({id:l.id,startNodeId:l.startNodeId,pulleyNodeId:l.pulleyNodeId,endNodeId:l.endNodeId});if(l.type==="cable")return new l6({id:l.id,startNodeId:l.startNodeId,endNodeId:l.endNodeId});if(l.type==="smoothContact"){const y=Fi(l.normalAngleDegText)??0,p=x6(y)*Math.PI/180;return new u6({id:l.id,nodeId:l.nodeId,normal:{x:Math.cos(p),y:Math.sin(p)}})}if(l.type==="weight"){const y=Fi(l.massText)??0,p=Fi(l.gravityText);return new h6({id:l.id,nodeId:l.nodeId,mass:new Ge(y,p6(l.massUnitLabel)),gravity:p??void 0})}const u=vp(l.unitLabel),d=Fi(l.fxText)??0,g=Fi(l.fyText)??0;return new d6({id:l.id,nodeId:l.nodeId,force:{x:new Ge(d,u),y:new Ge(g,u)}})})];return{nodes:n,components:r}};function _6(){const s=O.useRef(null),[e,n]=O.useState([{id:"A",idText:"A",xText:"-4",yText:"3",unitLabel:"m",includeInEquilibrium:!1,support:"pinned"},{id:"B",idText:"B",xText:"0",yText:"0",unitLabel:"m",includeInEquilibrium:!0,support:"none"},{id:"N3",idText:"N3",xText:"1",yText:"1",unitLabel:"m",includeInEquilibrium:!1,support:"pinned"},{id:"N4",idText:"N4",xText:"0",yText:"-1",unitLabel:"m",includeInEquilibrium:!0,support:"none"}]),[r,l]=O.useState([{id:"W",type:"weight",nodeId:"N4",massText:"60",massUnitLabel:"kg",gravityText:"9.81"},{id:"BA",type:"cable",startNodeId:"A",endNodeId:"B"},{id:"BN3",type:"cable",startNodeId:"N3",endNodeId:"B"},{id:"BN4",type:"cable",startNodeId:"B",endNodeId:"N4"}]),[u,d]=O.useState(null),[g,y]=O.useState(null),[p,_]=O.useState(null),[E,N]=O.useState(null),[V,H]=O.useState([]),z=O.useMemo(()=>v6(e,r),[e,r]),q=O.useMemo(()=>{const j=e.filter(K=>K.includeInEquilibrium).map(K=>K.id),C=e.filter(K=>K.support==="pinned").map(K=>K.id);return Array.from(new Set([...j,...C]))},[e]),ne=O.useMemo(()=>E?z.components.flatMap(C=>C.forces(z)).map(C=>{const K=Object.entries(C.fx.terms).reduce((ue,[Ae,ct])=>ue+ct*(E[Ae]??0),C.fx.constant),ce=Object.entries(C.fy.terms).reduce((ue,[Ae,ct])=>ue+ct*(E[Ae]??0),C.fy.constant);return{...C,fxN:K,fyN:ce}}):[],[E,z]),Z=O.useMemo(()=>{const j=ne.map(C=>Math.hypot(C.fxN,C.fyN)).filter(C=>Number.isFinite(C)&&C>0);return j.length?Math.max(...j):1},[ne]),J=O.useMemo(()=>{const j=es/2-y6;return Math.min(1,j/Z)},[Z]),B=()=>{_(null),N(null);try{if(q.length===0){_("Select at least one node to include in equilibrium.");return}const j=qN(z,q);H(j.map(K=>K.label??""));const C=g6({system:z,equilibriumNodeIds:q});N(C.variables)}catch(j){const C=j instanceof Error?j.message:"Failed to solve system.";_(`${C}

Hint: If you include a node in equilibrium, it must have either (a) enough connected members + loads, or (b) a support reaction. Mark support nodes as â€œPinnedâ€ to add Rx/Ry reactions, or uncheck â€œInclude in equilibriumâ€ for nodes you donâ€™t want to solve.`)}},de=()=>{const j=`N${e.length+1}`;n(C=>[...C,{id:j,idText:j,xText:"1",yText:"0",unitLabel:"m",includeInEquilibrium:!0,support:"none"}])},ge=()=>{const j=`s${r.filter(ce=>ce.type==="spring").length+1}`,C=e[0]?.id??"A",K=e[1]?.id??"B";l(ce=>[...ce,{id:j,type:"spring",startNodeId:C,endNodeId:K,kText:"100",kForceUnitLabel:"N",kLengthUnitLabel:"m",l0Text:"",l0UnitLabel:"m"}])},S=()=>{const j=`c${r.filter(ue=>ue.type==="cablePulley").length+1}`,C=e[0]?.id??"A",K=e[1]?.id??"B",ce=e[2]?.id??e[0]?.id??"A";l(ue=>[...ue,{id:j,type:"cablePulley",startNodeId:C,pulleyNodeId:K,endNodeId:ce}])},A=()=>{const j=`cb${r.filter(ce=>ce.type==="cable").length+1}`,C=e[0]?.id??"A",K=e[1]?.id??"B";l(ce=>[...ce,{id:j,type:"cable",startNodeId:C,endNodeId:K}])},I=()=>{const j=`n${r.filter(K=>K.type==="smoothContact").length+1}`,C=e[0]?.id??"A";l(K=>[...K,{id:j,type:"smoothContact",nodeId:C,normalAngleDegText:"90"}])},R=()=>{const j=`W${r.filter(K=>K.type==="weight").length+1}`,C=e[0]?.id??"A";l(K=>[...K,{id:j,type:"weight",nodeId:C,massText:"10",massUnitLabel:"kg",gravityText:""}])},P=()=>{const j=`F${r.filter(K=>K.type==="appliedForce").length+1}`,C=e[0]?.id??"A";l(K=>[...K,{id:j,type:"appliedForce",nodeId:C,fxText:"0",fyText:"0",unitLabel:"N"}])},F=j=>{l(C=>C.filter(K=>K.id!==j))},M=(j,C)=>{n(K=>K.map(ce=>ce.id===j?{...ce,...C}:ce))},Ne=j=>/^[A-Za-z][A-Za-z0-9_]*$/.test(j),be=j=>{const C=e.find(ce=>ce.id===j);if(!C)return;const K=C.idText.trim();if(K!==j){if(!Ne(K)){_("Invalid node id. Use letters/numbers/underscore and start with a letter (e.g. A, N3, node_1).");return}if(e.some(ce=>ce.id!==j&&ce.id===K)){_(`Duplicate node id "${K}". Node ids must be unique.`);return}n(ce=>ce.map(ue=>ue.id===j?{...ue,id:K,idText:K}:ue)),l(ce=>ce.map(ue=>ue.type==="spring"?{...ue,startNodeId:ue.startNodeId===j?K:ue.startNodeId,endNodeId:ue.endNodeId===j?K:ue.endNodeId}:ue.type==="cablePulley"?{...ue,startNodeId:ue.startNodeId===j?K:ue.startNodeId,pulleyNodeId:ue.pulleyNodeId===j?K:ue.pulleyNodeId,endNodeId:ue.endNodeId===j?K:ue.endNodeId}:ue.type==="cable"?{...ue,startNodeId:ue.startNodeId===j?K:ue.startNodeId,endNodeId:ue.endNodeId===j?K:ue.endNodeId}:ue.type==="smoothContact"?{...ue,nodeId:ue.nodeId===j?K:ue.nodeId}:ue.type==="weight"?{...ue,nodeId:ue.nodeId===j?K:ue.nodeId}:{...ue,nodeId:ue.nodeId===j?K:ue.nodeId})),u===j&&d(K),g===j&&y(K),N(null),H([]),_(null)}},Q=(j,C)=>{l(K=>K.map(ce=>ce.id===j?{...ce,...C}:ce))},he=j=>{if(!s.current)return;const C=gE(j,s.current),K=z.nodes.map(ce=>({id:ce.id,p:di(ce.positionMeters)})).find(ce=>Math.hypot(ce.p.x-C.x,ce.p.y-C.y)<=12);K&&(s.current.setPointerCapture(j.pointerId),y(K.id),d(K.id))},pe=j=>{if(!s.current||!g)return;const C=gE(j,s.current),K=b6(C),ce=e.find(nt=>nt.id===g);if(!ce)return;const ue=$c(ce.unitLabel),Ae=_t(K.x,[xi],[],[ue],[]),ct=_t(K.y,[xi],[],[ue],[]);M(g,{xText:Vg(Ae),yText:Vg(ct)})},Pe=j=>{s.current&&g&&(s.current.releasePointerCapture(j.pointerId),y(null))},Be=O.useMemo(()=>{const j=[],C=lu;for(let K=0;K<=es;K+=C)j.push({x1:K,y1:0,x2:K,y2:es});for(let K=0;K<=es;K+=C)j.push({x1:0,y1:K,x2:es,y2:K});return j},[]),k=O.useMemo(()=>E?Object.entries(E).map(([j,C])=>{const K=j.endsWith(".l0"),ce=K?$c("m"):vp("N"),ue=K?_t(C,[xi],[],[ce],[]):_t(C,[Le],[],[ce],[]);return{id:j,value:ue,unitLabel:ce.abbreviation}}):[],[E]);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[a.jsx(Dt,{}),a.jsx("main",{className:"flex-1",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[a.jsxs("header",{className:"space-y-3",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx(ye,{to:"/toolbox",className:"border-b border-gray-300 hover:border-gray-500 transition-colors",children:"Toolbox"})," ",a.jsx("span",{className:"text-gray-400",children:"/"})," Static system"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Static system"}),a.jsx("p",{className:"text-lg text-gray-700",children:"Assemble springs, cables/pulleys, and smooth contacts, then solve for static equilibrium (Î£Fx = 0, Î£Fy = 0)."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-6",children:[a.jsxs("section",{className:"border border-gray-200 bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[a.jsx("div",{className:"text-sm text-gray-700",children:"Drag nodes to reposition."}),a.jsx("button",{type:"button",onClick:B,className:"px-3 py-1.5 text-sm bg-gray-900 text-white hover:bg-gray-800 transition-colors",children:"Solve equilibrium"})]}),a.jsx("div",{className:"p-4",children:a.jsxs("svg",{ref:s,viewBox:`0 0 ${es} ${es}`,className:"w-full h-[520px] touch-none select-none bg-gray-50 border border-gray-200",onPointerDown:he,onPointerMove:pe,onPointerUp:Pe,children:[a.jsx("defs",{children:a.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"8",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:a.jsx("path",{d:"M0,0 L8,3 L0,6 Z",fill:"currentColor"})})}),a.jsx("g",{className:"text-gray-200",children:Be.map((j,C)=>a.jsx("line",{x1:j.x1,y1:j.y1,x2:j.x2,y2:j.y2,stroke:"currentColor",strokeWidth:1},C))}),a.jsxs("g",{className:"text-gray-400",children:[a.jsx("line",{x1:0,y1:Gr.y,x2:es,y2:Gr.y,stroke:"currentColor",strokeWidth:2}),a.jsx("line",{x1:Gr.x,y1:0,x2:Gr.x,y2:es,stroke:"currentColor",strokeWidth:2})]}),a.jsx("g",{className:"text-gray-500",children:r.map(j=>{if(j.type==="spring"){const C=z.nodes.find(Ae=>Ae.id===j.startNodeId),K=z.nodes.find(Ae=>Ae.id===j.endNodeId);if(!C||!K)return null;const ce=di(C.positionMeters),ue=di(K.positionMeters);return a.jsx("line",{x1:ce.x,y1:ce.y,x2:ue.x,y2:ue.y,stroke:"currentColor",strokeWidth:3,strokeDasharray:"6 4"},j.id)}if(j.type==="cablePulley"){const C=z.nodes.find(nt=>nt.id===j.startNodeId),K=z.nodes.find(nt=>nt.id===j.pulleyNodeId),ce=z.nodes.find(nt=>nt.id===j.endNodeId);if(!C||!K||!ce)return null;const ue=di(C.positionMeters),Ae=di(K.positionMeters),ct=di(ce.positionMeters);return a.jsxs("g",{children:[a.jsx("line",{x1:ue.x,y1:ue.y,x2:Ae.x,y2:Ae.y,stroke:"currentColor",strokeWidth:3}),a.jsx("line",{x1:ct.x,y1:ct.y,x2:Ae.x,y2:Ae.y,stroke:"currentColor",strokeWidth:3}),a.jsx("circle",{cx:Ae.x,cy:Ae.y,r:7,fill:"none",stroke:"currentColor",strokeWidth:2})]},j.id)}if(j.type==="cable"){const C=z.nodes.find(Ae=>Ae.id===j.startNodeId),K=z.nodes.find(Ae=>Ae.id===j.endNodeId);if(!C||!K)return null;const ce=di(C.positionMeters),ue=di(K.positionMeters);return a.jsx("line",{x1:ce.x,y1:ce.y,x2:ue.x,y2:ue.y,stroke:"currentColor",strokeWidth:3},j.id)}return null})}),E&&a.jsx("g",{className:"text-blue-700",children:ne.map((j,C)=>{const K=z.nodes.find(Ae=>Ae.id===j.nodeId);if(!K)return null;const ce=di(K.positionMeters),ue={x:ce.x+j.fxN*J,y:ce.y-j.fyN*J};return a.jsx("g",{children:a.jsx("line",{x1:ce.x,y1:ce.y,x2:ue.x,y2:ue.y,stroke:"currentColor",strokeWidth:3,markerEnd:"url(#arrowhead)"})},`${j.nodeId}-${C}`)})}),a.jsx("g",{children:z.nodes.map(j=>{const C=di(j.positionMeters),K=j.id===u;return a.jsxs("g",{onClick:ce=>{ce.stopPropagation(),d(j.id)},style:{cursor:"pointer"},children:[a.jsx("circle",{cx:C.x,cy:C.y,r:10,fill:K?"#111827":"#374151"}),a.jsx("text",{x:C.x+12,y:C.y-12,fill:"#111827",fontSize:14,children:j.id})]},j.id)})})]})})]}),a.jsxs("aside",{className:"border border-gray-200 bg-white",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex flex-wrap gap-2 items-center justify-between",children:[a.jsx("div",{className:"text-lg font-serif text-gray-900",children:"Model"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{type:"button",onClick:de,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add node"}),a.jsx("button",{type:"button",onClick:ge,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add spring"}),a.jsx("button",{type:"button",onClick:S,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add cable/pulley"}),a.jsx("button",{type:"button",onClick:A,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add cable"}),a.jsx("button",{type:"button",onClick:I,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add contact"}),a.jsx("button",{type:"button",onClick:R,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add weight"}),a.jsx("button",{type:"button",onClick:P,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add force"})]})]}),a.jsxs("div",{className:"p-4 space-y-6",children:[p&&a.jsx("div",{className:"border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-800",children:p}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Nodes"}),a.jsx("div",{className:"space-y-2",children:e.map(j=>a.jsxs("div",{className:"border border-gray-200 p-3",children:[a.jsxs("div",{className:"flex flex-col gap-2 mb-2 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.id}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("input",{className:"w-28 border border-gray-300 px-2 py-1 text-xs",value:j.idText,onChange:C=>M(j.id,{idText:C.target.value}),placeholder:"Node id"}),a.jsx("button",{type:"button",onClick:()=>be(j.id),className:"px-2 py-1 text-xs border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",title:"Rename node (updates connected components)",children:"Rename"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("label",{className:"text-xs text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Support"}),a.jsxs("select",{className:"border border-gray-300 bg-white px-2 py-1 text-xs",value:j.support,onChange:C=>{const K=C.target.value;M(j.id,{support:K,includeInEquilibrium:K==="pinned"?!0:j.includeInEquilibrium})},children:[a.jsx("option",{value:"none",children:"None"}),a.jsx("option",{value:"pinned",children:"Pinned (Rx,Ry)"})]})]}),a.jsxs("label",{className:"text-xs text-gray-700 flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:j.includeInEquilibrium||j.support==="pinned",disabled:j.support==="pinned",onChange:C=>M(j.id,{includeInEquilibrium:C.target.checked})}),"Include in equilibrium"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"x"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:j.xText,onChange:C=>M(j.id,{xText:C.target.value}),inputMode:"decimal"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"y"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:j.yText,onChange:C=>M(j.id,{yText:C.target.value}),inputMode:"decimal"})]})]}),a.jsx("div",{className:"mt-2",children:a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Unit"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:j.unitLabel,onChange:C=>M(j.id,{unitLabel:C.target.value}),children:yh.map(C=>a.jsx("option",{value:C.label,children:C.label},C.label))})]})})]},j.id))})]}),a.jsxs("section",{className:"space-y-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Components"}),a.jsx("div",{className:"space-y-2",children:r.map(j=>a.jsxs("div",{className:"border border-gray-200 p-3 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[j.id," ",a.jsx("span",{className:"text-gray-500 font-normal",children:j.type==="spring"?"(spring)":j.type==="cablePulley"?"(cable/pulley)":j.type==="cable"?"(cable)":j.type==="smoothContact"?"(smooth contact)":j.type==="weight"?"(weight)":"(applied force)"})]}),a.jsx("button",{type:"button",onClick:()=>F(j.id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),j.type==="spring"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.startNodeId,onChange:C=>Q(j.id,{startNodeId:C.target.value}),children:e.map(C=>a.jsx("option",{value:C.id,children:C.id},C.id))})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.endNodeId,onChange:C=>Q(j.id,{endNodeId:C.target.value}),children:e.map(C=>a.jsx("option",{value:C.id,children:C.id},C.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"k value"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:j.kText,onChange:C=>Q(j.id,{kText:C.target.value}),inputMode:"decimal"})]}),a.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[a.jsx("div",{className:"text-xs text-gray-600",children:"k units"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:j.kForceUnitLabel,onChange:C=>Q(j.id,{kForceUnitLabel:C.target.value}),children:bp.map(C=>a.jsx("option",{value:C.label,children:C.label},C.label))}),a.jsx("span",{className:"text-gray-500",children:"/"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:j.kLengthUnitLabel,onChange:C=>Q(j.id,{kLengthUnitLabel:C.target.value}),children:yh.map(C=>a.jsx("option",{value:C.label,children:C.label},C.label))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"l0 (optional)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:j.l0Text,onChange:C=>Q(j.id,{l0Text:C.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"l0 unit"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.l0UnitLabel,onChange:C=>Q(j.id,{l0UnitLabel:C.target.value}),children:yh.map(C=>a.jsx("option",{value:C.label,children:C.label},C.label))})]})]})]}):j.type==="cablePulley"?a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.startNodeId,onChange:C=>Q(j.id,{startNodeId:C.target.value}),children:e.map(C=>a.jsx("option",{value:C.id,children:C.id},C.id))})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Pulley"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.pulleyNodeId,onChange:C=>Q(j.id,{pulleyNodeId:C.target.value}),children:e.map(C=>a.jsx("option",{value:C.id,children:C.id},C.id))})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.endNodeId,onChange:C=>Q(j.id,{endNodeId:C.target.value}),children:e.map(C=>a.jsx("option",{value:C.id,children:C.id},C.id))})]})]}):j.type==="cable"?a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Start"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.startNodeId,onChange:C=>Q(j.id,{startNodeId:C.target.value}),children:e.map(C=>a.jsx("option",{value:C.id,children:C.id},C.id))})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"End"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.endNodeId,onChange:C=>Q(j.id,{endNodeId:C.target.value}),children:e.map(C=>a.jsx("option",{value:C.id,children:C.id},C.id))})]})]}):j.type==="smoothContact"?a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Node"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.nodeId,onChange:C=>Q(j.id,{nodeId:C.target.value}),children:e.map(C=>a.jsx("option",{value:C.id,children:C.id},C.id))})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Normal angle (deg)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:j.normalAngleDegText,onChange:C=>Q(j.id,{normalAngleDegText:C.target.value}),inputMode:"decimal"})]})]}):j.type==="weight"?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Node"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.nodeId,onChange:C=>Q(j.id,{nodeId:C.target.value}),children:e.map(C=>a.jsx("option",{value:C.id,children:C.id},C.id))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Mass"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:j.massText,onChange:C=>Q(j.id,{massText:C.target.value}),inputMode:"decimal"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Unit"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.massUnitLabel,onChange:C=>Q(j.id,{massUnitLabel:C.target.value}),children:FN.map(C=>a.jsx("option",{value:C.label,children:C.label},C.label))})]})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Gravity (m/sÂ², optional)"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:j.gravityText,onChange:C=>Q(j.id,{gravityText:C.target.value}),inputMode:"decimal",placeholder:"9.80665"})]})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Node"}),a.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.nodeId,onChange:C=>Q(j.id,{nodeId:C.target.value}),children:e.map(C=>a.jsx("option",{value:C.id,children:C.id},C.id))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Fx"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:j.fxText,onChange:C=>Q(j.id,{fxText:C.target.value}),inputMode:"decimal"})]}),a.jsxs("label",{className:"text-sm text-gray-700",children:[a.jsx("div",{className:"mb-1",children:"Fy"}),a.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:j.fyText,onChange:C=>Q(j.id,{fyText:C.target.value}),inputMode:"decimal"})]})]}),a.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[a.jsx("span",{children:"Unit"}),a.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:j.unitLabel,onChange:C=>Q(j.id,{unitLabel:C.target.value}),children:bp.map(C=>a.jsx("option",{value:C.label,children:C.label},C.label))})]})]})]},j.id))})]}),a.jsxs("section",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Solution"}),E?a.jsxs("div",{className:"border border-gray-200 p-3 space-y-2",children:[a.jsx("div",{className:"text-xs text-gray-600",children:"Variables are solved in SI internally (N, m)."}),a.jsx("div",{className:"space-y-1",children:k.map(j=>a.jsxs("div",{className:"text-sm text-gray-800",children:[a.jsx("span",{className:"font-mono",children:j.id})," = ",Vg(j.value)," ",j.unitLabel]},j.id))})]}):a.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œSolve equilibriumâ€."})]}),a.jsxs("section",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Equations"}),a.jsx("div",{className:"text-xs text-gray-600",children:V.length?a.jsx("ul",{className:"list-disc pl-5 space-y-1",children:V.map((j,C)=>a.jsx("li",{children:j||"(unnamed)"},C))}):"Equations will appear after a solve attempt."})]})]})]})]})]})}),a.jsx(Mt,{})]})}function E6(){return a.jsxs(b1,{children:[a.jsx(jt,{path:"/",element:a.jsx(iO,{})}),a.jsx(jt,{path:"/contact",element:a.jsx(rO,{})}),a.jsx(jt,{path:"/portal",element:a.jsx(aO,{})}),a.jsx(jt,{path:"/dashboard",element:a.jsx(oO,{})}),a.jsx(jt,{path:"/legal",element:a.jsx(lO,{})}),a.jsx(jt,{path:"/toolbox",element:a.jsx(NO,{})}),a.jsx(jt,{path:"/toolbox/unit-conversion",element:a.jsx(qO,{})}),a.jsx(jt,{path:"/toolbox/force-vectors",element:a.jsx(n6,{})}),a.jsx(jt,{path:"/toolbox/static-system",element:a.jsx(_6,{})}),a.jsx(jt,{path:"/blog",element:a.jsx(cO,{})}),a.jsx(jt,{path:"/blog/professional-engineering-st-louis-missouri",element:a.jsx(uO,{})}),a.jsx(jt,{path:"/blog/engineering-review-professional-judgment-st-louis-missouri",element:a.jsx(dO,{})}),a.jsx(jt,{path:"/blog/forensic-engineering-missouri-technical-analysis",element:a.jsx(hO,{})}),a.jsx(jt,{path:"/blog/professional-engineer-expert-witness-missouri",element:a.jsx(fO,{})}),a.jsx(jt,{path:"/blog/engineering-standards-assumptions-failure-analysis",element:a.jsx(mO,{})}),a.jsx(jt,{path:"/blog/when-professional-engineer-required-missouri",element:a.jsx(gO,{})}),a.jsx(jt,{path:"/blog/what-does-engineering-expert-witness-do",element:a.jsx(pO,{})}),a.jsx(jt,{path:"/blog/what-does-professional-engineer-seal-mean",element:a.jsx(yO,{})}),a.jsx(jt,{path:"/blog/engineering-causation-failure-analysis",element:a.jsx(xO,{})}),a.jsx(jt,{path:"/blog/courts-evaluate-engineering-causation-testimony",element:a.jsx(bO,{})}),a.jsx(jt,{path:"/blog/root-cause-vs-legal-cause-engineering",element:a.jsx(vO,{})}),a.jsx(jt,{path:"/blog/common-mistakes-engineering-expert-reports",element:a.jsx(_O,{})}),a.jsx(jt,{path:"/blog/structural-analysis-building-approval-missouri",element:a.jsx(EO,{})}),a.jsx(jt,{path:"/blog/property-condition-assessment-pca",element:a.jsx(TO,{})}),a.jsx(jt,{path:"/blog/pca-vs-cna-understanding-the-difference",element:a.jsx(wO,{})})]})}const T6=rS.createRoot(document.getElementById("root"));T6.render(a.jsx(O.StrictMode,{children:a.jsx(B1,{children:a.jsx(E6,{})})}));
