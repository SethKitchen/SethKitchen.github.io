(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Km={exports:{}},mc={};var Mb;function FS(){if(Mb)return mc;Mb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:d,ref:o!==void 0?o:null,props:u}}return mc.Fragment=e,mc.jsx=n,mc.jsxs=n,mc}var Db;function HS(){return Db||(Db=1,Km.exports=FS()),Km.exports}var l=HS(),Ym={exports:{}},Oe={};var Ob;function GS(){if(Ob)return Oe;Ob=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),N=Symbol.iterator;function L(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,z={};function te(O,ie,ce){this.props=O,this.context=ie,this.refs=z,this.updater=ce||Y}te.prototype.isReactComponent={},te.prototype.setState=function(O,ie){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ie,"setState")},te.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function J(){}J.prototype=te.prototype;function W(O,ie,ce){this.props=O,this.context=ie,this.refs=z,this.updater=ce||Y}var q=W.prototype=new J;q.constructor=W,B(q,te.prototype),q.isPureReactComponent=!0;var oe=Array.isArray;function he(){}var j={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function A(O,ie,ce){var ve=ce.ref;return{$$typeof:i,type:O,key:ie,ref:ve!==void 0?ve:null,props:ce}}function C(O,ie){return A(O.type,ie,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function V(O){var ie={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return ie[ce]})}var R=/\/+/g;function we(O,ie){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):ie.toString(36)}function ye(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(he,he):(O.status="pending",O.then(function(ie){O.status==="pending"&&(O.status="fulfilled",O.value=ie)},function(ie){O.status==="pending"&&(O.status="rejected",O.reason=ie)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function X(O,ie,ce,ve,Ie){var ke=typeof O;(ke==="undefined"||ke==="boolean")&&(O=null);var Ge=!1;if(O===null)Ge=!0;else switch(ke){case"bigint":case"string":case"number":Ge=!0;break;case"object":switch(O.$$typeof){case i:case e:Ge=!0;break;case _:return Ge=O._init,X(Ge(O._payload),ie,ce,ve,Ie)}}if(Ge)return Ie=Ie(O),Ge=ve===""?"."+we(O,0):ve,oe(Ie)?(ce="",Ge!=null&&(ce=Ge.replace(R,"$&/")+"/"),X(Ie,ie,ce,"",function(ys){return ys})):Ie!=null&&(M(Ie)&&(Ie=C(Ie,ce+(Ie.key==null||O&&O.key===Ie.key?"":(""+Ie.key).replace(R,"$&/")+"/")+Ge)),ie.push(Ie)),1;Ge=0;var Ft=ve===""?".":ve+":";if(oe(O))for(var _t=0;_t<O.length;_t++)ve=O[_t],ke=Ft+we(ve,_t),Ge+=X(ve,ie,ce,ke,Ie);else if(_t=L(O),typeof _t=="function")for(O=_t.call(O),_t=0;!(ve=O.next()).done;)ve=ve.value,ke=Ft+we(ve,_t++),Ge+=X(ve,ie,ce,ke,Ie);else if(ke==="object"){if(typeof O.then=="function")return X(ye(O),ie,ce,ve,Ie);throw ie=String(O),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ge}function le(O,ie,ce){if(O==null)return O;var ve=[],Ie=0;return X(O,ve,"","",function(ke){return ie.call(ce,ke,Ie++)}),ve}function fe(O){if(O._status===-1){var ie=O._result;ie=ie(),ie.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=ie)}if(O._status===1)return O._result.default;throw O._result}var Me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},He={map:le,forEach:function(O,ie,ce){le(O,function(){ie.apply(this,arguments)},ce)},count:function(O){var ie=0;return le(O,function(){ie++}),ie},toArray:function(O){return le(O,function(ie){return ie})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Oe.Activity=E,Oe.Children=He,Oe.Component=te,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=W,Oe.StrictMode=r,Oe.Suspense=y,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return j.H.useMemoCache(O)}},Oe.cache=function(O){return function(){return O.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(O,ie,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ve=B({},O.props),Ie=O.key;if(ie!=null)for(ke in ie.key!==void 0&&(Ie=""+ie.key),ie)!S.call(ie,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&ie.ref===void 0||(ve[ke]=ie[ke]);var ke=arguments.length-2;if(ke===1)ve.children=ce;else if(1<ke){for(var Ge=Array(ke),Ft=0;Ft<ke;Ft++)Ge[Ft]=arguments[Ft+2];ve.children=Ge}return A(O.type,Ie,ve)},Oe.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Oe.createElement=function(O,ie,ce){var ve,Ie={},ke=null;if(ie!=null)for(ve in ie.key!==void 0&&(ke=""+ie.key),ie)S.call(ie,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Ie[ve]=ie[ve]);var Ge=arguments.length-2;if(Ge===1)Ie.children=ce;else if(1<Ge){for(var Ft=Array(Ge),_t=0;_t<Ge;_t++)Ft[_t]=arguments[_t+2];Ie.children=Ft}if(O&&O.defaultProps)for(ve in Ge=O.defaultProps,Ge)Ie[ve]===void 0&&(Ie[ve]=Ge[ve]);return A(O,ke,Ie)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(O){return{$$typeof:g,render:O}},Oe.isValidElement=M,Oe.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:fe}},Oe.memo=function(O,ie){return{$$typeof:p,type:O,compare:ie===void 0?null:ie}},Oe.startTransition=function(O){var ie=j.T,ce={};j.T=ce;try{var ve=O(),Ie=j.S;Ie!==null&&Ie(ce,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(he,Me)}catch(ke){Me(ke)}finally{ie!==null&&ce.types!==null&&(ie.types=ce.types),j.T=ie}},Oe.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Oe.use=function(O){return j.H.use(O)},Oe.useActionState=function(O,ie,ce){return j.H.useActionState(O,ie,ce)},Oe.useCallback=function(O,ie){return j.H.useCallback(O,ie)},Oe.useContext=function(O){return j.H.useContext(O)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(O,ie){return j.H.useDeferredValue(O,ie)},Oe.useEffect=function(O,ie){return j.H.useEffect(O,ie)},Oe.useEffectEvent=function(O){return j.H.useEffectEvent(O)},Oe.useId=function(){return j.H.useId()},Oe.useImperativeHandle=function(O,ie,ce){return j.H.useImperativeHandle(O,ie,ce)},Oe.useInsertionEffect=function(O,ie){return j.H.useInsertionEffect(O,ie)},Oe.useLayoutEffect=function(O,ie){return j.H.useLayoutEffect(O,ie)},Oe.useMemo=function(O,ie){return j.H.useMemo(O,ie)},Oe.useOptimistic=function(O,ie){return j.H.useOptimistic(O,ie)},Oe.useReducer=function(O,ie,ce){return j.H.useReducer(O,ie,ce)},Oe.useRef=function(O){return j.H.useRef(O)},Oe.useState=function(O){return j.H.useState(O)},Oe.useSyncExternalStore=function(O,ie,ce){return j.H.useSyncExternalStore(O,ie,ce)},Oe.useTransition=function(){return j.H.useTransition()},Oe.version="19.2.3",Oe}var Pb;function ep(){return Pb||(Pb=1,Ym.exports=GS()),Ym.exports}var k=ep();var kb="popstate";function $S(i={}){function e(r,o){let{pathname:u,search:d,hash:g}=r.location;return _g("",{pathname:u,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Pc(o)}return YS(e,n,null,i)}function Dt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Li(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KS(){return Math.random().toString(36).substring(2,10)}function Lb(i,e){return{usr:i.state,key:i.key,idx:e}}function _g(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?sl(e):e,state:n,key:e&&e.key||r||KS()}}function Pc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function sl(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function YS(i,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,d=o.history,g="POP",y=null,p=_();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function _(){return(d.state||{idx:null}).idx}function E(){g="POP";let z=_(),te=z==null?null:z-p;p=z,y&&y({action:g,location:B.location,delta:te})}function N(z,te){g="PUSH";let J=_g(B.location,z,te);p=_()+1;let W=Lb(J,p),q=B.createHref(J);try{d.pushState(W,"",q)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(q)}u&&y&&y({action:g,location:B.location,delta:1})}function L(z,te){g="REPLACE";let J=_g(B.location,z,te);p=_();let W=Lb(J,p),q=B.createHref(J);d.replaceState(W,"",q),u&&y&&y({action:g,location:B.location,delta:0})}function Y(z){return QS(z)}let B={get action(){return g},get location(){return i(o,d)},listen(z){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(kb,E),y=z,()=>{o.removeEventListener(kb,E),y=null}},createHref(z){return e(o,z)},createURL:Y,encodeLocation(z){let te=Y(z);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:N,replace:L,go(z){return d.go(z)}};return B}function QS(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Pc(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Q_(i,e,n="/"){return WS(i,e,n,!1)}function WS(i,e,n,r){let o=typeof e=="string"?sl(e):e,u=Fs(o.pathname||"/",n);if(u==null)return null;let d=W_(i);XS(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let p=lj(u);g=aj(d[y],p,r)}return g}function W_(i,e=[],n=[],r="",o=!1){let u=(d,g,y=o,p)=>{let _={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&y)return;Dt(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let E=qs([r,_.relativePath]),N=n.concat(_);d.children&&d.children.length>0&&(Dt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),W_(d.children,e,N,E,y)),!(d.path==null&&!d.index)&&e.push({path:E,score:sj(E,d.index),routesMeta:N})};return i.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))u(d,g);else for(let y of X_(d.path))u(d,g,!0,y)}),e}function X_(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let d=X_(r.join("/")),g=[];return g.push(...d.map(y=>y===""?u:[u,y].join("/"))),o&&g.push(...d),g.map(y=>i.startsWith("/")&&y===""?"/":y)}function XS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:rj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var JS=/^:[\w-]+$/,ZS=3,ej=2,tj=1,nj=10,ij=-2,Vb=i=>i==="*";function sj(i,e){let n=i.split("/"),r=n.length;return n.some(Vb)&&(r+=ij),e&&(r+=ej),n.filter(o=>!Vb(o)).reduce((o,u)=>o+(JS.test(u)?ZS:u===""?tj:nj),r)}function rj(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function aj(i,e,n=!1){let{routesMeta:r}=i,o={},u="/",d=[];for(let g=0;g<r.length;++g){let y=r[g],p=g===r.length-1,_=u==="/"?e:e.slice(u.length)||"/",E=sh({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},_),N=y.route;if(!E&&p&&n&&!r[r.length-1].route.index&&(E=sh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),d.push({params:o,pathname:qs([u,E.pathname]),pathnameBase:hj(qs([u,E.pathnameBase])),route:N}),E.pathnameBase!=="/"&&(u=qs([u,E.pathnameBase]))}return d}function sh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=oj(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:r.reduce((p,{paramName:_,isOptional:E},N)=>{if(_==="*"){let Y=g[N]||"";d=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const L=g[N];return E&&!L?p[_]=void 0:p[_]=(L||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:i}}function oj(i,e=!1,n=!0){Li(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(r.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function lj(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Li(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Fs(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}var J_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cj=i=>J_.test(i);function uj(i,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof i=="string"?sl(i):i,u;if(n)if(cj(n))u=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Li(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?u=Ub(n.substring(1),"/"):u=Ub(n,e)}else u=e;return{pathname:u,search:fj(r),hash:mj(o)}}function Ub(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Qm(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dj(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Z_(i){let e=dj(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function eE(i,e,n,r=!1){let o;typeof i=="string"?o=sl(i):(o={...i},Dt(!o.pathname||!o.pathname.includes("?"),Qm("?","pathname","search",o)),Dt(!o.pathname||!o.pathname.includes("#"),Qm("#","pathname","hash",o)),Dt(!o.search||!o.search.includes("#"),Qm("#","search","hash",o)));let u=i===""||o.pathname==="",d=u?"/":o.pathname,g;if(d==null)g=n;else{let E=e.length-1;if(!r&&d.startsWith("..")){let N=d.split("/");for(;N[0]==="..";)N.shift(),E-=1;o.pathname=N.join("/")}g=E>=0?e[E]:"/"}let y=uj(o,g),p=d&&d!=="/"&&d.endsWith("/"),_=(u||d===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(p||_)&&(y.pathname+="/"),y}var qs=i=>i.join("/").replace(/\/\/+/g,"/"),hj=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),fj=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,mj=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,gj=class{constructor(i,e,n,r=!1){this.status=i,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function pj(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function yj(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var tE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function nE(i,e){let n=i;if(typeof n!="string"||!J_.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(tE)try{let u=new URL(window.location.href),d=n.startsWith("//")?new URL(u.protocol+n):new URL(n),g=Fs(d.pathname,e);d.origin===u.origin&&g!=null?n=g+d.search+d.hash:o=!0}catch{Li(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iE=["POST","PUT","PATCH","DELETE"];new Set(iE);var xj=["GET",...iE];new Set(xj);var rl=k.createContext(null);rl.displayName="DataRouter";var Sh=k.createContext(null);Sh.displayName="DataRouterState";var bj=k.createContext(!1),sE=k.createContext({isTransitioning:!1});sE.displayName="ViewTransition";var vj=k.createContext(new Map);vj.displayName="Fetchers";var _j=k.createContext(null);_j.displayName="Await";var _i=k.createContext(null);_i.displayName="Navigation";var Qc=k.createContext(null);Qc.displayName="Location";var Ys=k.createContext({outlet:null,matches:[],isDataRoute:!1});Ys.displayName="Route";var tp=k.createContext(null);tp.displayName="RouteError";var rE="REACT_ROUTER_ERROR",Ej="REDIRECT",Tj="ROUTE_ERROR_RESPONSE";function wj(i){if(i.startsWith(`${rE}:${Ej}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Nj(i){if(i.startsWith(`${rE}:${Tj}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new gj(e.status,e.statusText,e.data)}catch{}}function Sj(i,{relative:e}={}){Dt(Wc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(_i),{hash:o,pathname:u,search:d}=Xc(i,{relative:e}),g=u;return n!=="/"&&(g=u==="/"?n:qs([n,u])),r.createHref({pathname:g,search:d,hash:o})}function Wc(){return k.useContext(Qc)!=null}function Jr(){return Dt(Wc(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Qc).location}var aE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oE(i){k.useContext(_i).static||k.useLayoutEffect(i)}function jj(){let{isDataRoute:i}=k.useContext(Ys);return i?zj():Aj()}function Aj(){Dt(Wc(),"useNavigate() may be used only in the context of a <Router> component.");let i=k.useContext(rl),{basename:e,navigator:n}=k.useContext(_i),{matches:r}=k.useContext(Ys),{pathname:o}=Jr(),u=JSON.stringify(Z_(r)),d=k.useRef(!1);return oE(()=>{d.current=!0}),k.useCallback((y,p={})=>{if(Li(d.current,aE),!d.current)return;if(typeof y=="number"){n.go(y);return}let _=eE(y,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:qs([e,_.pathname])),(p.replace?n.replace:n.push)(_,p.state,p)},[e,n,u,o,i])}k.createContext(null);function Xc(i,{relative:e}={}){let{matches:n}=k.useContext(Ys),{pathname:r}=Jr(),o=JSON.stringify(Z_(n));return k.useMemo(()=>eE(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function Cj(i,e){return lE(i,e)}function lE(i,e,n,r,o){Dt(Wc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(_i),{matches:d}=k.useContext(Ys),g=d[d.length-1],y=g?g.params:{},p=g?g.pathname:"/",_=g?g.pathnameBase:"/",E=g&&g.route;{let J=E&&E.path||"";uE(p,!E||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let N=Jr(),L;if(e){let J=typeof e=="string"?sl(e):e;Dt(_==="/"||J.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${J.pathname}" was given in the \`location\` prop.`),L=J}else L=N;let Y=L.pathname||"/",B=Y;if(_!=="/"){let J=_.replace(/^\//,"").split("/");B="/"+Y.replace(/^\//,"").split("/").slice(J.length).join("/")}let z=Q_(i,{pathname:B});Li(E||z!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),Li(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=Oj(z&&z.map(J=>Object.assign({},J,{params:Object.assign({},y,J.params),pathname:qs([_,u.encodeLocation?u.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?_:qs([_,u.encodeLocation?u.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),d,n,r,o);return e&&te?k.createElement(Qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},te):te}function Rj(){let i=Uj(),e=pj(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=k.createElement(k.Fragment,null,k.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,d)}var Ij=k.createElement(Rj,null),cE=class extends k.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=Nj(i.digest);n&&(i=n)}let e=i!==void 0?k.createElement(Ys.Provider,{value:this.props.routeContext},k.createElement(tp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?k.createElement(Mj,{error:i},e):e}};cE.contextType=bj;var Wm=new WeakMap;function Mj({children:i,error:e}){let{basename:n}=k.useContext(_i);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=wj(e.digest);if(r){let o=Wm.get(e);if(o)throw o;let u=nE(r.location,n);if(tE&&!Wm.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw Wm.set(e,d),d}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function Dj({routeContext:i,match:e,children:n}){let r=k.useContext(rl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(Ys.Provider,{value:i},n)}function Oj(i,e=[],n=null,r=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,d=n?.errors;if(d!=null){let _=u.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);Dt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let g=!1,y=-1;if(n)for(let _=0;_<u.length;_++){let E=u[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=_),E.route.id){let{loaderData:N,errors:L}=n,Y=E.route.loader&&!N.hasOwnProperty(E.route.id)&&(!L||L[E.route.id]===void 0);if(E.route.lazy||Y){g=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}let p=n&&r?(_,E)=>{r(_,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:yj(n.matches),errorInfo:E})}:void 0;return u.reduceRight((_,E,N)=>{let L,Y=!1,B=null,z=null;n&&(L=d&&E.route.id?d[E.route.id]:void 0,B=E.route.errorElement||Ij,g&&(y<0&&N===0?(uE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Y=!0,z=null):y===N&&(Y=!0,z=E.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,N+1)),J=()=>{let W;return L?W=B:Y?W=z:E.route.Component?W=k.createElement(E.route.Component,null):E.route.element?W=E.route.element:W=_,k.createElement(Dj,{match:E,routeContext:{outlet:_,matches:te,isDataRoute:n!=null},children:W})};return n&&(E.route.ErrorBoundary||E.route.errorElement||N===0)?k.createElement(cE,{location:n.location,revalidation:n.revalidation,component:B,error:L,children:J(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:p}):J()},null)}function np(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pj(i){let e=k.useContext(rl);return Dt(e,np(i)),e}function kj(i){let e=k.useContext(Sh);return Dt(e,np(i)),e}function Lj(i){let e=k.useContext(Ys);return Dt(e,np(i)),e}function ip(i){let e=Lj(i),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Vj(){return ip("useRouteId")}function Uj(){let i=k.useContext(tp),e=kj("useRouteError"),n=ip("useRouteError");return i!==void 0?i:e.errors?.[n]}function zj(){let{router:i}=Pj("useNavigate"),e=ip("useNavigate"),n=k.useRef(!1);return oE(()=>{n.current=!0}),k.useCallback(async(o,u={})=>{Li(n.current,aE),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var zb={};function uE(i,e,n){!e&&!zb[i]&&(zb[i]=!0,Li(!1,n))}k.memo(qj);function qj({routes:i,future:e,state:n,onError:r}){return lE(i,void 0,n,r,e)}function Rt(i){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bj({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){Dt(!Wc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=i.replace(/^\/*/,"/"),y=k.useMemo(()=>({basename:g,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[g,o,u,d]);typeof n=="string"&&(n=sl(n));let{pathname:p="/",search:_="",hash:E="",state:N=null,key:L="default"}=n,Y=k.useMemo(()=>{let B=Fs(p,g);return B==null?null:{location:{pathname:B,search:_,hash:E,state:N,key:L},navigationType:r}},[g,p,_,E,N,L,r]);return Li(Y!=null,`<Router basename="${g}"> is not able to match the URL "${p}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),Y==null?null:k.createElement(_i.Provider,{value:y},k.createElement(Qc.Provider,{children:e,value:Y}))}function Fj({children:i,location:e}){return Cj(Eg(i),e)}function Eg(i,e=[]){let n=[];return k.Children.forEach(i,(r,o)=>{if(!k.isValidElement(r))return;let u=[...e,o];if(r.type===k.Fragment){n.push.apply(n,Eg(r.props.children,u));return}Dt(r.type===Rt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Eg(r.props.children,u)),n.push(d)}),n}var Gd="get",$d="application/x-www-form-urlencoded";function jh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function Hj(i){return jh(i)&&i.tagName.toLowerCase()==="button"}function Gj(i){return jh(i)&&i.tagName.toLowerCase()==="form"}function $j(i){return jh(i)&&i.tagName.toLowerCase()==="input"}function Kj(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Yj(i,e){return i.button===0&&(!e||e==="_self")&&!Kj(i)}var Od=null;function Qj(){if(Od===null)try{new FormData(document.createElement("form"),0),Od=!1}catch{Od=!0}return Od}var Wj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xm(i){return i!=null&&!Wj.has(i)?(Li(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$d}"`),null):i}function Xj(i,e){let n,r,o,u,d;if(Gj(i)){let g=i.getAttribute("action");r=g?Fs(g,e):null,n=i.getAttribute("method")||Gd,o=Xm(i.getAttribute("enctype"))||$d,u=new FormData(i)}else if(Hj(i)||$j(i)&&(i.type==="submit"||i.type==="image")){let g=i.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||g.getAttribute("action");if(r=y?Fs(y,e):null,n=i.getAttribute("formmethod")||g.getAttribute("method")||Gd,o=Xm(i.getAttribute("formenctype"))||Xm(g.getAttribute("enctype"))||$d,u=new FormData(g,i),!Qj()){let{name:p,type:_,value:E}=i;if(_==="image"){let N=p?`${p}.`:"";u.append(`${N}x`,"0"),u.append(`${N}y`,"0")}else p&&u.append(p,E)}}else{if(jh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gd,r=null,o=$d,d=i}return u&&o==="text/plain"&&(d=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Jj(i,e,n,r){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&Fs(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function Zj(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function tA(i,e,n){let r=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await Zj(u,n);return d.links?d.links():[]}return[]}));return rA(r.flat(1).filter(eA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function qb(i,e,n,r,o,u){let d=(y,p)=>n[p]?y.route.id!==n[p].route.id:!0,g=(y,p)=>n[p].pathname!==y.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,p)=>d(y,p)||g(y,p)):u==="data"?e.filter((y,p)=>{let _=r.routes[y.route.id];if(!_||!_.hasLoader)return!1;if(d(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let E=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function nA(i,e,{includeHydrateFallback:n}={}){return iA(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function iA(i){return[...new Set(i)]}function sA(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function rA(i,e){let n=new Set;return new Set(e),i.reduce((r,o)=>{let u=JSON.stringify(sA(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function dE(){let i=k.useContext(rl);return sp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function aA(){let i=k.useContext(Sh);return sp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var rp=k.createContext(void 0);rp.displayName="FrameworkContext";function hE(){let i=k.useContext(rp);return sp(i,"You must render this element inside a <HydratedRouter> element"),i}function oA(i,e){let n=k.useContext(rp),[r,o]=k.useState(!1),[u,d]=k.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:_,onTouchStart:E}=e,N=k.useRef(null);k.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let B=te=>{te.forEach(J=>{d(J.isIntersecting)})},z=new IntersectionObserver(B,{threshold:.5});return N.current&&z.observe(N.current),()=>{z.disconnect()}}},[i]),k.useEffect(()=>{if(r){let B=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(B)}}},[r]);let L=()=>{o(!0)},Y=()=>{o(!1),d(!1)};return n?i!=="intent"?[u,N,{}]:[u,N,{onFocus:gc(g,L),onBlur:gc(y,Y),onMouseEnter:gc(p,L),onMouseLeave:gc(_,Y),onTouchStart:gc(E,L)}]:[!1,N,{}]}function gc(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function lA({page:i,...e}){let{router:n}=dE(),r=k.useMemo(()=>Q_(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?k.createElement(uA,{page:i,matches:r,...e}):null}function cA(i){let{manifest:e,routeModules:n}=hE(),[r,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return tA(i,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[i,e,n]),r}function uA({page:i,matches:e,...n}){let r=Jr(),{future:o,manifest:u,routeModules:d}=hE(),{basename:g}=dE(),{loaderData:y,matches:p}=aA(),_=k.useMemo(()=>qb(i,e,p,u,r,"data"),[i,e,p,u,r]),E=k.useMemo(()=>qb(i,e,p,u,r,"assets"),[i,e,p,u,r]),N=k.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let B=new Set,z=!1;if(e.forEach(J=>{let W=u.routes[J.route.id];!W||!W.hasLoader||(!_.some(q=>q.route.id===J.route.id)&&J.route.id in y&&d[J.route.id]?.shouldRevalidate||W.hasClientLoader?z=!0:B.add(J.route.id))}),B.size===0)return[];let te=Jj(i,g,o.unstable_trailingSlashAwareDataRequests,"data");return z&&B.size>0&&te.searchParams.set("_routes",e.filter(J=>B.has(J.route.id)).map(J=>J.route.id).join(",")),[te.pathname+te.search]},[g,o.unstable_trailingSlashAwareDataRequests,y,r,u,_,e,i,d]),L=k.useMemo(()=>nA(E,u),[E,u]),Y=cA(E);return k.createElement(k.Fragment,null,N.map(B=>k.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),L.map(B=>k.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),Y.map(({key:B,link:z})=>k.createElement("link",{key:B,nonce:n.nonce,...z})))}function dA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var hA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hA&&(window.__reactRouterVersion="7.12.0")}catch{}function fA({basename:i,children:e,unstable_useTransitions:n,window:r}){let o=k.useRef();o.current==null&&(o.current=$S({window:r,v5Compat:!0}));let u=o.current,[d,g]=k.useState({action:u.action,location:u.location}),y=k.useCallback(p=>{n===!1?g(p):k.startTransition(()=>g(p))},[n]);return k.useLayoutEffect(()=>u.listen(y),[u,y]),k.createElement(Bj,{basename:i,children:e,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:n})}var fE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pe=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:d,state:g,target:y,to:p,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:N,...L},Y){let{basename:B,unstable_useTransitions:z}=k.useContext(_i),te=typeof p=="string"&&fE.test(p),J=nE(p,B);p=J.to;let W=Sj(p,{relative:o}),[q,oe,he]=oA(r,L),j=yA(p,{replace:d,state:g,target:y,preventScrollReset:_,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:N,unstable_useTransitions:z});function S(C){e&&e(C),C.defaultPrevented||j(C)}let A=k.createElement("a",{...L,...he,href:J.absoluteURL||W,onClick:J.isExternal||u?e:S,ref:dA(Y,oe),target:y,"data-discover":!te&&n==="render"?"true":void 0});return q&&!te?k.createElement(k.Fragment,null,A,k.createElement(lA,{page:W})):A});pe.displayName="Link";var mA=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:d,viewTransition:g,children:y,...p},_){let E=Xc(d,{relative:p.relative}),N=Jr(),L=k.useContext(Sh),{navigator:Y,basename:B}=k.useContext(_i),z=L!=null&&EA(E)&&g===!0,te=Y.encodeLocation?Y.encodeLocation(E).pathname:E.pathname,J=N.pathname,W=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(J=J.toLowerCase(),W=W?W.toLowerCase():null,te=te.toLowerCase()),W&&B&&(W=Fs(W,B)||W);const q=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let oe=J===te||!o&&J.startsWith(te)&&J.charAt(q)==="/",he=W!=null&&(W===te||!o&&W.startsWith(te)&&W.charAt(te.length)==="/"),j={isActive:oe,isPending:he,isTransitioning:z},S=oe?e:void 0,A;typeof r=="function"?A=r(j):A=[r,oe?"active":null,he?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let C=typeof u=="function"?u(j):u;return k.createElement(pe,{...p,"aria-current":S,className:A,ref:_,style:C,to:d,viewTransition:g},typeof y=="function"?y(j):y)});mA.displayName="NavLink";var gA=k.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:d=Gd,action:g,onSubmit:y,relative:p,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:N,...L},Y)=>{let{unstable_useTransitions:B}=k.useContext(_i),z=vA(),te=_A(g,{relative:p}),J=d.toLowerCase()==="get"?"get":"post",W=typeof g=="string"&&fE.test(g),q=oe=>{if(y&&y(oe),oe.defaultPrevented)return;oe.preventDefault();let he=oe.nativeEvent.submitter,j=he?.getAttribute("formmethod")||d,S=()=>z(he||oe.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:o,state:u,relative:p,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:N});B&&n!==!1?k.startTransition(()=>S()):S()};return k.createElement("form",{ref:Y,method:J,action:te,onSubmit:r?y:q,...L,"data-discover":!W&&i==="render"?"true":void 0})});gA.displayName="Form";function pA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mE(i){let e=k.useContext(rl);return Dt(e,pA(i)),e}function yA(i,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:g,unstable_useTransitions:y}={}){let p=jj(),_=Jr(),E=Xc(i,{relative:u});return k.useCallback(N=>{if(Yj(N,e)){N.preventDefault();let L=n!==void 0?n:Pc(_)===Pc(E),Y=()=>p(i,{replace:L,state:r,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:g});y?k.startTransition(()=>Y()):Y()}},[_,p,E,n,r,e,i,o,u,d,g,y])}var xA=0,bA=()=>`__${String(++xA)}__`;function vA(){let{router:i}=mE("useSubmit"),{basename:e}=k.useContext(_i),n=Vj(),r=i.fetch,o=i.navigate;return k.useCallback(async(u,d={})=>{let{action:g,method:y,encType:p,formData:_,body:E}=Xj(u,e);if(d.navigate===!1){let N=d.fetcherKey||bA();await r(N,n,d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:_,body:E,formMethod:d.method||y,formEncType:d.encType||p,flushSync:d.flushSync})}else await o(d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:_,body:E,formMethod:d.method||y,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,o,e,n])}function _A(i,{relative:e}={}){let{basename:n}=k.useContext(_i),r=k.useContext(Ys);Dt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...Xc(i||".",{relative:e})},d=Jr();if(i==null){u.search=d.search;let g=new URLSearchParams(u.search),y=g.getAll("index");if(y.some(_=>_==="")){g.delete("index"),y.filter(E=>E).forEach(E=>g.append("index",E));let _=g.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:qs([n,u.pathname])),Pc(u)}function EA(i,{relative:e}={}){let n=k.useContext(sE);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=mE("useViewTransitionState"),o=Xc(i,{relative:e});if(!n.isTransitioning)return!1;let u=Fs(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=Fs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return sh(o.pathname,d)!=null||sh(o.pathname,u)!=null}var Jm={exports:{}},Sn={};var Bb;function TA(){if(Bb)return Sn;Bb=1;var i=ep();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,p,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:y,containerInfo:p,implementation:_}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sn.createPortal=function(y,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,_)},Sn.flushSync=function(y){var p=d.T,_=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=p,r.p=_,r.d.f()}},Sn.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},Sn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Sn.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var _=p.as,E=g(_,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,L=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:N,fetchPriority:L}):_==="script"&&r.d.X(y,{crossOrigin:E,integrity:N,fetchPriority:L,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Sn.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=g(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},Sn.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,E=g(_,p.crossOrigin);r.d.L(y,_,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Sn.preloadModule=function(y,p){if(typeof y=="string")if(p){var _=g(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},Sn.requestFormReset=function(y){r.d.r(y)},Sn.unstable_batchedUpdates=function(y,p){return y(p)},Sn.useFormState=function(y,p,_){return d.H.useFormState(y,p,_)},Sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Sn.version="19.2.3",Sn}var Fb;function wA(){if(Fb)return Jm.exports;Fb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jm.exports=TA(),Jm.exports}var Zm={exports:{}},pc={},eg={exports:{}},tg={};var Hb;function NA(){return Hb||(Hb=1,(function(i){function e(X,le){var fe=X.length;X.push(le);e:for(;0<fe;){var Me=fe-1>>>1,He=X[Me];if(0<o(He,le))X[Me]=le,X[fe]=He,fe=Me;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var le=X[0],fe=X.pop();if(fe!==le){X[0]=fe;e:for(var Me=0,He=X.length,O=He>>>1;Me<O;){var ie=2*(Me+1)-1,ce=X[ie],ve=ie+1,Ie=X[ve];if(0>o(ce,fe))ve<He&&0>o(Ie,ce)?(X[Me]=Ie,X[ve]=fe,Me=ve):(X[Me]=ce,X[ie]=fe,Me=ie);else if(ve<He&&0>o(Ie,fe))X[Me]=Ie,X[ve]=fe,Me=ve;else break e}}return le}function o(X,le){var fe=X.sortIndex-le.sortIndex;return fe!==0?fe:X.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();i.unstable_now=function(){return d.now()-g}}var y=[],p=[],_=1,E=null,N=3,L=!1,Y=!1,B=!1,z=!1,te=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function q(X){for(var le=n(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=X)r(p),le.sortIndex=le.expirationTime,e(y,le);else break;le=n(p)}}function oe(X){if(B=!1,q(X),!Y)if(n(y)!==null)Y=!0,he||(he=!0,V());else{var le=n(p);le!==null&&ye(oe,le.startTime-X)}}var he=!1,j=-1,S=5,A=-1;function C(){return z?!0:!(i.unstable_now()-A<S)}function M(){if(z=!1,he){var X=i.unstable_now();A=X;var le=!0;try{e:{Y=!1,B&&(B=!1,J(j),j=-1),L=!0;var fe=N;try{t:{for(q(X),E=n(y);E!==null&&!(E.expirationTime>X&&C());){var Me=E.callback;if(typeof Me=="function"){E.callback=null,N=E.priorityLevel;var He=Me(E.expirationTime<=X);if(X=i.unstable_now(),typeof He=="function"){E.callback=He,q(X),le=!0;break t}E===n(y)&&r(y),q(X)}else r(y);E=n(y)}if(E!==null)le=!0;else{var O=n(p);O!==null&&ye(oe,O.startTime-X),le=!1}}break e}finally{E=null,N=fe,L=!1}le=void 0}}finally{le?V():he=!1}}}var V;if(typeof W=="function")V=function(){W(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,we=R.port2;R.port1.onmessage=M,V=function(){we.postMessage(null)}}else V=function(){te(M,0)};function ye(X,le){j=te(function(){X(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_next=function(X){switch(N){case 1:case 2:case 3:var le=3;break;default:le=N}var fe=N;N=le;try{return X()}finally{N=fe}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var fe=N;N=X;try{return le()}finally{N=fe}},i.unstable_scheduleCallback=function(X,le,fe){var Me=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Me+fe:Me):fe=Me,X){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=fe+He,X={id:_++,callback:le,priorityLevel:X,startTime:fe,expirationTime:He,sortIndex:-1},fe>Me?(X.sortIndex=fe,e(p,X),n(y)===null&&X===n(p)&&(B?(J(j),j=-1):B=!0,ye(oe,fe-Me))):(X.sortIndex=He,e(y,X),Y||L||(Y=!0,he||(he=!0,V()))),X},i.unstable_shouldYield=C,i.unstable_wrapCallback=function(X){var le=N;return function(){var fe=N;N=le;try{return X.apply(this,arguments)}finally{N=fe}}}})(tg)),tg}var Gb;function SA(){return Gb||(Gb=1,eg.exports=NA()),eg.exports}var $b;function jA(){if($b)return pc;$b=1;var i=SA(),e=ep(),n=wA();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(r(188))}function p(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,c=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return y(f),t;if(m===c)return y(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==c.return)a=f,c=m;else{for(var b=!1,T=f.child;T;){if(T===a){b=!0,a=f,c=m;break}if(T===c){b=!0,c=f,a=m;break}T=T.sibling}if(!b){for(T=m.child;T;){if(T===a){b=!0,a=m,c=f;break}if(T===c){b=!0,c=m,a=f;break}T=T.sibling}if(!b)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function _(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=_(t),s!==null)return s;t=t.sibling}return null}var E=Object.assign,N=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),W=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function we(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case te:return"Profiler";case z:return"StrictMode";case oe:return"Suspense";case he:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case W:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case q:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case j:return s=t.displayName||null,s!==null?s:we(t.type)||"Memo";case S:s=t._payload,t=t._init;try{return we(t(s))}catch{}}return null}var ye=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Me=[],He=-1;function O(t){return{current:t}}function ie(t){0>He||(t.current=Me[He],Me[He]=null,He--)}function ce(t,s){He++,Me[He]=t.current,t.current=s}var ve=O(null),Ie=O(null),ke=O(null),Ge=O(null);function Ft(t,s){switch(ce(ke,s),ce(Ie,t),ce(ve,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?tb(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=tb(s),t=nb(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ie(ve),ce(ve,t)}function _t(){ie(ve),ie(Ie),ie(ke)}function ys(t){t.memoizedState!==null&&ce(Ge,t);var s=ve.current,a=nb(s,t.type);s!==a&&(ce(Ie,t),ce(ve,a))}function Qs(t){Ie.current===t&&(ie(ve),ie(Ie)),Ge.current===t&&(ie(Ge),uc._currentValue=fe)}var Ws,D;function ne(t){if(Ws===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ws=s&&s[1]||"",D=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ws+t+D}var de=!1;function xe(t,s){if(!t||de)return"";de=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Q){var $=Q}Reflect.construct(t,[],se)}else{try{se.call()}catch(Q){$=Q}t.call(se.prototype)}}else{try{throw Error()}catch(Q){$=Q}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),b=m[0],T=m[1];if(b&&T){var I=b.split(`
`),G=T.split(`
`);for(f=c=0;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(c===I.length||f===G.length)for(c=I.length-1,f=G.length-1;1<=c&&0<=f&&I[c]!==G[f];)f--;for(;1<=c&&0<=f;c--,f--)if(I[c]!==G[f]){if(c!==1||f!==1)do if(c--,f--,0>f||I[c]!==G[f]){var Z=`
`+I[c].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=c&&0<=f);break}}}finally{de=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ne(a):""}function ge(t,s){switch(t.tag){case 26:case 27:case 5:return ne(t.type);case 16:return ne("Lazy");case 13:return t.child!==s&&s!==null?ne("Suspense Fallback"):ne("Suspense");case 19:return ne("SuspenseList");case 0:case 15:return xe(t.type,!1);case 11:return xe(t.type.render,!1);case 1:return xe(t.type,!0);case 31:return ne("Activity");default:return""}}function je(t){try{var s="",a=null;do s+=ge(t,a),a=t,t=t.return;while(t);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var me=Object.prototype.hasOwnProperty,Ue=i.unstable_scheduleCallback,Et=i.unstable_cancelCallback,ni=i.unstable_shouldYield,Xa=i.unstable_requestPaint,Yt=i.unstable_now,ii=i.unstable_getCurrentPriorityLevel,Xs=i.unstable_ImmediatePriority,Js=i.unstable_UserBlockingPriority,qi=i.unstable_NormalPriority,ml=i.unstable_LowPriority,Je=i.unstable_IdlePriority,ft=i.log,dn=i.unstable_setDisableYieldValue,Mt=null,$e=null;function ct(t){if(typeof ft=="function"&&dn(t),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Mt,t)}catch{}}var Ze=Math.clz32?Math.clz32:er,Zs=Math.log,Bi=Math.LN2;function er(t){return t>>>=0,t===0?32:31-(Zs(t)/Bi|0)|0}var si=256,xs=262144,Lt=4194304;function ri(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Fi(t,s,a){var c=t.pendingLanes;if(c===0)return 0;var f=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=c&134217727;return T!==0?(c=T&~m,c!==0?f=ri(c):(b&=T,b!==0?f=ri(b):a||(a=T&~t,a!==0&&(f=ri(a))))):(T=c&~m,T!==0?f=ri(T):b!==0?f=ri(b):a||(a=c&~t,a!==0&&(f=ri(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function Ei(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Wh(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(){var t=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),t}function Hi(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function sa(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Xh(t,s,a,c,f,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,G=t.hiddenUpdates;for(a=b&~a;0<a;){var Z=31-Ze(a),se=1<<Z;T[Z]=0,I[Z]=-1;var $=G[Z];if($!==null)for(G[Z]=null,Z=0;Z<$.length;Z++){var Q=$[Z];Q!==null&&(Q.lane&=-536870913)}a&=~se}c!==0&&ra(t,c,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~s))}function ra(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var c=31-Ze(s);t.entangledLanes|=s,t.entanglements[c]=t.entanglements[c]|1073741824|a&261930}function gl(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var c=31-Ze(a),f=1<<c;f&s|t[c]&s&&(t[c]|=s),a&=~f}}function pl(t,s){var a=s&-s;return a=(a&42)!==0?1:aa(a),(a&(t.suspendedLanes|s))!==0?0:a}function aa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function bs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function hu(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Nb(t.type))}function Ti(t,s){var a=le.p;try{return le.p=t,s()}finally{le.p=a}}var wi=Math.random().toString(36).slice(2),Qt="__reactFiber$"+wi,hn="__reactProps$"+wi,Gi="__reactContainer$"+wi,Ja="__reactEvents$"+wi,Jh="__reactListeners$"+wi,fu="__reactHandles$"+wi,mu="__reactResources$"+wi,$i="__reactMarker$"+wi;function Za(t){delete t[Qt],delete t[hn],delete t[Ja],delete t[Jh],delete t[fu]}function Ki(t){var s=t[Qt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Gi]||a[Qt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=cb(t);t!==null;){if(a=t[Qt])return a;t=cb(t)}return s}t=a,a=t.parentNode}return null}function ai(t){if(t=t[Qt]||t[Gi]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Fn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Yi(t){var s=t[mu];return s||(s=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Wt(t){t[$i]=!0}var yl=new Set,xl={};function Qi(t,s){Wi(t,s),Wi(t+"Capture",s)}function Wi(t,s){for(xl[t]=s,t=0;t<s.length;t++)yl.add(s[t])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vl={},_l={};function gu(t){return me.call(_l,t)?!0:me.call(vl,t)?!1:bl.test(t)?_l[t]=!0:(vl[t]=!0,!1)}function eo(t,s,a){if(gu(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Hn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Xt(t,s,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+c)}}function fn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tr(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function El(t,s,a){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){a=""+b,m.call(this,b)}}),Object.defineProperty(t,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function ut(t){if(!t._valueTracker){var s=tr(t)?"checked":"value";t._valueTracker=El(t,s,""+t[s])}}function oa(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return t&&(c=tr(t)?t.checked?"true":"false":t.value),t=c,t!==a?(s.setValue(t),!0):!1}function Xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var la=/[\n"\\]/g;function On(t){return t.replace(la,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function to(t,s,a,c,f,m,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),s!=null?b==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+fn(s)):t.value!==""+fn(s)&&(t.value=""+fn(s)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),s!=null?Tl(t,b,fn(s)):a!=null?Tl(t,b,fn(a)):c!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+fn(T):t.removeAttribute("name")}function pu(t,s,a,c,f,m,b,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){ut(t);return}a=a!=null?""+fn(a):"",s=s!=null?""+fn(s):a,T||s===t.value||(t.value=s),t.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=T?t.checked:!!c,t.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),ut(t)}function Tl(t,s,a){s==="number"&&Xi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function nr(t,s,a,c){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&c&&(t[a].defaultSelected=!0)}else{for(a=""+fn(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function yu(t,s,a){if(s!=null&&(s=""+fn(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+fn(a):""}function ir(t,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(r(92));if(ye(c)){if(1<c.length)throw Error(r(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=fn(s),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c),ut(t)}function Pn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(t,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":c?t.setProperty(s,a):typeof a!="number"||a===0||xu.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Nl(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&a[f]!==c&&wl(t,f,c)}else for(var m in s)s.hasOwnProperty(m)&&wl(t,m,s[m])}function no(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function io(t){return sr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ni(){}var Sl=null;function oi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rr=null,Ji=null;function ca(t){var s=ai(t);if(s&&(t=s.stateNode)){var a=t[hn]||null;e:switch(t=s.stateNode,s.type){case"input":if(to(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+On(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==t&&c.form===t.form){var f=c[hn]||null;if(!f)throw Error(r(90));to(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===t.form&&oa(c)}break e;case"textarea":yu(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&nr(t,!!a.multiple,s,!1)}}}var so=!1;function ar(t,s,a){if(so)return t(s,a);so=!0;try{var c=t(s);return c}finally{if(so=!1,(rr!==null||Ji!==null)&&(hd(),rr&&(s=rr,t=Ji,Ji=rr=null,ca(s),t)))for(s=0;s<t.length;s++)ca(t[s])}}function Si(t,s){var a=t.stateNode;if(a===null)return null;var c=a[hn]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ua=!1;if(li)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){ua=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{ua=!1}var Zi=null,jl=null,da=null;function Al(){if(da)return da;var t,s=jl,a=s.length,c,f="value"in Zi?Zi.value:Zi.textContent,m=f.length;for(t=0;t<a&&s[t]===f[t];t++);var b=a-t;for(c=1;c<=b&&s[a-c]===f[m-c];c++);return da=f.slice(t,1<c?1-c:void 0)}function ha(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function vs(){return!0}function ji(){return!1}function yn(t){function s(a,c,f,m,b){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?vs:ji,this.isPropagationStopped=ji,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),s}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=yn(_s),or=E({},_s,{view:0,detail:0}),Cl=yn(or),lr,ro,ts,ao=E({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ts&&(ts&&t.type==="mousemove"?(lr=t.screenX-ts.screenX,ro=t.screenY-ts.screenY):ro=lr=0,ts=t),lr)},movementY:function(t){return"movementY"in t?t.movementY:ro}}),Rl=yn(ao),fa=E({},ao,{dataTransfer:0}),vu=yn(fa),_u=E({},or,{relatedTarget:0}),ma=yn(_u),Il=E({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=yn(Il),oo=E({},_s,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tu=yn(oo),wu=E({},_s,{data:0}),ns=yn(wu),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=ju[t])?!!s[t]:!1}function cr(){return Au}var In=E({},or,{key:function(t){if(t.key){var s=Nu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=ha(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(t){return t.type==="keypress"?ha(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ha(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cu=yn(In),Ru=E({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Es=yn(Ru),h=E({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),x=yn(h),v=E({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=yn(v),F=E({},ao,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=yn(F),ue=E({},_s,{newState:0,oldState:0}),Le=yn(ue),Ht=[9,13,27,32],at=li&&"CompositionEvent"in window,At=null;li&&"documentMode"in document&&(At=document.documentMode);var ci=li&&"TextEvent"in window&&!At,is=li&&(!at||At&&8<At&&11>=At),Ai=" ",Ci=!1;function ga(t,s){switch(t){case"keyup":return Ht.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var co=!1;function fN(t,s){switch(t){case"compositionend":return lo(s);case"keypress":return s.which!==32?null:(Ci=!0,Ai);case"textInput":return t=s.data,t===Ai&&Ci?null:t;default:return null}}function mN(t,s){if(co)return t==="compositionend"||!at&&ga(t,s)?(t=Al(),da=jl=Zi=null,co=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return is&&s.locale!=="ko"?null:s.data;default:return null}}var gN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hy(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!gN[t.type]:s==="textarea"}function fy(t,s,a,c){rr?Ji?Ji.push(c):Ji=[c]:rr=c,s=bd(s,"onChange"),0<s.length&&(a=new es("onChange","change",null,a,c),t.push({event:a,listeners:s}))}var Ml=null,Dl=null;function pN(t){Q0(t,0)}function Iu(t){var s=Fn(t);if(oa(s))return t}function my(t,s){if(t==="change")return s}var gy=!1;if(li){var Zh;if(li){var ef="oninput"in document;if(!ef){var py=document.createElement("div");py.setAttribute("oninput","return;"),ef=typeof py.oninput=="function"}Zh=ef}else Zh=!1;gy=Zh&&(!document.documentMode||9<document.documentMode)}function yy(){Ml&&(Ml.detachEvent("onpropertychange",xy),Dl=Ml=null)}function xy(t){if(t.propertyName==="value"&&Iu(Dl)){var s=[];fy(s,Dl,t,oi(t)),ar(pN,s)}}function yN(t,s,a){t==="focusin"?(yy(),Ml=s,Dl=a,Ml.attachEvent("onpropertychange",xy)):t==="focusout"&&yy()}function xN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iu(Dl)}function bN(t,s){if(t==="click")return Iu(s)}function vN(t,s){if(t==="input"||t==="change")return Iu(s)}function _N(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Gn=typeof Object.is=="function"?Object.is:_N;function Ol(t,s){if(Gn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!me.call(s,f)||!Gn(t[f],s[f]))return!1}return!0}function by(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vy(t,s){var a=by(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=s&&c>=s)return{node:a,offset:s-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=by(a)}}function _y(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?_y(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Ey(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Xi(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Xi(t.document)}return s}function tf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var EN=li&&"documentMode"in document&&11>=document.documentMode,uo=null,nf=null,Pl=null,sf=!1;function Ty(t,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||uo==null||uo!==Xi(c)||(c=uo,"selectionStart"in c&&tf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Pl&&Ol(Pl,c)||(Pl=c,c=bd(nf,"onSelect"),0<c.length&&(s=new es("onSelect","select",null,s,a),t.push({event:s,listeners:c}),s.target=uo)))}function pa(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var ho={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},rf={},wy={};li&&(wy=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function ya(t){if(rf[t])return rf[t];if(!ho[t])return t;var s=ho[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in wy)return rf[t]=s[a];return t}var Ny=ya("animationend"),Sy=ya("animationiteration"),jy=ya("animationstart"),TN=ya("transitionrun"),wN=ya("transitionstart"),NN=ya("transitioncancel"),Ay=ya("transitionend"),Cy=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function Ri(t,s){Cy.set(t,s),Qi(s,[t])}var Mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ui=[],fo=0,of=0;function Du(){for(var t=fo,s=of=fo=0;s<t;){var a=ui[s];ui[s++]=null;var c=ui[s];ui[s++]=null;var f=ui[s];ui[s++]=null;var m=ui[s];if(ui[s++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}m!==0&&Ry(a,f,m)}}function Ou(t,s,a,c){ui[fo++]=t,ui[fo++]=s,ui[fo++]=a,ui[fo++]=c,of|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function lf(t,s,a,c){return Ou(t,s,a,c),Pu(t)}function xa(t,s){return Ou(t,null,null,s),Pu(t)}function Ry(t,s,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,c=m.alternate,c!==null&&(c.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&s!==null&&(f=31-Ze(a),t=m.hiddenUpdates,c=t[f],c===null?t[f]=[s]:c.push(s),s.lane=a|536870912),m):null}function Pu(t){if(50<ic)throw ic=0,ym=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var mo={};function SN(t,s,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,s,a,c){return new SN(t,s,a,c)}function cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ts(t,s){var a=t.alternate;return a===null?(a=$n(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Iy(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function ku(t,s,a,c,f,m){var b=0;if(c=t,typeof t=="function")cf(t)&&(b=1);else if(typeof t=="string")b=IS(t,a,ve.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=$n(31,a,s,f),t.elementType=A,t.lanes=m,t;case B:return ba(a.children,f,m,s);case z:b=8,f|=24;break;case te:return t=$n(12,a,s,f|2),t.elementType=te,t.lanes=m,t;case oe:return t=$n(13,a,s,f),t.elementType=oe,t.lanes=m,t;case he:return t=$n(19,a,s,f),t.elementType=he,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:b=10;break e;case J:b=9;break e;case q:b=11;break e;case j:b=14;break e;case S:b=16,c=null;break e}b=29,a=Error(r(130,t===null?"null":typeof t,"")),c=null}return s=$n(b,a,s,f),s.elementType=t,s.type=c,s.lanes=m,s}function ba(t,s,a,c){return t=$n(7,t,c,s),t.lanes=a,t}function uf(t,s,a){return t=$n(6,t,null,s),t.lanes=a,t}function My(t){var s=$n(18,null,null,0);return s.stateNode=t,s}function df(t,s,a){return s=$n(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Dy=new WeakMap;function di(t,s){if(typeof t=="object"&&t!==null){var a=Dy.get(t);return a!==void 0?a:(s={value:t,source:s,stack:je(s)},Dy.set(t,s),s)}return{value:t,source:s,stack:je(s)}}var go=[],po=0,Lu=null,kl=0,hi=[],fi=0,ur=null,ss=1,rs="";function ws(t,s){go[po++]=kl,go[po++]=Lu,Lu=t,kl=s}function Oy(t,s,a){hi[fi++]=ss,hi[fi++]=rs,hi[fi++]=ur,ur=t;var c=ss;t=rs;var f=32-Ze(c)-1;c&=~(1<<f),a+=1;var m=32-Ze(s)+f;if(30<m){var b=f-f%5;m=(c&(1<<b)-1).toString(32),c>>=b,f-=b,ss=1<<32-Ze(s)+f|a<<f|c,rs=m+t}else ss=1<<m|a<<f|c,rs=t}function hf(t){t.return!==null&&(ws(t,1),Oy(t,1,0))}function ff(t){for(;t===Lu;)Lu=go[--po],go[po]=null,kl=go[--po],go[po]=null;for(;t===ur;)ur=hi[--fi],hi[fi]=null,rs=hi[--fi],hi[fi]=null,ss=hi[--fi],hi[fi]=null}function Py(t,s){hi[fi++]=ss,hi[fi++]=rs,hi[fi++]=ur,ss=s.id,rs=s.overflow,ur=t}var xn=null,wt=null,et=!1,dr=null,mi=!1,mf=Error(r(519));function hr(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(di(s,t)),mf}function ky(t){var s=t.stateNode,a=t.type,c=t.memoizedProps;switch(s[Qt]=t,s[hn]=c,a){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(a=0;a<rc.length;a++)Fe(rc[a],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":Fe("invalid",s),pu(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Fe("invalid",s);break;case"textarea":Fe("invalid",s),ir(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||Z0(s.textContent,a)?(c.popover!=null&&(Fe("beforetoggle",s),Fe("toggle",s)),c.onScroll!=null&&Fe("scroll",s),c.onScrollEnd!=null&&Fe("scrollend",s),c.onClick!=null&&(s.onclick=Ni),s=!0):s=!1,s||hr(t,!0)}function Ly(t){for(xn=t.return;xn;)switch(xn.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:xn=xn.return}}function yo(t){if(t!==xn)return!1;if(!et)return Ly(t),et=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Mm(t.type,t.memoizedProps)),a=!a),a&&wt&&hr(t),Ly(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));wt=lb(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));wt=lb(t)}else s===27?(s=wt,Sr(t.type)?(t=Lm,Lm=null,wt=t):wt=s):wt=xn?pi(t.stateNode.nextSibling):null;return!0}function va(){wt=xn=null,et=!1}function gf(){var t=dr;return t!==null&&(Un===null?Un=t:Un.push.apply(Un,t),dr=null),t}function Ll(t){dr===null?dr=[t]:dr.push(t)}var pf=O(null),_a=null,Ns=null;function fr(t,s,a){ce(pf,s._currentValue),s._currentValue=a}function Ss(t){t._currentValue=pf.current,ie(pf)}function yf(t,s,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===a)break;t=t.return}}function xf(t,s,a,c){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var I=0;I<s.length;I++)if(T.context===s[I]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),yf(m.return,a,t),c||(b=null);break e}m=T.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),yf(b,a,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function xo(t,s,a,c){t=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var T=f.type;Gn(f.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(f===Ge.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(uc):t=[uc])}f=f.return}t!==null&&xf(s,t,a,c),s.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!Gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ea(t){_a=t,Ns=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function bn(t){return Vy(_a,t)}function Uu(t,s){return _a===null&&Ea(t),Vy(t,s)}function Vy(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Ns===null){if(t===null)throw Error(r(308));Ns=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Ns=Ns.next=s;return a}var jN=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},AN=i.unstable_scheduleCallback,CN=i.unstable_NormalPriority,Jt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bf(){return{controller:new jN,data:new Map,refCount:0}}function Vl(t){t.refCount--,t.refCount===0&&AN(CN,function(){t.controller.abort()})}var Ul=null,vf=0,bo=0,vo=null;function RN(t,s){if(Ul===null){var a=Ul=[];vf=0,bo=Tm(),vo={status:"pending",value:void 0,then:function(c){a.push(c)}}}return vf++,s.then(Uy,Uy),s}function Uy(){if(--vf===0&&Ul!==null){vo!==null&&(vo.status="fulfilled");var t=Ul;Ul=null,bo=0,vo=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function IN(t,s){var a=[],c={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),c}var zy=X.S;X.S=function(t,s){T0=Yt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&RN(t,s),zy!==null&&zy(t,s)};var Ta=O(null);function _f(){var t=Ta.current;return t!==null?t:vt.pooledCache}function zu(t,s){s===null?ce(Ta,Ta.current):ce(Ta,s.pool)}function qy(){var t=_f();return t===null?null:{parent:Jt._currentValue,pool:t}}var _o=Error(r(460)),Ef=Error(r(474)),qu=Error(r(542)),Bu={then:function(){}};function By(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fy(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Ni,Ni),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Gy(t),t;default:if(typeof s.status=="string")s.then(Ni,Ni);else{if(t=vt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Gy(t),t}throw Na=s,_o}}function wa(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Na=a,_o):a}}var Na=null;function Hy(){if(Na===null)throw Error(r(459));var t=Na;return Na=null,t}function Gy(t){if(t===_o||t===qu)throw Error(r(483))}var Eo=null,zl=0;function Fu(t){var s=zl;return zl+=1,Eo===null&&(Eo=[]),Fy(Eo,t,s)}function ql(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Hu(t,s){throw s.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function $y(t){function s(U,P){if(t){var H=U.deletions;H===null?(U.deletions=[P],U.flags|=16):H.push(P)}}function a(U,P){if(!t)return null;for(;P!==null;)s(U,P),P=P.sibling;return null}function c(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function f(U,P){return U=Ts(U,P),U.index=0,U.sibling=null,U}function m(U,P,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<P?(U.flags|=67108866,P):H):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function b(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,P,H,ee){return P===null||P.tag!==6?(P=uf(H,U.mode,ee),P.return=U,P):(P=f(P,H),P.return=U,P)}function I(U,P,H,ee){var Ne=H.type;return Ne===B?Z(U,P,H.props.children,ee,H.key):P!==null&&(P.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===S&&wa(Ne)===P.type)?(P=f(P,H.props),ql(P,H),P.return=U,P):(P=ku(H.type,H.key,H.props,null,U.mode,ee),ql(P,H),P.return=U,P)}function G(U,P,H,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=df(H,U.mode,ee),P.return=U,P):(P=f(P,H.children||[]),P.return=U,P)}function Z(U,P,H,ee,Ne){return P===null||P.tag!==7?(P=ba(H,U.mode,ee,Ne),P.return=U,P):(P=f(P,H),P.return=U,P)}function se(U,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=uf(""+P,U.mode,H),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case L:return H=ku(P.type,P.key,P.props,null,U.mode,H),ql(H,P),H.return=U,H;case Y:return P=df(P,U.mode,H),P.return=U,P;case S:return P=wa(P),se(U,P,H)}if(ye(P)||V(P))return P=ba(P,U.mode,H,null),P.return=U,P;if(typeof P.then=="function")return se(U,Fu(P),H);if(P.$$typeof===W)return se(U,Uu(U,P),H);Hu(U,P)}return null}function $(U,P,H,ee){var Ne=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ne!==null?null:T(U,P,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case L:return H.key===Ne?I(U,P,H,ee):null;case Y:return H.key===Ne?G(U,P,H,ee):null;case S:return H=wa(H),$(U,P,H,ee)}if(ye(H)||V(H))return Ne!==null?null:Z(U,P,H,ee,null);if(typeof H.then=="function")return $(U,P,Fu(H),ee);if(H.$$typeof===W)return $(U,P,Uu(U,H),ee);Hu(U,H)}return null}function Q(U,P,H,ee,Ne){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get(H)||null,T(P,U,""+ee,Ne);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case L:return U=U.get(ee.key===null?H:ee.key)||null,I(P,U,ee,Ne);case Y:return U=U.get(ee.key===null?H:ee.key)||null,G(P,U,ee,Ne);case S:return ee=wa(ee),Q(U,P,H,ee,Ne)}if(ye(ee)||V(ee))return U=U.get(H)||null,Z(P,U,ee,Ne,null);if(typeof ee.then=="function")return Q(U,P,H,Fu(ee),Ne);if(ee.$$typeof===W)return Q(U,P,H,Uu(P,ee),Ne);Hu(P,ee)}return null}function Ee(U,P,H,ee){for(var Ne=null,it=null,Te=P,ze=P=0,Ye=null;Te!==null&&ze<H.length;ze++){Te.index>ze?(Ye=Te,Te=null):Ye=Te.sibling;var st=$(U,Te,H[ze],ee);if(st===null){Te===null&&(Te=Ye);break}t&&Te&&st.alternate===null&&s(U,Te),P=m(st,P,ze),it===null?Ne=st:it.sibling=st,it=st,Te=Ye}if(ze===H.length)return a(U,Te),et&&ws(U,ze),Ne;if(Te===null){for(;ze<H.length;ze++)Te=se(U,H[ze],ee),Te!==null&&(P=m(Te,P,ze),it===null?Ne=Te:it.sibling=Te,it=Te);return et&&ws(U,ze),Ne}for(Te=c(Te);ze<H.length;ze++)Ye=Q(Te,U,ze,H[ze],ee),Ye!==null&&(t&&Ye.alternate!==null&&Te.delete(Ye.key===null?ze:Ye.key),P=m(Ye,P,ze),it===null?Ne=Ye:it.sibling=Ye,it=Ye);return t&&Te.forEach(function(Ir){return s(U,Ir)}),et&&ws(U,ze),Ne}function Ae(U,P,H,ee){if(H==null)throw Error(r(151));for(var Ne=null,it=null,Te=P,ze=P=0,Ye=null,st=H.next();Te!==null&&!st.done;ze++,st=H.next()){Te.index>ze?(Ye=Te,Te=null):Ye=Te.sibling;var Ir=$(U,Te,st.value,ee);if(Ir===null){Te===null&&(Te=Ye);break}t&&Te&&Ir.alternate===null&&s(U,Te),P=m(Ir,P,ze),it===null?Ne=Ir:it.sibling=Ir,it=Ir,Te=Ye}if(st.done)return a(U,Te),et&&ws(U,ze),Ne;if(Te===null){for(;!st.done;ze++,st=H.next())st=se(U,st.value,ee),st!==null&&(P=m(st,P,ze),it===null?Ne=st:it.sibling=st,it=st);return et&&ws(U,ze),Ne}for(Te=c(Te);!st.done;ze++,st=H.next())st=Q(Te,U,ze,st.value,ee),st!==null&&(t&&st.alternate!==null&&Te.delete(st.key===null?ze:st.key),P=m(st,P,ze),it===null?Ne=st:it.sibling=st,it=st);return t&&Te.forEach(function(BS){return s(U,BS)}),et&&ws(U,ze),Ne}function yt(U,P,H,ee){if(typeof H=="object"&&H!==null&&H.type===B&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case L:e:{for(var Ne=H.key;P!==null;){if(P.key===Ne){if(Ne=H.type,Ne===B){if(P.tag===7){a(U,P.sibling),ee=f(P,H.props.children),ee.return=U,U=ee;break e}}else if(P.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===S&&wa(Ne)===P.type){a(U,P.sibling),ee=f(P,H.props),ql(ee,H),ee.return=U,U=ee;break e}a(U,P);break}else s(U,P);P=P.sibling}H.type===B?(ee=ba(H.props.children,U.mode,ee,H.key),ee.return=U,U=ee):(ee=ku(H.type,H.key,H.props,null,U.mode,ee),ql(ee,H),ee.return=U,U=ee)}return b(U);case Y:e:{for(Ne=H.key;P!==null;){if(P.key===Ne)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){a(U,P.sibling),ee=f(P,H.children||[]),ee.return=U,U=ee;break e}else{a(U,P);break}else s(U,P);P=P.sibling}ee=df(H,U.mode,ee),ee.return=U,U=ee}return b(U);case S:return H=wa(H),yt(U,P,H,ee)}if(ye(H))return Ee(U,P,H,ee);if(V(H)){if(Ne=V(H),typeof Ne!="function")throw Error(r(150));return H=Ne.call(H),Ae(U,P,H,ee)}if(typeof H.then=="function")return yt(U,P,Fu(H),ee);if(H.$$typeof===W)return yt(U,P,Uu(U,H),ee);Hu(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(a(U,P.sibling),ee=f(P,H),ee.return=U,U=ee):(a(U,P),ee=uf(H,U.mode,ee),ee.return=U,U=ee),b(U)):a(U,P)}return function(U,P,H,ee){try{zl=0;var Ne=yt(U,P,H,ee);return Eo=null,Ne}catch(Te){if(Te===_o||Te===qu)throw Te;var it=$n(29,Te,null,U.mode);return it.lanes=ee,it.return=U,it}}}var Sa=$y(!0),Ky=$y(!1),mr=!1;function Tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pr(t,s,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(ot&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=Pu(t),Ry(t,null,a),s}return Ou(t,c,s,a),Pu(t)}function Bl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=t.pendingLanes,a|=c,s.lanes=a,gl(t,a)}}function Nf(t,s){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Sf=!1;function Fl(){if(Sf){var t=vo;if(t!==null)throw t}}function Hl(t,s,a,c){Sf=!1;var f=t.updateQueue;mr=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var I=T,G=I.next;I.next=null,b===null?m=G:b.next=G,b=I;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==b&&(T===null?Z.firstBaseUpdate=G:T.next=G,Z.lastBaseUpdate=I))}if(m!==null){var se=f.baseState;b=0,Z=G=I=null,T=m;do{var $=T.lane&-536870913,Q=$!==T.lane;if(Q?(Ke&$)===$:(c&$)===$){$!==0&&$===bo&&(Sf=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ee=t,Ae=T;$=s;var yt=a;switch(Ae.tag){case 1:if(Ee=Ae.payload,typeof Ee=="function"){se=Ee.call(yt,se,$);break e}se=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ae.payload,$=typeof Ee=="function"?Ee.call(yt,se,$):Ee,$==null)break e;se=E({},se,$);break e;case 2:mr=!0}}$=T.callback,$!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[$]:Q.push($))}else Q={lane:$,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(G=Z=Q,I=se):Z=Z.next=Q,b|=$;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Z===null&&(I=se),f.baseState=I,f.firstBaseUpdate=G,f.lastBaseUpdate=Z,m===null&&(f.shared.lanes=0),_r|=b,t.lanes=b,t.memoizedState=se}}function Yy(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function Qy(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Yy(a[t],s)}var To=O(null),Gu=O(0);function Wy(t,s){t=Ps,ce(Gu,t),ce(To,s),Ps=t|s.baseLanes}function jf(){ce(Gu,Ps),ce(To,To.current)}function Af(){Ps=Gu.current,ie(To),ie(Gu)}var Kn=O(null),gi=null;function yr(t){var s=t.alternate;ce(Gt,Gt.current&1),ce(Kn,t),gi===null&&(s===null||To.current!==null||s.memoizedState!==null)&&(gi=t)}function Cf(t){ce(Gt,Gt.current),ce(Kn,t),gi===null&&(gi=t)}function Xy(t){t.tag===22?(ce(Gt,Gt.current),ce(Kn,t),gi===null&&(gi=t)):xr()}function xr(){ce(Gt,Gt.current),ce(Kn,Kn.current)}function Yn(t){ie(Kn),gi===t&&(gi=null),ie(Gt)}var Gt=O(0);function $u(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Pm(a)||km(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var js=0,Ve=null,gt=null,Zt=null,Ku=!1,wo=!1,ja=!1,Yu=0,Gl=0,No=null,MN=0;function Vt(){throw Error(r(321))}function Rf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Gn(t[a],s[a]))return!1;return!0}function If(t,s,a,c,f,m){return js=m,Ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=t===null||t.memoizedState===null?Ox:$f,ja=!1,m=a(c,f),ja=!1,wo&&(m=Zy(s,a,c,f)),Jy(t),m}function Jy(t){X.H=Yl;var s=gt!==null&&gt.next!==null;if(js=0,Zt=gt=Ve=null,Ku=!1,Gl=0,No=null,s)throw Error(r(300));t===null||en||(t=t.dependencies,t!==null&&Vu(t)&&(en=!0))}function Zy(t,s,a,c){Ve=t;var f=0;do{if(wo&&(No=null),Gl=0,wo=!1,25<=f)throw Error(r(301));if(f+=1,Zt=gt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}X.H=Px,m=s(a,c)}while(wo);return m}function DN(){var t=X.H,s=t.useState()[0];return s=typeof s.then=="function"?$l(s):s,t=t.useState()[0],(gt!==null?gt.memoizedState:null)!==t&&(Ve.flags|=1024),s}function Mf(){var t=Yu!==0;return Yu=0,t}function Df(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Of(t){if(Ku){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Ku=!1}js=0,Zt=gt=Ve=null,wo=!1,Gl=Yu=0,No=null}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Ve.memoizedState=Zt=t:Zt=Zt.next=t,Zt}function $t(){if(gt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var s=Zt===null?Ve.memoizedState:Zt.next;if(s!==null)Zt=s,gt=t;else{if(t===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Zt===null?Ve.memoizedState=Zt=t:Zt=Zt.next=t}return Zt}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $l(t){var s=Gl;return Gl+=1,No===null&&(No=[]),t=Fy(No,t,s),s=Ve,(Zt===null?s.memoizedState:Zt.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?Ox:$f),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $l(t);if(t.$$typeof===W)return bn(t)}throw Error(r(438,String(t)))}function Pf(t){var s=null,a=Ve.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=Ve.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Qu(),Ve.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),c=0;c<t;c++)a[c]=C;return s.index++,a}function As(t,s){return typeof s=="function"?s(t):s}function Xu(t){var s=$t();return kf(s,gt,t)}function kf(t,s,a){var c=t.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var f=t.baseQueue,m=c.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}s.baseQueue=f=m,c.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{s=f.next;var T=b=null,I=null,G=s,Z=!1;do{var se=G.lane&-536870913;if(se!==G.lane?(Ke&se)===se:(js&se)===se){var $=G.revertLane;if($===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),se===bo&&(Z=!0);else if((js&$)===$){G=G.next,$===bo&&(Z=!0);continue}else se={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},I===null?(T=I=se,b=m):I=I.next=se,Ve.lanes|=$,_r|=$;se=G.action,ja&&a(m,se),m=G.hasEagerState?G.eagerState:a(m,se)}else $={lane:se,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},I===null?(T=I=$,b=m):I=I.next=$,Ve.lanes|=se,_r|=se;G=G.next}while(G!==null&&G!==s);if(I===null?b=m:I.next=T,!Gn(m,t.memoizedState)&&(en=!0,Z&&(a=vo,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=I,c.lastRenderedState=m}return f===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Lf(t){var s=$t(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var c=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do m=t(m,b.action),b=b.next;while(b!==f);Gn(m,s.memoizedState)||(en=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,c]}function ex(t,s,a){var c=Ve,f=$t(),m=et;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var b=!Gn((gt||f).memoizedState,a);if(b&&(f.memoizedState=a,en=!0),f=f.queue,zf(ix.bind(null,c,f,t),[t]),f.getSnapshot!==s||b||Zt!==null&&Zt.memoizedState.tag&1){if(c.flags|=2048,So(9,{destroy:void 0},nx.bind(null,c,f,a,s),null),vt===null)throw Error(r(349));m||(js&127)!==0||tx(c,s,a)}return a}function tx(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ve.updateQueue,s===null?(s=Qu(),Ve.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function nx(t,s,a,c){s.value=a,s.getSnapshot=c,sx(s)&&rx(t)}function ix(t,s,a){return a(function(){sx(s)&&rx(t)})}function sx(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Gn(t,a)}catch{return!0}}function rx(t){var s=xa(t,2);s!==null&&zn(s,t,2)}function Vf(t){var s=Mn();if(typeof t=="function"){var a=t;if(t=a(),ja){ct(!0);try{a()}finally{ct(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:t},s}function ax(t,s,a,c){return t.baseState=a,kf(t,gt,typeof c=="function"?c:As)}function ON(t,s,a,c,f){if(ed(t))throw Error(r(485));if(t=s.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};X.T!==null?a(!0):m.isTransition=!1,c(m),a=s.pending,a===null?(m.next=s.pending=m,ox(s,m)):(m.next=a.next,s.pending=a.next=m)}}function ox(t,s){var a=s.action,c=s.payload,f=t.state;if(s.isTransition){var m=X.T,b={};X.T=b;try{var T=a(f,c),I=X.S;I!==null&&I(b,T),lx(t,s,T)}catch(G){Uf(t,s,G)}finally{m!==null&&b.types!==null&&(m.types=b.types),X.T=m}}else try{m=a(f,c),lx(t,s,m)}catch(G){Uf(t,s,G)}}function lx(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){cx(t,s,c)},function(c){return Uf(t,s,c)}):cx(t,s,a)}function cx(t,s,a){s.status="fulfilled",s.value=a,ux(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,ox(t,a)))}function Uf(t,s,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,ux(s),s=s.next;while(s!==c)}t.action=null}function ux(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function dx(t,s){return s}function hx(t,s){if(et){var a=vt.formState;if(a!==null){e:{var c=Ve;if(et){if(wt){t:{for(var f=wt,m=mi;f.nodeType!==8;){if(!m){f=null;break t}if(f=pi(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){wt=pi(f.nextSibling),c=f.data==="F!";break e}}hr(c)}c=!1}c&&(s=a[0])}}return a=Mn(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dx,lastRenderedState:s},a.queue=c,a=Ix.bind(null,Ve,c),c.dispatch=a,c=Vf(!1),m=Gf.bind(null,Ve,!1,c.queue),c=Mn(),f={state:s,dispatch:null,action:t,pending:null},c.queue=f,a=ON.bind(null,Ve,f,m,a),f.dispatch=a,c.memoizedState=t,[s,a,!1]}function fx(t){var s=$t();return mx(s,gt,t)}function mx(t,s,a){if(s=kf(t,s,dx)[0],t=Xu(As)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=$l(s)}catch(b){throw b===_o?qu:b}else c=s;s=$t();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(Ve.flags|=2048,So(9,{destroy:void 0},PN.bind(null,f,a),null)),[c,m,t]}function PN(t,s){t.action=s}function gx(t){var s=$t(),a=gt;if(a!==null)return mx(s,a,t);$t(),s=s.memoizedState,a=$t();var c=a.queue.dispatch;return a.memoizedState=t,[s,c,!1]}function So(t,s,a,c){return t={tag:t,create:a,deps:c,inst:s,next:null},s=Ve.updateQueue,s===null&&(s=Qu(),Ve.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,s.lastEffect=t),t}function px(){return $t().memoizedState}function Ju(t,s,a,c){var f=Mn();Ve.flags|=t,f.memoizedState=So(1|s,{destroy:void 0},a,c===void 0?null:c)}function Zu(t,s,a,c){var f=$t();c=c===void 0?null:c;var m=f.memoizedState.inst;gt!==null&&c!==null&&Rf(c,gt.memoizedState.deps)?f.memoizedState=So(s,m,a,c):(Ve.flags|=t,f.memoizedState=So(1|s,m,a,c))}function yx(t,s){Ju(8390656,8,t,s)}function zf(t,s){Zu(2048,8,t,s)}function kN(t){Ve.flags|=4;var s=Ve.updateQueue;if(s===null)s=Qu(),Ve.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function xx(t){var s=$t().memoizedState;return kN({ref:s,nextImpl:t}),function(){if((ot&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function bx(t,s){return Zu(4,2,t,s)}function vx(t,s){return Zu(4,4,t,s)}function _x(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Ex(t,s,a){a=a!=null?a.concat([t]):null,Zu(4,4,_x.bind(null,s,t),a)}function qf(){}function Tx(t,s){var a=$t();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&Rf(s,c[1])?c[0]:(a.memoizedState=[t,s],t)}function wx(t,s){var a=$t();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&Rf(s,c[1]))return c[0];if(c=t(),ja){ct(!0);try{t()}finally{ct(!1)}}return a.memoizedState=[c,s],c}function Bf(t,s,a){return a===void 0||(js&1073741824)!==0&&(Ke&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=N0(),Ve.lanes|=t,_r|=t,a)}function Nx(t,s,a,c){return Gn(a,s)?a:To.current!==null?(t=Bf(t,a,c),Gn(t,s)||(en=!0),t):(js&42)===0||(js&1073741824)!==0&&(Ke&261930)===0?(en=!0,t.memoizedState=a):(t=N0(),Ve.lanes|=t,_r|=t,s)}function Sx(t,s,a,c,f){var m=le.p;le.p=m!==0&&8>m?m:8;var b=X.T,T={};X.T=T,Gf(t,!1,s,a);try{var I=f(),G=X.S;if(G!==null&&G(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=IN(I,c);Kl(t,s,Z,Xn(t))}else Kl(t,s,c,Xn(t))}catch(se){Kl(t,s,{then:function(){},status:"rejected",reason:se},Xn())}finally{le.p=m,b!==null&&T.types!==null&&(b.types=T.types),X.T=b}}function LN(){}function Ff(t,s,a,c){if(t.tag!==5)throw Error(r(476));var f=jx(t).queue;Sx(t,f,s,fe,a===null?LN:function(){return Ax(t),a(c)})}function jx(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:fe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Ax(t){var s=jx(t);s.next===null&&(s=t.alternate.memoizedState),Kl(t,s.next.queue,{},Xn())}function Hf(){return bn(uc)}function Cx(){return $t().memoizedState}function Rx(){return $t().memoizedState}function VN(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Xn();t=gr(a);var c=pr(s,t,a);c!==null&&(zn(c,s,a),Bl(c,s,a)),s={cache:bf()},t.payload=s;return}s=s.return}}function UN(t,s,a){var c=Xn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ed(t)?Mx(s,a):(a=lf(t,s,a,c),a!==null&&(zn(a,t,c),Dx(a,s,c)))}function Ix(t,s,a){var c=Xn();Kl(t,s,a,c)}function Kl(t,s,a,c){var f={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ed(t))Mx(s,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,T=m(b,a);if(f.hasEagerState=!0,f.eagerState=T,Gn(T,b))return Ou(t,s,f,0),vt===null&&Du(),!1}catch{}if(a=lf(t,s,f,c),a!==null)return zn(a,t,c),Dx(a,s,c),!0}return!1}function Gf(t,s,a,c){if(c={lane:2,revertLane:Tm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},ed(t)){if(s)throw Error(r(479))}else s=lf(t,a,c,2),s!==null&&zn(s,t,2)}function ed(t){var s=t.alternate;return t===Ve||s!==null&&s===Ve}function Mx(t,s){wo=Ku=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Dx(t,s,a){if((a&4194048)!==0){var c=s.lanes;c&=t.pendingLanes,a|=c,s.lanes=a,gl(t,a)}}var Yl={readContext:bn,use:Wu,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};Yl.useEffectEvent=Vt;var Ox={readContext:bn,use:Wu,useCallback:function(t,s){return Mn().memoizedState=[t,s===void 0?null:s],t},useContext:bn,useEffect:yx,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Ju(4194308,4,_x.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Ju(4194308,4,t,s)},useInsertionEffect:function(t,s){Ju(4,2,t,s)},useMemo:function(t,s){var a=Mn();s=s===void 0?null:s;var c=t();if(ja){ct(!0);try{t()}finally{ct(!1)}}return a.memoizedState=[c,s],c},useReducer:function(t,s,a){var c=Mn();if(a!==void 0){var f=a(s);if(ja){ct(!0);try{a(s)}finally{ct(!1)}}}else f=s;return c.memoizedState=c.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},c.queue=t,t=t.dispatch=UN.bind(null,Ve,t),[c.memoizedState,t]},useRef:function(t){var s=Mn();return t={current:t},s.memoizedState=t},useState:function(t){t=Vf(t);var s=t.queue,a=Ix.bind(null,Ve,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:qf,useDeferredValue:function(t,s){var a=Mn();return Bf(a,t,s)},useTransition:function(){var t=Vf(!1);return t=Sx.bind(null,Ve,t.queue,!0,!1),Mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var c=Ve,f=Mn();if(et){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),vt===null)throw Error(r(349));(Ke&127)!==0||tx(c,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,yx(ix.bind(null,c,m,t),[t]),c.flags|=2048,So(9,{destroy:void 0},nx.bind(null,c,m,a,s),null),a},useId:function(){var t=Mn(),s=vt.identifierPrefix;if(et){var a=rs,c=ss;a=(c&~(1<<32-Ze(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Yu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=MN++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Hf,useFormState:hx,useActionState:hx,useOptimistic:function(t){var s=Mn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Gf.bind(null,Ve,!0,a),a.dispatch=s,[t,s]},useMemoCache:Pf,useCacheRefresh:function(){return Mn().memoizedState=VN.bind(null,Ve)},useEffectEvent:function(t){var s=Mn(),a={impl:t};return s.memoizedState=a,function(){if((ot&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},$f={readContext:bn,use:Wu,useCallback:Tx,useContext:bn,useEffect:zf,useImperativeHandle:Ex,useInsertionEffect:bx,useLayoutEffect:vx,useMemo:wx,useReducer:Xu,useRef:px,useState:function(){return Xu(As)},useDebugValue:qf,useDeferredValue:function(t,s){var a=$t();return Nx(a,gt.memoizedState,t,s)},useTransition:function(){var t=Xu(As)[0],s=$t().memoizedState;return[typeof t=="boolean"?t:$l(t),s]},useSyncExternalStore:ex,useId:Cx,useHostTransitionStatus:Hf,useFormState:fx,useActionState:fx,useOptimistic:function(t,s){var a=$t();return ax(a,gt,t,s)},useMemoCache:Pf,useCacheRefresh:Rx};$f.useEffectEvent=xx;var Px={readContext:bn,use:Wu,useCallback:Tx,useContext:bn,useEffect:zf,useImperativeHandle:Ex,useInsertionEffect:bx,useLayoutEffect:vx,useMemo:wx,useReducer:Lf,useRef:px,useState:function(){return Lf(As)},useDebugValue:qf,useDeferredValue:function(t,s){var a=$t();return gt===null?Bf(a,t,s):Nx(a,gt.memoizedState,t,s)},useTransition:function(){var t=Lf(As)[0],s=$t().memoizedState;return[typeof t=="boolean"?t:$l(t),s]},useSyncExternalStore:ex,useId:Cx,useHostTransitionStatus:Hf,useFormState:gx,useActionState:gx,useOptimistic:function(t,s){var a=$t();return gt!==null?ax(a,gt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Pf,useCacheRefresh:Rx};Px.useEffectEvent=xx;function Kf(t,s,a,c){s=t.memoizedState,a=a(c,s),a=a==null?s:E({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Yf={enqueueSetState:function(t,s,a){t=t._reactInternals;var c=Xn(),f=gr(c);f.payload=s,a!=null&&(f.callback=a),s=pr(t,f,c),s!==null&&(zn(s,t,c),Bl(s,t,c))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var c=Xn(),f=gr(c);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=pr(t,f,c),s!==null&&(zn(s,t,c),Bl(s,t,c))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Xn(),c=gr(a);c.tag=2,s!=null&&(c.callback=s),s=pr(t,c,a),s!==null&&(zn(s,t,a),Bl(s,t,a))}};function kx(t,s,a,c,f,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,b):s.prototype&&s.prototype.isPureReactComponent?!Ol(a,c)||!Ol(f,m):!0}function Lx(t,s,a,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==t&&Yf.enqueueReplaceState(s,s.state,null)}function Aa(t,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(t=t.defaultProps){a===s&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Vx(t){Mu(t)}function Ux(t){console.error(t)}function zx(t){Mu(t)}function td(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function qx(t,s,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Qf(t,s,a){return a=gr(a),a.tag=3,a.payload={element:null},a.callback=function(){td(t,s)},a}function Bx(t){return t=gr(t),t.tag=3,t}function Fx(t,s,a,c){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;t.payload=function(){return f(m)},t.callback=function(){qx(s,a,c)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){qx(s,a,c),typeof f!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function zN(t,s,a,c,f){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&xo(s,a,f,!0),a=Kn.current,a!==null){switch(a.tag){case 31:case 13:return gi===null?fd():a.alternate===null&&Ut===0&&(Ut=3),a.flags&=-257,a.flags|=65536,a.lanes=f,c===Bu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),vm(t,c,f)),!1;case 22:return a.flags|=65536,c===Bu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),vm(t,c,f)),!1}throw Error(r(435,a.tag))}return vm(t,c,f),fd(),!1}if(et)return s=Kn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==mf&&(t=Error(r(422),{cause:c}),Ll(di(t,a)))):(c!==mf&&(s=Error(r(423),{cause:c}),Ll(di(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,c=di(c,a),f=Qf(t.stateNode,c,f),Nf(t,f),Ut!==4&&(Ut=2)),!1;var m=Error(r(520),{cause:c});if(m=di(m,a),nc===null?nc=[m]:nc.push(m),Ut!==4&&(Ut=2),s===null)return!0;c=di(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Qf(a.stateNode,c,t),Nf(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Er===null||!Er.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Bx(f),Fx(f,t,a,c),Nf(a,f),!1}a=a.return}while(a!==null);return!1}var Wf=Error(r(461)),en=!1;function vn(t,s,a,c){s.child=t===null?Ky(s,null,a,c):Sa(s,t.child,a,c)}function Hx(t,s,a,c,f){a=a.render;var m=s.ref;if("ref"in c){var b={};for(var T in c)T!=="ref"&&(b[T]=c[T])}else b=c;return Ea(s),c=If(t,s,a,b,m,f),T=Mf(),t!==null&&!en?(Df(t,s,f),Cs(t,s,f)):(et&&T&&hf(s),s.flags|=1,vn(t,s,c,f),s.child)}function Gx(t,s,a,c,f){if(t===null){var m=a.type;return typeof m=="function"&&!cf(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,$x(t,s,m,c,f)):(t=ku(a.type,null,c,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!sm(t,f)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ol,a(b,c)&&t.ref===s.ref)return Cs(t,s,f)}return s.flags|=1,t=Ts(m,c),t.ref=s.ref,t.return=s,s.child=t}function $x(t,s,a,c,f){if(t!==null){var m=t.memoizedProps;if(Ol(m,c)&&t.ref===s.ref)if(en=!1,s.pendingProps=c=m,sm(t,f))(t.flags&131072)!==0&&(en=!0);else return s.lanes=t.lanes,Cs(t,s,f)}return Xf(t,s,a,c,f)}function Kx(t,s,a,c){var f=c.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(c=s.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,s.child=null;return Yx(t,s,m,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(s,m!==null?m.cachePool:null),m!==null?Wy(s,m):jf(),Xy(s);else return c=s.lanes=536870912,Yx(t,s,m!==null?m.baseLanes|a:a,a,c)}else m!==null?(zu(s,m.cachePool),Wy(s,m),xr(),s.memoizedState=null):(t!==null&&zu(s,null),jf(),xr());return vn(t,s,f,a),s.child}function Ql(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Yx(t,s,a,c,f){var m=_f();return m=m===null?null:{parent:Jt._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&zu(s,null),jf(),Xy(s),t!==null&&xo(t,s,c,!0),s.childLanes=f,null}function nd(t,s){return s=sd({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Qx(t,s,a){return Sa(s,t.child,null,a),t=nd(s,s.pendingProps),t.flags|=2,Yn(s),s.memoizedState=null,t}function qN(t,s,a){var c=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(et){if(c.mode==="hidden")return t=nd(s,c),s.lanes=536870912,Ql(null,t);if(Cf(s),(t=wt)?(t=ob(t,mi),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ur!==null?{id:ss,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},a=My(t),a.return=s,s.child=a,xn=s,wt=null)):t=null,t===null)throw hr(s);return s.lanes=536870912,null}return nd(s,c)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(Cf(s),f)if(s.flags&256)s.flags&=-257,s=Qx(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(en||xo(t,s,a,!1),f=(a&t.childLanes)!==0,en||f){if(c=vt,c!==null&&(b=pl(c,a),b!==0&&b!==m.retryLane))throw m.retryLane=b,xa(t,b),zn(c,t,b),Wf;fd(),s=Qx(t,s,a)}else t=m.treeContext,wt=pi(b.nextSibling),xn=s,et=!0,dr=null,mi=!1,t!==null&&Py(s,t),s=nd(s,c),s.flags|=4096;return s}return t=Ts(t.child,{mode:c.mode,children:c.children}),t.ref=s.ref,s.child=t,t.return=s,t}function id(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Xf(t,s,a,c,f){return Ea(s),a=If(t,s,a,c,void 0,f),c=Mf(),t!==null&&!en?(Df(t,s,f),Cs(t,s,f)):(et&&c&&hf(s),s.flags|=1,vn(t,s,a,f),s.child)}function Wx(t,s,a,c,f,m){return Ea(s),s.updateQueue=null,a=Zy(s,c,a,f),Jy(t),c=Mf(),t!==null&&!en?(Df(t,s,m),Cs(t,s,m)):(et&&c&&hf(s),s.flags|=1,vn(t,s,a,m),s.child)}function Xx(t,s,a,c,f){if(Ea(s),s.stateNode===null){var m=mo,b=a.contextType;typeof b=="object"&&b!==null&&(m=bn(b)),m=new a(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Yf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},Tf(s),b=a.contextType,m.context=typeof b=="object"&&b!==null?bn(b):mo,m.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Kf(s,a,b,c),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Yf.enqueueReplaceState(m,m.state,null),Hl(s,c,m,f),Fl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(t===null){m=s.stateNode;var T=s.memoizedProps,I=Aa(a,T);m.props=I;var G=m.context,Z=a.contextType;b=mo,typeof Z=="object"&&Z!==null&&(b=bn(Z));var se=a.getDerivedStateFromProps;Z=typeof se=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||G!==b)&&Lx(s,m,c,b),mr=!1;var $=s.memoizedState;m.state=$,Hl(s,c,m,f),Fl(),G=s.memoizedState,T||$!==G||mr?(typeof se=="function"&&(Kf(s,a,se,c),G=s.memoizedState),(I=mr||kx(s,a,I,c,$,G,b))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=G),m.props=c,m.state=G,m.context=b,c=I):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,wf(t,s),b=s.memoizedProps,Z=Aa(a,b),m.props=Z,se=s.pendingProps,$=m.context,G=a.contextType,I=mo,typeof G=="object"&&G!==null&&(I=bn(G)),T=a.getDerivedStateFromProps,(G=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==se||$!==I)&&Lx(s,m,c,I),mr=!1,$=s.memoizedState,m.state=$,Hl(s,c,m,f),Fl();var Q=s.memoizedState;b!==se||$!==Q||mr||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof T=="function"&&(Kf(s,a,T,c),Q=s.memoizedState),(Z=mr||kx(s,a,Z,c,$,Q,I)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,Q,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,Q,I)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Q),m.props=c,m.state=Q,m.context=I,c=Z):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(s.flags|=1024),c=!1)}return m=c,id(t,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&c?(s.child=Sa(s,t.child,null,f),s.child=Sa(s,null,a,f)):vn(t,s,a,f),s.memoizedState=m.state,t=s.child):t=Cs(t,s,f),t}function Jx(t,s,a,c){return va(),s.flags|=256,vn(t,s,a,c),s.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zf(t){return{baseLanes:t,cachePool:qy()}}function em(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Wn),t}function Zx(t,s,a){var c=s.pendingProps,f=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Gt.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,t===null){if(et){if(f?yr(s):xr(),(t=wt)?(t=ob(t,mi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ur!==null?{id:ss,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},a=My(t),a.return=s,s.child=a,xn=s,wt=null)):t=null,t===null)throw hr(s);return km(t)?s.lanes=32:s.lanes=536870912,null}var T=c.children;return c=c.fallback,f?(xr(),f=s.mode,T=sd({mode:"hidden",children:T},f),c=ba(c,f,a,null),T.return=s,c.return=s,T.sibling=c,s.child=T,c=s.child,c.memoizedState=Zf(a),c.childLanes=em(t,b,a),s.memoizedState=Jf,Ql(null,c)):(yr(s),tm(s,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(m)s.flags&256?(yr(s),s.flags&=-257,s=nm(t,s,a)):s.memoizedState!==null?(xr(),s.child=t.child,s.flags|=128,s=null):(xr(),T=c.fallback,f=s.mode,c=sd({mode:"visible",children:c.children},f),T=ba(T,f,a,null),T.flags|=2,c.return=s,T.return=s,c.sibling=T,s.child=c,Sa(s,t.child,null,a),c=s.child,c.memoizedState=Zf(a),c.childLanes=em(t,b,a),s.memoizedState=Jf,s=Ql(null,c));else if(yr(s),km(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var G=b.dgst;b=G,c=Error(r(419)),c.stack="",c.digest=b,Ll({value:c,source:null,stack:null}),s=nm(t,s,a)}else if(en||xo(t,s,a,!1),b=(a&t.childLanes)!==0,en||b){if(b=vt,b!==null&&(c=pl(b,a),c!==0&&c!==I.retryLane))throw I.retryLane=c,xa(t,c),zn(b,t,c),Wf;Pm(T)||fd(),s=nm(t,s,a)}else Pm(T)?(s.flags|=192,s.child=t.child,s=null):(t=I.treeContext,wt=pi(T.nextSibling),xn=s,et=!0,dr=null,mi=!1,t!==null&&Py(s,t),s=tm(s,c.children),s.flags|=4096);return s}return f?(xr(),T=c.fallback,f=s.mode,I=t.child,G=I.sibling,c=Ts(I,{mode:"hidden",children:c.children}),c.subtreeFlags=I.subtreeFlags&65011712,G!==null?T=Ts(G,T):(T=ba(T,f,a,null),T.flags|=2),T.return=s,c.return=s,c.sibling=T,s.child=c,Ql(null,c),c=s.child,T=t.child.memoizedState,T===null?T=Zf(a):(f=T.cachePool,f!==null?(I=Jt._currentValue,f=f.parent!==I?{parent:I,pool:I}:f):f=qy(),T={baseLanes:T.baseLanes|a,cachePool:f}),c.memoizedState=T,c.childLanes=em(t,b,a),s.memoizedState=Jf,Ql(t.child,c)):(yr(s),a=t.child,t=a.sibling,a=Ts(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,t!==null&&(b=s.deletions,b===null?(s.deletions=[t],s.flags|=16):b.push(t)),s.child=a,s.memoizedState=null,a)}function tm(t,s){return s=sd({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function sd(t,s){return t=$n(22,t,null,s),t.lanes=0,t}function nm(t,s,a){return Sa(s,t.child,null,a),t=tm(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function e0(t,s,a){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),yf(t.return,s,a)}function im(t,s,a,c,f,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f,treeForkCount:m}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=a,b.tailMode=f,b.treeForkCount=m)}function t0(t,s,a){var c=s.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var b=Gt.current,T=(b&2)!==0;if(T?(b=b&1|2,s.flags|=128):b&=1,ce(Gt,b),vn(t,s,c,a),c=et?kl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e0(t,a,s);else if(t.tag===19)e0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&$u(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),im(s,!1,f,a,m,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&$u(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}im(s,!0,a,null,m,c);break;case"together":im(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Cs(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),_r|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(xo(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=Ts(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Ts(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function sm(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function BN(t,s,a){switch(s.tag){case 3:Ft(s,s.stateNode.containerInfo),fr(s,Jt,t.memoizedState.cache),va();break;case 27:case 5:ys(s);break;case 4:Ft(s,s.stateNode.containerInfo);break;case 10:fr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Cf(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(yr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Zx(t,s,a):(yr(s),t=Cs(t,s,a),t!==null?t.sibling:null);yr(s);break;case 19:var f=(t.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(xo(t,s,a,!1),c=(a&s.childLanes)!==0),f){if(c)return t0(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ce(Gt,Gt.current),c)break;return null;case 22:return s.lanes=0,Kx(t,s,a,s.pendingProps);case 24:fr(s,Jt,t.memoizedState.cache)}return Cs(t,s,a)}function n0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)en=!0;else{if(!sm(t,a)&&(s.flags&128)===0)return en=!1,BN(t,s,a);en=(t.flags&131072)!==0}else en=!1,et&&(s.flags&1048576)!==0&&Oy(s,kl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(t=wa(s.elementType),s.type=t,typeof t=="function")cf(t)?(c=Aa(t,c),s.tag=1,s=Xx(null,s,t,c,a)):(s.tag=0,s=Xf(null,s,t,c,a));else{if(t!=null){var f=t.$$typeof;if(f===q){s.tag=11,s=Hx(null,s,t,c,a);break e}else if(f===j){s.tag=14,s=Gx(null,s,t,c,a);break e}}throw s=we(t)||t,Error(r(306,s,""))}}return s;case 0:return Xf(t,s,s.type,s.pendingProps,a);case 1:return c=s.type,f=Aa(c,s.pendingProps),Xx(t,s,c,f,a);case 3:e:{if(Ft(s,s.stateNode.containerInfo),t===null)throw Error(r(387));c=s.pendingProps;var m=s.memoizedState;f=m.element,wf(t,s),Hl(s,c,null,a);var b=s.memoizedState;if(c=b.cache,fr(s,Jt,c),c!==m.cache&&xf(s,[Jt],a,!0),Fl(),c=b.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Jx(t,s,c,a);break e}else if(c!==f){f=di(Error(r(424)),s),Ll(f),s=Jx(t,s,c,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,wt=pi(t.firstChild),xn=s,et=!0,dr=null,mi=!0,a=Ky(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(va(),c===f){s=Cs(t,s,a);break e}vn(t,s,c,a)}s=s.child}return s;case 26:return id(t,s),t===null?(a=fb(s.type,null,s.pendingProps,null))?s.memoizedState=a:et||(a=s.type,t=s.pendingProps,c=vd(ke.current).createElement(a),c[Qt]=s,c[hn]=t,_n(c,a,t),Wt(c),s.stateNode=c):s.memoizedState=fb(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return ys(s),t===null&&et&&(c=s.stateNode=ub(s.type,s.pendingProps,ke.current),xn=s,mi=!0,f=wt,Sr(s.type)?(Lm=f,wt=pi(c.firstChild)):wt=f),vn(t,s,s.pendingProps.children,a),id(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&et&&((f=c=wt)&&(c=xS(c,s.type,s.pendingProps,mi),c!==null?(s.stateNode=c,xn=s,wt=pi(c.firstChild),mi=!1,f=!0):f=!1),f||hr(s)),ys(s),f=s.type,m=s.pendingProps,b=t!==null?t.memoizedProps:null,c=m.children,Mm(f,m)?c=null:b!==null&&Mm(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=If(t,s,DN,null,null,a),uc._currentValue=f),id(t,s),vn(t,s,c,a),s.child;case 6:return t===null&&et&&((t=a=wt)&&(a=bS(a,s.pendingProps,mi),a!==null?(s.stateNode=a,xn=s,wt=null,t=!0):t=!1),t||hr(s)),null;case 13:return Zx(t,s,a);case 4:return Ft(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=Sa(s,null,c,a):vn(t,s,c,a),s.child;case 11:return Hx(t,s,s.type,s.pendingProps,a);case 7:return vn(t,s,s.pendingProps,a),s.child;case 8:return vn(t,s,s.pendingProps.children,a),s.child;case 12:return vn(t,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,fr(s,s.type,c.value),vn(t,s,c.children,a),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,Ea(s),f=bn(f),c=c(f),s.flags|=1,vn(t,s,c,a),s.child;case 14:return Gx(t,s,s.type,s.pendingProps,a);case 15:return $x(t,s,s.type,s.pendingProps,a);case 19:return t0(t,s,a);case 31:return qN(t,s,a);case 22:return Kx(t,s,a,s.pendingProps);case 24:return Ea(s),c=bn(Jt),t===null?(f=_f(),f===null&&(f=vt,m=bf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:c,cache:f},Tf(s),fr(s,Jt,f)):((t.lanes&a)!==0&&(wf(t,s),Hl(s,null,null,a),Fl()),f=t.memoizedState,m=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),fr(s,Jt,c)):(c=m.cache,fr(s,Jt,c),c!==f.cache&&xf(s,[Jt],a,!0))),vn(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Rs(t){t.flags|=4}function rm(t,s,a,c,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(C0())t.flags|=8192;else throw Na=Bu,Ef}else t.flags&=-16777217}function i0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xb(s))if(C0())t.flags|=8192;else throw Na=Bu,Ef}function rd(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?du():536870912,t.lanes|=s,Ro|=s)}function Wl(t,s){if(!et)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Nt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=a,s}function FN(t,s,a){var c=s.pendingProps;switch(ff(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(s),null;case 1:return Nt(s),null;case 3:return a=s.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ss(Jt),_t(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(yo(s)?Rs(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,gf())),Nt(s),null;case 26:var f=s.type,m=s.memoizedState;return t===null?(Rs(s),m!==null?(Nt(s),i0(s,m)):(Nt(s),rm(s,f,null,c,a))):m?m!==t.memoizedState?(Rs(s),Nt(s),i0(s,m)):(Nt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==c&&Rs(s),Nt(s),rm(s,f,t,c,a)),null;case 27:if(Qs(s),a=ke.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Rs(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Nt(s),null}t=ve.current,yo(s)?ky(s):(t=ub(f,c,a),s.stateNode=t,Rs(s))}return Nt(s),null;case 5:if(Qs(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Rs(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Nt(s),null}if(m=ve.current,yo(s))ky(s);else{var b=vd(ke.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?b.createElement(f,{is:c.is}):b.createElement(f)}}m[Qt]=s,m[hn]=c;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=m;e:switch(_n(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Rs(s)}}return Nt(s),rm(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==c&&Rs(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(t=ke.current,yo(s)){if(t=s.stateNode,a=s.memoizedProps,c=null,f=xn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}t[Qt]=s,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Z0(t.nodeValue,a)),t||hr(s,!0)}else t=vd(t).createTextNode(c),t[Qt]=s,s.stateNode=t}return Nt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(c=yo(s),a!==null){if(t===null){if(!c)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Qt]=s}else va(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),t=!1}else a=gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Yn(s),s):(Yn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Nt(s),null;case 13:if(c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=yo(s),c!==null&&c.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Qt]=s}else va(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),f=!1}else f=gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Yn(s),s):(Yn(s),null)}return Yn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,t=t!==null&&t.memoizedState!==null,a&&(c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),rd(s,s.updateQueue),Nt(s),null);case 4:return _t(),t===null&&jm(s.stateNode.containerInfo),Nt(s),null;case 10:return Ss(s.type),Nt(s),null;case 19:if(ie(Gt),c=s.memoizedState,c===null)return Nt(s),null;if(f=(s.flags&128)!==0,m=c.rendering,m===null)if(f)Wl(c,!1);else{if(Ut!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=$u(t),m!==null){for(s.flags|=128,Wl(c,!1),t=m.updateQueue,s.updateQueue=t,rd(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Iy(a,t),a=a.sibling;return ce(Gt,Gt.current&1|2),et&&ws(s,c.treeForkCount),s.child}t=t.sibling}c.tail!==null&&Yt()>ud&&(s.flags|=128,f=!0,Wl(c,!1),s.lanes=4194304)}else{if(!f)if(t=$u(m),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,rd(s,t),Wl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!et)return Nt(s),null}else 2*Yt()-c.renderingStartTime>ud&&a!==536870912&&(s.flags|=128,f=!0,Wl(c,!1),s.lanes=4194304);c.isBackwards?(m.sibling=s.child,s.child=m):(t=c.last,t!==null?t.sibling=m:s.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Yt(),t.sibling=null,a=Gt.current,ce(Gt,f?a&1|2:a&1),et&&ws(s,c.treeForkCount),t):(Nt(s),null);case 22:case 23:return Yn(s),Af(),c=s.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(Nt(s),s.subtreeFlags&6&&(s.flags|=8192)):Nt(s),a=s.updateQueue,a!==null&&rd(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),t!==null&&ie(Ta),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Ss(Jt),Nt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function HN(t,s){switch(ff(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Ss(Jt),_t(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Qs(s),null;case 31:if(s.memoizedState!==null){if(Yn(s),s.alternate===null)throw Error(r(340));va()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Yn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));va()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return ie(Gt),null;case 4:return _t(),null;case 10:return Ss(s.type),null;case 22:case 23:return Yn(s),Af(),t!==null&&ie(Ta),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Ss(Jt),null;case 25:return null;default:return null}}function s0(t,s){switch(ff(s),s.tag){case 3:Ss(Jt),_t();break;case 26:case 27:case 5:Qs(s);break;case 4:_t();break;case 31:s.memoizedState!==null&&Yn(s);break;case 13:Yn(s);break;case 19:ie(Gt);break;case 10:Ss(s.type);break;case 22:case 23:Yn(s),Af(),t!==null&&ie(Ta);break;case 24:Ss(Jt)}}function Xl(t,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&t)===t){c=void 0;var m=a.create,b=a.inst;c=m(),b.destroy=c}a=a.next}while(a!==f)}}catch(T){ht(s,s.return,T)}}function br(t,s,a){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&t)===t){var b=c.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,f=s;var I=a,G=T;try{G()}catch(Z){ht(f,I,Z)}}}c=c.next}while(c!==m)}}catch(Z){ht(s,s.return,Z)}}function r0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Qy(s,a)}catch(c){ht(t,t.return,c)}}}function a0(t,s,a){a.props=Aa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){ht(t,s,c)}}function Jl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(f){ht(t,s,f)}}function as(t,s){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(f){ht(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ht(t,s,f)}else a.current=null}function o0(t){var s=t.type,a=t.memoizedProps,c=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(f){ht(t,t.return,f)}}function am(t,s,a){try{var c=t.stateNode;hS(c,t.type,a,s),c[hn]=s}catch(f){ht(t,t.return,f)}}function l0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Sr(t.type)||t.tag===4}function om(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||l0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Sr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lm(t,s,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ni));else if(c!==4&&(c===27&&Sr(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(lm(t,s,a),t=t.sibling;t!==null;)lm(t,s,a),t=t.sibling}function ad(t,s,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(c!==4&&(c===27&&Sr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ad(t,s,a),t=t.sibling;t!==null;)ad(t,s,a),t=t.sibling}function c0(t){var s=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);_n(s,c,a),s[Qt]=t,s[hn]=a}catch(m){ht(t,t.return,m)}}var Is=!1,tn=!1,cm=!1,u0=typeof WeakSet=="function"?WeakSet:Set,mn=null;function GN(t,s){if(t=t.containerInfo,Rm=jd,t=Ey(t),tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,T=-1,I=-1,G=0,Z=0,se=t,$=null;t:for(;;){for(var Q;se!==a||f!==0&&se.nodeType!==3||(T=b+f),se!==m||c!==0&&se.nodeType!==3||(I=b+c),se.nodeType===3&&(b+=se.nodeValue.length),(Q=se.firstChild)!==null;)$=se,se=Q;for(;;){if(se===t)break t;if($===a&&++G===f&&(T=b),$===m&&++Z===c&&(I=b),(Q=se.nextSibling)!==null)break;se=$,$=se.parentNode}se=Q}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Im={focusedElem:t,selectionRange:a},jd=!1,mn=s;mn!==null;)if(s=mn,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,mn=t;else for(;mn!==null;){switch(s=mn,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,c=a.stateNode;try{var Ee=Aa(a.type,f);t=c.getSnapshotBeforeUpdate(Ee,m),c.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){ht(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Om(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Om(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,mn=t;break}mn=s.return}}function d0(t,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Ds(t,a),c&4&&Xl(5,a);break;case 1:if(Ds(t,a),c&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(b){ht(a,a.return,b)}else{var f=Aa(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(b){ht(a,a.return,b)}}c&64&&r0(a),c&512&&Jl(a,a.return);break;case 3:if(Ds(t,a),c&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Qy(t,s)}catch(b){ht(a,a.return,b)}}break;case 27:s===null&&c&4&&c0(a);case 26:case 5:Ds(t,a),s===null&&c&4&&o0(a),c&512&&Jl(a,a.return);break;case 12:Ds(t,a);break;case 31:Ds(t,a),c&4&&m0(t,a);break;case 13:Ds(t,a),c&4&&g0(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=eS.bind(null,a),vS(t,a))));break;case 22:if(c=a.memoizedState!==null||Is,!c){s=s!==null&&s.memoizedState!==null||tn,f=Is;var m=tn;Is=c,(tn=s)&&!m?Os(t,a,(a.subtreeFlags&8772)!==0):Ds(t,a),Is=f,tn=m}break;case 30:break;default:Ds(t,a)}}function h0(t){var s=t.alternate;s!==null&&(t.alternate=null,h0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Za(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ct=null,kn=!1;function Ms(t,s,a){for(a=a.child;a!==null;)f0(t,s,a),a=a.sibling}function f0(t,s,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Mt,a)}catch{}switch(a.tag){case 26:tn||as(a,s),Ms(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tn||as(a,s);var c=Ct,f=kn;Sr(a.type)&&(Ct=a.stateNode,kn=!1),Ms(t,s,a),oc(a.stateNode),Ct=c,kn=f;break;case 5:tn||as(a,s);case 6:if(c=Ct,f=kn,Ct=null,Ms(t,s,a),Ct=c,kn=f,Ct!==null)if(kn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(a.stateNode)}catch(m){ht(a,s,m)}else try{Ct.removeChild(a.stateNode)}catch(m){ht(a,s,m)}break;case 18:Ct!==null&&(kn?(t=Ct,rb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Vo(t)):rb(Ct,a.stateNode));break;case 4:c=Ct,f=kn,Ct=a.stateNode.containerInfo,kn=!0,Ms(t,s,a),Ct=c,kn=f;break;case 0:case 11:case 14:case 15:br(2,a,s),tn||br(4,a,s),Ms(t,s,a);break;case 1:tn||(as(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&a0(a,s,c)),Ms(t,s,a);break;case 21:Ms(t,s,a);break;case 22:tn=(c=tn)||a.memoizedState!==null,Ms(t,s,a),tn=c;break;default:Ms(t,s,a)}}function m0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Vo(t)}catch(a){ht(s,s.return,a)}}}function g0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vo(t)}catch(a){ht(s,s.return,a)}}function $N(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new u0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new u0),s;default:throw Error(r(435,t.tag))}}function od(t,s){var a=$N(t);s.forEach(function(c){if(!a.has(c)){a.add(c);var f=tS.bind(null,t,c);c.then(f,f)}})}function Ln(t,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c],m=t,b=s,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(Sr(T.type)){Ct=T.stateNode,kn=!1;break e}break;case 5:Ct=T.stateNode,kn=!1;break e;case 3:case 4:Ct=T.stateNode.containerInfo,kn=!0;break e}T=T.return}if(Ct===null)throw Error(r(160));f0(m,b,f),Ct=null,kn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)p0(s,t),s=s.sibling}var Ii=null;function p0(t,s){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ln(s,t),Vn(t),c&4&&(br(3,t,t.return),Xl(3,t),br(5,t,t.return));break;case 1:Ln(s,t),Vn(t),c&512&&(tn||a===null||as(a,a.return)),c&64&&Is&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var f=Ii;if(Ln(s,t),Vn(t),c&512&&(tn||a===null||as(a,a.return)),c&4){var m=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){e:{c=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[$i]||m[Qt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),_n(m,c,a),m[Qt]=t,Wt(m),c=m;break e;case"link":var b=pb("link","href",f).get(c+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(m=b[T],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break t}}m=f.createElement(c),_n(m,c,a),f.head.appendChild(m);break;case"meta":if(b=pb("meta","content",f).get(c+(a.content||""))){for(T=0;T<b.length;T++)if(m=b[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break t}}m=f.createElement(c),_n(m,c,a),f.head.appendChild(m);break;default:throw Error(r(468,c))}m[Qt]=t,Wt(m),c=m}t.stateNode=c}else yb(f,t.type,t.stateNode);else t.stateNode=gb(f,c,t.memoizedProps);else m!==c?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,c===null?yb(f,t.type,t.stateNode):gb(f,c,t.memoizedProps)):c===null&&t.stateNode!==null&&am(t,t.memoizedProps,a.memoizedProps)}break;case 27:Ln(s,t),Vn(t),c&512&&(tn||a===null||as(a,a.return)),a!==null&&c&4&&am(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Ln(s,t),Vn(t),c&512&&(tn||a===null||as(a,a.return)),t.flags&32){f=t.stateNode;try{Pn(f,"")}catch(Ee){ht(t,t.return,Ee)}}c&4&&t.stateNode!=null&&(f=t.memoizedProps,am(t,f,a!==null?a.memoizedProps:f)),c&1024&&(cm=!0);break;case 6:if(Ln(s,t),Vn(t),c&4){if(t.stateNode===null)throw Error(r(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(Ee){ht(t,t.return,Ee)}}break;case 3:if(Td=null,f=Ii,Ii=_d(s.containerInfo),Ln(s,t),Ii=f,Vn(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Vo(s.containerInfo)}catch(Ee){ht(t,t.return,Ee)}cm&&(cm=!1,y0(t));break;case 4:c=Ii,Ii=_d(t.stateNode.containerInfo),Ln(s,t),Vn(t),Ii=c;break;case 12:Ln(s,t),Vn(t);break;case 31:Ln(s,t),Vn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,od(t,c)));break;case 13:Ln(s,t),Vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cd=Yt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,od(t,c)));break;case 22:f=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,G=Is,Z=tn;if(Is=G||f,tn=Z||I,Ln(s,t),tn=Z,Is=G,Vn(t),c&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||I||Is||tn||Ca(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){I=a=s;try{if(m=I.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=I.stateNode;var se=I.memoizedProps.style,$=se!=null&&se.hasOwnProperty("display")?se.display:null;T.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Ee){ht(I,I.return,Ee)}}}else if(s.tag===6){if(a===null){I=s;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(Ee){ht(I,I.return,Ee)}}}else if(s.tag===18){if(a===null){I=s;try{var Q=I.stateNode;f?ab(Q,!0):ab(I.stateNode,!1)}catch(Ee){ht(I,I.return,Ee)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,od(t,a))));break;case 19:Ln(s,t),Vn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,od(t,c)));break;case 30:break;case 21:break;default:Ln(s,t),Vn(t)}}function Vn(t){var s=t.flags;if(s&2){try{for(var a,c=t.return;c!==null;){if(l0(c)){a=c;break}c=c.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=om(t);ad(t,m,f);break;case 5:var b=a.stateNode;a.flags&32&&(Pn(b,""),a.flags&=-33);var T=om(t);ad(t,T,b);break;case 3:case 4:var I=a.stateNode.containerInfo,G=om(t);lm(t,G,I);break;default:throw Error(r(161))}}catch(Z){ht(t,t.return,Z)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function y0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;y0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Ds(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)d0(t,s.alternate,s),s=s.sibling}function Ca(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:br(4,s,s.return),Ca(s);break;case 1:as(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&a0(s,s.return,a),Ca(s);break;case 27:oc(s.stateNode);case 26:case 5:as(s,s.return),Ca(s);break;case 22:s.memoizedState===null&&Ca(s);break;case 30:Ca(s);break;default:Ca(s)}t=t.sibling}}function Os(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=t,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:Os(f,m,a),Xl(4,m);break;case 1:if(Os(f,m,a),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){ht(c,c.return,G)}if(c=m,f=c.updateQueue,f!==null){var T=c.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Yy(I[f],T)}catch(G){ht(c,c.return,G)}}a&&b&64&&r0(m),Jl(m,m.return);break;case 27:c0(m);case 26:case 5:Os(f,m,a),a&&c===null&&b&4&&o0(m),Jl(m,m.return);break;case 12:Os(f,m,a);break;case 31:Os(f,m,a),a&&b&4&&m0(f,m);break;case 13:Os(f,m,a),a&&b&4&&g0(f,m);break;case 22:m.memoizedState===null&&Os(f,m,a),Jl(m,m.return);break;case 30:break;default:Os(f,m,a)}s=s.sibling}}function um(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Vl(a))}function dm(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Vl(t))}function Mi(t,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)x0(t,s,a,c),s=s.sibling}function x0(t,s,a,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Mi(t,s,a,c),f&2048&&Xl(9,s);break;case 1:Mi(t,s,a,c);break;case 3:Mi(t,s,a,c),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Vl(t)));break;case 12:if(f&2048){Mi(t,s,a,c),t=s.stateNode;try{var m=s.memoizedProps,b=m.id,T=m.onPostCommit;typeof T=="function"&&T(b,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){ht(s,s.return,I)}}else Mi(t,s,a,c);break;case 31:Mi(t,s,a,c);break;case 13:Mi(t,s,a,c);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?Mi(t,s,a,c):Zl(t,s):m._visibility&2?Mi(t,s,a,c):(m._visibility|=2,jo(t,s,a,c,(s.subtreeFlags&10256)!==0||!1)),f&2048&&um(b,s);break;case 24:Mi(t,s,a,c),f&2048&&dm(s.alternate,s);break;default:Mi(t,s,a,c)}}function jo(t,s,a,c,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,b=s,T=a,I=c,G=b.flags;switch(b.tag){case 0:case 11:case 15:jo(m,b,T,I,f),Xl(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?jo(m,b,T,I,f):Zl(m,b):(Z._visibility|=2,jo(m,b,T,I,f)),f&&G&2048&&um(b.alternate,b);break;case 24:jo(m,b,T,I,f),f&&G&2048&&dm(b.alternate,b);break;default:jo(m,b,T,I,f)}s=s.sibling}}function Zl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,c=s,f=c.flags;switch(c.tag){case 22:Zl(a,c),f&2048&&um(c.alternate,c);break;case 24:Zl(a,c),f&2048&&dm(c.alternate,c);break;default:Zl(a,c)}s=s.sibling}}var ec=8192;function Ao(t,s,a){if(t.subtreeFlags&ec)for(t=t.child;t!==null;)b0(t,s,a),t=t.sibling}function b0(t,s,a){switch(t.tag){case 26:Ao(t,s,a),t.flags&ec&&t.memoizedState!==null&&MS(a,Ii,t.memoizedState,t.memoizedProps);break;case 5:Ao(t,s,a);break;case 3:case 4:var c=Ii;Ii=_d(t.stateNode.containerInfo),Ao(t,s,a),Ii=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=ec,ec=16777216,Ao(t,s,a),ec=c):Ao(t,s,a));break;default:Ao(t,s,a)}}function v0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function tc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];mn=c,E0(c,t)}v0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_0(t),t=t.sibling}function _0(t){switch(t.tag){case 0:case 11:case 15:tc(t),t.flags&2048&&br(9,t,t.return);break;case 3:tc(t);break;case 12:tc(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,ld(t)):tc(t);break;default:tc(t)}}function ld(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];mn=c,E0(c,t)}v0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:br(8,s,s.return),ld(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,ld(s));break;default:ld(s)}t=t.sibling}}function E0(t,s){for(;mn!==null;){var a=mn;switch(a.tag){case 0:case 11:case 15:br(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Vl(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,mn=c;else e:for(a=t;mn!==null;){c=mn;var f=c.sibling,m=c.return;if(h0(c),c===a){mn=null;break e}if(f!==null){f.return=m,mn=f;break e}mn=m}}}var KN={getCacheForType:function(t){var s=bn(Jt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return bn(Jt).controller.signal}},YN=typeof WeakMap=="function"?WeakMap:Map,ot=0,vt=null,Be=null,Ke=0,dt=0,Qn=null,vr=!1,Co=!1,hm=!1,Ps=0,Ut=0,_r=0,Ra=0,fm=0,Wn=0,Ro=0,nc=null,Un=null,mm=!1,cd=0,T0=0,ud=1/0,dd=null,Er=null,ln=0,Tr=null,Io=null,ks=0,gm=0,pm=null,w0=null,ic=0,ym=null;function Xn(){return(ot&2)!==0&&Ke!==0?Ke&-Ke:X.T!==null?Tm():hu()}function N0(){if(Wn===0)if((Ke&536870912)===0||et){var t=xs;xs<<=1,(xs&3932160)===0&&(xs=262144),Wn=t}else Wn=536870912;return t=Kn.current,t!==null&&(t.flags|=32),Wn}function zn(t,s,a){(t===vt&&(dt===2||dt===9)||t.cancelPendingCommit!==null)&&(Mo(t,0),wr(t,Ke,Wn,!1)),sa(t,a),((ot&2)===0||t!==vt)&&(t===vt&&((ot&2)===0&&(Ra|=a),Ut===4&&wr(t,Ke,Wn,!1)),os(t))}function S0(t,s,a){if((ot&6)!==0)throw Error(r(327));var c=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Ei(t,s),f=c?XN(t,s):bm(t,s,!0),m=c;do{if(f===0){Co&&!c&&wr(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!QN(a)){f=bm(t,s,!1),m=!1;continue}if(f===2){if(m=s,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var T=t;f=nc;var I=T.current.memoizedState.isDehydrated;if(I&&(Mo(T,b).flags|=256),b=bm(T,b,!1),b!==2){if(hm&&!I){T.errorRecoveryDisabledLanes|=m,Ra|=m,f=4;break e}m=Un,Un=f,m!==null&&(Un===null?Un=m:Un.push.apply(Un,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){Mo(t,0),wr(t,s,0,!0);break}e:{switch(c=t,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:wr(c,s,Wn,!vr);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=cd+300-Yt(),10<f)){if(wr(c,s,Wn,!vr),Fi(c,0,!0)!==0)break e;ks=s,c.timeoutHandle=ib(j0.bind(null,c,a,Un,dd,mm,s,Wn,Ra,Ro,vr,m,"Throttled",-0,0),f);break e}j0(c,a,Un,dd,mm,s,Wn,Ra,Ro,vr,m,null,-0,0)}}break}while(!0);os(t)}function j0(t,s,a,c,f,m,b,T,I,G,Z,se,$,Q){if(t.timeoutHandle=-1,se=s.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ni},b0(s,m,se);var Ee=(m&62914560)===m?cd-Yt():(m&4194048)===m?T0-Yt():0;if(Ee=DS(se,Ee),Ee!==null){ks=m,t.cancelPendingCommit=Ee(P0.bind(null,t,s,m,a,c,f,b,T,I,Z,se,null,$,Q)),wr(t,m,b,!G);return}}P0(t,s,m,a,c,f,b,T,I)}function QN(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!Gn(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function wr(t,s,a,c){s&=~fm,s&=~Ra,t.suspendedLanes|=s,t.pingedLanes&=~s,c&&(t.warmLanes|=s),c=t.expirationTimes;for(var f=s;0<f;){var m=31-Ze(f),b=1<<m;c[m]=-1,f&=~b}a!==0&&ra(t,a,s)}function hd(){return(ot&6)===0?(sc(0),!1):!0}function xm(){if(Be!==null){if(dt===0)var t=Be.return;else t=Be,Ns=_a=null,Of(t),Eo=null,zl=0,t=Be;for(;t!==null;)s0(t.alternate,t),t=t.return;Be=null}}function Mo(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,gS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ks=0,xm(),vt=t,Be=a=Ts(t.current,null),Ke=s,dt=0,Qn=null,vr=!1,Co=Ei(t,s),hm=!1,Ro=Wn=fm=Ra=_r=Ut=0,Un=nc=null,mm=!1,(s&8)!==0&&(s|=s&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=s;0<c;){var f=31-Ze(c),m=1<<f;s|=t[f],c&=~m}return Ps=s,Du(),a}function A0(t,s){Ve=null,X.H=Yl,s===_o||s===qu?(s=Hy(),dt=3):s===Ef?(s=Hy(),dt=4):dt=s===Wf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Qn=s,Be===null&&(Ut=1,td(t,di(s,t.current)))}function C0(){var t=Kn.current;return t===null?!0:(Ke&4194048)===Ke?gi===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?t===gi:!1}function R0(){var t=X.H;return X.H=Yl,t===null?Yl:t}function I0(){var t=X.A;return X.A=KN,t}function fd(){Ut=4,vr||(Ke&4194048)!==Ke&&Kn.current!==null||(Co=!0),(_r&134217727)===0&&(Ra&134217727)===0||vt===null||wr(vt,Ke,Wn,!1)}function bm(t,s,a){var c=ot;ot|=2;var f=R0(),m=I0();(vt!==t||Ke!==s)&&(dd=null,Mo(t,s)),s=!1;var b=Ut;e:do try{if(dt!==0&&Be!==null){var T=Be,I=Qn;switch(dt){case 8:xm(),b=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(s=!0);var G=dt;if(dt=0,Qn=null,Do(t,T,I,G),a&&Co){b=0;break e}break;default:G=dt,dt=0,Qn=null,Do(t,T,I,G)}}WN(),b=Ut;break}catch(Z){A0(t,Z)}while(!0);return s&&t.shellSuspendCounter++,Ns=_a=null,ot=c,X.H=f,X.A=m,Be===null&&(vt=null,Ke=0,Du()),b}function WN(){for(;Be!==null;)M0(Be)}function XN(t,s){var a=ot;ot|=2;var c=R0(),f=I0();vt!==t||Ke!==s?(dd=null,ud=Yt()+500,Mo(t,s)):Co=Ei(t,s);e:do try{if(dt!==0&&Be!==null){s=Be;var m=Qn;t:switch(dt){case 1:dt=0,Qn=null,Do(t,s,m,1);break;case 2:case 9:if(By(m)){dt=0,Qn=null,D0(s);break}s=function(){dt!==2&&dt!==9||vt!==t||(dt=7),os(t)},m.then(s,s);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:By(m)?(dt=0,Qn=null,D0(s)):(dt=0,Qn=null,Do(t,s,m,7));break;case 5:var b=null;switch(Be.tag){case 26:b=Be.memoizedState;case 5:case 27:var T=Be;if(b?xb(b):T.stateNode.complete){dt=0,Qn=null;var I=T.sibling;if(I!==null)Be=I;else{var G=T.return;G!==null?(Be=G,md(G)):Be=null}break t}}dt=0,Qn=null,Do(t,s,m,5);break;case 6:dt=0,Qn=null,Do(t,s,m,6);break;case 8:xm(),Ut=6;break e;default:throw Error(r(462))}}JN();break}catch(Z){A0(t,Z)}while(!0);return Ns=_a=null,X.H=c,X.A=f,ot=a,Be!==null?0:(vt=null,Ke=0,Du(),Ut)}function JN(){for(;Be!==null&&!ni();)M0(Be)}function M0(t){var s=n0(t.alternate,t,Ps);t.memoizedProps=t.pendingProps,s===null?md(t):Be=s}function D0(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Wx(a,s,s.pendingProps,s.type,void 0,Ke);break;case 11:s=Wx(a,s,s.pendingProps,s.type.render,s.ref,Ke);break;case 5:Of(s);default:s0(a,s),s=Be=Iy(s,Ps),s=n0(a,s,Ps)}t.memoizedProps=t.pendingProps,s===null?md(t):Be=s}function Do(t,s,a,c){Ns=_a=null,Of(s),Eo=null,zl=0;var f=s.return;try{if(zN(t,f,s,a,Ke)){Ut=1,td(t,di(a,t.current)),Be=null;return}}catch(m){if(f!==null)throw Be=f,m;Ut=1,td(t,di(a,t.current)),Be=null;return}s.flags&32768?(et||c===1?t=!0:Co||(Ke&536870912)!==0?t=!1:(vr=t=!0,(c===2||c===9||c===3||c===6)&&(c=Kn.current,c!==null&&c.tag===13&&(c.flags|=16384))),O0(s,t)):md(s)}function md(t){var s=t;do{if((s.flags&32768)!==0){O0(s,vr);return}t=s.return;var a=FN(s.alternate,s,Ps);if(a!==null){Be=a;return}if(s=s.sibling,s!==null){Be=s;return}Be=s=t}while(s!==null);Ut===0&&(Ut=5)}function O0(t,s){do{var a=HN(t.alternate,t);if(a!==null){a.flags&=32767,Be=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Be=t;return}Be=t=a}while(t!==null);Ut=6,Be=null}function P0(t,s,a,c,f,m,b,T,I){t.cancelPendingCommit=null;do gd();while(ln!==0);if((ot&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=of,Xh(t,a,m,b,T,I),t===vt&&(Be=vt=null,Ke=0),Io=s,Tr=t,ks=a,gm=m,pm=f,w0=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,nS(qi,function(){return z0(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,f=le.p,le.p=2,b=ot,ot|=4;try{GN(t,s,a)}finally{ot=b,le.p=f,X.T=c}}ln=1,k0(),L0(),V0()}}function k0(){if(ln===1){ln=0;var t=Tr,s=Io,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var c=le.p;le.p=2;var f=ot;ot|=4;try{p0(s,t);var m=Im,b=Ey(t.containerInfo),T=m.focusedElem,I=m.selectionRange;if(b!==T&&T&&T.ownerDocument&&_y(T.ownerDocument.documentElement,T)){if(I!==null&&tf(T)){var G=I.start,Z=I.end;if(Z===void 0&&(Z=G),"selectionStart"in T)T.selectionStart=G,T.selectionEnd=Math.min(Z,T.value.length);else{var se=T.ownerDocument||document,$=se&&se.defaultView||window;if($.getSelection){var Q=$.getSelection(),Ee=T.textContent.length,Ae=Math.min(I.start,Ee),yt=I.end===void 0?Ae:Math.min(I.end,Ee);!Q.extend&&Ae>yt&&(b=yt,yt=Ae,Ae=b);var U=vy(T,Ae),P=vy(T,yt);if(U&&P&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==P.node||Q.focusOffset!==P.offset)){var H=se.createRange();H.setStart(U.node,U.offset),Q.removeAllRanges(),Ae>yt?(Q.addRange(H),Q.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),Q.addRange(H))}}}}for(se=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&se.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<se.length;T++){var ee=se[T];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}jd=!!Rm,Im=Rm=null}finally{ot=f,le.p=c,X.T=a}}t.current=s,ln=2}}function L0(){if(ln===2){ln=0;var t=Tr,s=Io,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var c=le.p;le.p=2;var f=ot;ot|=4;try{d0(t,s.alternate,s)}finally{ot=f,le.p=c,X.T=a}}ln=3}}function V0(){if(ln===4||ln===3){ln=0,Xa();var t=Tr,s=Io,a=ks,c=w0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ln=5:(ln=0,Io=Tr=null,U0(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Er=null),bs(a),s=s.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Mt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=X.T,f=le.p,le.p=2,X.T=null;try{for(var m=t.onRecoverableError,b=0;b<c.length;b++){var T=c[b];m(T.value,{componentStack:T.stack})}}finally{X.T=s,le.p=f}}(ks&3)!==0&&gd(),os(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===ym?ic++:(ic=0,ym=t):ic=0,sc(0)}}function U0(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Vl(s)))}function gd(){return k0(),L0(),V0(),z0()}function z0(){if(ln!==5)return!1;var t=Tr,s=gm;gm=0;var a=bs(ks),c=X.T,f=le.p;try{le.p=32>a?32:a,X.T=null,a=pm,pm=null;var m=Tr,b=ks;if(ln=0,Io=Tr=null,ks=0,(ot&6)!==0)throw Error(r(331));var T=ot;if(ot|=4,_0(m.current),x0(m,m.current,b,a),ot=T,sc(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Mt,m)}catch{}return!0}finally{le.p=f,X.T=c,U0(t,s)}}function q0(t,s,a){s=di(a,s),s=Qf(t.stateNode,s,2),t=pr(t,s,2),t!==null&&(sa(t,2),os(t))}function ht(t,s,a){if(t.tag===3)q0(t,t,a);else for(;s!==null;){if(s.tag===3){q0(s,t,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Er===null||!Er.has(c))){t=di(a,t),a=Bx(2),c=pr(s,a,2),c!==null&&(Fx(a,c,s,t),sa(c,2),os(c));break}}s=s.return}}function vm(t,s,a){var c=t.pingCache;if(c===null){c=t.pingCache=new YN;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(hm=!0,f.add(a),t=ZN.bind(null,t,s,a),s.then(t,t))}function ZN(t,s,a){var c=t.pingCache;c!==null&&c.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,vt===t&&(Ke&a)===a&&(Ut===4||Ut===3&&(Ke&62914560)===Ke&&300>Yt()-cd?(ot&2)===0&&Mo(t,0):fm|=a,Ro===Ke&&(Ro=0)),os(t)}function B0(t,s){s===0&&(s=du()),t=xa(t,s),t!==null&&(sa(t,s),os(t))}function eS(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),B0(t,a)}function tS(t,s){var a=0;switch(t.tag){case 31:case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),B0(t,a)}function nS(t,s){return Ue(t,s)}var pd=null,Oo=null,_m=!1,yd=!1,Em=!1,Nr=0;function os(t){t!==Oo&&t.next===null&&(Oo===null?pd=Oo=t:Oo=Oo.next=t),yd=!0,_m||(_m=!0,sS())}function sc(t,s){if(!Em&&yd){Em=!0;do for(var a=!1,c=pd;c!==null;){if(t!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var b=c.suspendedLanes,T=c.pingedLanes;m=(1<<31-Ze(42|t)+1)-1,m&=f&~(b&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,$0(c,m))}else m=Ke,m=Fi(c,c===vt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||Ei(c,m)||(a=!0,$0(c,m));c=c.next}while(a);Em=!1}}function iS(){F0()}function F0(){yd=_m=!1;var t=0;Nr!==0&&mS()&&(t=Nr);for(var s=Yt(),a=null,c=pd;c!==null;){var f=c.next,m=H0(c,s);m===0?(c.next=null,a===null?pd=f:a.next=f,f===null&&(Oo=a)):(a=c,(t!==0||(m&3)!==0)&&(yd=!0)),c=f}ln!==0&&ln!==5||sc(t),Nr!==0&&(Nr=0)}function H0(t,s){for(var a=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-Ze(m),T=1<<b,I=f[b];I===-1?((T&a)===0||(T&c)!==0)&&(f[b]=Wh(T,s)):I<=s&&(t.expiredLanes|=T),m&=~T}if(s=vt,a=Ke,a=Fi(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===s&&(dt===2||dt===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Et(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ei(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(c!==null&&Et(c),bs(a)){case 2:case 8:a=Js;break;case 32:a=qi;break;case 268435456:a=Je;break;default:a=qi}return c=G0.bind(null,t),a=Ue(a,c),t.callbackPriority=s,t.callbackNode=a,s}return c!==null&&c!==null&&Et(c),t.callbackPriority=2,t.callbackNode=null,2}function G0(t,s){if(ln!==0&&ln!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(gd()&&t.callbackNode!==a)return null;var c=Ke;return c=Fi(t,t===vt?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(S0(t,c,s),H0(t,Yt()),t.callbackNode!=null&&t.callbackNode===a?G0.bind(null,t):null)}function $0(t,s){if(gd())return null;S0(t,s,!0)}function sS(){pS(function(){(ot&6)!==0?Ue(Xs,iS):F0()})}function Tm(){if(Nr===0){var t=bo;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),Nr=t}return Nr}function K0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:io(""+t)}function Y0(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function rS(t,s,a,c,f){if(s==="submit"&&a&&a.stateNode===f){var m=K0((f[hn]||null).action),b=c.submitter;b&&(s=(s=b[hn]||null)?K0(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var T=new es("action","action",null,c,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Nr!==0){var I=b?Y0(f,b):new FormData(f);Ff(a,{pending:!0,data:I,method:f.method,action:m},null,I)}}else typeof m=="function"&&(T.preventDefault(),I=b?Y0(f,b):new FormData(f),Ff(a,{pending:!0,data:I,method:f.method,action:m},m,I))},currentTarget:f}]})}}for(var wm=0;wm<af.length;wm++){var Nm=af[wm],aS=Nm.toLowerCase(),oS=Nm[0].toUpperCase()+Nm.slice(1);Ri(aS,"on"+oS)}Ri(Ny,"onAnimationEnd"),Ri(Sy,"onAnimationIteration"),Ri(jy,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(TN,"onTransitionRun"),Ri(wN,"onTransitionStart"),Ri(NN,"onTransitionCancel"),Ri(Ay,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rc));function Q0(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],f=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var b=c.length-1;0<=b;b--){var T=c[b],I=T.instance,G=T.currentTarget;if(T=T.listener,I!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=G;try{m(f)}catch(Z){Mu(Z)}f.currentTarget=null,m=I}else for(b=0;b<c.length;b++){if(T=c[b],I=T.instance,G=T.currentTarget,T=T.listener,I!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=G;try{m(f)}catch(Z){Mu(Z)}f.currentTarget=null,m=I}}}}function Fe(t,s){var a=s[Ja];a===void 0&&(a=s[Ja]=new Set);var c=t+"__bubble";a.has(c)||(W0(s,t,2,!1),a.add(c))}function Sm(t,s,a){var c=0;s&&(c|=4),W0(a,t,c,s)}var xd="_reactListening"+Math.random().toString(36).slice(2);function jm(t){if(!t[xd]){t[xd]=!0,yl.forEach(function(a){a!=="selectionchange"&&(lS.has(a)||Sm(a,!1,t),Sm(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[xd]||(s[xd]=!0,Sm("selectionchange",!1,s))}}function W0(t,s,a,c){switch(Nb(s)){case 2:var f=kS;break;case 8:f=LS;break;default:f=Bm}a=f.bind(null,s,a,t),f=void 0,!ua||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function Am(t,s,a,c,f){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var T=c.stateNode.containerInfo;if(T===f)break;if(b===4)for(b=c.return;b!==null;){var I=b.tag;if((I===3||I===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;T!==null;){if(b=Ki(T),b===null)return;if(I=b.tag,I===5||I===6||I===26||I===27){c=m=b;continue e}T=T.parentNode}}c=c.return}ar(function(){var G=m,Z=oi(a),se=[];e:{var $=Cy.get(t);if($!==void 0){var Q=es,Ee=t;switch(t){case"keypress":if(ha(a)===0)break e;case"keydown":case"keyup":Q=Cu;break;case"focusin":Ee="focus",Q=ma;break;case"focusout":Ee="blur",Q=ma;break;case"beforeblur":case"afterblur":Q=ma;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=x;break;case Ny:case Sy:case jy:Q=Eu;break;case Ay:Q=w;break;case"scroll":case"scrollend":Q=Cl;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Es;break;case"toggle":case"beforetoggle":Q=Le}var Ae=(s&4)!==0,yt=!Ae&&(t==="scroll"||t==="scrollend"),U=Ae?$!==null?$+"Capture":null:$;Ae=[];for(var P=G,H;P!==null;){var ee=P;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||U===null||(ee=Si(P,U),ee!=null&&Ae.push(ac(P,ee,H))),yt)break;P=P.return}0<Ae.length&&($=new Q($,Ee,null,a,Z),se.push({event:$,listeners:Ae}))}}if((s&7)===0){e:{if($=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",$&&a!==Sl&&(Ee=a.relatedTarget||a.fromElement)&&(Ki(Ee)||Ee[Gi]))break e;if((Q||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(Ee=a.relatedTarget||a.toElement,Q=G,Ee=Ee?Ki(Ee):null,Ee!==null&&(yt=u(Ee),Ae=Ee.tag,Ee!==yt||Ae!==5&&Ae!==27&&Ae!==6)&&(Ee=null)):(Q=null,Ee=G),Q!==Ee)){if(Ae=Rl,ee="onMouseLeave",U="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Es,ee="onPointerLeave",U="onPointerEnter",P="pointer"),yt=Q==null?$:Fn(Q),H=Ee==null?$:Fn(Ee),$=new Ae(ee,P+"leave",Q,a,Z),$.target=yt,$.relatedTarget=H,ee=null,Ki(Z)===G&&(Ae=new Ae(U,P+"enter",Ee,a,Z),Ae.target=H,Ae.relatedTarget=yt,ee=Ae),yt=ee,Q&&Ee)t:{for(Ae=cS,U=Q,P=Ee,H=0,ee=U;ee;ee=Ae(ee))H++;ee=0;for(var Ne=P;Ne;Ne=Ae(Ne))ee++;for(;0<H-ee;)U=Ae(U),H--;for(;0<ee-H;)P=Ae(P),ee--;for(;H--;){if(U===P||P!==null&&U===P.alternate){Ae=U;break t}U=Ae(U),P=Ae(P)}Ae=null}else Ae=null;Q!==null&&X0(se,$,Q,Ae,!1),Ee!==null&&yt!==null&&X0(se,yt,Ee,Ae,!0)}}e:{if($=G?Fn(G):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var it=my;else if(hy($))if(gy)it=vN;else{it=xN;var Te=yN}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&no(G.elementType)&&(it=my):it=bN;if(it&&(it=it(t,G))){fy(se,it,a,Z);break e}Te&&Te(t,$,G),t==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&Tl($,"number",$.value)}switch(Te=G?Fn(G):window,t){case"focusin":(hy(Te)||Te.contentEditable==="true")&&(uo=Te,nf=G,Pl=null);break;case"focusout":Pl=nf=uo=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Ty(se,a,Z);break;case"selectionchange":if(EN)break;case"keydown":case"keyup":Ty(se,a,Z)}var ze;if(at)e:{switch(t){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else co?ga(t,a)&&(Ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ye="onCompositionStart");Ye&&(is&&a.locale!=="ko"&&(co||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&co&&(ze=Al()):(Zi=Z,jl="value"in Zi?Zi.value:Zi.textContent,co=!0)),Te=bd(G,Ye),0<Te.length&&(Ye=new ns(Ye,t,null,a,Z),se.push({event:Ye,listeners:Te}),ze?Ye.data=ze:(ze=lo(a),ze!==null&&(Ye.data=ze)))),(ze=ci?fN(t,a):mN(t,a))&&(Ye=bd(G,"onBeforeInput"),0<Ye.length&&(Te=new ns("onBeforeInput","beforeinput",null,a,Z),se.push({event:Te,listeners:Ye}),Te.data=ze)),rS(se,t,G,a,Z)}Q0(se,s)})}function ac(t,s,a){return{instance:t,listener:s,currentTarget:a}}function bd(t,s){for(var a=s+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Si(t,a),f!=null&&c.unshift(ac(t,f,m)),f=Si(t,s),f!=null&&c.push(ac(t,f,m))),t.tag===3)return c;t=t.return}return[]}function cS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function X0(t,s,a,c,f){for(var m=s._reactName,b=[];a!==null&&a!==c;){var T=a,I=T.alternate,G=T.stateNode;if(T=T.tag,I!==null&&I===c)break;T!==5&&T!==26&&T!==27||G===null||(I=G,f?(G=Si(a,m),G!=null&&b.unshift(ac(a,G,I))):f||(G=Si(a,m),G!=null&&b.push(ac(a,G,I)))),a=a.return}b.length!==0&&t.push({event:s,listeners:b})}var uS=/\r\n?/g,dS=/\u0000|\uFFFD/g;function J0(t){return(typeof t=="string"?t:""+t).replace(uS,`
`).replace(dS,"")}function Z0(t,s){return s=J0(s),J0(t)===s}function pt(t,s,a,c,f,m){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Pn(t,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Pn(t,""+c);break;case"className":Hn(t,"class",c);break;case"tabIndex":Hn(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(t,a,c);break;case"style":Nl(t,c,m);break;case"data":if(s!=="object"){Hn(t,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=io(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&pt(t,s,"name",f.name,f,null),pt(t,s,"formEncType",f.formEncType,f,null),pt(t,s,"formMethod",f.formMethod,f,null),pt(t,s,"formTarget",f.formTarget,f,null)):(pt(t,s,"encType",f.encType,f,null),pt(t,s,"method",f.method,f,null),pt(t,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=io(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=Ni);break;case"onScroll":c!=null&&Fe("scroll",t);break;case"onScrollEnd":c!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=io(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),eo(t,"popover",c);break;case"xlinkActuate":Xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Xt(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Xt(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Xt(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Xt(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":eo(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bu.get(a)||a,eo(t,a,c))}}function Cm(t,s,a,c,f,m){switch(a){case"style":Nl(t,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof c=="string"?Pn(t,c):(typeof c=="number"||typeof c=="bigint")&&Pn(t,""+c);break;case"onScroll":c!=null&&Fe("scroll",t);break;case"onScrollEnd":c!=null&&Fe("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=t[hn]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,c,f);break e}a in t?t[a]=c:c===!0?t.setAttribute(a,""):eo(t,a,c)}}}function _n(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var c=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:pt(t,s,m,b,a,null)}}f&&pt(t,s,"srcSet",a.srcSet,a,null),c&&pt(t,s,"src",a.src,a,null);return;case"input":Fe("invalid",t);var T=m=b=f=null,I=null,G=null;for(c in a)if(a.hasOwnProperty(c)){var Z=a[c];if(Z!=null)switch(c){case"name":f=Z;break;case"type":b=Z;break;case"checked":I=Z;break;case"defaultChecked":G=Z;break;case"value":m=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:pt(t,s,c,Z,a,null)}}pu(t,m,T,I,G,b,f,!1);return;case"select":Fe("invalid",t),c=b=m=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":b=T;break;case"multiple":c=T;default:pt(t,s,f,T,a,null)}s=m,a=b,t.multiple=!!c,s!=null?nr(t,!!c,s,!1):a!=null&&nr(t,!!c,a,!0);return;case"textarea":Fe("invalid",t),m=f=c=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":c=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:pt(t,s,b,T,a,null)}ir(t,c,f,m);return;case"option":for(I in a)a.hasOwnProperty(I)&&(c=a[I],c!=null)&&(I==="selected"?t.selected=c&&typeof c!="function"&&typeof c!="symbol":pt(t,s,I,c,a,null));return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(c=0;c<rc.length;c++)Fe(rc[c],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(c=a[G],c!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:pt(t,s,G,c,a,null)}return;default:if(no(s)){for(Z in a)a.hasOwnProperty(Z)&&(c=a[Z],c!==void 0&&Cm(t,s,Z,c,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(c=a[T],c!=null&&pt(t,s,T,c,a,null))}function hS(t,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,T=null,I=null,G=null,Z=null;for(Q in a){var se=a[Q];if(a.hasOwnProperty(Q)&&se!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=se;default:c.hasOwnProperty(Q)||pt(t,s,Q,null,c,se)}}for(var $ in c){var Q=c[$];if(se=a[$],c.hasOwnProperty($)&&(Q!=null||se!=null))switch($){case"type":m=Q;break;case"name":f=Q;break;case"checked":G=Q;break;case"defaultChecked":Z=Q;break;case"value":b=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==se&&pt(t,s,$,Q,c,se)}}to(t,b,T,I,G,Z,m,f);return;case"select":Q=b=T=$=null;for(m in a)if(I=a[m],a.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":Q=I;default:c.hasOwnProperty(m)||pt(t,s,m,null,c,I)}for(f in c)if(m=c[f],I=a[f],c.hasOwnProperty(f)&&(m!=null||I!=null))switch(f){case"value":$=m;break;case"defaultValue":T=m;break;case"multiple":b=m;default:m!==I&&pt(t,s,f,m,c,I)}s=T,a=b,c=Q,$!=null?nr(t,!!a,$,!1):!!c!=!!a&&(s!=null?nr(t,!!a,s,!0):nr(t,!!a,a?[]:"",!1));return;case"textarea":Q=$=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:pt(t,s,T,null,c,f)}for(b in c)if(f=c[b],m=a[b],c.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":$=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&pt(t,s,b,f,c,m)}yu(t,$,Q);return;case"option":for(var Ee in a)$=a[Ee],a.hasOwnProperty(Ee)&&$!=null&&!c.hasOwnProperty(Ee)&&(Ee==="selected"?t.selected=!1:pt(t,s,Ee,null,c,$));for(I in c)$=c[I],Q=a[I],c.hasOwnProperty(I)&&$!==Q&&($!=null||Q!=null)&&(I==="selected"?t.selected=$&&typeof $!="function"&&typeof $!="symbol":pt(t,s,I,$,c,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)$=a[Ae],a.hasOwnProperty(Ae)&&$!=null&&!c.hasOwnProperty(Ae)&&pt(t,s,Ae,null,c,$);for(G in c)if($=c[G],Q=a[G],c.hasOwnProperty(G)&&$!==Q&&($!=null||Q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:pt(t,s,G,$,c,Q)}return;default:if(no(s)){for(var yt in a)$=a[yt],a.hasOwnProperty(yt)&&$!==void 0&&!c.hasOwnProperty(yt)&&Cm(t,s,yt,void 0,c,$);for(Z in c)$=c[Z],Q=a[Z],!c.hasOwnProperty(Z)||$===Q||$===void 0&&Q===void 0||Cm(t,s,Z,$,c,Q);return}}for(var U in a)$=a[U],a.hasOwnProperty(U)&&$!=null&&!c.hasOwnProperty(U)&&pt(t,s,U,null,c,$);for(se in c)$=c[se],Q=a[se],!c.hasOwnProperty(se)||$===Q||$==null&&Q==null||pt(t,s,se,$,c,Q)}function eb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var f=a[c],m=f.transferSize,b=f.initiatorType,T=f.duration;if(m&&T&&eb(b)){for(b=0,T=f.responseEnd,c+=1;c<a.length;c++){var I=a[c],G=I.startTime;if(G>T)break;var Z=I.transferSize,se=I.initiatorType;Z&&eb(se)&&(I=I.responseEnd,b+=Z*(I<T?1:(T-G)/(I-G)))}if(--c,s+=8*(m+b)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Rm=null,Im=null;function vd(t){return t.nodeType===9?t:t.ownerDocument}function tb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nb(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Mm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Dm=null;function mS(){var t=window.event;return t&&t.type==="popstate"?t===Dm?!1:(Dm=t,!0):(Dm=null,!1)}var ib=typeof setTimeout=="function"?setTimeout:void 0,gS=typeof clearTimeout=="function"?clearTimeout:void 0,sb=typeof Promise=="function"?Promise:void 0,pS=typeof queueMicrotask=="function"?queueMicrotask:typeof sb<"u"?function(t){return sb.resolve(null).then(t).catch(yS)}:ib;function yS(t){setTimeout(function(){throw t})}function Sr(t){return t==="head"}function rb(t,s){var a=s,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(c===0){t.removeChild(f),Vo(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")oc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,oc(a);for(var m=a.firstChild;m;){var b=m.nextSibling,T=m.nodeName;m[$i]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=b}}else a==="body"&&oc(t.ownerDocument.body);a=f}while(a);Vo(s)}function ab(t,s){var a=t;t=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=c}while(a)}function Om(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Om(a),Za(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function xS(t,s,a,c){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[$i])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=pi(t.nextSibling),t===null)break}return null}function bS(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=pi(t.nextSibling),t===null))return null;return t}function ob(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=pi(t.nextSibling),t===null))return null;return t}function Pm(t){return t.data==="$?"||t.data==="$~"}function km(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function vS(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function pi(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Lm=null;function lb(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return pi(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function cb(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function ub(t,s,a){switch(s=vd(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function oc(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Za(t)}var yi=new Map,db=new Set;function _d(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ls=le.d;le.d={f:_S,r:ES,D:TS,C:wS,L:NS,m:SS,X:AS,S:jS,M:CS};function _S(){var t=Ls.f(),s=hd();return t||s}function ES(t){var s=ai(t);s!==null&&s.tag===5&&s.type==="form"?Ax(s):Ls.r(t)}var Po=typeof document>"u"?null:document;function hb(t,s,a){var c=Po;if(c&&typeof s=="string"&&s){var f=On(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),db.has(f)||(db.add(f),t={rel:t,crossOrigin:a,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),_n(s,"link",t),Wt(s),c.head.appendChild(s)))}}function TS(t){Ls.D(t),hb("dns-prefetch",t,null)}function wS(t,s){Ls.C(t,s),hb("preconnect",t,s)}function NS(t,s,a){Ls.L(t,s,a);var c=Po;if(c&&t&&s){var f='link[rel="preload"][as="'+On(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+On(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+On(a.imageSizes)+'"]')):f+='[href="'+On(t)+'"]';var m=f;switch(s){case"style":m=ko(t);break;case"script":m=Lo(t)}yi.has(m)||(t=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),yi.set(m,t),c.querySelector(f)!==null||s==="style"&&c.querySelector(lc(m))||s==="script"&&c.querySelector(cc(m))||(s=c.createElement("link"),_n(s,"link",t),Wt(s),c.head.appendChild(s)))}}function SS(t,s){Ls.m(t,s);var a=Po;if(a&&t){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+On(c)+'"][href="'+On(t)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Lo(t)}if(!yi.has(m)&&(t=E({rel:"modulepreload",href:t},s),yi.set(m,t),a.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cc(m)))return}c=a.createElement("link"),_n(c,"link",t),Wt(c),a.head.appendChild(c)}}}function jS(t,s,a){Ls.S(t,s,a);var c=Po;if(c&&t){var f=Yi(c).hoistableStyles,m=ko(t);s=s||"default";var b=f.get(m);if(!b){var T={loading:0,preload:null};if(b=c.querySelector(lc(m)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":s},a),(a=yi.get(m))&&Vm(t,a);var I=b=c.createElement("link");Wt(I),_n(I,"link",t),I._p=new Promise(function(G,Z){I.onload=G,I.onerror=Z}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ed(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:T},f.set(m,b)}}}function AS(t,s){Ls.X(t,s);var a=Po;if(a&&t){var c=Yi(a).hoistableScripts,f=Lo(t),m=c.get(f);m||(m=a.querySelector(cc(f)),m||(t=E({src:t,async:!0},s),(s=yi.get(f))&&Um(t,s),m=a.createElement("script"),Wt(m),_n(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function CS(t,s){Ls.M(t,s);var a=Po;if(a&&t){var c=Yi(a).hoistableScripts,f=Lo(t),m=c.get(f);m||(m=a.querySelector(cc(f)),m||(t=E({src:t,async:!0,type:"module"},s),(s=yi.get(f))&&Um(t,s),m=a.createElement("script"),Wt(m),_n(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function fb(t,s,a,c){var f=(f=ke.current)?_d(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=ko(a.href),a=Yi(f).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ko(a.href);var m=Yi(f).hoistableStyles,b=m.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=f.querySelector(lc(t)))&&!m._p&&(b.instance=m,b.state.loading=5),yi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},yi.set(t,a),m||RS(f,t,a,b.state))),s&&c===null)throw Error(r(528,""));return b}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Lo(a),a=Yi(f).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ko(t){return'href="'+On(t)+'"'}function lc(t){return'link[rel="stylesheet"]['+t+"]"}function mb(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function RS(t,s,a,c){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=t.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),_n(s,"link",a),Wt(s),t.head.appendChild(s))}function Lo(t){return'[src="'+On(t)+'"]'}function cc(t){return"script[async]"+t}function gb(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=t.querySelector('style[data-href~="'+On(a.href)+'"]');if(c)return s.instance=c,Wt(c),c;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),Wt(c),_n(c,"style",f),Ed(c,a.precedence,t),s.instance=c;case"stylesheet":f=ko(a.href);var m=t.querySelector(lc(f));if(m)return s.state.loading|=4,s.instance=m,Wt(m),m;c=mb(a),(f=yi.get(f))&&Vm(c,f),m=(t.ownerDocument||t).createElement("link"),Wt(m);var b=m;return b._p=new Promise(function(T,I){b.onload=T,b.onerror=I}),_n(m,"link",c),s.state.loading|=4,Ed(m,a.precedence,t),s.instance=m;case"script":return m=Lo(a.src),(f=t.querySelector(cc(m)))?(s.instance=f,Wt(f),f):(c=a,(f=yi.get(m))&&(c=E({},a),Um(c,f)),t=t.ownerDocument||t,f=t.createElement("script"),Wt(f),_n(f,"link",c),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Ed(c,a.precedence,t));return s.instance}function Ed(t,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,b=0;b<c.length;b++){var T=c[b];if(T.dataset.precedence===s)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Vm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Um(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Td=null;function pb(t,s,a){if(Td===null){var c=new Map,f=Td=new Map;f.set(a,c)}else f=Td,c=f.get(a),c||(c=new Map,f.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[$i]||m[Qt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=t+b;var T=c.get(b);T?T.push(m):c.set(b,[m])}}return c}function yb(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function IS(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function xb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function MS(t,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ko(c.href),m=s.querySelector(lc(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=wd.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,Wt(m);return}m=s.ownerDocument||s,c=mb(c),(f=yi.get(f))&&Vm(c,f),m=m.createElement("link"),Wt(m);var b=m;b._p=new Promise(function(T,I){b.onload=T,b.onerror=I}),_n(m,"link",c),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=wd.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var zm=0;function DS(t,s){return t.stylesheets&&t.count===0&&Sd(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var c=setTimeout(function(){if(t.stylesheets&&Sd(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&zm===0&&(zm=62500*fS());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Sd(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>zm?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function wd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nd=null;function Sd(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nd=new Map,s.forEach(OS,t),Nd=null,wd.call(t))}function OS(t,s){if(!(s.state.loading&4)){var a=Nd.get(t);if(a)var c=a.get(null);else{a=new Map,Nd.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),c=b)}c&&a.set(null,c)}f=s.instance,b=f.getAttribute("data-precedence"),m=a.get(b)||c,m===c&&a.set(null,f),a.set(b,f),this.count++,c=wd.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var uc={$$typeof:W,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function PS(t,s,a,c,f,m,b,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.hiddenUpdates=Hi(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function bb(t,s,a,c,f,m,b,T,I,G,Z,se){return t=new PS(t,s,a,b,I,G,Z,se,T),s=1,m===!0&&(s|=24),m=$n(3,null,null,s),t.current=m,m.stateNode=t,s=bf(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:a,cache:s},Tf(m),t}function vb(t){return t?(t=mo,t):mo}function _b(t,s,a,c,f,m){f=vb(f),c.context===null?c.context=f:c.pendingContext=f,c=gr(s),c.payload={element:a},m=m===void 0?null:m,m!==null&&(c.callback=m),a=pr(t,c,s),a!==null&&(zn(a,t,s),Bl(a,t,s))}function Eb(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function qm(t,s){Eb(t,s),(t=t.alternate)&&Eb(t,s)}function Tb(t){if(t.tag===13||t.tag===31){var s=xa(t,67108864);s!==null&&zn(s,t,67108864),qm(t,67108864)}}function wb(t){if(t.tag===13||t.tag===31){var s=Xn();s=aa(s);var a=xa(t,s);a!==null&&zn(a,t,s),qm(t,s)}}var jd=!0;function kS(t,s,a,c){var f=X.T;X.T=null;var m=le.p;try{le.p=2,Bm(t,s,a,c)}finally{le.p=m,X.T=f}}function LS(t,s,a,c){var f=X.T;X.T=null;var m=le.p;try{le.p=8,Bm(t,s,a,c)}finally{le.p=m,X.T=f}}function Bm(t,s,a,c){if(jd){var f=Fm(c);if(f===null)Am(t,s,c,Ad,a),Sb(t,c);else if(US(f,t,s,a,c))c.stopPropagation();else if(Sb(t,c),s&4&&-1<VS.indexOf(t)){for(;f!==null;){var m=ai(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=ri(m.pendingLanes);if(b!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var I=1<<31-Ze(b);T.entanglements[1]|=I,b&=~I}os(m),(ot&6)===0&&(ud=Yt()+500,sc(0))}}break;case 31:case 13:T=xa(m,2),T!==null&&zn(T,m,2),hd(),qm(m,2)}if(m=Fm(c),m===null&&Am(t,s,c,Ad,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else Am(t,s,c,null,a)}}function Fm(t){return t=oi(t),Hm(t)}var Ad=null;function Hm(t){if(Ad=null,t=Ki(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===31){if(t=g(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Ad=t,null}function Nb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ii()){case Xs:return 2;case Js:return 8;case qi:case ml:return 32;case Je:return 268435456;default:return 32}default:return 32}}var Gm=!1,jr=null,Ar=null,Cr=null,dc=new Map,hc=new Map,Rr=[],VS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sb(t,s){switch(t){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":dc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(s.pointerId)}}function fc(t,s,a,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},s!==null&&(s=ai(s),s!==null&&Tb(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function US(t,s,a,c,f){switch(s){case"focusin":return jr=fc(jr,t,s,a,c,f),!0;case"dragenter":return Ar=fc(Ar,t,s,a,c,f),!0;case"mouseover":return Cr=fc(Cr,t,s,a,c,f),!0;case"pointerover":var m=f.pointerId;return dc.set(m,fc(dc.get(m)||null,t,s,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,hc.set(m,fc(hc.get(m)||null,t,s,a,c,f)),!0}return!1}function jb(t){var s=Ki(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,Ti(t.priority,function(){wb(a)});return}}else if(s===31){if(s=g(a),s!==null){t.blockedOn=s,Ti(t.priority,function(){wb(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cd(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Fm(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);Sl=c,a.target.dispatchEvent(c),Sl=null}else return s=ai(a),s!==null&&Tb(s),t.blockedOn=a,!1;s.shift()}return!0}function Ab(t,s,a){Cd(t)&&a.delete(s)}function zS(){Gm=!1,jr!==null&&Cd(jr)&&(jr=null),Ar!==null&&Cd(Ar)&&(Ar=null),Cr!==null&&Cd(Cr)&&(Cr=null),dc.forEach(Ab),hc.forEach(Ab)}function Rd(t,s){t.blockedOn===s&&(t.blockedOn=null,Gm||(Gm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zS)))}var Id=null;function Cb(t){Id!==t&&(Id=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Id===t&&(Id=null);for(var s=0;s<t.length;s+=3){var a=t[s],c=t[s+1],f=t[s+2];if(typeof c!="function"){if(Hm(c||a)===null)continue;break}var m=ai(a);m!==null&&(t.splice(s,3),s-=3,Ff(m,{pending:!0,data:f,method:a.method,action:c},c,f))}}))}function Vo(t){function s(I){return Rd(I,t)}jr!==null&&Rd(jr,t),Ar!==null&&Rd(Ar,t),Cr!==null&&Rd(Cr,t),dc.forEach(s),hc.forEach(s);for(var a=0;a<Rr.length;a++){var c=Rr[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Rr.length&&(a=Rr[0],a.blockedOn===null);)jb(a),a.blockedOn===null&&Rr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var f=a[c],m=a[c+1],b=f[hn]||null;if(typeof m=="function")b||Cb(a);else if(b){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[hn]||null)T=b.formAction;else if(Hm(f)!==null)continue}else T=b.action;typeof T=="function"?a[c+1]=T:(a.splice(c,3),c-=3),Cb(a)}}}function Rb(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function $m(t){this._internalRoot=t}Md.prototype.render=$m.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,c=Xn();_b(a,c,t,s,null,null)},Md.prototype.unmount=$m.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;_b(t.current,2,null,t,null,null),hd(),s[Gi]=null}};function Md(t){this._internalRoot=t}Md.prototype.unstable_scheduleHydration=function(t){if(t){var s=hu();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Rr.length&&s!==0&&s<Rr[a].priority;a++);Rr.splice(a,0,t),a===0&&jb(t)}};var Ib=e.version;if(Ib!=="19.2.3")throw Error(r(527,Ib,"19.2.3"));le.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(s),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var qS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dd.isDisabled&&Dd.supportsFiber)try{Mt=Dd.inject(qS),$e=Dd}catch{}}return pc.createRoot=function(t,s){if(!o(t))throw Error(r(299));var a=!1,c="",f=Vx,m=Ux,b=zx;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=bb(t,1,!1,null,null,a,c,null,f,m,b,Rb),t[Gi]=s.current,jm(t),new $m(s)},pc.hydrateRoot=function(t,s,a){if(!o(t))throw Error(r(299));var c=!1,f="",m=Vx,b=Ux,T=zx,I=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),s=bb(t,1,!0,s,a??null,c,f,I,m,b,T,Rb),s.context=vb(null),a=s.current,c=Xn(),c=aa(c),f=gr(c),f.callback=null,pr(a,f,c),a=c,s.current.lanes=a,sa(s,a),os(s),t[Gi]=s.current,jm(t),new Md(s)},pc.version="19.2.3",pc}var Kb;function AA(){if(Kb)return Zm.exports;Kb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Zm.exports=jA(),Zm.exports}var CA=AA();const RA="/assets/face2-BnorMDId.webp",IA="/assets/face2-B6YhBnC2.png";function Pt(){return l.jsx("footer",{className:"bg-gray-900 text-gray-300 py-8",children:l.jsx("div",{className:"max-w-4xl mx-auto px-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-medium",children:"Seth Jamison Kitchen"}),l.jsx("p",{children:"Professional Engineer, Missouri"}),l.jsx("p",{className:"text-sm",children:"License No. PE-2026001392"})]}),l.jsxs("nav",{"aria-label":"Footer navigation",className:"flex flex-wrap gap-4 text-sm",children:[l.jsx(pe,{to:"/contact",className:"hover:text-white transition-colors",children:"Contact"}),l.jsx(pe,{to:"/portal",className:"hover:text-white transition-colors",children:"Portal Login"}),l.jsx(pe,{to:"/legal",className:"hover:text-white transition-colors",children:"Legal / Disclaimer"})]})]})})})}const MA=()=>{};var Yb={};const gE=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},DA=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],d=i[n++],g=i[n++],y=((o&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=i[n++],d=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},pE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],d=o+1<i.length,g=d?i[o+1]:0,y=o+2<i.length,p=y?i[o+2]:0,_=u>>2,E=(u&3)<<4|g>>4;let N=(g&15)<<2|p>>6,L=p&63;y||(L=64,d||(N=64)),r.push(n[_],n[E],n[N],n[L])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(gE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):DA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],g=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const E=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||g==null||p==null||E==null)throw new OA;const N=u<<2|g>>4;if(r.push(N),p!==64){const L=g<<4&240|p>>2;if(r.push(L),E!==64){const Y=p<<6&192|E;r.push(Y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class OA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PA=function(i){const e=gE(i);return pE.encodeByteArray(e,!0)},rh=function(i){return PA(i).replace(/\./g,"")},yE=function(i){try{return pE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LA=()=>kA().__FIREBASE_DEFAULTS__,VA=()=>{if(typeof process>"u"||typeof Yb>"u")return;const i=Yb.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},UA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&yE(i[1]);return e&&JSON.parse(e)},Ah=()=>{try{return MA()||LA()||VA()||UA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},xE=i=>Ah()?.emulatorHosts?.[i],zA=i=>{const e=xE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bE=()=>Ah()?.config,vE=i=>Ah()?.[`_${i}`];class qA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function al(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _E(i){return(await fetch(i,{credentials:"include"})).ok}function BA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[rh(JSON.stringify(n)),rh(JSON.stringify(d)),""].join(".")}const jc={};function FA(){const i={prod:[],emulator:[]};for(const e of Object.keys(jc))jc[e]?i.emulator.push(e):i.prod.push(e);return i}function HA(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Qb=!1;function EE(i,e){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||jc[i]===e||jc[i]||Qb)return;jc[i]=e;function n(N){return`__firebase__banner__${N}`}const r="__firebase__banner",u=FA().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,L){N.setAttribute("width","24"),N.setAttribute("id",L),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function p(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Qb=!0,d()},N}function _(N,L){N.setAttribute("id",L),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function E(){const N=HA(r),L=n("text"),Y=document.getElementById(L)||document.createElement("span"),B=n("learnmore"),z=document.getElementById(B)||document.createElement("a"),te=n("preprendIcon"),J=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const W=N.element;g(W),_(z,B);const q=p();y(J,te),W.append(J,Y,z,q),document.body.appendChild(W)}u?(Y.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function $A(){const i=Ah()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ap(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function YA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QA(){const i=Rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function WA(){return!$A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function op(){try{return typeof indexedDB=="object"}catch{return!1}}function lp(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function TE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const XA="FirebaseError";class zi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XA,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$a.prototype.create)}}class $a{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?JA(u,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new zi(o,g,r)}}function JA(i,e){return i.replace(ZA,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const ZA=/\{\$([^}]+)}/g;function e1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Hr(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=i[o],d=e[o];if(Wb(u)&&Wb(d)){if(!Hr(u,d))return!1}else if(u!==d)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Wb(i){return i!==null&&typeof i=="object"}function Jc(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bc(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function vc(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function t1(i,e){const n=new n1(i,e);return n.subscribe.bind(n)}class n1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");i1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=ng),o.error===void 0&&(o.error=ng),o.complete===void 0&&(o.complete=ng);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function ng(){}const s1=1e3,r1=2,a1=14400*1e3,o1=.5;function Xb(i,e=s1,n=r1){const r=e*Math.pow(n,i),o=Math.round(o1*r*(Math.random()-.5)*2);return Math.min(a1,r+o)}function Bt(i){return i&&i._delegate?i._delegate:i}class Vi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ia="[DEFAULT]";class l1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(u1(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&d.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c1(i){return i===Ia?void 0:i}function u1(i){return i.instantiationMode==="EAGER"}class d1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new l1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Qe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Qe||(Qe={}));const h1={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},f1=Qe.INFO,m1={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},g1=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=m1[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ch{constructor(e){this.name=e,this._logLevel=f1,this._logHandler=g1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const p1=(i,e)=>e.some(n=>i instanceof n);let Jb,Zb;function y1(){return Jb||(Jb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x1(){return Zb||(Zb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wE=new WeakMap,Tg=new WeakMap,NE=new WeakMap,ig=new WeakMap,cp=new WeakMap;function b1(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n(zr(i.result)),o()},d=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&wE.set(n,i)}).catch(()=>{}),cp.set(e,i),e}function v1(i){if(Tg.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});Tg.set(i,e)}let wg={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Tg.get(i);if(e==="objectStoreNames")return i.objectStoreNames||NE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function _1(i){wg=i(wg)}function E1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(sg(this),e,...n);return NE.set(r,e.sort?e.sort():[e]),zr(r)}:x1().includes(i)?function(...e){return i.apply(sg(this),e),zr(wE.get(this))}:function(...e){return zr(i.apply(sg(this),e))}}function T1(i){return typeof i=="function"?E1(i):(i instanceof IDBTransaction&&v1(i),p1(i,y1())?new Proxy(i,wg):i)}function zr(i){if(i instanceof IDBRequest)return b1(i);if(ig.has(i))return ig.get(i);const e=T1(i);return e!==i&&(ig.set(i,e),cp.set(e,i)),e}const sg=i=>cp.get(i);function SE(i,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const d=indexedDB.open(i,e),g=zr(d);return r&&d.addEventListener("upgradeneeded",y=>{r(zr(d.result),y.oldVersion,y.newVersion,zr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const w1=["get","getKey","getAll","getAllKeys","count"],N1=["put","add","delete","clear"],rg=new Map;function ev(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(rg.get(e))return rg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=N1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||w1.includes(n)))return;const u=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let p=y.store;return r&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),o&&y.done]))[0]};return rg.set(e,u),u}_1(i=>({...i,get:(e,n,r)=>ev(e,n)||i.get(e,n,r),has:(e,n)=>!!ev(e,n)||i.has(e,n)}));class S1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(j1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function j1(i){return i.getComponent()?.type==="VERSION"}const Ng="@firebase/app",tv="0.14.7";const Hs=new Ch("@firebase/app"),A1="@firebase/app-compat",C1="@firebase/analytics-compat",R1="@firebase/analytics",I1="@firebase/app-check-compat",M1="@firebase/app-check",D1="@firebase/auth",O1="@firebase/auth-compat",P1="@firebase/database",k1="@firebase/data-connect",L1="@firebase/database-compat",V1="@firebase/functions",U1="@firebase/functions-compat",z1="@firebase/installations",q1="@firebase/installations-compat",B1="@firebase/messaging",F1="@firebase/messaging-compat",H1="@firebase/performance",G1="@firebase/performance-compat",$1="@firebase/remote-config",K1="@firebase/remote-config-compat",Y1="@firebase/storage",Q1="@firebase/storage-compat",W1="@firebase/firestore",X1="@firebase/ai",J1="@firebase/firestore-compat",Z1="firebase",e2="12.8.0";const Sg="[DEFAULT]",t2={[Ng]:"fire-core",[A1]:"fire-core-compat",[R1]:"fire-analytics",[C1]:"fire-analytics-compat",[M1]:"fire-app-check",[I1]:"fire-app-check-compat",[D1]:"fire-auth",[O1]:"fire-auth-compat",[P1]:"fire-rtdb",[k1]:"fire-data-connect",[L1]:"fire-rtdb-compat",[V1]:"fire-fn",[U1]:"fire-fn-compat",[z1]:"fire-iid",[q1]:"fire-iid-compat",[B1]:"fire-fcm",[F1]:"fire-fcm-compat",[H1]:"fire-perf",[G1]:"fire-perf-compat",[$1]:"fire-rc",[K1]:"fire-rc-compat",[Y1]:"fire-gcs",[Q1]:"fire-gcs-compat",[W1]:"fire-fst",[J1]:"fire-fst-compat",[X1]:"fire-vertex","fire-js":"fire-js",[Z1]:"fire-js-all"};const kc=new Map,n2=new Map,jg=new Map;function nv(i,e){try{i.container.addComponent(e)}catch(n){Hs.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function gs(i){const e=i.name;if(jg.has(e))return Hs.debug(`There were multiple attempts to register component ${e}.`),!1;jg.set(e,i);for(const n of kc.values())nv(n,i);for(const n of n2.values())nv(n,i);return!0}function Ka(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Zn(i){return i==null?!1:i.settings!==void 0}const i2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new $a("app","Firebase",i2);class s2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const ol=e2;function jE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:Sg,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw qr.create("bad-app-name",{appName:String(o)});if(n||(n=bE()),!n)throw qr.create("no-options");const u=kc.get(o);if(u){if(Hr(n,u.options)&&Hr(r,u.config))return u;throw qr.create("duplicate-app",{appName:o})}const d=new d1(o);for(const y of jg.values())d.addComponent(y);const g=new s2(n,r,d);return kc.set(o,g),g}function up(i=Sg){const e=kc.get(i);if(!e&&i===Sg&&bE())return jE();if(!e)throw qr.create("no-app",{appName:i});return e}function iv(){return Array.from(kc.values())}function bi(i,e,n){let r=t2[i]??i;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hs.warn(d.join(" "));return}gs(new Vi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const r2="firebase-heartbeat-database",a2=1,Lc="firebase-heartbeat-store";let ag=null;function AE(){return ag||(ag=SE(r2,a2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Lc)}catch(n){console.warn(n)}}}}).catch(i=>{throw qr.create("idb-open",{originalErrorMessage:i.message})})),ag}async function o2(i){try{const n=(await AE()).transaction(Lc),r=await n.objectStore(Lc).get(CE(i));return await n.done,r}catch(e){if(e instanceof zi)Hs.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e?.message});Hs.warn(n.message)}}}async function sv(i,e){try{const r=(await AE()).transaction(Lc,"readwrite");await r.objectStore(Lc).put(e,CE(i)),await r.done}catch(n){if(n instanceof zi)Hs.warn(n.message);else{const r=qr.create("idb-set",{originalErrorMessage:n?.message});Hs.warn(r.message)}}}function CE(i){return`${i.name}!${i.options.appId}`}const l2=1024,c2=30;class u2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new h2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>c2){const o=f2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Hs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rv(),{heartbeatsToSend:n,unsentEntries:r}=d2(this._heartbeatsCache.heartbeats),o=rh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Hs.warn(e),""}}}function rv(){return new Date().toISOString().substring(0,10)}function d2(i,e=l2){const n=[];let r=i.slice();for(const o of i){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),av(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),av(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class h2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return op()?lp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await o2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return sv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function av(i){return rh(JSON.stringify({version:2,heartbeats:i})).length}function f2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}function m2(i){gs(new Vi("platform-logger",e=>new S1(e),"PRIVATE")),gs(new Vi("heartbeat",e=>new u2(e),"PRIVATE")),bi(Ng,tv,i),bi(Ng,tv,"esm2020"),bi("fire-js","")}m2("");function RE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g2=RE,IE=new $a("auth","Firebase",RE());const ah=new Ch("@firebase/auth");function p2(i,...e){ah.logLevel<=Qe.WARN&&ah.warn(`Auth (${ol}): ${i}`,...e)}function Kd(i,...e){ah.logLevel<=Qe.ERROR&&ah.error(`Auth (${ol}): ${i}`,...e)}function vi(i,...e){throw hp(i,...e)}function Pi(i,...e){return hp(i,...e)}function dp(i,e,n){const r={...g2(),[e]:n};return new $a("auth","Firebase",r).create(e,{appName:i.name})}function Bs(i){return dp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y2(i,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&vi(i,"argument-error"),dp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hp(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return IE.create(i,...e)}function Ce(i,e,...n){if(!i)throw hp(e,...n)}function Us(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Kd(e),new Error(e)}function Gs(i,e){i||Us(e)}function Ag(){return typeof self<"u"&&self.location?.href||""}function x2(){return ov()==="http:"||ov()==="https:"}function ov(){return typeof self<"u"&&self.location?.protocol||null}function b2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x2()||ap()||"connection"in navigator)?navigator.onLine:!0}function v2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Zc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gs(n>e,"Short delay should be less than long delay!"),this.isMobile=GA()||YA()}get(){return b2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fp(i,e){Gs(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ME{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const E2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],T2=new Zc(3e4,6e4);function Zr(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ea(i,e,n,r,o={}){return DE(i,o,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const g=Jc({key:i.config.apiKey,...d}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:y,...u};return KA()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&al(i.emulatorConfig.host)&&(p.credentials="include"),ME.fetch()(await OE(i,i.config.apiHost,n,g),p)})}async function DE(i,e,n){i._canInitEmulator=!1;const r={..._2,...e};try{const o=new N2(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Pd(i,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,p]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pd(i,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Pd(i,"email-already-in-use",d);if(y==="USER_DISABLED")throw Pd(i,"user-disabled",d);const _=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw dp(i,_,p);vi(i,_)}}catch(o){if(o instanceof zi)throw o;vi(i,"network-request-failed",{message:String(o)})}}async function eu(i,e,n,r,o={}){const u=await ea(i,e,n,r,o);return"mfaPendingCredential"in u&&vi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function OE(i,e,n,r){const o=`${e}${n}?${r}`,u=i,d=u.config.emulator?fp(i.config,o):`${i.config.apiScheme}://${o}`;return E2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function w2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class N2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),T2.get())})}}function Pd(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Pi(i,e,r);return o.customData._tokenResponse=n,o}function lv(i){return i!==void 0&&i.enterprise!==void 0}class S2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return w2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function j2(i,e){return ea(i,"GET","/v2/recaptchaConfig",Zr(i,e))}async function A2(i,e){return ea(i,"POST","/v1/accounts:delete",e)}async function oh(i,e){return ea(i,"POST","/v1/accounts:lookup",e)}function Ac(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C2(i,e=!1){const n=Bt(i),r=await n.getIdToken(e),o=mp(r);Ce(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:r,authTime:Ac(og(o.auth_time)),issuedAtTime:Ac(og(o.iat)),expirationTime:Ac(og(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function og(i){return Number(i)*1e3}function mp(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return Kd("JWT malformed, contained fewer than 3 sections"),null;try{const o=yE(n);return o?JSON.parse(o):(Kd("Failed to decode base64 JWT payload"),null)}catch(o){return Kd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function cv(i){const e=mp(i);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Vc(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zi&&R2(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function R2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class I2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Cg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lh(i){const e=i.auth,n=await i.getIdToken(),r=await Vc(i,oh(e,{idToken:n}));Ce(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?PE(o.providerUserInfo):[],d=D2(i.providerData,u),g=i.isAnonymous,y=!(i.email&&o.passwordHash)&&!d?.length,p=g?y:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Cg(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(i,_)}async function M2(i){const e=Bt(i);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function D2(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function PE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function O2(i,e){const n=await DE(i,{},async()=>{const r=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,d=await OE(i,o,"/v1/token",`key=${u}`),g=await i._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return i.emulatorConfig&&al(i.emulatorConfig.host)&&(y.credentials="include"),ME.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function P2(i,e){return ea(i,"POST","/v2/accounts:revokeToken",Zr(i,e))}class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=cv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await O2(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,d=new Fo;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Ce(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Ce(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return Us("not implemented")}}function Mr(i,e){Ce(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Di{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new I2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Vc(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return C2(this,e)}reload(){return M2(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Bs(this.auth));const e=await this.getIdToken();return await Vc(this,A2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:E,emailVerified:N,isAnonymous:L,providerData:Y,stsTokenManager:B}=n;Ce(E&&B,e,"internal-error");const z=Fo.fromJSON(this.name,B);Ce(typeof E=="string",e,"internal-error"),Mr(r,e.name),Mr(o,e.name),Ce(typeof N=="boolean",e,"internal-error"),Ce(typeof L=="boolean",e,"internal-error"),Mr(u,e.name),Mr(d,e.name),Mr(g,e.name),Mr(y,e.name),Mr(p,e.name),Mr(_,e.name);const te=new Di({uid:E,auth:e,email:o,emailVerified:N,displayName:r,isAnonymous:L,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:z,createdAt:p,lastLoginAt:_});return Y&&Array.isArray(Y)&&(te.providerData=Y.map(J=>({...J}))),y&&(te._redirectEventId=y),te}static async _fromIdTokenResponse(e,n,r=!1){const o=new Fo;o.updateFromServerResponse(n);const u=new Di({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await lh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ce(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?PE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,g=new Fo;g.updateFromIdToken(r);const y=new Di({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const uv=new Map;function zs(i){Gs(i instanceof Function,"Expected a class definition");let e=uv.get(i);return e?(Gs(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,uv.set(i,e),e)}class kE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kE.type="NONE";const dv=kE;function Yd(i,e,n){return`firebase:${i}:${e}:${n}`}class Ho{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Yd(this.userKey,o.apiKey,u),this.fullPersistenceKey=Yd("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await oh(this.auth,{idToken:e}).catch(()=>{});return n?Di._fromGetAccountInfoResponse(this.auth,n,e):null}return Di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ho(zs(dv),e,r);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||zs(dv);const d=Yd(r,e.config.apiKey,e.name);let g=null;for(const p of n)try{const _=await p._get(d);if(_){let E;if(typeof _=="string"){const N=await oh(e,{idToken:_}).catch(()=>{});if(!N)break;E=await Di._fromGetAccountInfoResponse(e,N,_)}else E=Di._fromJSON(e,_);p!==u&&(g=E),u=p;break}}catch{}const y=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Ho(u,e,r):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new Ho(u,e,r))}}function hv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BE(e))return"Blackberry";if(FE(e))return"Webos";if(VE(e))return"Safari";if((e.includes("chrome/")||UE(e))&&!e.includes("edge/"))return"Chrome";if(qE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function LE(i=Rn()){return/firefox\//i.test(i)}function VE(i=Rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UE(i=Rn()){return/crios\//i.test(i)}function zE(i=Rn()){return/iemobile/i.test(i)}function qE(i=Rn()){return/android/i.test(i)}function BE(i=Rn()){return/blackberry/i.test(i)}function FE(i=Rn()){return/webos/i.test(i)}function gp(i=Rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function k2(i=Rn()){return gp(i)&&!!window.navigator?.standalone}function L2(){return QA()&&document.documentMode===10}function HE(i=Rn()){return gp(i)||qE(i)||FE(i)||BE(i)||/windows phone/i.test(i)||zE(i)}function GE(i,e=[]){let n;switch(i){case"Browser":n=hv(Rn());break;case"Worker":n=`${hv(Rn())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ol}/${r}`}class V2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((d,g)=>{try{const y=e(u);d(y)}catch(y){g(y)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function U2(i,e={}){return ea(i,"GET","/v2/passwordPolicy",Zr(i,e))}const z2=6;class q2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??z2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class B2{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fv(this),this.idTokenSubscription=new fv(this),this.beforeStateQueue=new V2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await oh(this,{idToken:e}),r=await Di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===d)&&g?.user&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Bs(this));const n=e?Bt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await U2(this),n=new q2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $a("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await P2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zs(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[zs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,o);return()=>{d=!0,y()}}else{const y=e.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&p2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ta(i){return Bt(i)}class fv{constructor(e){this.auth=e,this.observer=null,this.addObserver=t1(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function F2(i){Rh=i}function $E(i){return Rh.loadJS(i)}function H2(){return Rh.recaptchaEnterpriseScript}function G2(){return Rh.gapiScript}function $2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class K2{constructor(){this.enterprise=new Y2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Y2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Q2="recaptcha-enterprise",KE="NO_RECAPTCHA";class W2{constructor(e){this.type=Q2,this.auth=ta(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{j2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new S2(y);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,d(p.siteKey)}}).catch(y=>{g(y)})})}function o(u,d,g){const y=window.grecaptcha;lv(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(p=>{d(p)}).catch(()=>{d(KE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new K2().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(g=>{if(!n&&lv(window.grecaptcha))o(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=H2();y.length!==0&&(y+=g),$E(y).then(()=>{o(g,u,d)}).catch(p=>{d(p)})}}).catch(g=>{d(g)})})}}async function mv(i,e,n,r=!1,o=!1){const u=new W2(i);let d;if(o)d=KE;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Rg(i,e,n,r,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await mv(i,e,n,n==="getOobCode");return r(i,u)}else return r(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await mv(i,e,n,n==="getOobCode");return r(i,d)}else return Promise.reject(u)})}function X2(i,e){const n=Ka(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Hr(u,e??{}))return o;vi(o,"already-initialized")}return n.initialize({options:e})}function J2(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(zs);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function Z2(i,e,n){const r=ta(i);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=YE(e),{host:d,port:g}=eC(e),y=g===null?"":`:${g}`,p={url:`${u}//${d}${y}/`},_=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(Hr(p,r.config.emulator)&&Hr(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,al(d)?(_E(`${u}//${d}${y}`),EE("Auth",!0)):tC()}function YE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function eC(i){const e=YE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:gv(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:gv(d)}}}function gv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function tC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class pp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Us("not implemented")}_getIdTokenResponse(e){return Us("not implemented")}_linkToIdToken(e,n){return Us("not implemented")}_getReauthenticationResolver(e){return Us("not implemented")}}async function nC(i,e){return ea(i,"POST","/v1/accounts:signUp",e)}async function iC(i,e){return eu(i,"POST","/v1/accounts:signInWithPassword",Zr(i,e))}async function sC(i,e){return eu(i,"POST","/v1/accounts:signInWithEmailLink",Zr(i,e))}async function rC(i,e){return eu(i,"POST","/v1/accounts:signInWithEmailLink",Zr(i,e))}class Uc extends pp{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Uc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Uc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rg(e,n,"signInWithPassword",iC);case"emailLink":return sC(e,{email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rg(e,r,"signUpPassword",nC);case"emailLink":return rC(e,{idToken:n,email:this._email,oobCode:this._password});default:vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Go(i,e){return eu(i,"POST","/v1/accounts:signInWithIdp",Zr(i,e))}const aC="http://localhost";class za extends pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const d=new za(r,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Go(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Go(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Go(e,n)}buildRequest(){const e={requestUri:aC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jc(n)}return e}}function oC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lC(i){const e=bc(vc(i)).link,n=e?bc(vc(e)).deep_link_id:null,r=bc(vc(i)).deep_link_id;return(r?bc(vc(r)).link:null)||r||n||e||i}class yp{constructor(e){const n=bc(vc(e)),r=n.apiKey??null,o=n.oobCode??null,u=oC(n.mode??null);Ce(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=lC(e);try{return new yp(n)}catch{return null}}}class ll{constructor(){this.providerId=ll.PROVIDER_ID}static credential(e,n){return Uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=yp.parseLink(n);return Ce(r,"argument-error"),Uc._fromEmailAndCode(e,r.code,r.tenantId)}}ll.PROVIDER_ID="password";ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class xp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tu extends xp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class kr extends tu{constructor(){super("facebook.com")}static credential(e){return za._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";class Vs extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return za._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vs.credential(n,r)}catch{return null}}}Vs.GOOGLE_SIGN_IN_METHOD="google.com";Vs.PROVIDER_ID="google.com";class Lr extends tu{constructor(){super("github.com")}static credential(e){return za._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";class Vr extends tu{constructor(){super("twitter.com")}static credential(e,n){return za._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vr.credential(n,r)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";async function cC(i,e){return eu(i,"POST","/v1/accounts:signUp",Zr(i,e))}class qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await Di._fromIdTokenResponse(e,r,o),d=pv(r);return new qa({user:u,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=pv(r);return new qa({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function pv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class ch extends zi{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new ch(e,n,r,o)}}function QE(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(i,u,e,r):u})}async function uC(i,e,n=!1){const r=await Vc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return qa._forOperation(i,"link",r)}async function dC(i,e,n=!1){const{auth:r}=i;if(Zn(r.app))return Promise.reject(Bs(r));const o="reauthenticate";try{const u=await Vc(i,QE(r,o,e,i),n);Ce(u.idToken,r,"internal-error");const d=mp(u.idToken);Ce(d,r,"internal-error");const{sub:g}=d;return Ce(i.uid===g,r,"user-mismatch"),qa._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&vi(r,"user-mismatch"),u}}async function WE(i,e,n=!1){if(Zn(i.app))return Promise.reject(Bs(i));const r="signIn",o=await QE(i,r,e),u=await qa._fromIdTokenResponse(i,r,o);return n||await i._updateCurrentUser(u.user),u}async function hC(i,e){return WE(ta(i),e)}async function XE(i){const e=ta(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fC(i,e,n){if(Zn(i.app))return Promise.reject(Bs(i));const r=ta(i),d=await Rg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cC).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&XE(i),y}),g=await qa._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function mC(i,e,n){return Zn(i.app)?Promise.reject(Bs(i)):hC(Bt(i),ll.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XE(i),r})}function gC(i,e,n,r){return Bt(i).onIdTokenChanged(e,n,r)}function pC(i,e,n){return Bt(i).beforeAuthStateChanged(e,n)}function bp(i,e,n,r){return Bt(i).onAuthStateChanged(e,n,r)}function yC(i){return Bt(i).signOut()}const uh="__sak";class JE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const xC=1e3,bC=10;class ZE extends JE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);L2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bC):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZE.type="LOCAL";const vC=ZE;class eT extends JE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eT.type="SESSION";const tT=eT;function _C(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Ih(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const g=Array.from(d).map(async p=>p(n.origin,u)),y=await _C(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];function vp(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}class EC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const p=vp("",20);o.port1.start();const _=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(E){const N=E;if(N.data.eventId===p)switch(N.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(N.data.response);break;default:clearTimeout(_),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function us(){return window}function TC(i){us().location.href=i}function nT(){return typeof us().WorkerGlobalScope<"u"&&typeof us().importScripts=="function"}async function wC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NC(){return navigator?.serviceWorker?.controller||null}function SC(){return nT()?self:null}const iT="firebaseLocalStorageDb",jC=1,dh="firebaseLocalStorage",sT="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mh(i,e){return i.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function AC(){const i=indexedDB.deleteDatabase(iT);return new nu(i).toPromise()}function Ig(){const i=indexedDB.open(iT,jC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(dh,{keyPath:sT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(dh)?e(r):(r.close(),await AC(),e(await Ig()))})})}async function yv(i,e,n){const r=Mh(i,!0).put({[sT]:e,value:n});return new nu(r).toPromise()}async function CC(i,e){const n=Mh(i,!1).get(e),r=await new nu(n).toPromise();return r===void 0?null:r.value}function xv(i,e){const n=Mh(i,!0).delete(e);return new nu(n).toPromise()}const RC=800,IC=3;class rT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ig(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>IC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(SC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wC(),!this.activeServiceWorker)return;this.sender=new EC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ig();return await yv(e,uh,"1"),await xv(e,uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>xv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Mh(o,!1).getAll();return new nu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rT.type="LOCAL";const MC=rT;new Zc(3e4,6e4);function aT(i,e){return e?zs(e):(Ce(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class _p extends pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DC(i){return WE(i.auth,new _p(i),i.bypassAuthState)}function OC(i){const{auth:e,user:n}=i;return Ce(n,e,"internal-error"),dC(n,new _p(i),i.bypassAuthState)}async function PC(i){const{auth:e,user:n}=i;return Ce(n,e,"internal-error"),uC(n,new _p(i),i.bypassAuthState)}class oT{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DC;case"linkViaPopup":case"linkViaRedirect":return PC;case"reauthViaPopup":case"reauthViaRedirect":return OC;default:vi(this.auth,"internal-error")}}resolve(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kC=new Zc(2e3,1e4);async function LC(i,e,n){if(Zn(i.app))return Promise.reject(Pi(i,"operation-not-supported-in-this-environment"));const r=ta(i);y2(i,e,xp);const o=aT(r,n);return new Da(r,"signInViaPopup",e,o).executeNotNull()}class Da extends oT{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Da.currentPopupAction&&Da.currentPopupAction.cancel(),Da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Gs(this.filter.length===1,"Popup operations only handle one event");const e=vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Da.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kC.get())};e()}}Da.currentPopupAction=null;const VC="pendingRedirect",Qd=new Map;class UC extends oT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qd.get(this.auth._key());if(!e){try{const r=await zC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qd.set(this.auth._key(),e)}return this.bypassAuthState||Qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zC(i,e){const n=FC(e),r=BC(i);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function qC(i,e){Qd.set(i._key(),e)}function BC(i){return zs(i._redirectPersistence)}function FC(i){return Yd(VC,i.config.apiKey,i.name)}async function HC(i,e,n=!1){if(Zn(i.app))return Promise.reject(Bs(i));const r=ta(i),o=aT(r,e),d=await new UC(r,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const GC=600*1e3;class $C{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!lT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GC&&this.cachedEventUids.clear(),this.cachedEventUids.has(bv(e))}saveEventToCache(e){this.cachedEventUids.add(bv(e)),this.lastProcessedEventTime=Date.now()}}function bv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function lT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function KC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lT(i);default:return!1}}async function YC(i,e={}){return ea(i,"GET","/v1/projects",e)}const QC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WC=/^https?/;async function XC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await YC(i);for(const n of e)try{if(JC(n))return}catch{}vi(i,"unauthorized-domain")}function JC(i){const e=Ag(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!WC.test(n))return!1;if(QC.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const ZC=new Zc(3e4,6e4);function vv(){const i=us().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function eR(i){return new Promise((e,n)=>{function r(){vv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vv(),n(Pi(i,"network-request-failed"))},timeout:ZC.get()})}if(us().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(us().gapi?.load)r();else{const o=$2("iframefcb");return us()[o]=()=>{gapi.load?r():n(Pi(i,"network-request-failed"))},$E(`${G2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Wd=null,e})}let Wd=null;function tR(i){return Wd=Wd||eR(i),Wd}const nR=new Zc(5e3,15e3),iR="__/auth/iframe",sR="emulator/auth/iframe",rR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oR(i){const e=i.config;Ce(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?fp(e,sR):`https://${i.config.authDomain}/${iR}`,r={apiKey:e.apiKey,appName:i.name,v:ol},o=aR.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${Jc(r).slice(1)}`}async function lR(i){const e=await tR(i),n=us().gapi;return Ce(n,i,"internal-error"),e.open({where:document.body,url:oR(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rR,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const d=Pi(i,"network-request-failed"),g=us().setTimeout(()=>{u(d)},nR.get());function y(){us().clearTimeout(g),o(r)}r.ping(y).then(y,()=>{u(d)})}))}const cR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uR=500,dR=600,hR="_blank",fR="http://localhost";class _v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mR(i,e,n,r=uR,o=dR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...cR,width:r.toString(),height:o.toString(),top:u,left:d},p=Rn().toLowerCase();n&&(g=UE(p)?hR:n),LE(p)&&(e=e||fR,y.scrollbars="yes");const _=Object.entries(y).reduce((N,[L,Y])=>`${N}${L}=${Y},`,"");if(k2(p)&&g!=="_self")return gR(e||"",g),new _v(null);const E=window.open(e||"",g,_);Ce(E,i,"popup-blocked");try{E.focus()}catch{}return new _v(E)}function gR(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const pR="__/auth/handler",yR="emulator/auth/handler",xR=encodeURIComponent("fac");async function Ev(i,e,n,r,o,u){Ce(i.config.authDomain,i,"auth-domain-config-required"),Ce(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:ol,eventId:o};if(e instanceof xp){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",e1(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))d[_]=E}if(e instanceof tu){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(d.scopes=_.join(","))}i.tenantId&&(d.tid=i.tenantId);const g=d;for(const _ of Object.keys(g))g[_]===void 0&&delete g[_];const y=await i._getAppCheckToken(),p=y?`#${xR}=${encodeURIComponent(y)}`:"";return`${bR(i)}?${Jc(g).slice(1)}${p}`}function bR({config:i}){return i.emulator?fp(i,yR):`https://${i.authDomain}/${pR}`}const lg="webStorageSupport";class vR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tT,this._completeRedirectFn=HC,this._overrideRedirectResult=qC}async _openPopup(e,n,r,o){Gs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Ev(e,n,r,Ag(),o);return mR(e,u,vp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await Ev(e,n,r,Ag(),o);return TC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Gs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lR(e),r=new $C(e);return n.register("authEvent",o=>(Ce(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lg,{type:lg},o=>{const u=o?.[0]?.[lg];u!==void 0&&n(!!u),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HE()||VE()||gp()}}const _R=vR;var Tv="@firebase/auth",wv="1.12.0";class ER{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function TR(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wR(i){gs(new Vi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Ce(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GE(i)},p=new B2(r,o,u,y);return J2(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gs(new Vi("auth-internal",e=>{const n=ta(e.getProvider("auth").getImmediate());return(r=>new ER(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(Tv,wv,TR(i)),bi(Tv,wv,"esm2020")}const NR=300,SR=vE("authIdTokenMaxAge")||NR;let Nv=null;const jR=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SR)return;const o=n?.token;Nv!==o&&(Nv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function AR(i=up()){const e=Ka(i,"auth");if(e.isInitialized())return e.getImmediate();const n=X2(i,{popupRedirectResolver:_R,persistence:[MC,vC,tT]}),r=vE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=jR(u.toString());pC(n,d,()=>d(n.currentUser)),gC(n,g=>d(g))}}const o=xE("auth");return o&&Z2(n,`http://${o}`),n}function CR(){return document.getElementsByTagName("head")?.[0]??document}F2({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const u=Pi("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",CR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wR("Browser");var RR="firebase",IR="12.8.0";bi(RR,IR,"app");const cT="@firebase/installations",Ep="0.6.19";const uT=1e4,dT=`w:${Ep}`,hT="FIS_v2",MR="https://firebaseinstallations.googleapis.com/v1",DR=3600*1e3,OR="installations",PR="Installations";const kR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ba=new $a(OR,PR,kR);function fT(i){return i instanceof zi&&i.code.includes("request-failed")}function mT({projectId:i}){return`${MR}/projects/${i}/installations`}function gT(i){return{token:i.token,requestStatus:2,expiresIn:VR(i.expiresIn),creationTime:Date.now()}}async function pT(i,e){const r=(await e.json()).error;return Ba.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function yT({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function LR(i,{refreshToken:e}){const n=yT(i);return n.append("Authorization",UR(e)),n}async function xT(i){const e=await i();return e.status>=500&&e.status<600?i():e}function VR(i){return Number(i.replace("s","000"))}function UR(i){return`${hT} ${i}`}async function zR({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const r=mT(i),o=yT(i),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const d={fid:n,authVersion:hT,appId:i.appId,sdkVersion:dT},g={method:"POST",headers:o,body:JSON.stringify(d)},y=await xT(()=>fetch(r,g));if(y.ok){const p=await y.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:gT(p.authToken)}}else throw await pT("Create Installation",y)}function bT(i){return new Promise(e=>{setTimeout(e,i)})}function qR(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}const BR=/^[cdef][\w-]{21}$/,Mg="";function FR(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=HR(i);return BR.test(n)?n:Mg}catch{return Mg}}function HR(i){return qR(i).substr(0,22)}function Dh(i){return`${i.appName}!${i.appId}`}const vT=new Map;function _T(i,e){const n=Dh(i);ET(n,e),GR(n,e)}function ET(i,e){const n=vT.get(i);if(n)for(const r of n)r(e)}function GR(i,e){const n=$R();n&&n.postMessage({key:i,fid:e}),KR()}let Oa=null;function $R(){return!Oa&&"BroadcastChannel"in self&&(Oa=new BroadcastChannel("[Firebase] FID Change"),Oa.onmessage=i=>{ET(i.data.key,i.data.fid)}),Oa}function KR(){vT.size===0&&Oa&&(Oa.close(),Oa=null)}const YR="firebase-installations-database",QR=1,Fa="firebase-installations-store";let cg=null;function Tp(){return cg||(cg=SE(YR,QR,{upgrade:(i,e)=>{e===0&&i.createObjectStore(Fa)}})),cg}async function hh(i,e){const n=Dh(i),o=(await Tp()).transaction(Fa,"readwrite"),u=o.objectStore(Fa),d=await u.get(n);return await u.put(e,n),await o.done,(!d||d.fid!==e.fid)&&_T(i,e.fid),e}async function TT(i){const e=Dh(i),r=(await Tp()).transaction(Fa,"readwrite");await r.objectStore(Fa).delete(e),await r.done}async function Oh(i,e){const n=Dh(i),o=(await Tp()).transaction(Fa,"readwrite"),u=o.objectStore(Fa),d=await u.get(n),g=e(d);return g===void 0?await u.delete(n):await u.put(g,n),await o.done,g&&(!d||d.fid!==g.fid)&&_T(i,g.fid),g}async function wp(i){let e;const n=await Oh(i.appConfig,r=>{const o=WR(r),u=XR(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Mg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function WR(i){const e=i||{fid:FR(),registrationStatus:0};return wT(e)}function XR(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ba.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=JR(i,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ZR(i)}:{installationEntry:e}}async function JR(i,e){try{const n=await zR(i,e);return hh(i.appConfig,n)}catch(n){throw fT(n)&&n.customData.serverCode===409?await TT(i.appConfig):await hh(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function ZR(i){let e=await Sv(i.appConfig);for(;e.registrationStatus===1;)await bT(100),e=await Sv(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await wp(i);return r||n}return e}function Sv(i){return Oh(i,e=>{if(!e)throw Ba.create("installation-not-found");return wT(e)})}function wT(i){return eI(i)?{fid:i.fid,registrationStatus:0}:i}function eI(i){return i.registrationStatus===1&&i.registrationTime+uT<Date.now()}async function tI({appConfig:i,heartbeatServiceProvider:e},n){const r=nI(i,n),o=LR(i,n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const d={installation:{sdkVersion:dT,appId:i.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},y=await xT(()=>fetch(r,g));if(y.ok){const p=await y.json();return gT(p)}else throw await pT("Generate Auth Token",y)}function nI(i,{fid:e}){return`${mT(i)}/${e}/authTokens:generate`}async function Np(i,e=!1){let n;const r=await Oh(i.appConfig,u=>{if(!NT(u))throw Ba.create("not-registered");const d=u.authToken;if(!e&&rI(d))return u;if(d.requestStatus===1)return n=iI(i,e),u;{if(!navigator.onLine)throw Ba.create("app-offline");const g=oI(u);return n=sI(i,g),g}});return n?await n:r.authToken}async function iI(i,e){let n=await jv(i.appConfig);for(;n.authToken.requestStatus===1;)await bT(100),n=await jv(i.appConfig);const r=n.authToken;return r.requestStatus===0?Np(i,e):r}function jv(i){return Oh(i,e=>{if(!NT(e))throw Ba.create("not-registered");const n=e.authToken;return lI(n)?{...e,authToken:{requestStatus:0}}:e})}async function sI(i,e){try{const n=await tI(i,e),r={...e,authToken:n};return await hh(i.appConfig,r),n}catch(n){if(fT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await TT(i.appConfig);else{const r={...e,authToken:{requestStatus:0}};await hh(i.appConfig,r)}throw n}}function NT(i){return i!==void 0&&i.registrationStatus===2}function rI(i){return i.requestStatus===2&&!aI(i)}function aI(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+DR}function oI(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function lI(i){return i.requestStatus===1&&i.requestTime+uT<Date.now()}async function cI(i){const e=i,{installationEntry:n,registrationPromise:r}=await wp(e);return r?r.catch(console.error):Np(e).catch(console.error),n.fid}async function uI(i,e=!1){const n=i;return await dI(n),(await Np(n,e)).token}async function dI(i){const{registrationPromise:e}=await wp(i);e&&await e}function hI(i){if(!i||!i.options)throw ug("App Configuration");if(!i.name)throw ug("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw ug(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function ug(i){return Ba.create("missing-app-config-values",{valueName:i})}const ST="installations",fI="installations-internal",mI=i=>{const e=i.getProvider("app").getImmediate(),n=hI(e),r=Ka(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},gI=i=>{const e=i.getProvider("app").getImmediate(),n=Ka(e,ST).getImmediate();return{getId:()=>cI(n),getToken:o=>uI(n,o)}};function pI(){gs(new Vi(ST,mI,"PUBLIC")),gs(new Vi(fI,gI,"PRIVATE"))}pI();bi(cT,Ep);bi(cT,Ep,"esm2020");const fh="analytics",yI="firebase_id",xI="origin",bI=60*1e3,vI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sp="https://www.googletagmanager.com/gtag/js";const Dn=new Ch("@firebase/analytics");const _I={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ti=new $a("analytics","Analytics",_I);function EI(i){if(!i.startsWith(Sp)){const e=ti.create("invalid-gtag-resource",{gtagURL:i});return Dn.warn(e.message),""}return i}function jT(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function TI(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function wI(i,e){const n=TI("firebase-js-sdk-policy",{createScriptURL:EI}),r=document.createElement("script"),o=`${Sp}?l=${i}&id=${e}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function NI(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function SI(i,e,n,r,o,u){const d=r[o];try{if(d)await e[d];else{const y=(await jT(n)).find(p=>p.measurementId===o);y&&await e[y.appId]}}catch(g){Dn.error(g)}i("config",o,u)}async function jI(i,e,n,r,o){try{let u=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await jT(n);for(const y of d){const p=g.find(E=>E.measurementId===y),_=p&&e[p.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",r,o||{})}catch(u){Dn.error(u)}}function AI(i,e,n,r){async function o(u,...d){try{if(u==="event"){const[g,y]=d;await jI(i,e,n,g,y)}else if(u==="config"){const[g,y]=d;await SI(i,e,n,r,g,y)}else if(u==="consent"){const[g,y]=d;i("consent",g,y)}else if(u==="get"){const[g,y,p]=d;i("get",g,y,p)}else if(u==="set"){const[g]=d;i("set",g)}else i(u,...d)}catch(g){Dn.error(g)}}return o}function CI(i,e,n,r,o){let u=function(...d){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=AI(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function RI(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Sp)&&n.src.includes(i))return n;return null}const II=30,MI=1e3;class DI{constructor(e={},n=MI){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const AT=new DI;function OI(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function PI(i){const{appId:e,apiKey:n}=i,r={method:"GET",headers:OI(n)},o=vI.replace("{app-id}",e),u=await fetch(o,r);if(u.status!==200&&u.status!==304){let d="";try{const g=await u.json();g.error?.message&&(d=g.error.message)}catch{}throw ti.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function kI(i,e=AT,n){const{appId:r,apiKey:o,measurementId:u}=i.options;if(!r)throw ti.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:r};throw ti.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new UI;return setTimeout(async()=>{g.abort()},bI),CT({appId:r,apiKey:o,measurementId:u},d,g,e)}async function CT(i,{throttleEndTimeMillis:e,backoffCount:n},r,o=AT){const{appId:u,measurementId:d}=i;try{await LI(r,e)}catch(g){if(d)return Dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:d};throw g}try{const g=await PI(i);return o.deleteThrottleMetadata(u),g}catch(g){const y=g;if(!VI(y)){if(o.deleteThrottleMetadata(u),d)return Dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:u,measurementId:d};throw g}const p=Number(y?.customData?.httpStatus)===503?Xb(n,o.intervalMillis,II):Xb(n,o.intervalMillis),_={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return o.setThrottleMetadata(u,_),Dn.debug(`Calling attemptFetch again in ${p} millis`),CT(i,_,r,o)}}function LI(i,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),r(ti.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function VI(i){if(!(i instanceof zi)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class UI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function zI(i,e,n,r,o){if(o&&o.global){i("event",n,r);return}else{const u=await e,d={...r,send_to:u};i("event",n,d)}}async function qI(i,e,n,r){if(r&&r.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return i("set",o),Promise.resolve()}else{const o=await e;i("config",o,{update:!0,user_properties:n})}}async function BI(){if(op())try{await lp()}catch(i){return Dn.warn(ti.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return Dn.warn(ti.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function FI(i,e,n,r,o,u,d){const g=kI(i);g.then(N=>{n[N.measurementId]=N.appId,i.options.measurementId&&N.measurementId!==i.options.measurementId&&Dn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>Dn.error(N)),e.push(g);const y=BI().then(N=>{if(N)return r.getId()}),[p,_]=await Promise.all([g,y]);RI(u)||wI(u,p.measurementId),o("js",new Date);const E=d?.config??{};return E[xI]="firebase",E.update=!0,_!=null&&(E[yI]=_),o("config",p.measurementId,E),p.measurementId}class HI{constructor(e){this.app=e}_delete(){return delete $o[this.app.options.appId],Promise.resolve()}}let $o={},Av=[];const Cv={};let dg="dataLayer",GI="gtag",Rv,jp,Iv=!1;function $I(){const i=[];if(ap()&&i.push("This is a browser extension environment."),TE()||i.push("Cookies are not available."),i.length>0){const e=i.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=ti.create("invalid-analytics-context",{errorInfo:e});Dn.warn(n.message)}}function KI(i,e,n){$I();const r=i.options.appId;if(!r)throw ti.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ti.create("no-api-key");if($o[r]!=null)throw ti.create("already-exists",{id:r});if(!Iv){NI(dg);const{wrappedGtag:u,gtagCore:d}=CI($o,Av,Cv,dg,GI);jp=u,Rv=d,Iv=!0}return $o[r]=FI(i,Av,Cv,e,Rv,dg,n),new HI(i)}function YI(i=up()){i=Bt(i);const e=Ka(i,fh);return e.isInitialized()?e.getImmediate():QI(i)}function QI(i,e={}){const n=Ka(i,fh);if(n.isInitialized()){const o=n.getImmediate();if(Hr(e,n.getOptions()))return o;throw ti.create("already-initialized")}return n.initialize({options:e})}async function WI(){if(ap()||!TE()||!op())return!1;try{return await lp()}catch{return!1}}function XI(i,e,n){i=Bt(i),qI(jp,$o[i.app.options.appId],e,n).catch(r=>Dn.error(r))}function JI(i,e,n,r){i=Bt(i),zI(jp,$o[i.app.options.appId],e,n,r).catch(o=>Dn.error(o))}const Mv="@firebase/analytics",Dv="0.10.19";function ZI(){gs(new Vi(fh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return KI(r,o,n)},"PUBLIC")),gs(new Vi("analytics-internal",i,"PRIVATE")),bi(Mv,Dv),bi(Mv,Dv,"esm2020");function i(e){try{const n=e.getProvider(fh).getImmediate();return{logEvent:(r,o,u)=>JI(n,r,o,u),setUserProperties:(r,o)=>XI(n,r,o)}}catch(n){throw ti.create("interop-component-reg-failed",{reason:n})}}}ZI();var Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Br,RT;(function(){var i;function e(j,S){function A(){}A.prototype=S.prototype,j.F=S.prototype,j.prototype=new A,j.prototype.constructor=j,j.D=function(C,M,V){for(var R=Array(arguments.length-2),we=2;we<arguments.length;we++)R[we-2]=arguments[we];return S.prototype[M].apply(C,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,S,A){A||(A=0);const C=Array(16);if(typeof S=="string")for(var M=0;M<16;++M)C[M]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(M=0;M<16;++M)C[M]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=j.g[0],A=j.g[1],M=j.g[2];let V=j.g[3],R;R=S+(V^A&(M^V))+C[0]+3614090360&4294967295,S=A+(R<<7&4294967295|R>>>25),R=V+(M^S&(A^M))+C[1]+3905402710&4294967295,V=S+(R<<12&4294967295|R>>>20),R=M+(A^V&(S^A))+C[2]+606105819&4294967295,M=V+(R<<17&4294967295|R>>>15),R=A+(S^M&(V^S))+C[3]+3250441966&4294967295,A=M+(R<<22&4294967295|R>>>10),R=S+(V^A&(M^V))+C[4]+4118548399&4294967295,S=A+(R<<7&4294967295|R>>>25),R=V+(M^S&(A^M))+C[5]+1200080426&4294967295,V=S+(R<<12&4294967295|R>>>20),R=M+(A^V&(S^A))+C[6]+2821735955&4294967295,M=V+(R<<17&4294967295|R>>>15),R=A+(S^M&(V^S))+C[7]+4249261313&4294967295,A=M+(R<<22&4294967295|R>>>10),R=S+(V^A&(M^V))+C[8]+1770035416&4294967295,S=A+(R<<7&4294967295|R>>>25),R=V+(M^S&(A^M))+C[9]+2336552879&4294967295,V=S+(R<<12&4294967295|R>>>20),R=M+(A^V&(S^A))+C[10]+4294925233&4294967295,M=V+(R<<17&4294967295|R>>>15),R=A+(S^M&(V^S))+C[11]+2304563134&4294967295,A=M+(R<<22&4294967295|R>>>10),R=S+(V^A&(M^V))+C[12]+1804603682&4294967295,S=A+(R<<7&4294967295|R>>>25),R=V+(M^S&(A^M))+C[13]+4254626195&4294967295,V=S+(R<<12&4294967295|R>>>20),R=M+(A^V&(S^A))+C[14]+2792965006&4294967295,M=V+(R<<17&4294967295|R>>>15),R=A+(S^M&(V^S))+C[15]+1236535329&4294967295,A=M+(R<<22&4294967295|R>>>10),R=S+(M^V&(A^M))+C[1]+4129170786&4294967295,S=A+(R<<5&4294967295|R>>>27),R=V+(A^M&(S^A))+C[6]+3225465664&4294967295,V=S+(R<<9&4294967295|R>>>23),R=M+(S^A&(V^S))+C[11]+643717713&4294967295,M=V+(R<<14&4294967295|R>>>18),R=A+(V^S&(M^V))+C[0]+3921069994&4294967295,A=M+(R<<20&4294967295|R>>>12),R=S+(M^V&(A^M))+C[5]+3593408605&4294967295,S=A+(R<<5&4294967295|R>>>27),R=V+(A^M&(S^A))+C[10]+38016083&4294967295,V=S+(R<<9&4294967295|R>>>23),R=M+(S^A&(V^S))+C[15]+3634488961&4294967295,M=V+(R<<14&4294967295|R>>>18),R=A+(V^S&(M^V))+C[4]+3889429448&4294967295,A=M+(R<<20&4294967295|R>>>12),R=S+(M^V&(A^M))+C[9]+568446438&4294967295,S=A+(R<<5&4294967295|R>>>27),R=V+(A^M&(S^A))+C[14]+3275163606&4294967295,V=S+(R<<9&4294967295|R>>>23),R=M+(S^A&(V^S))+C[3]+4107603335&4294967295,M=V+(R<<14&4294967295|R>>>18),R=A+(V^S&(M^V))+C[8]+1163531501&4294967295,A=M+(R<<20&4294967295|R>>>12),R=S+(M^V&(A^M))+C[13]+2850285829&4294967295,S=A+(R<<5&4294967295|R>>>27),R=V+(A^M&(S^A))+C[2]+4243563512&4294967295,V=S+(R<<9&4294967295|R>>>23),R=M+(S^A&(V^S))+C[7]+1735328473&4294967295,M=V+(R<<14&4294967295|R>>>18),R=A+(V^S&(M^V))+C[12]+2368359562&4294967295,A=M+(R<<20&4294967295|R>>>12),R=S+(A^M^V)+C[5]+4294588738&4294967295,S=A+(R<<4&4294967295|R>>>28),R=V+(S^A^M)+C[8]+2272392833&4294967295,V=S+(R<<11&4294967295|R>>>21),R=M+(V^S^A)+C[11]+1839030562&4294967295,M=V+(R<<16&4294967295|R>>>16),R=A+(M^V^S)+C[14]+4259657740&4294967295,A=M+(R<<23&4294967295|R>>>9),R=S+(A^M^V)+C[1]+2763975236&4294967295,S=A+(R<<4&4294967295|R>>>28),R=V+(S^A^M)+C[4]+1272893353&4294967295,V=S+(R<<11&4294967295|R>>>21),R=M+(V^S^A)+C[7]+4139469664&4294967295,M=V+(R<<16&4294967295|R>>>16),R=A+(M^V^S)+C[10]+3200236656&4294967295,A=M+(R<<23&4294967295|R>>>9),R=S+(A^M^V)+C[13]+681279174&4294967295,S=A+(R<<4&4294967295|R>>>28),R=V+(S^A^M)+C[0]+3936430074&4294967295,V=S+(R<<11&4294967295|R>>>21),R=M+(V^S^A)+C[3]+3572445317&4294967295,M=V+(R<<16&4294967295|R>>>16),R=A+(M^V^S)+C[6]+76029189&4294967295,A=M+(R<<23&4294967295|R>>>9),R=S+(A^M^V)+C[9]+3654602809&4294967295,S=A+(R<<4&4294967295|R>>>28),R=V+(S^A^M)+C[12]+3873151461&4294967295,V=S+(R<<11&4294967295|R>>>21),R=M+(V^S^A)+C[15]+530742520&4294967295,M=V+(R<<16&4294967295|R>>>16),R=A+(M^V^S)+C[2]+3299628645&4294967295,A=M+(R<<23&4294967295|R>>>9),R=S+(M^(A|~V))+C[0]+4096336452&4294967295,S=A+(R<<6&4294967295|R>>>26),R=V+(A^(S|~M))+C[7]+1126891415&4294967295,V=S+(R<<10&4294967295|R>>>22),R=M+(S^(V|~A))+C[14]+2878612391&4294967295,M=V+(R<<15&4294967295|R>>>17),R=A+(V^(M|~S))+C[5]+4237533241&4294967295,A=M+(R<<21&4294967295|R>>>11),R=S+(M^(A|~V))+C[12]+1700485571&4294967295,S=A+(R<<6&4294967295|R>>>26),R=V+(A^(S|~M))+C[3]+2399980690&4294967295,V=S+(R<<10&4294967295|R>>>22),R=M+(S^(V|~A))+C[10]+4293915773&4294967295,M=V+(R<<15&4294967295|R>>>17),R=A+(V^(M|~S))+C[1]+2240044497&4294967295,A=M+(R<<21&4294967295|R>>>11),R=S+(M^(A|~V))+C[8]+1873313359&4294967295,S=A+(R<<6&4294967295|R>>>26),R=V+(A^(S|~M))+C[15]+4264355552&4294967295,V=S+(R<<10&4294967295|R>>>22),R=M+(S^(V|~A))+C[6]+2734768916&4294967295,M=V+(R<<15&4294967295|R>>>17),R=A+(V^(M|~S))+C[13]+1309151649&4294967295,A=M+(R<<21&4294967295|R>>>11),R=S+(M^(A|~V))+C[4]+4149444226&4294967295,S=A+(R<<6&4294967295|R>>>26),R=V+(A^(S|~M))+C[11]+3174756917&4294967295,V=S+(R<<10&4294967295|R>>>22),R=M+(S^(V|~A))+C[2]+718787259&4294967295,M=V+(R<<15&4294967295|R>>>17),R=A+(V^(M|~S))+C[9]+3951481745&4294967295,j.g[0]=j.g[0]+S&4294967295,j.g[1]=j.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,j.g[2]=j.g[2]+M&4294967295,j.g[3]=j.g[3]+V&4294967295}r.prototype.v=function(j,S){S===void 0&&(S=j.length);const A=S-this.blockSize,C=this.C;let M=this.h,V=0;for(;V<S;){if(M==0)for(;V<=A;)o(this,j,V),V+=this.blockSize;if(typeof j=="string"){for(;V<S;)if(C[M++]=j.charCodeAt(V++),M==this.blockSize){o(this,C),M=0;break}}else for(;V<S;)if(C[M++]=j[V++],M==this.blockSize){o(this,C),M=0;break}}this.h=M,this.o+=S},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var S=1;S<j.length-8;++S)j[S]=0;S=this.o*8;for(var A=j.length-8;A<j.length;++A)j[A]=S&255,S/=256;for(this.v(j),j=Array(16),S=0,A=0;A<4;++A)for(let C=0;C<32;C+=8)j[S++]=this.g[A]>>>C&255;return j};function u(j,S){var A=g;return Object.prototype.hasOwnProperty.call(A,j)?A[j]:A[j]=S(j)}function d(j,S){this.h=S;const A=[];let C=!0;for(let M=j.length-1;M>=0;M--){const V=j[M]|0;C&&V==S||(A[M]=V,C=!1)}this.g=A}var g={};function y(j){return-128<=j&&j<128?u(j,function(S){return new d([S|0],S<0?-1:0)}):new d([j|0],j<0?-1:0)}function p(j){if(isNaN(j)||!isFinite(j))return E;if(j<0)return z(p(-j));const S=[];let A=1;for(let C=0;j>=A;C++)S[C]=j/A|0,A*=4294967296;return new d(S,0)}function _(j,S){if(j.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(j.charAt(0)=="-")return z(_(j.substring(1),S));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=p(Math.pow(S,8));let C=E;for(let V=0;V<j.length;V+=8){var M=Math.min(8,j.length-V);const R=parseInt(j.substring(V,V+M),S);M<8?(M=p(Math.pow(S,M)),C=C.j(M).add(p(R))):(C=C.j(A),C=C.add(p(R)))}return C}var E=y(0),N=y(1),L=y(16777216);i=d.prototype,i.m=function(){if(B(this))return-z(this).m();let j=0,S=1;for(let A=0;A<this.g.length;A++){const C=this.i(A);j+=(C>=0?C:4294967296+C)*S,S*=4294967296}return j},i.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(Y(this))return"0";if(B(this))return"-"+z(this).toString(j);const S=p(Math.pow(j,6));var A=this;let C="";for(;;){const M=q(A,S).g;A=te(A,M.j(S));let V=((A.g.length>0?A.g[0]:A.h)>>>0).toString(j);if(A=M,Y(A))return V+C;for(;V.length<6;)V="0"+V;C=V+C}},i.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function Y(j){if(j.h!=0)return!1;for(let S=0;S<j.g.length;S++)if(j.g[S]!=0)return!1;return!0}function B(j){return j.h==-1}i.l=function(j){return j=te(this,j),B(j)?-1:Y(j)?0:1};function z(j){const S=j.g.length,A=[];for(let C=0;C<S;C++)A[C]=~j.g[C];return new d(A,~j.h).add(N)}i.abs=function(){return B(this)?z(this):this},i.add=function(j){const S=Math.max(this.g.length,j.g.length),A=[];let C=0;for(let M=0;M<=S;M++){let V=C+(this.i(M)&65535)+(j.i(M)&65535),R=(V>>>16)+(this.i(M)>>>16)+(j.i(M)>>>16);C=R>>>16,V&=65535,R&=65535,A[M]=R<<16|V}return new d(A,A[A.length-1]&-2147483648?-1:0)};function te(j,S){return j.add(z(S))}i.j=function(j){if(Y(this)||Y(j))return E;if(B(this))return B(j)?z(this).j(z(j)):z(z(this).j(j));if(B(j))return z(this.j(z(j)));if(this.l(L)<0&&j.l(L)<0)return p(this.m()*j.m());const S=this.g.length+j.g.length,A=[];for(var C=0;C<2*S;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(let M=0;M<j.g.length;M++){const V=this.i(C)>>>16,R=this.i(C)&65535,we=j.i(M)>>>16,ye=j.i(M)&65535;A[2*C+2*M]+=R*ye,J(A,2*C+2*M),A[2*C+2*M+1]+=V*ye,J(A,2*C+2*M+1),A[2*C+2*M+1]+=R*we,J(A,2*C+2*M+1),A[2*C+2*M+2]+=V*we,J(A,2*C+2*M+2)}for(j=0;j<S;j++)A[j]=A[2*j+1]<<16|A[2*j];for(j=S;j<2*S;j++)A[j]=0;return new d(A,0)};function J(j,S){for(;(j[S]&65535)!=j[S];)j[S+1]+=j[S]>>>16,j[S]&=65535,S++}function W(j,S){this.g=j,this.h=S}function q(j,S){if(Y(S))throw Error("division by zero");if(Y(j))return new W(E,E);if(B(j))return S=q(z(j),S),new W(z(S.g),z(S.h));if(B(S))return S=q(j,z(S)),new W(z(S.g),S.h);if(j.g.length>30){if(B(j)||B(S))throw Error("slowDivide_ only works with positive integers.");for(var A=N,C=S;C.l(j)<=0;)A=oe(A),C=oe(C);var M=he(A,1),V=he(C,1);for(C=he(C,2),A=he(A,2);!Y(C);){var R=V.add(C);R.l(j)<=0&&(M=M.add(A),V=R),C=he(C,1),A=he(A,1)}return S=te(j,M.j(S)),new W(M,S)}for(M=E;j.l(S)>=0;){for(A=Math.max(1,Math.floor(j.m()/S.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),V=p(A),R=V.j(S);B(R)||R.l(j)>0;)A-=C,V=p(A),R=V.j(S);Y(V)&&(V=N),M=M.add(V),j=te(j,R)}return new W(M,j)}i.B=function(j){return q(this,j).h},i.and=function(j){const S=Math.max(this.g.length,j.g.length),A=[];for(let C=0;C<S;C++)A[C]=this.i(C)&j.i(C);return new d(A,this.h&j.h)},i.or=function(j){const S=Math.max(this.g.length,j.g.length),A=[];for(let C=0;C<S;C++)A[C]=this.i(C)|j.i(C);return new d(A,this.h|j.h)},i.xor=function(j){const S=Math.max(this.g.length,j.g.length),A=[];for(let C=0;C<S;C++)A[C]=this.i(C)^j.i(C);return new d(A,this.h^j.h)};function oe(j){const S=j.g.length+1,A=[];for(let C=0;C<S;C++)A[C]=j.i(C)<<1|j.i(C-1)>>>31;return new d(A,j.h)}function he(j,S){const A=S>>5;S%=32;const C=j.g.length-A,M=[];for(let V=0;V<C;V++)M[V]=S>0?j.i(V+A)>>>S|j.i(V+A+1)<<32-S:j.i(V+A);return new d(M,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,RT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=_,Br=d}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});var kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var IT,_c,MT,Xd,Dg,DT,OT,PT;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof kd=="object"&&kd];for(var x=0;x<h.length;++x){var v=h[x];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(h,x){if(x)e:{var v=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var F=h[w];if(!(F in v))break e;v=v[F]}h=h[h.length-1],w=v[h],x=x(w),x!=w&&x!=null&&e(v,h,{configurable:!0,writable:!0,value:x})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(x){var v=[],w;for(w in x)Object.prototype.hasOwnProperty.call(x,w)&&v.push([w,x[w]]);return v}});var u=u||{},d=this||self;function g(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function y(h,x,v){return h.call.apply(h.bind,arguments)}function p(h,x,v){return p=y,p.apply(null,arguments)}function _(h,x){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function E(h,x){function v(){}v.prototype=x.prototype,h.Z=x.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(w,F,K){for(var ue=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ue[Le-2]=arguments[Le];return x.prototype[F].apply(w,ue)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function L(h){const x=h.length;if(x>0){const v=Array(x);for(let w=0;w<x;w++)v[w]=h[w];return v}return[]}function Y(h,x){for(let w=1;w<arguments.length;w++){const F=arguments[w];var v=typeof F;if(v=v!="object"?v:F?Array.isArray(F)?"array":v:"null",v=="array"||v=="object"&&typeof F.length=="number"){v=h.length||0;const K=F.length||0;h.length=v+K;for(let ue=0;ue<K;ue++)h[v+ue]=F[ue]}else h.push(F)}}class B{constructor(x,v){this.i=x,this.j=v,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function z(h){d.setTimeout(()=>{throw h},0)}function te(){var h=j;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class J{constructor(){this.h=this.g=null}add(x,v){const w=W.get();w.set(x,v),this.h?this.h.next=w:this.g=w,this.h=w}}var W=new B(()=>new q,h=>h.reset());class q{constructor(){this.next=this.g=this.h=null}set(x,v){this.h=x,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,he=!1,j=new J,S=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(A)}};function A(){for(var h;h=te();){try{h.h.call(h.g)}catch(v){z(v)}var x=W;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}he=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};d.addEventListener("test",v,x),d.removeEventListener("test",v,x)}catch{}return h})();function R(h){return/^[\s\xa0]*$/.test(h)}function we(h,x){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}E(we,M),we.prototype.init=function(h,x){const v=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(v=="mouseover"?x=h.fromElement:v=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),X=0;function le(h,x,v,w,F){this.listener=h,this.proxy=null,this.src=x,this.type=v,this.capture=!!w,this.ha=F,this.key=++X,this.da=this.fa=!1}function fe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Me(h,x,v){for(const w in h)x.call(v,h[w],w,h)}function He(h,x){for(const v in h)x.call(void 0,h[v],v,h)}function O(h){const x={};for(const v in h)x[v]=h[v];return x}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,x){let v,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(v in w)h[v]=w[v];for(let K=0;K<ie.length;K++)v=ie[K],Object.prototype.hasOwnProperty.call(w,v)&&(h[v]=w[v])}}function ve(h){this.src=h,this.g={},this.h=0}ve.prototype.add=function(h,x,v,w,F){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const ue=ke(h,x,w,F);return ue>-1?(x=h[ue],v||(x.fa=!1)):(x=new le(x,this.src,K,!!w,F),x.fa=v,h.push(x)),x};function Ie(h,x){const v=x.type;if(v in h.g){var w=h.g[v],F=Array.prototype.indexOf.call(w,x,void 0),K;(K=F>=0)&&Array.prototype.splice.call(w,F,1),K&&(fe(x),h.g[v].length==0&&(delete h.g[v],h.h--))}}function ke(h,x,v,w){for(let F=0;F<h.length;++F){const K=h[F];if(!K.da&&K.listener==x&&K.capture==!!v&&K.ha==w)return F}return-1}var Ge="closure_lm_"+(Math.random()*1e6|0),Ft={};function _t(h,x,v,w,F){if(Array.isArray(x)){for(let K=0;K<x.length;K++)_t(h,x[K],v,w,F);return null}return v=je(v),h&&h[ye]?h.J(x,v,g(w)?!!w.capture:!1,F):ys(h,x,v,!1,w,F)}function ys(h,x,v,w,F,K){if(!x)throw Error("Invalid event type");const ue=g(F)?!!F.capture:!!F;let Le=xe(h);if(Le||(h[Ge]=Le=new ve(h)),v=Le.add(x,v,w,ue,K),v.proxy)return v;if(w=Qs(),v.proxy=w,w.src=h,w.listener=v,h.addEventListener)V||(F=ue),F===void 0&&(F=!1),h.addEventListener(x.toString(),w,F);else if(h.attachEvent)h.attachEvent(ne(x.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Qs(){function h(v){return x.call(h.src,h.listener,v)}const x=de;return h}function Ws(h,x,v,w,F){if(Array.isArray(x))for(var K=0;K<x.length;K++)Ws(h,x[K],v,w,F);else w=g(w)?!!w.capture:!!w,v=je(v),h&&h[ye]?(h=h.i,K=String(x).toString(),K in h.g&&(x=h.g[K],v=ke(x,v,w,F),v>-1&&(fe(x[v]),Array.prototype.splice.call(x,v,1),x.length==0&&(delete h.g[K],h.h--)))):h&&(h=xe(h))&&(x=h.g[x.toString()],h=-1,x&&(h=ke(x,v,w,F)),(v=h>-1?x[h]:null)&&D(v))}function D(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[ye])Ie(x.i,h);else{var v=h.type,w=h.proxy;x.removeEventListener?x.removeEventListener(v,w,h.capture):x.detachEvent?x.detachEvent(ne(v),w):x.addListener&&x.removeListener&&x.removeListener(w),(v=xe(x))?(Ie(v,h),v.h==0&&(v.src=null,x[Ge]=null)):fe(h)}}}function ne(h){return h in Ft?Ft[h]:Ft[h]="on"+h}function de(h,x){if(h.da)h=!0;else{x=new we(x,this);const v=h.listener,w=h.ha||h.src;h.fa&&D(h),h=v.call(w,x)}return h}function xe(h){return h=h[Ge],h instanceof ve?h:null}var ge="__closure_events_fn_"+(Math.random()*1e9>>>0);function je(h){return typeof h=="function"?h:(h[ge]||(h[ge]=function(x){return h.handleEvent(x)}),h[ge])}function me(){C.call(this),this.i=new ve(this),this.M=this,this.G=null}E(me,C),me.prototype[ye]=!0,me.prototype.removeEventListener=function(h,x,v,w){Ws(this,h,x,v,w)};function Ue(h,x){var v,w=h.G;if(w)for(v=[];w;w=w.G)v.push(w);if(h=h.M,w=x.type||x,typeof x=="string")x=new M(x,h);else if(x instanceof M)x.target=x.target||h;else{var F=x;x=new M(w,h),ce(x,F)}F=!0;let K,ue;if(v)for(ue=v.length-1;ue>=0;ue--)K=x.g=v[ue],F=Et(K,w,!0,x)&&F;if(K=x.g=h,F=Et(K,w,!0,x)&&F,F=Et(K,w,!1,x)&&F,v)for(ue=0;ue<v.length;ue++)K=x.g=v[ue],F=Et(K,w,!1,x)&&F}me.prototype.N=function(){if(me.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const v=h.g[x];for(let w=0;w<v.length;w++)fe(v[w]);delete h.g[x],h.h--}}this.G=null},me.prototype.J=function(h,x,v,w){return this.i.add(String(h),x,!1,v,w)},me.prototype.K=function(h,x,v,w){return this.i.add(String(h),x,!0,v,w)};function Et(h,x,v,w){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let F=!0;for(let K=0;K<x.length;++K){const ue=x[K];if(ue&&!ue.da&&ue.capture==v){const Le=ue.listener,Ht=ue.ha||ue.src;ue.fa&&Ie(h.i,ue),F=Le.call(Ht,w)!==!1&&F}}return F&&!w.defaultPrevented}function ni(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:d.setTimeout(h,x||0)}function Xa(h){h.g=ni(()=>{h.g=null,h.i&&(h.i=!1,Xa(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Yt extends C{constructor(x,v){super(),this.m=x,this.l=v,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Xa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(h){C.call(this),this.h=h,this.g={}}E(ii,C);var Xs=[];function Js(h){Me(h.g,function(x,v){this.g.hasOwnProperty(v)&&D(x)},h),h.g={}}ii.prototype.N=function(){ii.Z.N.call(this),Js(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qi=d.JSON.stringify,ml=d.JSON.parse,Je=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function ft(){}function dn(){}var Mt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){M.call(this,"d")}E($e,M);function ct(){M.call(this,"c")}E(ct,M);var Ze={},Zs=null;function Bi(){return Zs=Zs||new me}Ze.Ia="serverreachability";function er(h){M.call(this,Ze.Ia,h)}E(er,M);function si(h){const x=Bi();Ue(x,new er(x))}Ze.STAT_EVENT="statevent";function xs(h,x){M.call(this,Ze.STAT_EVENT,h),this.stat=x}E(xs,M);function Lt(h){const x=Bi();Ue(x,new xs(x,h))}Ze.Ja="timingevent";function ri(h,x){M.call(this,Ze.Ja,h),this.size=x}E(ri,M);function Fi(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},x)}function Ei(){this.g=!0}Ei.prototype.ua=function(){this.g=!1};function Wh(h,x,v,w,F,K){h.info(function(){if(h.g)if(K){var ue="",Le=K.split("&");for(let at=0;at<Le.length;at++){var Ht=Le[at].split("=");if(Ht.length>1){const At=Ht[0];Ht=Ht[1];const ci=At.split("_");ue=ci.length>=2&&ci[1]=="type"?ue+(At+"="+Ht+"&"):ue+(At+"=redacted&")}}}else ue=null;else ue=K;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+x+`
`+v+`
`+ue})}function du(h,x,v,w,F,K,ue){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+x+`
`+v+`
`+K+" "+ue})}function Hi(h,x,v,w){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+Xh(h,v)+(w?" "+w:"")})}function sa(h,x){h.info(function(){return"TIMEOUT: "+x})}Ei.prototype.info=function(){};function Xh(h,x){if(!h.g)return x;if(!x)return null;try{const K=JSON.parse(x);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var v=K[h];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var F=w[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ue=1;ue<w.length;ue++)w[ue]=""}}}}return qi(K)}catch{return x}}var ra={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pl;function aa(){}E(aa,ft),aa.prototype.g=function(){return new XMLHttpRequest},pl=new aa;function bs(h){return encodeURIComponent(String(h))}function hu(h){var x=1;h=h.split(":");const v=[];for(;x>0&&h.length;)v.push(h.shift()),x--;return h.length&&v.push(h.join(":")),v}function Ti(h,x,v,w){this.j=h,this.i=x,this.l=v,this.S=w||1,this.V=new ii(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wi}function wi(){this.i=null,this.g="",this.h=!1}var Qt={},hn={};function Gi(h,x,v){h.M=1,h.A=oa(Xt(x)),h.u=v,h.R=!0,Ja(h,null)}function Ja(h,x){h.F=Date.now(),$i(h),h.B=Xt(h.A);var v=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),no(v.i,"t",w),h.C=0,v=h.j.L,h.h=new wi,h.g=ju(h.j,v?x:null,!h.u),h.P>0&&(h.O=new Yt(p(h.Y,h,h.g),h.P)),x=h.V,v=h.g,w=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(Xs[0]=F.toString()),F=Xs);for(let K=0;K<F.length;K++){const ue=_t(v,F[K],w||x.handleEvent,!1,x.h||x);if(!ue)break;x.g[ue.key]=ue}x=h.J?O(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),si(),Wh(h.i,h.v,h.B,h.l,h.S,h.u)}Ti.prototype.ba=function(h){h=h.target;const x=this.O;x&&ji(h)==3?x.j():this.Y(h)},Ti.prototype.Y=function(h){try{if(h==this.g)e:{const Le=ji(this.g),Ht=this.g.ya(),at=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||yn(this.g)))){this.K||Le!=4||Ht==7||(Ht==8||at<=0?si(3):si(2)),Ki(this);var x=this.g.ca();this.X=x;var v=Jh(this);if(this.o=x==200,du(this.i,this.v,this.B,this.l,this.S,Le,x),this.o){if(this.U&&!this.L){t:{if(this.g){var w,F=this.g;if((w=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(w)){var K=w;break t}}K=null}if(h=K)Hi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yi(this,h);else{this.o=!1,this.m=3,Lt(12),Fn(this),ai(this);break e}}if(this.R){h=!0;let At;for(;!this.K&&this.C<v.length;)if(At=mu(this,v),At==hn){Le==4&&(this.m=4,Lt(14),h=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(At==Qt){this.m=4,Lt(15),Hi(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else Hi(this.i,this.l,At,null),Yi(this,At);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||v.length!=0||this.h.h||(this.m=1,Lt(16),h=!1),this.o=this.o&&h,!h)Hi(this.i,this.l,v,"[Invalid Chunked Response]"),Fn(this),ai(this);else if(v.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Il(ue),ue.P=!0,Lt(11))}}else Hi(this.i,this.l,v,null),Yi(this,v);Le==4&&Fn(this),this.o&&!this.K&&(Le==4?Tu(this.j,this):(this.o=!1,$i(this)))}else _s(this.g),x==400&&v.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),Fn(this),ai(this)}}}catch{}};function Jh(h){if(!fu(h))return h.g.la();const x=yn(h.g);if(x==="")return"";let v="";const w=x.length,F=ji(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Fn(h),ai(h),"";h.h.i=new d.TextDecoder}for(let K=0;K<w;K++)h.h.h=!0,v+=h.h.i.decode(x[K],{stream:!(F&&K==w-1)});return x.length=0,h.h.g+=v,h.C=0,h.h.g}function fu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function mu(h,x){var v=h.C,w=x.indexOf(`
`,v);return w==-1?hn:(v=Number(x.substring(v,w)),isNaN(v)?Qt:(w+=1,w+v>x.length?hn:(x=x.slice(w,w+v),h.C=w+v,x)))}Ti.prototype.cancel=function(){this.K=!0,Fn(this)};function $i(h){h.T=Date.now()+h.H,Za(h,h.H)}function Za(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Fi(p(h.aa,h),x)}function Ki(h){h.D&&(d.clearTimeout(h.D),h.D=null)}Ti.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(sa(this.i,this.B),this.M!=2&&(si(),Lt(17)),Fn(this),this.m=2,ai(this)):Za(this,this.T-h)};function ai(h){h.j.I==0||h.K||Tu(h.j,h)}function Fn(h){Ki(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,Js(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Yi(h,x){try{var v=h.j;if(v.I!=0&&(v.g==h||Wi(v.h,h))){if(!h.L&&Wi(v.h,h)&&v.I==3){try{var w=v.Ba.g.parse(x)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)oo(v),lr(v);else break e;ma(v),Lt(18)}}else v.xa=F[1],0<v.xa-v.K&&F[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Fi(p(v.Va,v),6e3));Qi(v.h)<=1&&v.ta&&(v.ta=void 0)}else ns(v,11)}else if((h.L||v.g==h)&&oo(v),!R(x))for(F=v.Ba.g.parse(x),x=0;x<F.length;x++){let at=F[x];const At=at[0];if(!(At<=v.K))if(v.K=At,at=at[1],v.I==2)if(at[0]=="c"){v.M=at[1],v.ba=at[2];const ci=at[3];ci!=null&&(v.ka=ci,v.j.info("VER="+v.ka));const is=at[4];is!=null&&(v.za=is,v.j.info("SVER="+v.za));const Ai=at[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(w=1.5*Ai,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Ci=h.g;if(Ci){const ga=Ci.g?Ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var K=w.h;K.g||ga.indexOf("spdy")==-1&&ga.indexOf("quic")==-1&&ga.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(bl(K,K.h),K.h=null))}if(w.G){const lo=Ci.g?Ci.g.getResponseHeader("X-HTTP-Session-Id"):null;lo&&(w.wa=lo,ut(w.J,w.G,lo))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var ue=h;if(w.na=Su(w,w.L?w.ba:null,w.W),ue.L){vl(w.h,ue);var Le=ue,Ht=w.O;Ht&&(Le.H=Ht),Le.D&&(Ki(Le),$i(Le)),w.g=ue}else _u(w);v.i.length>0&&ts(v)}else at[0]!="stop"&&at[0]!="close"||ns(v,7);else v.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?ns(v,7):Cl(v):at[0]!="noop"&&v.l&&v.l.qa(at),v.A=0)}}si(4)}catch{}}var Wt=class{constructor(h,x){this.g=h,this.map=x}};function yl(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Qi(h){return h.h?1:h.g?h.g.size:0}function Wi(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function bl(h,x){h.g?h.g.add(x):h.h=x}function vl(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}yl.prototype.cancel=function(){if(this.i=_l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function _l(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const v of h.g.values())x=x.concat(v.G);return x}return L(h.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eo(h,x){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const w=h[v].indexOf("=");let F,K=null;w>=0?(F=h[v].substring(0,w),K=h[v].substring(w+1)):F=h[v],x(F,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Hn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof Hn?(this.l=h.l,fn(this,h.j),this.o=h.o,this.g=h.g,tr(this,h.u),this.h=h.h,El(this,bu(h.i)),this.m=h.m):h&&(x=String(h).match(gu))?(this.l=!1,fn(this,x[1]||"",!0),this.o=Xi(x[2]||""),this.g=Xi(x[3]||"",!0),tr(this,x[4]),this.h=Xi(x[5]||"",!0),El(this,x[6]||"",!0),this.m=Xi(x[7]||"")):(this.l=!1,this.i=new ir(null,this.l))}Hn.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(la(x,to,!0),":");var v=this.g;return(v||x=="file")&&(h.push("//"),(x=this.o)&&h.push(la(x,to,!0),"@"),h.push(bs(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(la(v,v.charAt(0)=="/"?Tl:pu,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",la(v,yu)),h.join("")},Hn.prototype.resolve=function(h){const x=Xt(this);let v=!!h.j;v?fn(x,h.j):v=!!h.o,v?x.o=h.o:v=!!h.g,v?x.g=h.g:v=h.u!=null;var w=h.h;if(v)tr(x,h.u);else if(v=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var F=x.h.lastIndexOf("/");F!=-1&&(w=x.h.slice(0,F+1)+w)}if(F=w,F==".."||F==".")w="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){w=F.lastIndexOf("/",0)==0,F=F.split("/");const K=[];for(let ue=0;ue<F.length;){const Le=F[ue++];Le=="."?w&&ue==F.length&&K.push(""):Le==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&ue==F.length&&K.push("")):(K.push(Le),w=!0)}w=K.join("/")}else w=F}return v?x.h=w:v=h.i.toString()!=="",v?El(x,bu(h.i)):v=!!h.m,v&&(x.m=h.m),x};function Xt(h){return new Hn(h)}function fn(h,x,v){h.j=v?Xi(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function tr(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function El(h,x,v){x instanceof ir?(h.i=x,io(h.i,h.l)):(v||(x=la(x,nr)),h.i=new ir(x,h.l))}function ut(h,x,v){h.i.set(x,v)}function oa(h){return ut(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Xi(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function la(h,x,v){return typeof h=="string"?(h=encodeURI(h).replace(x,On),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function On(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var to=/[#\/\?@]/g,pu=/[#\?:]/g,Tl=/[#\?]/g,nr=/[#\?@]/g,yu=/#/g;function ir(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Pn(h){h.g||(h.g=new Map,h.h=0,h.i&&eo(h.i,function(x,v){h.add(decodeURIComponent(x.replace(/\+/g," ")),v)}))}i=ir.prototype,i.add=function(h,x){Pn(this),this.i=null,h=sr(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(x),this.h+=1,this};function xu(h,x){Pn(h),x=sr(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function wl(h,x){return Pn(h),x=sr(h,x),h.g.has(x)}i.forEach=function(h,x){Pn(this),this.g.forEach(function(v,w){v.forEach(function(F){h.call(x,F,w,this)},this)},this)};function Nl(h,x){Pn(h);let v=[];if(typeof x=="string")wl(h,x)&&(v=v.concat(h.g.get(sr(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)v=v.concat(h[x]);return v}i.set=function(h,x){return Pn(this),this.i=null,h=sr(this,h),wl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},i.get=function(h,x){return h?(h=Nl(this,h),h.length>0?String(h[0]):x):x};function no(h,x,v){xu(h,x),v.length>0&&(h.i=null,h.g.set(sr(h,x),L(v)),h.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let w=0;w<x.length;w++){var v=x[w];const F=bs(v);v=Nl(this,v);for(let K=0;K<v.length;K++){let ue=F;v[K]!==""&&(ue+="="+bs(v[K])),h.push(ue)}}return this.i=h.join("&")};function bu(h){const x=new ir;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function sr(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function io(h,x){x&&!h.j&&(Pn(h),h.i=null,h.g.forEach(function(v,w){const F=w.toLowerCase();w!=F&&(xu(this,w),no(this,F,v))},h)),h.j=x}function Ni(h,x){const v=new Ei;if(d.Image){const w=new Image;w.onload=_(oi,v,"TestLoadImage: loaded",!0,x,w),w.onerror=_(oi,v,"TestLoadImage: error",!1,x,w),w.onabort=_(oi,v,"TestLoadImage: abort",!1,x,w),w.ontimeout=_(oi,v,"TestLoadImage: timeout",!1,x,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else x(!1)}function Sl(h,x){const v=new Ei,w=new AbortController,F=setTimeout(()=>{w.abort(),oi(v,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:w.signal}).then(K=>{clearTimeout(F),K.ok?oi(v,"TestPingServer: ok",!0,x):oi(v,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(F),oi(v,"TestPingServer: error",!1,x)})}function oi(h,x,v,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(v)}catch{}}function rr(){this.g=new Je}function Ji(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Ji,ft),Ji.prototype.g=function(){return new ca(this.i,this.h)};function ca(h,x){me.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(ca,me),i=ca.prototype,i.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,Si(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||d).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ar(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;so(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function so(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?ar(this):Si(this),this.readyState==3&&so(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,ar(this))},i.Na=function(h){this.g&&(this.response=h,ar(this))},i.ga=function(){this.g&&ar(this)};function ar(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Si(h)}i.setRequestHeader=function(h,x){this.A.append(h,x)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var v=x.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=x.next();return h.join(`\r
`)};function Si(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function li(h){let x="";return Me(h,function(v,w){x+=w,x+=":",x+=v,x+=`\r
`}),x}function ua(h,x,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=li(v),typeof h=="string"?v!=null&&bs(v):ut(h,x,v))}function mt(h){me.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(mt,me);var Zi=/^https?$/i,jl=["POST","PUT"];i=mt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,x,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pl.g(),this.g.onreadystatechange=N(p(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(K){da(this,K);return}if(h=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)v.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())v.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),F=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(jl,x,void 0)>=0)||w||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ue]of v)this.g.setRequestHeader(K,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){da(this,K)}};function da(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,Al(h),vs(h)}function Al(h){h.A||(h.A=!0,Ue(h,"complete"),Ue(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ue(this,"complete"),Ue(this,"abort"),vs(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vs(this,!0)),mt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ha(this):this.Xa())},i.Xa=function(){ha(this)};function ha(h){if(h.h&&typeof u<"u"){if(h.v&&ji(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ue(h,"readystatechange"),ji(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var v;if(!(v=x)){var w;if(w=K===0){let ue=String(h.D).match(gu)[1]||null;!ue&&d.self&&d.self.location&&(ue=d.self.location.protocol.slice(0,-1)),w=!Zi.test(ue?ue.toLowerCase():"")}v=w}if(v)Ue(h,"complete"),Ue(h,"success");else{h.o=6;try{var F=ji(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",Al(h)}}finally{vs(h)}}}}function vs(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,x||Ue(h,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ji(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ji(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),ml(x)}};function yn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function _s(h){const x={};h=(h.g&&ji(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(R(h[w]))continue;var v=hu(h[w]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=x[F]||[];x[F]=K,K.push(v)}He(x,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function es(h,x,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||x}function or(h){this.za=0,this.i=[],this.j=new Ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=es("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=es("baseRetryDelayMs",5e3,h),this.Za=es("retryDelaySeedMs",1e4,h),this.Ta=es("forwardChannelMaxRetries",2,h),this.va=es("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(h&&h.concurrentRequestLimit),this.Ba=new rr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=or.prototype,i.ka=8,i.I=1,i.connect=function(h,x,v,w){Lt(0),this.W=h,this.H=x||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=Su(this,null,this.W),ts(this)};function Cl(h){if(ro(h),h.I==3){var x=h.V++,v=Xt(h.J);if(ut(v,"SID",h.M),ut(v,"RID",x),ut(v,"TYPE","terminate"),fa(h,v),x=new Ti(h,h.j,x),x.M=2,x.A=oa(Xt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(x.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=x.A,v=!0),v||(x.g=ju(x.j,null),x.g.ea(x.A)),x.F=Date.now(),$i(x)}Nu(h)}function lr(h){h.g&&(Il(h),h.g.cancel(),h.g=null)}function ro(h){lr(h),h.v&&(d.clearTimeout(h.v),h.v=null),oo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function ts(h){if(!xl(h.h)&&!h.m){h.m=!0;var x=h.Ea;oe||S(),he||(oe(),he=!0),j.add(x,h),h.D=0}}function ao(h,x){return Qi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Fi(p(h.Ea,h,x),wu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new Ti(this,this.j,h);let K=this.o;if(this.U&&(K?(K=O(K),ce(K,this.U)):K=this.U),this.u!==null||this.R||(F.J=K,K=null),this.S)e:{for(var x=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(x+=w,x>4096){x=v;break e}if(x===4096||v===this.i.length-1){x=v+1;break e}}x=1e3}else x=1e3;x=vu(this,F,x),v=Xt(this.J),ut(v,"RID",h),ut(v,"CVER",22),this.G&&ut(v,"X-HTTP-Session-Id",this.G),fa(this,v),K&&(this.R?x="headers="+bs(li(K))+"&"+x:this.u&&ua(v,this.u,K)),bl(this.h,F),this.Ra&&ut(v,"TYPE","init"),this.S?(ut(v,"$req",x),ut(v,"SID","null"),F.U=!0,Gi(F,v,null)):Gi(F,v,x),this.I=2}}else this.I==3&&(h?Rl(this,h):this.i.length==0||xl(this.h)||Rl(this))};function Rl(h,x){var v;x?v=x.l:v=h.V++;const w=Xt(h.J);ut(w,"SID",h.M),ut(w,"RID",v),ut(w,"AID",h.K),fa(h,w),h.u&&h.o&&ua(w,h.u,h.o),v=new Ti(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),x&&(h.i=x.G.concat(h.i)),x=vu(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),bl(h.h,v),Gi(v,w,x)}function fa(h,x){h.H&&Me(h.H,function(v,w){ut(x,w,v)}),h.l&&Me({},function(v,w){ut(x,w,v)})}function vu(h,x,v){v=Math.min(h.i.length,v);const w=h.l?p(h.l.Ka,h.l,h):null;e:{var F=h.i;let Le=-1;for(;;){const Ht=["count="+v];Le==-1?v>0?(Le=F[0].g,Ht.push("ofs="+Le)):Le=0:Ht.push("ofs="+Le);let at=!0;for(let At=0;At<v;At++){var K=F[At].g;const ci=F[At].map;if(K-=Le,K<0)Le=Math.max(0,F[At].g-100),at=!1;else try{K="req"+K+"_"||"";try{var ue=ci instanceof Map?ci:Object.entries(ci);for(const[is,Ai]of ue){let Ci=Ai;g(Ai)&&(Ci=qi(Ai)),Ht.push(K+is+"="+encodeURIComponent(Ci))}}catch(is){throw Ht.push(K+"type="+encodeURIComponent("_badmap")),is}}catch{w&&w(ci)}}if(at){ue=Ht.join("&");break e}}ue=void 0}return h=h.i.splice(0,v),x.G=h,ue}function _u(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;oe||S(),he||(oe(),he=!0),j.add(x,h),h.A=0}}function ma(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Fi(p(h.Da,h),wu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Fi(p(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),lr(this),Eu(this))};function Il(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function Eu(h){h.g=new Ti(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=Xt(h.na);ut(x,"RID","rpc"),ut(x,"SID",h.M),ut(x,"AID",h.K),ut(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&ut(x,"TO",h.ia),ut(x,"TYPE","xmlhttp"),fa(h,x),h.u&&h.o&&ua(x,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=oa(Xt(x)),v.u=null,v.R=!0,Ja(v,h)}i.Va=function(){this.C!=null&&(this.C=null,lr(this),ma(this),Lt(19))};function oo(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Tu(h,x){var v=null;if(h.g==x){oo(h),Il(h),h.g=null;var w=2}else if(Wi(h.h,x))v=x.G,vl(h.h,x),w=1;else return;if(h.I!=0){if(x.o)if(w==1){v=x.u?x.u.length:0,x=Date.now()-x.F;var F=h.D;w=Bi(),Ue(w,new ri(w,v)),ts(h)}else _u(h);else if(F=x.m,F==3||F==0&&x.X>0||!(w==1&&ao(h,x)||w==2&&ma(h)))switch(v&&v.length>0&&(x=h.h,x.i=x.i.concat(v)),F){case 1:ns(h,5);break;case 4:ns(h,10);break;case 3:ns(h,6);break;default:ns(h,2)}}}function wu(h,x){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*x}function ns(h,x){if(h.j.info("Error code "+x),x==2){var v=p(h.bb,h),w=h.Ua;const F=!w;w=new Hn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||fn(w,"https"),oa(w),F?Ni(w.toString(),v):Sl(w.toString(),v)}else Lt(2);h.I=0,h.l&&h.l.pa(x),Nu(h),ro(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function Nu(h){if(h.I=0,h.ja=[],h.l){const x=_l(h.h);(x.length!=0||h.i.length!=0)&&(Y(h.ja,x),Y(h.ja,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.oa()}}function Su(h,x,v){var w=v instanceof Hn?Xt(v):new Hn(v);if(w.g!="")x&&(w.g=x+"."+w.g),tr(w,w.u);else{var F=d.location;w=F.protocol,x=x?x+"."+F.hostname:F.hostname,F=+F.port;const K=new Hn(null);w&&fn(K,w),x&&(K.g=x),F&&tr(K,F),v&&(K.h=v),w=K}return v=h.G,x=h.wa,v&&x&&ut(w,v,x),ut(w,"VER",h.ka),fa(h,w),w}function ju(h,x,v){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new mt(new Ji({ab:v})):new mt(h.ma),x.Fa(h.L),x}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}i=Au.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function cr(){}cr.prototype.g=function(h,x){return new In(h,x)};function In(h,x){me.call(this),this.g=new or(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!R(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!R(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new Es(this)}E(In,me),In.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Cl(this.g)},In.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=qi(h),h=v);x.i.push(new Wt(x.Ya++,h)),x.I==3&&ts(x)},In.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,In.Z.N.call(this)};function Cu(h){$e.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const v in x){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}E(Cu,$e);function Ru(){ct.call(this),this.status=1}E(Ru,ct);function Es(h){this.g=h}E(Es,Au),Es.prototype.ra=function(){Ue(this.g,"a")},Es.prototype.qa=function(h){Ue(this.g,new Cu(h))},Es.prototype.pa=function(h){Ue(this.g,new Ru)},Es.prototype.oa=function(){Ue(this.g,"b")},cr.prototype.createWebChannel=cr.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,PT=function(){return new cr},OT=function(){return Bi()},DT=Ze,Dg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ra.NO_ERROR=0,ra.TIMEOUT=8,ra.HTTP_ERROR=6,Xd=ra,gl.COMPLETE="complete",MT=gl,dn.EventType=Mt,Mt.OPEN="a",Mt.CLOSE="b",Mt.ERROR="c",Mt.MESSAGE="d",me.prototype.listen=me.prototype.J,_c=dn,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,IT=mt}).apply(typeof kd<"u"?kd:typeof self<"u"?self:typeof window<"u"?window:{});class An{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");let cl="12.8.0";function eM(i){cl=i}const Ha=new Ch("@firebase/firestore");function Uo(){return Ha.logLevel}function _e(i,...e){if(Ha.logLevel<=Qe.DEBUG){const n=e.map(Ap);Ha.debug(`Firestore (${cl}): ${i}`,...n)}}function $s(i,...e){if(Ha.logLevel<=Qe.ERROR){const n=e.map(Ap);Ha.error(`Firestore (${cl}): ${i}`,...n)}}function Xo(i,...e){if(Ha.logLevel<=Qe.WARN){const n=e.map(Ap);Ha.warn(`Firestore (${cl}): ${i}`,...n)}}function Ap(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Re(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,kT(i,r,n)}function kT(i,e,n){let r=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw $s(r),new Error(r)}function lt(i,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||kT(e,o,r)}function Pe(i,e){return i}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class La{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class LT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(An.UNAUTHENTICATED)))}shutdown(){}}class nM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class iM{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){lt(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new La;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new La,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new La)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt(typeof r.accessToken=="string",31837,{l:r}),new LT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class sM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class rM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new sM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Pv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){lt(this.o===void 0,3512);const r=u=>{u.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,_e("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Pv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Pv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function oM(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}class Cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=oM(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function We(i,e){return i<e?-1:i>e?1:0}function Og(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const o=i.charAt(r),u=e.charAt(r);if(o!==u)return hg(o)===hg(u)?We(o,u):hg(o)?1:-1}return We(i.length,e.length)}const lM=55296,cM=57343;function hg(i){const e=i.charCodeAt(0);return e>=lM&&e<=cM}function Jo(i,e,n){return i.length===e.length&&i.every(((r,o)=>n(r,e[o])))}const kv="__name__";class cs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=cs.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return We(e.length,n.length)}static compareSegments(e,n){const r=cs.isNumericId(e),o=cs.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?cs.extractNumericId(e).compare(cs.extractNumericId(n)):Og(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Br.fromString(e.substring(4,e.length-2))}}class Tt extends cs{construct(e,n,r){return new Tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new Tt(n)}static emptyPath(){return new Tt([])}}const uM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends cs{construct(e,n,r){return new wn(e,n,r)}static isValidIdentifier(e){return uM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kv}static keyField(){return new wn([kv])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new be(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new be(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new be(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(u(),o++)}if(u(),d)throw new be(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(n)}static emptyPath(){return new wn([])}}class Se{constructor(e){this.path=e}static fromPath(e){return new Se(Tt.fromString(e))}static fromName(e){return new Se(Tt.fromString(e).popFirst(5))}static empty(){return new Se(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new Tt(e.slice()))}}function VT(i,e,n){if(!n)throw new be(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function dM(i,e,n,r){if(e===!0&&r===!0)throw new be(re.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Lv(i){if(!Se.isDocumentKey(i))throw new be(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Vv(i){if(Se.isDocumentKey(i))throw new be(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function UT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Ph(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Re(12329,{type:typeof i})}function Va(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new be(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ph(i);throw new be(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function rn(i,e){const n={typeString:i};return e&&(n.value=e),n}function iu(i,e){if(!UT(i))throw new be(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const d=i[r];if(o&&typeof d!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new be(re.INVALID_ARGUMENT,n);return!0}const Uv=-62135596800,zv=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*zv);return new jt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Uv)throw new be(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zv}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,jt._jsonSchema))return new jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Uv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jt._jsonSchemaVersion="firestore/timestamp/1.0",jt._jsonSchema={type:rn("string",jt._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new jt(0,0))}static max(){return new De(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zc=-1;function hM(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=De.fromTimestamp(r===1e9?new jt(n+1,0):new jt(n,r));return new Gr(o,Se.empty(),e)}function fM(i){return new Gr(i.readTime,i.key,zc)}class Gr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gr(De.min(),Se.empty(),zc)}static max(){return new Gr(De.max(),Se.empty(),zc)}}function mM(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(i.documentKey,e.documentKey),n!==0?n:We(i.largestBatchId,e.largestBatchId))}const gM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ul(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==gM)throw i;_e("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,r)=>{n(e)}))}static reject(e){return new ae(((n,r)=>{r(e)}))}static waitFor(e){return new ae(((n,r)=>{let o=0,u=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++u,d&&u===o&&n()}),(y=>r(y)))})),d=!0,u===o&&n()}))}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next((o=>o?ae.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new ae(((r,o)=>{const u=e.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const p=y;n(e[p]).next((_=>{d[p]=_,++g,g===u&&r(d)}),(_=>o(_)))}}))}static doWhile(e,n){return new ae(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function yM(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dl(i){return i.name==="IndexedDbTransactionError"}class kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kh.ce=-1;const Rp=-1;function Lh(i){return i==null}function mh(i){return i===0&&1/i==-1/0}function xM(i){return typeof i=="number"&&Number.isInteger(i)&&!mh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const zT="";function bM(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=qv(e)),e=vM(i.get(n),e);return qv(e)}function vM(i,e){let n=e;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case zT:n+="";break;default:n+=u}}return n}function qv(i){return i+zT+""}function Bv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function na(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function qT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Ot{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ld(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ld(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ld(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ld(this.root,e,this.comparator,!0)}}class Ld{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Tn.RED,this.left=o??Tn.EMPTY,this.right=u??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Tn(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Tn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class un{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fv(this.data.getIterator())}getIteratorFrom(e){return new Fv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class Fv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ei{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new ei([])}unionWith(e){let n=new un(wn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ei(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class BT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new BT("Invalid base64 string: "+u):u}})(e);return new Nn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new Nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const _M=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(i){if(lt(!!i,39018),typeof i=="string"){let e=0;const n=_M.exec(i);if(lt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(i.seconds),nanos:Kt(i.nanos)}}function Kt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Kr(i){return typeof i=="string"?Nn.fromBase64String(i):Nn.fromUint8Array(i)}const FT="server_timestamp",HT="__type__",GT="__previous_value__",$T="__local_write_time__";function Ip(i){return(i?.mapValue?.fields||{})[HT]?.stringValue===FT}function Vh(i){const e=i.mapValue.fields[GT];return Ip(e)?Vh(e):e}function qc(i){const e=$r(i.mapValue.fields[$T].timestampValue);return new jt(e.seconds,e.nanos)}class EM{constructor(e,n,r,o,u,d,g,y,p,_,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=_,this.apiKey=E}}const gh="(default)";class Bc{constructor(e,n){this.projectId=e,this.database=n||gh}static empty(){return new Bc("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof Bc&&e.projectId===this.projectId&&e.database===this.database}}function TM(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new be(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bc(i.options.projectId,e)}const KT="__type__",wM="__max__",Vd={mapValue:{}},YT="__vector__",ph="value";function Yr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ip(i)?4:SM(i)?9007199254740991:NM(i)?10:11:Re(28295,{value:i})}function ps(i,e){if(i===e)return!0;const n=Yr(i);if(n!==Yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return qc(i).isEqual(qc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=$r(o.timestampValue),g=$r(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Kr(o.bytesValue).isEqual(Kr(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Kt(o.geoPointValue.latitude)===Kt(u.geoPointValue.latitude)&&Kt(o.geoPointValue.longitude)===Kt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Kt(o.integerValue)===Kt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=Kt(o.doubleValue),g=Kt(u.doubleValue);return d===g?mh(d)===mh(g):isNaN(d)&&isNaN(g)}return!1})(i,e);case 9:return Jo(i.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},g=u.mapValue.fields||{};if(Bv(d)!==Bv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!ps(d[y],g[y])))return!1;return!0})(i,e);default:return Re(52216,{left:i})}}function Fc(i,e){return(i.values||[]).find((n=>ps(n,e)))!==void 0}function Zo(i,e){if(i===e)return 0;const n=Yr(i),r=Yr(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(i.booleanValue,e.booleanValue);case 2:return(function(u,d){const g=Kt(u.integerValue||u.doubleValue),y=Kt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(i,e);case 3:return Hv(i.timestampValue,e.timestampValue);case 4:return Hv(qc(i),qc(e));case 5:return Og(i.stringValue,e.stringValue);case 6:return(function(u,d){const g=Kr(u),y=Kr(d);return g.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const _=We(g[p],y[p]);if(_!==0)return _}return We(g.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,d){const g=We(Kt(u.latitude),Kt(d.latitude));return g!==0?g:We(Kt(u.longitude),Kt(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Gv(i.arrayValue,e.arrayValue);case 10:return(function(u,d){const g=u.fields||{},y=d.fields||{},p=g[ph]?.arrayValue,_=y[ph]?.arrayValue,E=We(p?.values?.length||0,_?.values?.length||0);return E!==0?E:Gv(p,_)})(i.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Vd.mapValue&&d===Vd.mapValue)return 0;if(u===Vd.mapValue)return 1;if(d===Vd.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),p=d.fields||{},_=Object.keys(p);y.sort(),_.sort();for(let E=0;E<y.length&&E<_.length;++E){const N=Og(y[E],_[E]);if(N!==0)return N;const L=Zo(g[y[E]],p[_[E]]);if(L!==0)return L}return We(y.length,_.length)})(i.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function Hv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return We(i,e);const n=$r(i),r=$r(e),o=We(n.seconds,r.seconds);return o!==0?o:We(n.nanos,r.nanos)}function Gv(i,e){const n=i.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=Zo(n[o],r[o]);if(u)return u}return We(n.length,r.length)}function el(i){return Pg(i)}function Pg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=$r(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Kr(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Se.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Pg(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of r)u?u=!1:o+=",",o+=`${d}:${Pg(n.fields[d])}`;return o+"}"})(i.mapValue):Re(61005,{value:i})}function Jd(i){switch(Yr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vh(i);return e?16+Jd(e):16;case 5:return 2*i.stringValue.length;case 6:return Kr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Jd(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return na(r.fields,((u,d)=>{o+=u.length+Jd(d)})),o})(i.mapValue);default:throw Re(13486,{value:i})}}function $v(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function kg(i){return!!i&&"integerValue"in i}function Mp(i){return!!i&&"arrayValue"in i}function Kv(i){return!!i&&"nullValue"in i}function Yv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Zd(i){return!!i&&"mapValue"in i}function NM(i){return(i?.mapValue?.fields||{})[KT]?.stringValue===YT}function Cc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return na(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Cc(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cc(i.arrayValue.values[n]);return e}return{...i}}function SM(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===wM}class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cc(n)}setAll(e){let n=wn.emptyPath(),r={},o=[];e.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=g.popLast()}d?r[g.lastSegment()]=Cc(d):o.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());Zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Zd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){na(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new Bn(Cc(this.value))}}function QT(i){const e=[];return na(i.fields,((n,r)=>{const o=new wn([n]);if(Zd(r)){const u=QT(r.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new ei(e)}class Cn{constructor(e,n,r,o,u,d,g){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Cn(e,0,De.min(),De.min(),De.min(),Bn.empty(),0)}static newFoundDocument(e,n,r,o){return new Cn(e,1,n,De.min(),r,o,0)}static newNoDocument(e,n){return new Cn(e,2,n,De.min(),De.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,De.min(),De.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yh{constructor(e,n){this.position=e,this.inclusive=n}}function Qv(i,e,n){let r=0;for(let o=0;o<i.position.length;o++){const u=e[o],d=i.position[o];if(u.field.isKeyField()?r=Se.comparator(Se.fromName(d.referenceValue),n.key):r=Zo(d,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ps(i.position[n],e.position[n]))return!1;return!0}class Hc{constructor(e,n="asc"){this.field=e,this.dir=n}}function jM(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class WT{}class sn extends WT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CM(e,n,r):n==="array-contains"?new MM(e,r):n==="in"?new DM(e,r):n==="not-in"?new OM(e,r):n==="array-contains-any"?new PM(e,r):new sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RM(e,r):new IM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zo(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends WT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ui(e,n)}matches(e){return XT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XT(i){return i.op==="and"}function JT(i){return AM(i)&&XT(i)}function AM(i){for(const e of i.filters)if(e instanceof Ui)return!1;return!0}function Lg(i){if(i instanceof sn)return i.field.canonicalString()+i.op.toString()+el(i.value);if(JT(i))return i.filters.map((e=>Lg(e))).join(",");{const e=i.filters.map((n=>Lg(n))).join(",");return`${i.op}(${e})`}}function ZT(i,e){return i instanceof sn?(function(r,o){return o instanceof sn&&r.op===o.op&&r.field.isEqual(o.field)&&ps(r.value,o.value)})(i,e):i instanceof Ui?(function(r,o){return o instanceof Ui&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,d,g)=>u&&ZT(d,o.filters[g])),!0):!1})(i,e):void Re(19439)}function ew(i){return i instanceof sn?(function(n){return`${n.field.canonicalString()} ${n.op} ${el(n.value)}`})(i):i instanceof Ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(ew).join(" ,")+"}"})(i):"Filter"}class CM extends sn{constructor(e,n,r){super(e,n,r),this.key=Se.fromName(r.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class RM extends sn{constructor(e,n){super(e,"in",n),this.keys=tw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class IM extends sn{constructor(e,n){super(e,"not-in",n),this.keys=tw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function tw(i,e){return(e.arrayValue?.values||[]).map((n=>Se.fromName(n.referenceValue)))}class MM extends sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mp(n)&&Fc(n.arrayValue,this.value)}}class DM extends sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fc(this.value.arrayValue,n)}}class OM extends sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fc(this.value.arrayValue,n)}}class PM extends sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Fc(this.value.arrayValue,r)))}}class kM{constructor(e,n=null,r=[],o=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function Xv(i,e=null,n=[],r=[],o=null,u=null,d=null){return new kM(i,e,n,r,o,u,d)}function Dp(i){const e=Pe(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Lg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>el(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>el(r))).join(",")),e.Te=n}return e.Te}function Op(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!jM(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ZT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Wv(i.startAt,e.startAt)&&Wv(i.endAt,e.endAt)}function Vg(i){return Se.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class hl{constructor(e,n=null,r=[],o=[],u=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function LM(i,e,n,r,o,u,d,g){return new hl(i,e,n,r,o,u,d,g)}function Pp(i){return new hl(i)}function Jv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function VM(i){return Se.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function nw(i){return i.collectionGroup!==null}function Rc(i){const e=Pe(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new un(wn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Hc(u,r))})),n.has(wn.keyField().canonicalString())||e.Ie.push(new Hc(wn.keyField(),r))}return e.Ie}function ds(i){const e=Pe(i);return e.Ee||(e.Ee=UM(e,Rc(i))),e.Ee}function UM(i,e){if(i.limitType==="F")return Xv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Hc(o.field,u)}));const n=i.endAt?new yh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new yh(i.startAt.position,i.startAt.inclusive):null;return Xv(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function Ug(i,e){const n=i.filters.concat([e]);return new hl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function zM(i,e){const n=i.explicitOrderBy.concat([e]);return new hl(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function zg(i,e,n){return new hl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Uh(i,e){return Op(ds(i),ds(e))&&i.limitType===e.limitType}function iw(i){return`${Dp(ds(i))}|lt:${i.limitType}`}function zo(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>ew(o))).join(", ")}]`),Lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>el(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>el(o))).join(",")),`Target(${r})`})(ds(i))}; limitType=${i.limitType})`}function zh(i,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Se.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,e)&&(function(r,o){for(const u of Rc(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(d,g,y){const p=Qv(d,g,y);return d.inclusive?p<=0:p<0})(r.startAt,Rc(r),o)||r.endAt&&!(function(d,g,y){const p=Qv(d,g,y);return d.inclusive?p>=0:p>0})(r.endAt,Rc(r),o))})(i,e)}function qM(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function sw(i){return(e,n)=>{let r=!1;for(const o of Rc(i)){const u=BM(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function BM(i,e,n){const r=i.field.isKeyField()?Se.comparator(e.key,n.key):(function(u,d,g){const y=d.data.field(u),p=g.data.field(u);return y!==null&&p!==null?Zo(y,p):Re(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:i.dir})}}class Ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return qT(this.inner)}size(){return this.innerSize}}const FM=new Ot(Se.comparator);function Ks(){return FM}const rw=new Ot(Se.comparator);function Ec(...i){let e=rw;for(const n of i)e=e.insert(n.key,n);return e}function aw(i){let e=rw;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Pa(){return Ic()}function ow(){return Ic()}function Ic(){return new Ya((i=>i.toString()),((i,e)=>i.isEqual(e)))}const HM=new Ot(Se.comparator),GM=new un(Se.comparator);function Xe(...i){let e=GM;for(const n of i)e=e.add(n);return e}const $M=new un(We);function KM(){return $M}function kp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function lw(i){return{integerValue:""+i}}function YM(i,e){return xM(e)?lw(e):kp(i,e)}class qh{constructor(){this._=void 0}}function QM(i,e,n){return i instanceof Gc?(function(o,u){const d={fields:{[HT]:{stringValue:FT},[$T]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ip(u)&&(u=Vh(u)),u&&(d.fields[GT]=u),{mapValue:d}})(n,e):i instanceof $c?uw(i,e):i instanceof Kc?dw(i,e):(function(o,u){const d=cw(o,u),g=Zv(d)+Zv(o.Ae);return kg(d)&&kg(o.Ae)?lw(g):kp(o.serializer,g)})(i,e)}function WM(i,e,n){return i instanceof $c?uw(i,e):i instanceof Kc?dw(i,e):n}function cw(i,e){return i instanceof xh?(function(r){return kg(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Gc extends qh{}class $c extends qh{constructor(e){super(),this.elements=e}}function uw(i,e){const n=hw(e);for(const r of i.elements)n.some((o=>ps(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Kc extends qh{constructor(e){super(),this.elements=e}}function dw(i,e){let n=hw(e);for(const r of i.elements)n=n.filter((o=>!ps(o,r)));return{arrayValue:{values:n}}}class xh extends qh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Zv(i){return Kt(i.integerValue||i.doubleValue)}function hw(i){return Mp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class XM{constructor(e,n){this.field=e,this.transform=n}}function JM(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof $c&&o instanceof $c||r instanceof Kc&&o instanceof Kc?Jo(r.elements,o.elements,ps):r instanceof xh&&o instanceof xh?ps(r.Ae,o.Ae):r instanceof Gc&&o instanceof Gc})(i.transform,e.transform)}class ZM{constructor(e,n){this.version=e,this.transformResults=n}}class hs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hs}static exists(e){return new hs(void 0,e)}static updateTime(e){return new hs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Bh{}function fw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new gw(i.key,hs.none()):new su(i.key,i.data,hs.none());{const n=i.data,r=Bn.empty();let o=new un(wn.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?r.delete(u):r.set(u,d),o=o.add(u)}return new ia(i.key,r,new ei(o.toArray()),hs.none())}}function e3(i,e,n){i instanceof su?(function(o,u,d){const g=o.value.clone(),y=t_(o.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(i,e,n):i instanceof ia?(function(o,u,d){if(!eh(o.precondition,u))return void u.convertToUnknownDocument(d.version);const g=t_(o.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(mw(o)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(i,e,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Mc(i,e,n,r){return i instanceof su?(function(u,d,g,y){if(!eh(u.precondition,d))return g;const p=u.value.clone(),_=n_(u.fieldTransforms,y,d);return p.setAll(_),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(i,e,n,r):i instanceof ia?(function(u,d,g,y){if(!eh(u.precondition,d))return g;const p=n_(u.fieldTransforms,y,d),_=d.data;return _.setAll(mw(u)),_.setAll(p),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(i,e,n,r):(function(u,d,g){return eh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(i,e,n)}function t3(i,e){let n=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),u=cw(r.transform,o||null);u!=null&&(n===null&&(n=Bn.empty()),n.set(r.field,u))}return n||null}function e_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Jo(r,o,((u,d)=>JM(u,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class su extends Bh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ia extends Bh{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function mw(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function t_(i,e,n){const r=new Map;lt(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const u=i[o],d=u.transform,g=e.data.field(u.field);r.set(u.field,WM(d,g,n[o]))}return r}function n_(i,e,n){const r=new Map;for(const o of i){const u=o.transform,d=n.data.field(o.field);r.set(o.field,QM(u,d,e))}return r}class gw extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n3 extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class i3{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&e3(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ow();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(o.key)?null:g;const y=fw(d,g);y!==null&&r.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(De.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,((n,r)=>e_(n,r)))&&Jo(this.baseMutations,e.baseMutations,((n,r)=>e_(n,r)))}}class Lp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){lt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return HM})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new Lp(e,n,r,o)}}class s3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class r3{constructor(e,n){this.count=e,this.unchangedNames=n}}var nn,tt;function a3(i){switch(i){case re.OK:return Re(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Re(15467,{code:i})}}function pw(i){if(i===void 0)return $s("GRPC error has no .code"),re.UNKNOWN;switch(i){case nn.OK:return re.OK;case nn.CANCELLED:return re.CANCELLED;case nn.UNKNOWN:return re.UNKNOWN;case nn.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case nn.INTERNAL:return re.INTERNAL;case nn.UNAVAILABLE:return re.UNAVAILABLE;case nn.UNAUTHENTICATED:return re.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case nn.NOT_FOUND:return re.NOT_FOUND;case nn.ALREADY_EXISTS:return re.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return re.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case nn.ABORTED:return re.ABORTED;case nn.OUT_OF_RANGE:return re.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return re.UNIMPLEMENTED;case nn.DATA_LOSS:return re.DATA_LOSS;default:return Re(39323,{code:i})}}(tt=nn||(nn={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";function o3(){return new TextEncoder}const l3=new Br([4294967295,4294967295],0);function i_(i){const e=o3().encode(i),n=new RT;return n.update(e),new Uint8Array(n.digest())}function s_(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Br([n,r],0),new Br([o,u],0)]}class Vp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tc(`Invalid padding: ${n}`);if(r<0)throw new Tc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Tc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Br.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(Br.fromNumber(r)));return o.compare(l3)===1&&(o=new Br([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=i_(e),[r,o]=s_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,o,u);if(!this.we(d))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Vp(u,o,n);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const n=i_(e),[r,o]=s_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,o,u);this.be(d)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fh{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fh(De.min(),o,new Ot(We),Ks(),Xe())}}class ru{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ru(r,n,Xe(),Xe(),Xe())}}class th{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class yw{constructor(e,n){this.targetId=e,this.Ce=n}}class xw{constructor(e,n,r=Nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class r_{constructor(){this.ve=0,this.Fe=a_(),this.Me=Nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),r=Xe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Re(38017,{changeType:u})}})),new ru(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=a_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class c3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ks(),this.He=Ud(),this.Je=Ud(),this.Ze=new Ot(We)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Vg(u))if(r===0){const d=new Se(u.path);this.et(n,d,Cn.newNoDocument(d,De.min()))}else lt(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let d,g;try{d=Kr(r).toUint8Array()}catch(y){if(y instanceof BT)return Xo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Vp(d,o,u)}catch(y){return Xo(y instanceof Tc?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&Vg(g.target)){const y=new Se(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Cn.newNoDocument(y,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let r=Xe();this.Je.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new Fh(e,n,this.Ze,this.je,r);return this.je=Ks(),this.He=Ud(),this.Je=Ud(),this.Ze=new Ot(We),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new r_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new un(We),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new un(We),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new r_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ud(){return new Ot(Se.comparator)}function a_(){return new Ot(Se.comparator)}const u3={asc:"ASCENDING",desc:"DESCENDING"},d3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h3={and:"AND",or:"OR"};class f3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qg(i,e){return i.useProto3Json||Lh(e)?e:{value:e}}function bh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function m3(i,e){return bh(i,e.toTimestamp())}function fs(i){return lt(!!i,49232),De.fromTimestamp((function(n){const r=$r(n);return new jt(r.seconds,r.nanos)})(i))}function Up(i,e){return Bg(i,e).canonicalString()}function Bg(i,e){const n=(function(o){return new Tt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function vw(i){const e=Tt.fromString(i);return lt(Nw(e),10190,{key:e.toString()}),e}function Fg(i,e){return Up(i.databaseId,e.path)}function fg(i,e){const n=vw(e);if(n.get(1)!==i.databaseId.projectId)throw new be(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new be(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Se(Ew(n))}function _w(i,e){return Up(i.databaseId,e)}function g3(i){const e=vw(i);return e.length===4?Tt.emptyPath():Ew(e)}function Hg(i){return new Tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ew(i){return lt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function o_(i,e,n){return{name:Fg(i,e),fields:n.value.mapValue.fields}}function p3(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(p,_){return p.useProto3Json?(lt(_===void 0||typeof _=="string",58123),Nn.fromBase64String(_||"")):(lt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Nn.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const _=p.code===void 0?re.UNKNOWN:pw(p.code);return new be(_,p.message||"")})(d);n=new xw(r,o,u,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=fg(i,r.document.name),u=fs(r.document.updateTime),d=r.document.createTime?fs(r.document.createTime):De.min(),g=new Bn({mapValue:{fields:r.document.fields}}),y=Cn.newFoundDocument(o,u,d,g),p=r.targetIds||[],_=r.removedTargetIds||[];n=new th(p,_,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=fg(i,r.document),u=r.readTime?fs(r.readTime):De.min(),d=Cn.newNoDocument(o,u),g=r.removedTargetIds||[];n=new th([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=fg(i,r.document),u=r.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,d=new r3(o,u),g=r.targetId;n=new yw(g,d)}}return n}function y3(i,e){let n;if(e instanceof su)n={update:o_(i,e.key,e.value)};else if(e instanceof gw)n={delete:Fg(i,e.key)};else if(e instanceof ia)n={update:o_(i,e.key,e.data),updateMask:S3(e.fieldMask)};else{if(!(e instanceof n3))return Re(16599,{dt:e.type});n={verify:Fg(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const g=d.transform;if(g instanceof Gc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof $c)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Kc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof xh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Re(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:m3(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Re(27497)})(i,e.precondition)),n}function x3(i,e){return i&&i.length>0?(lt(e!==void 0,14353),i.map((n=>(function(o,u){let d=o.updateTime?fs(o.updateTime):fs(u);return d.isEqual(De.min())&&(d=fs(u)),new ZM(d,o.transformResults||[])})(n,e)))):[]}function b3(i,e){return{documents:[_w(i,e.path)]}}function v3(i,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_w(i,o);const u=(function(p){if(p.length!==0)return ww(Ui.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(p){if(p.length!==0)return p.map((_=>(function(N){return{field:qo(N.field),direction:T3(N.dir)}})(_)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=qg(i,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function _3(i){let e=g3(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){lt(r===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(E){const N=Tw(E);return N instanceof Ui&&JT(N)?N.getFilters():[N]})(n.where));let d=[];n.orderBy&&(d=(function(E){return E.map((N=>(function(Y){return new Hc(Bo(Y.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(N)))})(n.orderBy));let g=null;n.limit&&(g=(function(E){let N;return N=typeof E=="object"?E.value:E,Lh(N)?null:N})(n.limit));let y=null;n.startAt&&(y=(function(E){const N=!!E.before,L=E.values||[];return new yh(L,N)})(n.startAt));let p=null;return n.endAt&&(p=(function(E){const N=!E.before,L=E.values||[];return new yh(L,N)})(n.endAt)),LM(e,o,d,u,g,"F",y,p)}function E3(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Tw(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bo(n.unaryFilter.field);return sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Bo(n.unaryFilter.field);return sn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Bo(n.unaryFilter.field);return sn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Bo(n.unaryFilter.field);return sn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(i):i.fieldFilter!==void 0?(function(n){return sn.create(Bo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Ui.create(n.compositeFilter.filters.map((r=>Tw(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(n.compositeFilter.op))})(i):Re(30097,{filter:i})}function T3(i){return u3[i]}function w3(i){return d3[i]}function N3(i){return h3[i]}function qo(i){return{fieldPath:i.canonicalString()}}function Bo(i){return wn.fromServerFormat(i.fieldPath)}function ww(i){return i instanceof sn?(function(n){if(n.op==="=="){if(Yv(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NAN"}};if(Kv(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Yv(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NAN"}};if(Kv(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(n.field),op:w3(n.op),value:n.value}}})(i):i instanceof Ui?(function(n){const r=n.getFilters().map((o=>ww(o)));return r.length===1?r[0]:{compositeFilter:{op:N3(n.op),filters:r}}})(i):Re(54877,{filter:i})}function S3(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Nw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function Sw(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class Ur{constructor(e,n,r,o,u=De.min(),d=De.min(),g=Nn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class j3{constructor(e){this.yt=e}}function A3(i){const e=_3({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?zg(e,e.limit,"L"):e}class C3{constructor(){this.Sn=new R3}addToCollectionParentIndex(e,n){return this.Sn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Gr.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class R3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new un(Tt.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new un(Tt.comparator)).toArray()}}const l_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jw=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(jw,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);class tl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new tl(0)}static ar(){return new tl(-1)}}const c_="LruGarbageCollector",I3=1048576;function u_([i,e],[n,r]){const o=We(i,n);return o===0?We(e,r):o}class M3{constructor(e){this.Pr=e,this.buffer=new un(u_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();u_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class D3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){_e(c_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){dl(n)?_e(c_,"Ignoring IndexedDB error during garbage collection: ",n):await ul(n)}await this.Ar(3e5)}))}}class O3{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(kh.ce);const r=new M3(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(l_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,u,d,g,y,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,d=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(r=E,g=Date.now(),this.removeTargets(e,r,n)))).next((E=>(u=E,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(p=Date.now(),Uo()<=Qe.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-_}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${E} documents in `+(p-y)+`ms
Total Duration: ${p-_}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function P3(i,e){return new O3(i,e)}class k3{constructor(){this.changes=new Ya((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class L3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class V3{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Mc(r.mutation,o,ei.empty(),jt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Xe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Xe()){const o=Pa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let d=Ec();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=Pa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Xe())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(e,n,r,o){let u=Ks();const d=Ic(),g=(function(){return Ic()})();return n.forEach(((y,p)=>{const _=r.get(p.key);o.has(p.key)&&(_===void 0||_.mutation instanceof ia)?u=u.insert(p.key,p):_!==void 0?(d.set(p.key,_.mutation.getFieldMask()),Mc(_.mutation,p,_.mutation.getFieldMask(),jt.now())):d.set(p.key,ei.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((p,_)=>d.set(p,_))),n.forEach(((p,_)=>g.set(p,new L3(_,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,n){const r=Ic();let o=new Ot(((d,g)=>d-g)),u=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let _=r.get(y)||ei.empty();_=g.applyToLocalView(p,_),r.set(y,_);const E=(o.get(g.batchId)||Xe()).add(y);o=o.insert(g.batchId,E)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,_=y.value,E=ow();_.forEach((N=>{if(!u.has(N)){const L=fw(n.get(N),r.get(N));L!==null&&E.set(N,L),u=u.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,E))}return ae.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return VM(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):ae.resolve(Pa());let g=zc,y=u;return d.next((p=>ae.forEach(p,((_,E)=>(g<E.largestBatchId&&(g=E.largestBatchId),u.get(_)?ae.resolve():this.remoteDocumentCache.getEntry(e,_).next((N=>{y=y.insert(_,N)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,y,p,Xe()))).next((_=>({batchId:g,changes:aw(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next((r=>{let o=Ec();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let d=Ec();return this.indexManager.getCollectionParents(e,u).next((g=>ae.forEach(g,(y=>{const p=(function(E,N){return new hl(N,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((_=>{_.forEach(((E,N)=>{d=d.insert(E,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((d=>{u.forEach(((y,p)=>{const _=p.getKey();d.get(_)===null&&(d=d.insert(_,Cn.newInvalidDocument(_)))}));let g=Ec();return d.forEach(((y,p)=>{const _=u.get(y);_!==void 0&&Mc(_.mutation,p,ei.empty(),jt.now()),zh(n,p)&&(g=g.insert(y,p))})),g}))}}class U3{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ae.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:fs(o.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:A3(o.bundledQuery),readTime:fs(o.readTime)}})(n)),ae.resolve()}}class z3{constructor(){this.overlays=new Ot(Se.comparator),this.Lr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pa();return ae.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.bt(e,n,u)})),ae.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const o=Pa(),u=n.length+1,d=new Se(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>r&&o.set(y.getKey(),y)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new Ot(((p,_)=>p-_));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let _=u.get(p.largestBatchId);_===null&&(_=Pa(),u=u.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const g=Pa(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,_)=>g.set(p,_))),!(g.size()>=o)););return ae.resolve(g)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new s3(n,r));let u=this.Lr.get(n);u===void 0&&(u=Xe(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class q3{constructor(){this.sessionToken=Nn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class zp{constructor(){this.kr=new un(pn.Kr),this.qr=new un(pn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new pn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new pn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Se(new Tt([])),r=new pn(n,e),o=new pn(n,e+1),u=[];return this.qr.forEachInRange([r,o],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Se(new Tt([])),r=new pn(n,e),o=new pn(n,e+1);let u=Xe();return this.qr.forEachInRange([r,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new pn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Se.comparator(e.key,n.key)||We(e.Hr,n.Hr)}static Ur(e,n){return We(e.Hr,n.Hr)||Se.comparator(e.key,n.key)}}class B3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new un(pn.Kr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new i3(u,n,r,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new pn(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ae.resolve(d)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Rp:this.Yn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pn(n,0),o=new pn(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,o],(d=>{const g=this.Zr(d.Hr);u.push(g)})),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(We);return n.forEach((o=>{const u=new pn(o,0),d=new pn(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(g=>{r=r.add(g.Hr)}))})),ae.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;Se.isDocumentKey(u)||(u=u.child(""));const d=new pn(new Se(u),0);let g=new un(We);return this.Jr.forEachWhile((y=>{const p=y.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Hr)),!0)}),d),ae.resolve(this.Yr(g))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){lt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ae.forEach(n.mutations,(o=>{const u=new pn(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new pn(n,0),o=this.Jr.firstAfterOrEqual(r);return ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class F3{constructor(e){this.ti=e,this.docs=(function(){return new Ot(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,d=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=Ks();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Cn.newInvalidDocument(o))})),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=Ks();const d=n.path,g=new Se(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:_}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||mM(fM(_),r)<=0||(o.has(_.key)||zh(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,n,r,o){Re(9500)}ni(e,n){return ae.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new H3(this)}getSize(e){return ae.resolve(this.size)}}class H3 extends k3{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),ae.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class G3{constructor(e){this.persistence=e,this.ri=new Ya((n=>Dp(n)),Op),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.ii=0,this.si=new zp,this.targetCount=0,this.oi=tl._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ae.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new tl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.lr(n),ae.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),ae.waitFor(u).next((()=>o))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),ae.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this.si.containsKey(n))}}class Aw{constructor(e,n){this._i={},this.overlays={},this.ai=new kh(0),this.ui=!1,this.ui=!0,this.ci=new q3,this.referenceDelegate=e(this),this.li=new G3(this),this.indexManager=new C3,this.remoteDocumentCache=(function(o){return new F3(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new j3(n),this.Pi=new U3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new z3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new B3(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const o=new $3(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ae.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class $3 extends pM{constructor(e){super(),this.currentSequenceNumber=e}}class qp{constructor(e){this.persistence=e,this.Ri=new zp,this.Ai=null}static Vi(e){return new qp(e)}get di(){if(this.Ai)return this.Ai;throw Re(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,(r=>{const o=Se.fromPath(r);return this.mi(e,o).next((u=>{u||n.removeEntry(o,De.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.fi=new Ya((r=>bM(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=P3(this,n)}static Vi(e,n){return new vh(e,n)}Ti(){}Ii(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ae.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((u=>u?ae.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,n).next((g=>{g||(r++,u.removeEntry(d,De.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jd(e.data.value)),n}wr(e,n,r){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ae.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Bp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=Xe(),o=Xe();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Bp(e,n.fromCache,r,o)}}class K3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Y3{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return WA()?8:yM(Rn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,o,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new K3;return this.ys(e,n,d).next((g=>{if(u.result=g,this.As)return this.ws(e,n,d,g.size)}))})).next((()=>u.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(Uo()<=Qe.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(Uo()<=Qe.DEBUG&&_e("QueryEngine","Query:",zo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Uo()<=Qe.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ds(n))):ae.resolve())}gs(e,n){if(Jv(n))return ae.resolve(null);let r=ds(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=zg(n,null,"F"),r=ds(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=Xe(...u);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((y=>{const p=this.bs(n,g);return this.Ss(n,p,d,y.readTime)?this.gs(e,zg(n,null,"F")):this.Ds(e,p,n,y)}))))})))))}ps(e,n,r,o){return Jv(n)||o.isEqual(De.min())?ae.resolve(null):this.fs.getDocuments(e,r).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,r,o)?ae.resolve(null):(Uo()<=Qe.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),zo(n)),this.Ds(e,d,n,hM(o,zc)).next((g=>g)))}))}bs(e,n){let r=new un(sw(e));return n.forEach(((o,u)=>{zh(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,r){return Uo()<=Qe.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",zo(n)),this.fs.getDocumentsMatchingQuery(e,n,Gr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const Fp="LocalStore",Q3=3e8;class W3{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new Ot(We),this.Fs=new Ya((u=>Dp(u)),Op),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V3(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function X3(i,e,n,r){return new W3(i,e,n,r)}async function Cw(i,e){const n=Pe(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],g=[];let y=Xe();for(const p of o){d.push(p.batchId);for(const _ of p.mutations)y=y.add(_.key)}for(const p of u){g.push(p.batchId);for(const _ of p.mutations)y=y.add(_.key)}return n.localDocuments.getDocuments(r,y).next((p=>({Ns:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function J3(i,e){const n=Pe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,_){const E=p.batch,N=E.keys();let L=ae.resolve();return N.forEach((Y=>{L=L.next((()=>_.getEntry(y,Y))).next((B=>{const z=p.docVersions.get(Y);lt(z!==null,48541),B.version.compareTo(z)<0&&(E.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),_.addEntry(B)))}))})),L.next((()=>g.mutationQueue.removeMutationBatch(y,E)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=Xe();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function Rw(i){const e=Pe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function Z3(i,e){const n=Pe(i),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const g=[];e.targetChanges.forEach(((_,E)=>{const N=o.get(E);if(!N)return;g.push(n.li.removeMatchingKeys(u,_.removedDocuments,E).next((()=>n.li.addMatchingKeys(u,_.addedDocuments,E))));let L=N.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?L=L.withResumeToken(Nn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):_.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(_.resumeToken,r)),o=o.insert(E,L),(function(B,z,te){return B.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=Q3?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(N,L,_)&&g.push(n.li.updateTargetData(u,L))}));let y=Ks(),p=Xe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),g.push(eD(u,d,e.documentUpdates).next((_=>{y=_.Bs,p=_.Ls}))),!r.isEqual(De.min())){const _=n.li.getLastRemoteSnapshotVersion(u).next((E=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(_)}return ae.waitFor(g).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.vs=o,u)))}function eD(i,e,n){let r=Xe(),o=Xe();return n.forEach((u=>r=r.add(u))),e.getEntries(i,r).next((u=>{let d=Ks();return n.forEach(((g,y)=>{const p=u.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(De.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):_e(Fp,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{Bs:d,Ls:o}}))}function tD(i,e){const n=Pe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Rp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function nD(i,e){const n=Pe(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((u=>u?(o=u,ae.resolve(o)):n.li.allocateTargetId(r).next((d=>(o=new Ur(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Gg(i,e,n){const r=Pe(i),o=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!dl(d))throw d;_e(Fp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function d_(i,e,n){const r=Pe(i);let o=De.min(),u=Xe();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,_){const E=Pe(y),N=E.Fs.get(_);return N!==void 0?ae.resolve(E.vs.get(N)):E.li.getTargetData(p,_)})(r,d,ds(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,n?o:De.min(),n?u:Xe()))).next((g=>(iD(r,qM(e),g),{documents:g,ks:u})))))}function iD(i,e,n){let r=i.Ms.get(e)||De.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Ms.set(e,r)}class h_{constructor(){this.activeTargetIds=KM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sD{constructor(){this.vo=new h_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new h_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rD{Mo(e){}shutdown(){}}const f_="ConnectivityMonitor";class m_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){_e(f_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){_e(f_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let zd=null;function $g(){return zd===null?zd=(function(){return 268435456+Math.round(2147483648*Math.random())})():zd++,"0x"+zd.toString(16)}const mg="RestConnection",aD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class oD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===gh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,u){const d=$g(),g=this.Qo(e,n.toUriEncodedString());_e(mg,`Sending RPC '${e}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,u);const{host:p}=new URL(g),_=al(p);return this.zo(e,g,y,r,_).then((E=>(_e(mg,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw Xo(mg,`RPC '${e}' ${d} failed with error: `,E,"url: ",g,"request:",r),E}))}jo(e,n,r,o,u,d){return this.Wo(e,n,r,o,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const r=aD[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class lD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const jn="WebChannelConnection",yc=(i,e,n)=>{i.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Ko extends oD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ko.c_){const e=OT();yc(e,DT.STAT_EVENT,(n=>{n.stat===Dg.PROXY?_e(jn,"STAT_EVENT: detected buffering proxy"):n.stat===Dg.NOPROXY&&_e(jn,"STAT_EVENT: detected no buffering proxy")})),Ko.c_=!0}}zo(e,n,r,o,u){const d=$g();return new Promise(((g,y)=>{const p=new IT;p.setWithCredentials(!0),p.listenOnce(MT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Xd.NO_ERROR:const E=p.getResponseJson();_e(jn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),g(E);break;case Xd.TIMEOUT:_e(jn,`RPC '${e}' ${d} timed out`),y(new be(re.DEADLINE_EXCEEDED,"Request time out"));break;case Xd.HTTP_ERROR:const N=p.getStatus();if(_e(jn,`RPC '${e}' ${d} failed with status:`,N,"response text:",p.getResponseText()),N>0){let L=p.getResponseJson();Array.isArray(L)&&(L=L[0]);const Y=L?.error;if(Y&&Y.status&&Y.message){const B=(function(te){const J=te.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(J)>=0?J:re.UNKNOWN})(Y.status);y(new be(B,Y.message))}else y(new be(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new be(re.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{_e(jn,`RPC '${e}' ${d} completed.`)}}));const _=JSON.stringify(o);_e(jn,`RPC '${e}' ${d} sending request:`,o),p.send(n,"POST",_,r,15)}))}T_(e,n,r){const o=$g(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const p=u.join("");_e(jn,`Creating RPC '${e}' stream ${o}: ${p}`,g);const _=d.createWebChannel(p,g);this.I_(_);let E=!1,N=!1;const L=new lD({Ho:Y=>{N?_e(jn,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(E||(_e(jn,`Opening RPC '${e}' stream ${o} transport.`),_.open(),E=!0),_e(jn,`RPC '${e}' stream ${o} sending:`,Y),_.send(Y))},Jo:()=>_.close()});return yc(_,_c.EventType.OPEN,(()=>{N||(_e(jn,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),yc(_,_c.EventType.CLOSE,(()=>{N||(N=!0,_e(jn,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(_))})),yc(_,_c.EventType.ERROR,(Y=>{N||(N=!0,Xo(jn,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),L.o_(new be(re.UNAVAILABLE,"The operation could not be completed")))})),yc(_,_c.EventType.MESSAGE,(Y=>{if(!N){const B=Y.data[0];lt(!!B,16349);const z=B,te=z?.error||z[0]?.error;if(te){_e(jn,`RPC '${e}' stream ${o} received error:`,te);const J=te.status;let W=(function(he){const j=nn[he];if(j!==void 0)return pw(j)})(J),q=te.message;W===void 0&&(W=re.INTERNAL,q="Unknown error status: "+J+" with message "+te.message),N=!0,L.o_(new be(W,q)),_.close()}else _e(jn,`RPC '${e}' stream ${o} received:`,B),L.__(B)}})),Ko.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return PT()}}function cD(i){return new Ko(i)}function gg(){return typeof document<"u"?document:null}function Hh(i){return new f3(i,!0)}Ko.c_=!1;class Iw{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&_e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const g_="PersistentStream";class Mw{constructor(e,n,r,o,u,d,g,y){this.Ci=e,this.b_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Iw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?($s(n.toString()),$s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new be(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(g_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(_e(g_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uD extends Mw{constructor(e,n,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=p3(this.serializer,e),r=(function(u){if(!("targetChange"in u))return De.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?De.min():d.readTime?fs(d.readTime):De.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Hg(this.serializer),n.addTarget=(function(u,d){let g;const y=d.target;if(g=Vg(y)?{documents:b3(u,y)}:{query:v3(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=bw(u,d.resumeToken);const p=qg(u,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(De.min())>0){g.readTime=bh(u,d.snapshotVersion.toTimestamp());const p=qg(u,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const r=E3(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Hg(this.serializer),n.removeTarget=e,this.K_(n)}}class dD extends Mw{constructor(e,n,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=x3(e.writeResults,e.commitTime),r=fs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Hg(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>y3(this.serializer,r)))};this.K_(n)}}class hD{}class fD extends hD{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new be(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,Bg(n,r),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(re.UNKNOWN,u.toString())}))}jo(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,Bg(n,r),o,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new be(re.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function mD(i,e,n,r){return new fD(i,e,n,r)}class gD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($s(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ga="RemoteStore";class pD{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Qa(this)&&(_e(Ga,"Restarting streams for network reachability change."),await(async function(y){const p=Pe(y);p.Ea.add(4),await au(p),p.Va.set("Unknown"),p.Ea.delete(4),await Gh(p)})(this))}))})),this.Va=new gD(r,o)}}async function Gh(i){if(Qa(i))for(const e of i.Ra)await e(!0)}async function au(i){for(const e of i.Ra)await e(!1)}function Dw(i,e){const n=Pe(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Kp(n)?$p(n):fl(n).O_()&&Gp(n,e))}function Hp(i,e){const n=Pe(i),r=fl(n);n.Ia.delete(e),r.O_()&&Ow(n,e),n.Ia.size===0&&(r.O_()?r.L_():Qa(n)&&n.Va.set("Unknown"))}function Gp(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fl(i).Z_(e)}function Ow(i,e){i.da.$e(e),fl(i).X_(e)}function $p(i){i.da=new c3({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),fl(i).start(),i.Va.ua()}function Kp(i){return Qa(i)&&!fl(i).x_()&&i.Ia.size>0}function Qa(i){return Pe(i).Ea.size===0}function Pw(i){i.da=void 0}async function yD(i){i.Va.set("Online")}async function xD(i){i.Ia.forEach(((e,n)=>{Gp(i,e)}))}async function bD(i,e){Pw(i),Kp(i)?(i.Va.ha(e),$p(i)):i.Va.set("Unknown")}async function vD(i,e,n){if(i.Va.set("Online"),e instanceof xw&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(i,e)}catch(r){_e(Ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _h(i,r)}else if(e instanceof th?i.da.Xe(e):e instanceof yw?i.da.st(e):i.da.tt(e),!n.isEqual(De.min()))try{const r=await Rw(i.localStore);n.compareTo(r)>=0&&await(function(u,d){const g=u.da.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const _=u.Ia.get(p);_&&u.Ia.set(p,_.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const _=u.Ia.get(y);if(!_)return;u.Ia.set(y,_.withResumeToken(Nn.EMPTY_BYTE_STRING,_.snapshotVersion)),Ow(u,y);const E=new Ur(_.target,y,p,_.sequenceNumber);Gp(u,E)})),u.remoteSyncer.applyRemoteEvent(g)})(i,n)}catch(r){_e(Ga,"Failed to raise snapshot:",r),await _h(i,r)}}async function _h(i,e,n){if(!dl(e))throw e;i.Ea.add(1),await au(i),i.Va.set("Offline"),n||(n=()=>Rw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{_e(Ga,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Gh(i)}))}function kw(i,e){return e().catch((n=>_h(i,n,e)))}async function $h(i){const e=Pe(i),n=Qr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rp;for(;_D(e);)try{const o=await tD(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,ED(e,o)}catch(o){await _h(e,o)}Lw(e)&&Vw(e)}function _D(i){return Qa(i)&&i.Ta.length<10}function ED(i,e){i.Ta.push(e);const n=Qr(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function Lw(i){return Qa(i)&&!Qr(i).x_()&&i.Ta.length>0}function Vw(i){Qr(i).start()}async function TD(i){Qr(i).ra()}async function wD(i){const e=Qr(i);for(const n of i.Ta)e.ea(n.mutations)}async function ND(i,e,n){const r=i.Ta.shift(),o=Lp.from(r,e,n);await kw(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await $h(i)}async function SD(i,e){e&&Qr(i).Y_&&await(async function(r,o){if((function(d){return a3(d)&&d!==re.ABORTED})(o.code)){const u=r.Ta.shift();Qr(r).B_(),await kw(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await $h(r)}})(i,e),Lw(i)&&Vw(i)}async function p_(i,e){const n=Pe(i);n.asyncQueue.verifyOperationInProgress(),_e(Ga,"RemoteStore received new credentials");const r=Qa(n);n.Ea.add(3),await au(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Gh(n)}async function jD(i,e){const n=Pe(i);e?(n.Ea.delete(2),await Gh(n)):e||(n.Ea.add(2),await au(n),n.Va.set("Unknown"))}function fl(i){return i.ma||(i.ma=(function(n,r,o){const u=Pe(n);return u.sa(),new uD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:yD.bind(null,i),Yo:xD.bind(null,i),t_:bD.bind(null,i),J_:vD.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),Kp(i)?$p(i):i.Va.set("Unknown")):(await i.ma.stop(),Pw(i))}))),i.ma}function Qr(i){return i.fa||(i.fa=(function(n,r,o){const u=Pe(n);return u.sa(),new dD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:TD.bind(null,i),t_:SD.bind(null,i),ta:wD.bind(null,i),na:ND.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await $h(i)):(await i.fa.stop(),i.Ta.length>0&&(_e(Ga,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Yp{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new La,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const d=Date.now()+r,g=new Yp(e,n,d,o,u);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qp(i,e){if($s("AsyncQueue",`${e}: ${i}`),dl(i))return new be(re.UNAVAILABLE,`${e}: ${i}`);throw i}class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Se.comparator(n.key,r.key):(n,r)=>Se.comparator(n.key,r.key),this.keyedMap=Ec(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class y_{constructor(){this.ga=new Ot(Se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class nl{constructor(e,n,r,o,u,d,g,y,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,o,u){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new nl(e,n,Yo.emptySet(n),d,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class AD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class CD{constructor(){this.queries=x_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Pe(n),u=o.queries;o.queries=x_(),u.forEach(((d,g)=>{for(const y of g.ba)y.onError(r)}))})(this,new be(re.ABORTED,"Firestore shutting down"))}}function x_(){return new Ya((i=>iw(i)),Uh)}async function RD(i,e){const n=Pe(i);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(r=2):(u=new AD,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const g=Qp(d,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Wp(n)}async function ID(i,e){const n=Pe(i),r=e.query;let o=3;const u=n.queries.get(r);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function MD(i,e){const n=Pe(i);let r=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const g of d.ba)g.Fa(o)&&(r=!0);d.wa=o}}r&&Wp(n)}function DD(i,e,n){const r=Pe(i),o=r.queries.get(e);if(o)for(const u of o.ba)u.onError(n);r.queries.delete(e)}function Wp(i){i.Ca.forEach((e=>{e.next()}))}var Kg,b_;(b_=Kg||(Kg={})).Ma="default",b_.Cache="cache";class OD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new nl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kg.Cache}}class Uw{constructor(e){this.key=e}}class zw{constructor(e){this.key=e}}class PD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xe(),this.mutatedKeys=Xe(),this.eu=sw(e),this.tu=new Yo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new y_,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,E)=>{const N=o.get(_),L=zh(this.query,E)?E:null,Y=!!N&&this.mutatedKeys.has(N.key),B=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let z=!1;N&&L?N.data.isEqual(L.data)?Y!==B&&(r.track({type:3,doc:L}),z=!0):this.su(N,L)||(r.track({type:2,doc:L}),z=!0,(y&&this.eu(L,y)>0||p&&this.eu(L,p)<0)&&(g=!0)):!N&&L?(r.track({type:0,doc:L}),z=!0):N&&!L&&(r.track({type:1,doc:N}),z=!0,(y||p)&&(g=!0)),z&&(L?(d=d.add(L),u=B?u.add(_):u.delete(_)):(d=d.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const _=this.query.limitType==="F"?d.last():d.first();d=d.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{tu:d,iu:r,Ss:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((_,E)=>(function(L,Y){const B=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:z})}};return B(L)-B(Y)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(r),o=o??!1;const g=n&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,p=y!==this.Xa;return this.Xa=y,d.length!==0||p?{snapshot:new nl(this.query,e.tu,u,d,e.mutatedKeys,y===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new y_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Xe(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new zw(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new Uw(r))})),n}cu(e){this.Za=e.ks,this.Ya=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Xp="SyncEngine";class kD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LD{constructor(e){this.key=e,this.hu=!1}}class VD{constructor(e,n,r,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ya((g=>iw(g)),Uh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ot(Se.comparator),this.Au=new Map,this.Vu=new zp,this.du={},this.mu=new Map,this.fu=tl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UD(i,e,n=!0){const r=$w(i);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await qw(r,e,n,!0),o}async function zD(i,e){const n=$w(i);await qw(n,e,!0,!1)}async function qw(i,e,n,r){const o=await nD(i.localStore,ds(e)),u=o.targetId,d=i.sharedClientState.addLocalQueryTarget(u,n);let g;return r&&(g=await qD(i,e,u,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&Dw(i.remoteStore,o),g}async function qD(i,e,n,r,o){i.pu=(E,N,L)=>(async function(B,z,te,J){let W=z.view.ru(te);W.Ss&&(W=await d_(B.localStore,z.query,!1).then((({documents:j})=>z.view.ru(j,W))));const q=J&&J.targetChanges.get(z.targetId),oe=J&&J.targetMismatches.get(z.targetId)!=null,he=z.view.applyChanges(W,B.isPrimaryClient,q,oe);return __(B,z.targetId,he.au),he.snapshot})(i,E,N,L);const u=await d_(i.localStore,e,!0),d=new PD(e,u.ks),g=d.ru(u.documents),y=ru.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),p=d.applyChanges(g,i.isPrimaryClient,y);__(i,n,p.au);const _=new kD(e,n,d);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function BD(i,e,n){const r=Pe(i),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((d=>!Uh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Gg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Hp(r.remoteStore,o.targetId),Yg(r,o.targetId)})).catch(ul)):(Yg(r,o.targetId),await Gg(r.localStore,o.targetId,!0))}async function FD(i,e){const n=Pe(i),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hp(n.remoteStore,r.targetId))}async function HD(i,e,n){const r=XD(i);try{const o=await(function(d,g){const y=Pe(d),p=jt.now(),_=g.reduce(((L,Y)=>L.add(Y.key)),Xe());let E,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let Y=Ks(),B=Xe();return y.xs.getEntries(L,_).next((z=>{Y=z,Y.forEach(((te,J)=>{J.isValidDocument()||(B=B.add(te))}))})).next((()=>y.localDocuments.getOverlayedDocuments(L,Y))).next((z=>{E=z;const te=[];for(const J of g){const W=t3(J,E.get(J.key).overlayedDocument);W!=null&&te.push(new ia(J.key,W,QT(W.value.mapValue),hs.exists(!0)))}return y.mutationQueue.addMutationBatch(L,p,te,g)})).next((z=>{N=z;const te=z.applyToLocalDocumentSet(E,B);return y.documentOverlayCache.saveOverlays(L,z.batchId,te)}))})).then((()=>({batchId:N.batchId,changes:aw(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let p=d.du[d.currentUser.toKey()];p||(p=new Ot(We)),p=p.insert(g,y),d.du[d.currentUser.toKey()]=p})(r,o.batchId,n),await ou(r,o.changes),await $h(r.remoteStore)}catch(o){const u=Qp(o,"Failed to persist write");n.reject(u)}}async function Bw(i,e){const n=Pe(i);try{const r=await Z3(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?lt(d.hu,14607):o.removedDocuments.size>0&&(lt(d.hu,42227),d.hu=!1))})),await ou(n,r,e)}catch(r){await ul(r)}}function v_(i,e,n){const r=Pe(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=Pe(d);y.onlineState=g;let p=!1;y.queries.forEach(((_,E)=>{for(const N of E.ba)N.va(g)&&(p=!0)})),p&&Wp(y)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GD(i,e,n){const r=Pe(i);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let d=new Ot(Se.comparator);d=d.insert(u,Cn.newNoDocument(u,De.min()));const g=Xe().add(u),y=new Fh(De.min(),new Map,new Ot(We),d,g);await Bw(r,y),r.Ru=r.Ru.remove(u),r.Au.delete(e),Jp(r)}else await Gg(r.localStore,e,!1).then((()=>Yg(r,e,n))).catch(ul)}async function $D(i,e){const n=Pe(i),r=e.batch.batchId;try{const o=await J3(n.localStore,e);Hw(n,r,null),Fw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ou(n,o)}catch(o){await ul(o)}}async function KD(i,e,n){const r=Pe(i);try{const o=await(function(d,g){const y=Pe(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return y.mutationQueue.lookupMutationBatch(p,g).next((E=>(lt(E!==null,37113),_=E.keys(),y.mutationQueue.removeMutationBatch(p,E)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,_,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>y.localDocuments.getDocuments(p,_)))}))})(r.localStore,e);Hw(r,e,n),Fw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ou(r,o)}catch(o){await ul(o)}}function Fw(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Hw(i,e,n){const r=Pe(i);let o=r.du[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Yg(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((r=>{i.Vu.containsKey(r)||Gw(i,r)}))}function Gw(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(Hp(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),Jp(i))}function __(i,e,n){for(const r of n)r instanceof Uw?(i.Vu.addReference(r.key,e),YD(i,r)):r instanceof zw?(_e(Xp,"Document no longer in limbo: "+r.key),i.Vu.removeReference(r.key,e),i.Vu.containsKey(r.key)||Gw(i,r.key)):Re(19791,{wu:r})}function YD(i,e){const n=e.key,r=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(r)||(_e(Xp,"New document in limbo: "+n),i.Eu.add(r),Jp(i))}function Jp(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Se(Tt.fromString(e)),r=i.fu.next();i.Au.set(r,new LD(n)),i.Ru=i.Ru.insert(n,r),Dw(i.remoteStore,new Ur(ds(Pp(n.path)),r,"TargetPurposeLimboResolution",kh.ce))}}async function ou(i,e,n){const r=Pe(i),o=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,_?"current":"not-current")}if(p){o.push(p);const _=Bp.Es(y.targetId,p);u.push(_)}})))})),await Promise.all(d),r.Pu.J_(o),await(async function(y,p){const _=Pe(y);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ae.forEach(p,(N=>ae.forEach(N.Ts,(L=>_.persistence.referenceDelegate.addReference(E,N.targetId,L))).next((()=>ae.forEach(N.Is,(L=>_.persistence.referenceDelegate.removeReference(E,N.targetId,L)))))))))}catch(E){if(!dl(E))throw E;_e(Fp,"Failed to update sequence numbers: "+E)}for(const E of p){const N=E.targetId;if(!E.fromCache){const L=_.vs.get(N),Y=L.snapshotVersion,B=L.withLastLimboFreeSnapshotVersion(Y);_.vs=_.vs.insert(N,B)}}})(r.localStore,u))}async function QD(i,e){const n=Pe(i);if(!n.currentUser.isEqual(e)){_e(Xp,"User change. New user:",e.toKey());const r=await Cw(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new be(re.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ou(n,r.Ns)}}function WD(i,e){const n=Pe(i),r=n.Au.get(e);if(r&&r.hu)return Xe().add(r.key);{let o=Xe();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const g=n.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function $w(i){const e=Pe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GD.bind(null,e),e.Pu.J_=MD.bind(null,e.eventManager),e.Pu.yu=DD.bind(null,e.eventManager),e}function XD(i){const e=Pe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$D.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KD.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return X3(this.persistence,new Y3,e.initialUser,this.serializer)}Cu(e){return new Aw(qp.Vi,this.serializer)}Du(e){return new sD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class JD extends Eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){lt(this.persistence.referenceDelegate instanceof vh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new D3(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new Aw((r=>vh.Vi(r,n)),this.serializer)}}class Qg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>v_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QD.bind(null,this.syncEngine),await jD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CD})()}createDatastore(e){const n=Hh(e.databaseInfo.databaseId),r=cD(e.databaseInfo);return mD(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,d,g){return new pD(r,o,u,d,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>v_(this.syncEngine,n,0)),(function(){return m_.v()?new m_:new rD})())}createSyncEngine(e,n){return(function(o,u,d,g,y,p,_){const E=new VD(o,u,d,g,y,p);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Pe(n);_e(Ga,"RemoteStore shutting down."),r.Ea.add(5),await au(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Qg.provider={build:()=>new Qg};class ZD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$s("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Wr="FirestoreClient";class eO{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=An.UNAUTHENTICATED,this.clientId=Cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{_e(Wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(_e(Wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new La;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function pg(i,e){i.asyncQueue.verifyOperationInProgress(),_e(Wr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Cw(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function E_(i,e){i.asyncQueue.verifyOperationInProgress();const n=await tO(i);_e(Wr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>p_(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>p_(e.remoteStore,o))),i._onlineComponents=e}async function tO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){_e(Wr,"Using user provided OfflineComponentProvider");try{await pg(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Xo("Error using user provided cache. Falling back to memory cache: "+n),await pg(i,new Eh)}}else _e(Wr,"Using default OfflineComponentProvider"),await pg(i,new JD(void 0));return i._offlineComponents}async function Kw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(_e(Wr,"Using user provided OnlineComponentProvider"),await E_(i,i._uninitializedComponentsProvider._online)):(_e(Wr,"Using default OnlineComponentProvider"),await E_(i,new Qg))),i._onlineComponents}function nO(i){return Kw(i).then((e=>e.syncEngine))}async function T_(i){const e=await Kw(i),n=e.eventManager;return n.onListen=UD.bind(null,e.syncEngine),n.onUnlisten=BD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FD.bind(null,e.syncEngine),n}function iO(i,e,n,r){const o=new ZD(r),u=new OD(e,o,n);return i.asyncQueue.enqueueAndForget((async()=>RD(await T_(i),u))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((async()=>ID(await T_(i),u)))}}function sO(i,e){const n=new La;return i.asyncQueue.enqueueAndForget((async()=>HD(await nO(i),e,n))),n.promise}function Yw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const rO="ComponentProvider",w_=new Map;function aO(i,e,n,r,o){return new EM(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Yw(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const Qw="firestore.googleapis.com",N_=!0;class S_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qw,this.ssl=N_}else this.host=e.host,this.ssl=e.ssl??N_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I3)throw new be(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yw(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tM;switch(r.type){case"firstParty":return new rM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=w_.get(n);r&&(_e(rO,"Removing Datastore"),w_.delete(n),r.terminate())})(this),Promise.resolve()}}function oO(i,e,n,r={}){i=Va(i,Kh);const o=al(e),u=i._getSettings(),d={...u,emulatorOptions:i._getEmulatorOptions()},g=`${e}:${n}`;o&&(_E(`https://${g}`),EE("Firestore",!0)),u.host!==Qw&&u.host!==g&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:o,emulatorOptions:r};if(!Hr(y,d)&&(i._setSettings(y),r.mockUserToken)){let p,_;if(typeof r.mockUserToken=="string")p=r.mockUserToken,_=An.MOCK_USER;else{p=BA(r.mockUserToken,i._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new be(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new An(E)}i._authCredentials=new nM(new LT(p,_))}}class Wa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wa(this.firestore,e,this._query)}}class an{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}toJSON(){return{type:an._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(iu(n,an._jsonSchema))return new an(e,r||null,new Se(Tt.fromString(n.referencePath)))}}an._jsonSchemaVersion="firestore/documentReference/1.0",an._jsonSchema={type:rn("string",an._jsonSchemaVersion),referencePath:rn("string")};class Fr extends Wa{constructor(e,n,r){super(e,n,Pp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new Se(e))}withConverter(e){return new Fr(this.firestore,e,this._path)}}function j_(i,e,...n){if(i=Bt(i),VT("collection","path",e),i instanceof Kh){const r=Tt.fromString(e,...n);return Vv(r),new Fr(i,null,r)}{if(!(i instanceof an||i instanceof Fr))throw new be(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Tt.fromString(e,...n));return Vv(r),new Fr(i.firestore,null,r)}}function Ww(i,e,...n){if(i=Bt(i),arguments.length===1&&(e=Cp.newId()),VT("doc","path",e),i instanceof Kh){const r=Tt.fromString(e,...n);return Lv(r),new an(i,null,new Se(r))}{if(!(i instanceof an||i instanceof Fr))throw new be(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Tt.fromString(e,...n));return Lv(r),new an(i.firestore,i instanceof Fr?i.converter:null,new Se(r))}}const A_="AsyncQueue";class C_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Iw(this,"async_queue_retry"),this._c=()=>{const r=gg();r&&_e(A_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=gg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new La;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!dl(e))throw e;_e(A_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,$s("INTERNAL UNHANDLED ERROR: ",R_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Yp.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:R_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function R_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Yc extends Kh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new C_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C_(e),this._firestoreClient=void 0,await e}}}function lO(i,e){const n=typeof i=="object"?i:up(),r=typeof i=="string"?i:gh,o=Ka(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=zA("firestore");u&&oO(o,...u)}return o}function Xw(i){if(i._terminated)throw new be(re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||cO(i),i._firestoreClient}function cO(i){const e=i._freezeSettings(),n=aO(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new eO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class xi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xi(Nn.fromBase64String(e))}catch(n){throw new be(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xi(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,xi._jsonSchema))return xi.fromBase64String(e.bytes)}}xi._jsonSchemaVersion="firestore/bytes/1.0",xi._jsonSchema={type:rn("string",xi._jsonSchemaVersion),bytes:rn("string")};class Zp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yh{constructor(e){this._methodName=e}}class ms{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ms._jsonSchemaVersion}}static fromJSON(e){if(iu(e,ms._jsonSchema))return new ms(e.latitude,e.longitude)}}ms._jsonSchemaVersion="firestore/geoPoint/1.0",ms._jsonSchema={type:rn("string",ms._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};class ki{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ki(e.vectorValues);throw new be(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:rn("string",ki._jsonSchemaVersion),vectorValues:rn("object")};const uO=/^__.*__$/;class dO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}class Jw{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ia(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Zw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{dataSource:i})}}class ey{constructor(e,n,r,o,u,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ey({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Th(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Zw(this.dataSource)&&uO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class hO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hh(e)}createContext(e,n,r,o=!1){return new ey({dataSource:e,methodName:n,targetDoc:r,path:wn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ty(i){const e=i._freezeSettings(),n=Hh(i._databaseId);return new hO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function fO(i,e,n,r,o,u={}){const d=i.createContext(u.merge||u.mergeFields?2:0,e,n,o);iy("Data must be an object, but it was:",d,r);const g=eN(r,d);let y,p;if(u.merge)y=new ei(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const _=[];for(const E of u.mergeFields){const N=il(e,E,n);if(!d.contains(N))throw new be(re.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);iN(_,N)||_.push(N)}y=new ei(_),p=d.fieldTransforms.filter((E=>y.covers(E.field)))}else y=null,p=d.fieldTransforms;return new dO(new Bn(g),y,p)}class Qh extends Yh{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qh}}class ny extends Yh{_toFieldTransform(e){return new XM(e.path,new Gc)}isEqual(e){return e instanceof ny}}function mO(i,e,n,r){const o=i.createContext(1,e,n);iy("Data must be an object, but it was:",o,r);const u=[],d=Bn.empty();na(r,((y,p)=>{const _=nN(e,y,n);p=Bt(p);const E=o.childContextForFieldPath(_);if(p instanceof Qh)u.push(_);else{const N=lu(p,E);N!=null&&(u.push(_),d.set(_,N))}}));const g=new ei(u);return new Jw(d,g,o.fieldTransforms)}function gO(i,e,n,r,o,u){const d=i.createContext(1,e,n),g=[il(e,r,n)],y=[o];if(u.length%2!=0)throw new be(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)g.push(il(e,u[N])),y.push(u[N+1]);const p=[],_=Bn.empty();for(let N=g.length-1;N>=0;--N)if(!iN(p,g[N])){const L=g[N];let Y=y[N];Y=Bt(Y);const B=d.childContextForFieldPath(L);if(Y instanceof Qh)p.push(L);else{const z=lu(Y,B);z!=null&&(p.push(L),_.set(L,z))}}const E=new ei(p);return new Jw(_,E,d.fieldTransforms)}function pO(i,e,n,r=!1){return lu(n,i.createContext(r?4:3,e))}function lu(i,e){if(tN(i=Bt(i)))return iy("Unsupported field value:",e,i),eN(i,e);if(i instanceof Yh)return(function(r,o){if(!Zw(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const u=[];let d=0;for(const g of r){let y=lu(g,o.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(i,e)}return(function(r,o){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YM(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=jt.fromDate(r);return{timestampValue:bh(o.serializer,u)}}if(r instanceof jt){const u=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bh(o.serializer,u)}}if(r instanceof ms)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xi)return{bytesValue:bw(o.serializer,r._byteString)};if(r instanceof an){const u=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Up(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ki)return(function(d,g){const y=d instanceof ki?d.toArray():d;return{mapValue:{fields:{[KT]:{stringValue:YT},[ph]:{arrayValue:{values:y.map((_=>{if(typeof _!="number")throw g.createError("VectorValues must only contain numeric values.");return kp(g.serializer,_)}))}}}}}})(r,o);if(Sw(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Ph(r)}`)})(i,e)}function eN(i,e){const n={};return qT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(i,((r,o)=>{const u=lu(o,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function tN(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof jt||i instanceof ms||i instanceof xi||i instanceof an||i instanceof Yh||i instanceof ki||Sw(i))}function iy(i,e,n){if(!tN(n)||!UT(n)){const r=Ph(n);throw r==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+r)}}function il(i,e,n){if((e=Bt(e))instanceof Zp)return e._internalPath;if(typeof e=="string")return nN(i,e);throw Th("Field path arguments must be of type string or ",i,!1,void 0,n)}const yO=new RegExp("[~\\*/\\[\\]]");function nN(i,e,n){if(e.search(yO)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Zp(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Th(i,e,n,r,o){const u=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${o}`),y+=")"),new be(re.INVALID_ARGUMENT,g+i+y)}function iN(i,e){return i.some((n=>n.isEqual(e)))}class xO{convertValue(e,n="none"){switch(Yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return na(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[ph].arrayValue?.values?.map((r=>Kt(r.doubleValue)));return new ki(n)}convertGeoPoint(e){return new ms(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const n=$r(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Tt.fromString(e);lt(Nw(r),9688,{name:e});const o=new Bc(r.get(1),r.get(3)),u=new Se(r.popFirst(5));return o.isEqual(n)||$s(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class sN extends xO{constructor(e){super(),this.firestore=e}convertBytes(e){return new xi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function yg(){return new ny("serverTimestamp")}const I_="@firebase/firestore",M_="4.10.0";function D_(i){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class rN{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(il("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bO extends rN{data(){return super.data()}}function vO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new be(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sy{}class aN extends sy{}function _O(i,e,...n){let r=[];e instanceof sy&&r.push(e),r=r.concat(n),(function(u){const d=u.filter((y=>y instanceof ay)).length,g=u.filter((y=>y instanceof ry)).length;if(d>1||d>0&&g>0)throw new be(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class ry extends aN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ry(e,n,r)}_apply(e){const n=this._parse(e);return oN(e._query,n),new Wa(e.firestore,e.converter,Ug(e._query,n))}_parse(e){const n=ty(e.firestore);return(function(u,d,g,y,p,_,E){let N;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new be(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){P_(E,_);const Y=[];for(const B of E)Y.push(O_(y,u,B));N={arrayValue:{values:Y}}}else N=O_(y,u,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||P_(E,_),N=pO(g,d,E,_==="in"||_==="not-in");return sn.create(p,_,N)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ay extends sy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ay(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let d=o;const g=u.getFlattenedFilters();for(const y of g)oN(d,y),d=Ug(d,y)})(e._query,n),new Wa(e.firestore,e.converter,Ug(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class oy extends aN{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new oy(e,n)}_apply(e){const n=(function(o,u,d){if(o.startAt!==null)throw new be(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new be(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hc(u,d)})(e._query,this._field,this._direction);return new Wa(e.firestore,e.converter,zM(e._query,n))}}function EO(i,e="asc"){const n=e,r=il("orderBy",i);return oy._create(r,n)}function O_(i,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new be(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nw(e)&&n.indexOf("/")!==-1)throw new be(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Tt.fromString(n));if(!Se.isDocumentKey(r))throw new be(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $v(i,new Se(r))}if(n instanceof an)return $v(i,n._key);throw new be(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ph(n)}.`)}function P_(i,e){if(!Array.isArray(i)||i.length===0)throw new be(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oN(i,e){const n=(function(o,u){for(const d of o)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function TO(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class wc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ua extends rN{constructor(e,n,r,o,u,d){super(e,n,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(il("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ua._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ua._jsonSchema={type:rn("string",Ua._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class nh extends Ua{data(e={}){return super.data(e)}}class Qo{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new wc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new nh(this._firestore,this._userDataWriter,r.key,r,new wc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new nh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new wc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new nh(o._firestore,o._userDataWriter,g.doc.key,g.doc,new wc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,_=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),_=d.indexOf(g.doc.key)),{type:wO(g.type),doc:y,oldIndex:p,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:i})}}Qo._jsonSchemaVersion="firestore/querySnapshot/1.0",Qo._jsonSchema={type:rn("string",Qo._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};function k_(i,e,n,...r){i=Va(i,an);const o=Va(i.firestore,Yc),u=ty(o);let d;return d=typeof(e=Bt(e))=="string"||e instanceof Zp?gO(u,"updateDoc",i._key,e,n,r):mO(u,"updateDoc",i._key,e),lN(o,[d.toMutation(i._key,hs.exists(!0))])}function NO(i,e){const n=Va(i.firestore,Yc),r=Ww(i),o=TO(i.converter,e),u=ty(i.firestore);return lN(n,[fO(u,"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,hs.exists(!1))]).then((()=>r))}function SO(i,...e){i=Bt(i);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||D_(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(D_(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let u,d,g;if(i instanceof an)d=Va(i.firestore,Yc),g=Pp(i._key.path),u={next:p=>{e[r]&&e[r](jO(d,i,p))},error:e[r+1],complete:e[r+2]};else{const p=Va(i,Wa);d=Va(p.firestore,Yc),g=p._query;const _=new sN(d);u={next:E=>{e[r]&&e[r](new Qo(d,_,p,E))},error:e[r+1],complete:e[r+2]},vO(i._query)}const y=Xw(d);return iO(y,g,o,u)}function lN(i,e){const n=Xw(i);return sO(n,e)}function jO(i,e,n){const r=n.docs.get(e._key),o=new sN(i);return new Ua(i,o,e._key,r,new wc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){eM(ol),gs(new Vi("firestore",((r,{instanceIdentifier:o,options:u})=>{const d=r.getProvider("app").getImmediate(),g=new Yc(new iM(r.getProvider("auth-internal")),new aM(d,r.getProvider("app-check-internal")),TM(d,o),d);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),bi(I_,M_,e),bi(I_,M_,"esm2020")})();const cN={apiKey:"AIzaSyBrTZY2DOv714a8O1uuaMxAczguSX292SE",authDomain:"professionalengineer-a104d.firebaseapp.com",projectId:"professionalengineer-a104d",storageBucket:"professionalengineer-a104d.firebasestorage.app",messagingSenderId:"539571105207",appId:"1:539571105207:web:bfdaeb4d398de90eb70c32",measurementId:"G-RBCKLQFNLW"},uN=Object.values(cN).every(i=>i&&!i.startsWith("REPLACE_WITH_")),ly=iv().length?iv()[0]:jE(cN),Ma=AR(ly),xg=lO(ly);uN&&WI().then(i=>{i&&YI(ly)}).catch(()=>{});function kt(){const[i,e]=k.useState(null),n=Jr();return k.useEffect(()=>bp(Ma,o=>{e(o)}),[]),l.jsxs("div",{className:"sticky top-0 z-30",children:[l.jsx(pe,{to:"/contact",className:"block bg-gray-900 text-white text-sm","aria-label":`Reach out for quotes on plans,\r
          review/analysis, calculation, freelance, or expert witness work. Sealing and stamping when appropriate.`,children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-2 text-center",children:[l.jsx("span",{className:"underline",children:"Reach out"})," for quotes on plans, review/analysis, calculation, freelance, or expert witness work. Sealing and stamping when appropriate."]})}),l.jsx("div",{className:"bg-white border-b border-gray-200",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-3 flex items-center justify-between",children:[l.jsx(pe,{to:"/",className:"text-sm text-gray-700 hover:text-gray-900 transition-colors",children:"Professional Engineer, Missouri"}),l.jsxs("nav",{"aria-label":"Primary navigation",className:"flex items-center gap-6 text-sm",children:[i?l.jsx(pe,{to:"/dashboard",className:n.pathname.startsWith("/dashboard")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Dashboard"}):l.jsx(pe,{to:"/contact",className:n.pathname.startsWith("/contact")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Contact"}),l.jsx(pe,{to:"/toolbox",className:n.pathname.startsWith("/toolbox")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Toolbox"}),l.jsx(pe,{to:"/blog",className:n.pathname.startsWith("/blog")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Blog"}),l.jsx(pe,{to:"/portal",className:n.pathname.startsWith("/portal")?"text-gray-900 border-b-2 border-gray-900":"text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:i?"Signed In":"Register / Login"})]})]})})]})}function AO(){return l.jsxs("div",{className:"min-h-screen flex flex-col",children:[l.jsx(kt,{}),l.jsx("header",{className:"bg-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Professional Engineering Services â€” Missouri"}),l.jsx("p",{className:"text-lg text-gray-700",children:"Independent professional practice licensed in Missouri. Engineering services, analysis, and review."})]})}),l.jsxs("main",{className:"flex-1",children:[l.jsx("section",{className:"bg-white py-12 md:py-16",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"Scope of Practice"}),l.jsx("p",{className:"text-lg text-gray-700",children:"This practice provides engineering services involving professional analysis, review, and judgment. Work is performed in accordance with applicable Missouri statutes and professional engineering rules. Professional liability insurance is maintained."})]})}),l.jsx("section",{className:"bg-gray-50 py-12 md:py-16",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"Services Overview"}),l.jsxs("ul",{className:"space-y-3 text-gray-700",children:[l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),l.jsx("span",{children:"Engineering drawings and calculations"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),l.jsx("span",{children:"Engineering review and opinion"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),l.jsx("span",{children:"Professional Engineer sealing when appropriate"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),l.jsx("span",{children:"Forensic engineering analysis"})]}),l.jsxs("li",{className:"flex items-start",children:[l.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),l.jsx("span",{children:"Expert engineering opinion and testimony"})]})]})]})}),l.jsx("section",{className:"bg-white py-12 md:py-16",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"Client Portal"}),l.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Clients may access a secure portal for document exchange, communication, and project tracking. Portal access is not a substitute for professional engagement."}),l.jsx(pe,{to:"/portal",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Portal Login"})]})}),l.jsx("section",{className:"bg-gray-50 py-12 md:py-16",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"About the Engineer"}),l.jsxs("div",{className:"grid gap-6 md:grid-cols-[180px,1fr] items-center",children:[l.jsx("div",{className:"w-full max-w-[180px]",children:l.jsxs("picture",{children:[l.jsx("source",{srcSet:RA,type:"image/webp"}),l.jsx("img",{src:IA,width:"180",height:"220",alt:"Portrait of the engineer",className:"block w-full h-auto border border-gray-200",loading:"lazy",decoding:"async"})]})}),l.jsxs("div",{className:"space-y-4 text-lg text-gray-700",children:[l.jsx("p",{children:"I am a licensed Professional Engineer in Missouri. My educational background includes aerospace engineering, agriculture engineering, and computer engineering."}),l.jsx("p",{children:"I have experience designing and reviewing complex systems involving software, distributed systems, control systems, and embedded and hardware-adjacent systems. I have led engineering teams and reviewed work produced by others. My work has involved regulated environments and formal verification and testing."}),l.jsx("p",{children:"I am engaged in ongoing advanced study in control systems."}),l.jsx("p",{children:"I live and work in Missouri with my wife and son."})]})]})]})})]}),l.jsx(Pt,{})]})}function CO(){return l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-12 md:py-16",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Contact"}),l.jsxs("p",{className:"text-lg text-gray-700 mb-8",children:["Initial contact precedes any engagement. The form below is used for intake and scheduling. Submissions are sent to"," ",l.jsx("a",{href:"mailto:seth.kitchen@seth.kitchen",className:"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"seth.kitchen@seth.kitchen"}),"."]}),l.jsxs("form",{action:"https://formspree.io/f/maqqndgz",method:"POST",className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"name",children:"Name"}),l.jsx("input",{id:"name",name:"name",type:"text",required:!0,autoComplete:"name",className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"email",children:"Email"}),l.jsx("input",{id:"email",name:"email",type:"email",required:!0,autoComplete:"email",className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"organization",children:"Organization (optional)"}),l.jsx("input",{id:"organization",name:"organization",type:"text",autoComplete:"organization",className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"message",children:"Description"}),l.jsx("textarea",{id:"message",name:"message",rows:6,required:!0,className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded bg-gray-900 px-4 py-2 text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2",children:"Submit"})})]})]})}),l.jsx(Pt,{})]})}function RO(){const[i,e]=k.useState(null),[n,r]=k.useState("signin"),[o,u]=k.useState(""),[d,g]=k.useState(""),[y,p]=k.useState(null),[_,E]=k.useState(!1),N=k.useMemo(()=>uN,[]);k.useEffect(()=>bp(Ma,te=>{e(te)}),[]);const L=async()=>{p(null),E(!0);try{const z=new Vs;await LC(Ma,z)}catch{p("Unable to complete Google sign-in. Please try again.")}finally{E(!1)}},Y=async z=>{z.preventDefault(),p(null),E(!0);try{n==="register"?await fC(Ma,o,d):await mC(Ma,o,d)}catch{p("Unable to complete the request. Verify credentials and try again.")}finally{E(!1)}},B=async()=>{await yC(Ma)};return l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-12 md:py-16",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Client Portal"}),l.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Portal access supports document exchange and project tracking. Access is provided after intake and confirmation of engagement."}),!N&&l.jsx("div",{className:"mb-8 rounded border border-gray-300 bg-gray-50 p-4 text-sm text-gray-700",children:"Portal authentication is not configured. Set the Firebase environment variables before enabling login."}),i?l.jsxs("div",{className:"rounded border border-gray-200 p-6",children:[l.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Signed in as"}),l.jsx("div",{className:"text-gray-900 font-medium",children:i.email??"Authenticated user"}),l.jsx("button",{type:"button",onClick:B,className:"mt-6 inline-flex items-center justify-center rounded border border-gray-300 px-4 py-2 text-gray-900 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2",children:"Sign out"})]}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"flex gap-4 text-sm",children:[l.jsx("button",{type:"button",onClick:()=>r("signin"),className:`border-b-2 ${n==="signin"?"border-gray-900 text-gray-900":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Sign in"}),l.jsx("button",{type:"button",onClick:()=>r("register"),className:`border-b-2 ${n==="register"?"border-gray-900 text-gray-900":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Register"})]}),l.jsx("button",{type:"button",onClick:L,disabled:!N||_,className:"inline-flex items-center justify-center rounded border border-gray-300 px-4 py-2 text-gray-900 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 disabled:opacity-50",children:"Continue with Google"}),l.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"portal-email",children:"Email"}),l.jsx("input",{id:"portal-email",name:"email",type:"email",required:!0,autoComplete:"email",value:o,onChange:z=>u(z.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"portal-password",children:"Password"}),l.jsx("input",{id:"portal-password",name:"password",type:"password",required:!0,autoComplete:n==="register"?"new-password":"current-password",value:d,onChange:z=>g(z.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),y&&l.jsx("div",{className:"text-sm text-red-700",children:y}),l.jsx("button",{type:"submit",disabled:!N||_,className:"inline-flex items-center justify-center rounded bg-gray-900 px-4 py-2 text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 disabled:opacity-50",children:n==="register"?"Create account":"Sign in"})]})]})]})}),l.jsx(Pt,{})]})}function IO(){const[i,e]=k.useState(null),[n,r]=k.useState([]),[o,u]=k.useState(null),[d,g]=k.useState(""),[y,p]=k.useState(""),[_,E]=k.useState(""),[N,L]=k.useState(""),[Y,B]=k.useState(null),[z,te]=k.useState(null),[J,W]=k.useState(null),[q,oe]=k.useState(!1),[he,j]=k.useState(!1),S=700*1024,A=k.useRef(null);k.useEffect(()=>bp(Ma,ye=>{e(ye)}),[]),k.useEffect(()=>{if(!i){r([]);return}const we=_O(j_(xg,"users",i.uid,"projects"),EO("createdAt","desc"));return SO(we,X=>{const le=X.docs.map(fe=>{const Me=fe.data();return{id:fe.id,title:Me.title??"",description:Me.description??"",fileUrl:Me.fileUrl??void 0,fileName:Me.fileName??void 0,fileType:Me.fileType??void 0,fileData:Me.fileData??void 0,createdAt:Me.createdAt?.toDate?.()}});r(le),le.length>0&&!o&&u(le[0].id),W(null)},()=>{r([]),W("Permission denied reading projects. Update Firestore rules to allow signed-in access.")})},[i]);const C=k.useMemo(()=>!!i&&d.trim().length>0&&y.trim().length>0,[i,d,y]),M=k.useMemo(()=>n.find(we=>we.id===o)??null,[n,o]);k.useEffect(()=>{if(!M){E(""),L("");return}E(M.title),L(M.description)},[M]);const V=async we=>{if(we.preventDefault(),!i){W("Please sign in to create a project.");return}W(null),oe(!0);try{let ye,X,le,fe;if(z){if(z.size>S){W("File is too large for inline storage. Use a smaller file or enable Storage."),oe(!1);return}fe=await new Promise((Me,He)=>{const O=new FileReader;O.onload=()=>Me(O.result),O.onerror=()=>He(new Error("File read failed")),O.readAsDataURL(z)}),X=z.name,le=z.type||"application/octet-stream",ye=fe}await NO(j_(xg,"users",i.uid,"projects"),{title:d.trim(),description:y.trim(),fileUrl:ye??null,fileName:X??null,fileType:le??null,fileData:fe??null,createdAt:yg()}),g(""),p(""),te(null),A.current&&(A.current.value="")}catch{W("Unable to create the project. Check Firestore rules and try again.")}finally{oe(!1)}},R=async we=>{if(!(!i||!M)){W(null),j(!0);try{const ye=Ww(xg,"users",i.uid,"projects",M.id);we==="title"&&await k_(ye,{title:_.trim(),updatedAt:yg()}),we==="description"&&await k_(ye,{description:N.trim(),updatedAt:yg()}),B(null)}catch{W("Unable to save changes. Please try again.")}finally{j(!1)}}};return l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Dashboard"}),l.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Project records and documents are available only after authentication."}),!i&&l.jsxs("div",{className:"rounded border border-gray-200 bg-gray-50 p-6 text-gray-700",children:[l.jsx("p",{className:"mb-4",children:"You must be signed in to view or create projects."}),l.jsx(pe,{to:"/portal",className:"inline-flex items-center justify-center rounded border border-gray-300 px-4 py-2 text-gray-900 hover:border-gray-400",children:"Go to portal"})]}),i&&l.jsxs("div",{className:"grid gap-10",children:[l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-4",children:"Existing Projects"}),n.length===0?l.jsx("p",{className:"text-gray-700",children:"No projects on file."}):l.jsxs("div",{className:"grid gap-6 grid-cols-2",children:[l.jsx("div",{className:"space-y-3",children:n.map(we=>l.jsxs("button",{type:"button",onClick:()=>u(we.id),className:`w-full rounded border px-4 py-3 text-left transition-colors ${we.id===o?"border-gray-900 bg-gray-50 text-gray-900":"border-gray-200 text-gray-700 hover:border-gray-400"}`,children:[l.jsx("div",{className:"text-sm font-medium",children:we.title}),l.jsx("div",{className:"text-xs text-gray-600 line-clamp-2",children:we.description})]},we.id))}),l.jsx("div",{className:"rounded border border-gray-200 p-4",children:M?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-600",children:"Selected project"}),l.jsx("div",{className:"flex items-center gap-2",children:Y==="title"?l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("label",{className:"sr-only",htmlFor:"edit-title",children:"Title"}),l.jsx("input",{id:"edit-title",name:"edit-title",type:"text",required:!0,value:_,onChange:we=>E(we.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"}),l.jsxs("div",{className:"flex gap-3 text-sm",children:[l.jsx("button",{type:"button",onClick:()=>R("title"),disabled:he,className:"text-gray-900 border-b border-gray-400 hover:border-gray-600 disabled:opacity-50",children:"Save"}),l.jsx("button",{type:"button",onClick:()=>{E(M.title),B(null)},className:"text-gray-700 border-b border-gray-300 hover:border-gray-500",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-lg text-gray-900",children:M.title}),l.jsx("button",{type:"button",onClick:()=>B("title"),className:"text-gray-600 hover:text-gray-900","aria-label":"Edit title",children:l.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 20 20",className:"h-4 w-4",fill:"currentColor",children:l.jsx("path",{d:"M14.69 2.86a2.25 2.25 0 0 1 3.18 3.18l-9.5 9.5-4.24.94.94-4.24 9.5-9.5z"})})})]})})]}),l.jsx("div",{className:"space-y-2",children:l.jsx("div",{className:"flex items-start gap-2",children:Y==="description"?l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx("label",{className:"sr-only",htmlFor:"edit-description",children:"Description"}),l.jsx("textarea",{id:"edit-description",name:"edit-description",rows:4,required:!0,value:N,onChange:we=>L(we.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"}),l.jsxs("div",{className:"flex gap-3 text-sm",children:[l.jsx("button",{type:"button",onClick:()=>R("description"),disabled:he,className:"text-gray-900 border-b border-gray-400 hover:border-gray-600 disabled:opacity-50",children:"Save"}),l.jsx("button",{type:"button",onClick:()=>{L(M.description),B(null)},className:"text-gray-700 border-b border-gray-300 hover:border-gray-500",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-gray-700",children:M.description}),l.jsx("button",{type:"button",onClick:()=>B("description"),className:"text-gray-600 hover:text-gray-900","aria-label":"Edit description",children:l.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 20 20",className:"h-4 w-4",fill:"currentColor",children:l.jsx("path",{d:"M14.69 2.86a2.25 2.25 0 0 1 3.18 3.18l-9.5 9.5-4.24.94.94-4.24 9.5-9.5z"})})})]})})}),M.fileUrl&&l.jsx("a",{href:M.fileUrl,className:"text-sm text-gray-900 border-b border-gray-400 hover:border-gray-600",target:"_blank",rel:"noreferrer",children:M.fileName??"Download file"})]}):l.jsx("p",{className:"text-gray-700",children:"Select a project to view details."})})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-4",children:"Create Project"}),l.jsxs("form",{onSubmit:V,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"project-title",children:"Title"}),l.jsx("input",{id:"project-title",name:"title",type:"text",required:!0,value:d,onChange:we=>g(we.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"project-description",children:"Description"}),l.jsx("textarea",{id:"project-description",name:"description",rows:4,required:!0,value:y,onChange:we=>p(we.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"project-file",children:"File (optional)"}),l.jsx("input",{id:"project-file",name:"file",type:"file",ref:A,onChange:we=>te(we.target.files?.[0]??null),className:"block w-full text-sm text-gray-700 file:mr-4 file:rounded file:border-0 file:bg-gray-100 file:px-3 file:py-2 file:text-gray-900"})]}),J&&l.jsx("div",{className:"text-sm text-red-700",children:J}),l.jsx("button",{type:"submit",disabled:!C||q,className:"inline-flex items-center justify-center rounded bg-gray-900 px-4 py-2 text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 disabled:opacity-50",children:"Create Project"})]})]})]})]})}),l.jsx(Pt,{})]})}function MO(){return l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[l.jsx("div",{children:l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Legal Disclaimer"})}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"General Information"}),l.jsx("p",{className:"text-gray-700",children:"This website provides general information about professional engineering services in Missouri. It is not a substitute for professional consultation or a formal engagement."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"No Professional Engagement"}),l.jsx("p",{className:"text-gray-700",children:"Contact through this site does not establish a professional engineer-client relationship. Any engagement requires a written agreement and confirmation of scope, schedule, and terms."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Reliance and Use"}),l.jsx("p",{className:"text-gray-700",children:"Information provided here is intended for general informational purposes only. Decisions based on this information should be made only after direct consultation and review of project-specific facts."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Jurisdiction and Licensure"}),l.jsx("p",{className:"text-gray-700",children:"Professional engineering services are offered only in jurisdictions where the engineer is properly licensed. This website does not constitute an offer to provide engineering services in any jurisdiction where such services would be unlawful."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Use of Sealed Documents"}),l.jsx("p",{className:"text-gray-700",children:"Engineering documents that are signed and sealed are valid only in their final form and for the specific project and conditions for which they were prepared. Any reuse, modification, or reliance beyond the original purpose is at the userâ€™s sole risk unless expressly authorized in writing."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Confidentiality"}),l.jsx("p",{className:"text-gray-700",children:"Do not transmit sensitive or privileged information before an engagement is established. Submitted materials may not be treated as confidential unless an agreement is in place."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Accuracy and Changes"}),l.jsx("p",{className:"text-gray-700",children:"Information on this website may be updated or modified at any time without notice and is not guaranteed to reflect the most current statutes, regulations, or professional standards."})]})]})}),l.jsx(Pt,{})]})}function DO(){return l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-6",children:"Engineering Notes"}),l.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Articles addressing professional engineering practice, review, and analysis."}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:l.jsx(pe,{to:"/blog/property-condition-assessment-pca",className:"border-b border-transparent hover:border-gray-400",children:"What Is a Property Condition Assessment (PCA)?"})}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 2, 2026"}),l.jsx("p",{className:"text-gray-700",children:"What a PCA typically includes, how itâ€™s used in due diligence, and when engineering judgment may apply."})]}),l.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:l.jsx(pe,{to:"/blog/structural-analysis-building-approval-missouri",className:"border-b border-transparent hover:border-gray-400",children:"Structural Analysis and Building Approval in Missouri: What to Know"})}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 1, 2026"}),l.jsx("p",{className:"text-gray-700",children:"How structural analysis relates to building approval in Missouri, including when engineering is required and the role of a licensed Professional Engineer."})]}),l.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:l.jsx(pe,{to:"/blog/common-mistakes-engineering-expert-reports",className:"border-b border-transparent hover:border-gray-400",children:"Common Mistakes in Engineering Expert Reports"})}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 31, 2026"}),l.jsx("p",{className:"text-gray-700",children:"Why report quality matters in expert engineering reports, including scope, assumptions, evidence, and communication."})]}),l.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:l.jsx(pe,{to:"/blog/root-cause-vs-legal-cause-engineering",className:"border-b border-transparent hover:border-gray-400",children:"Root Cause vs. Legal Cause: An Engineering Perspective"})}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 30, 2026"}),l.jsx("p",{className:"text-gray-700",children:"Why the distinction between engineering root cause and legal cause matters in technical disputes and expert testimony."})]}),l.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:l.jsx(pe,{to:"/blog/courts-evaluate-engineering-causation-testimony",className:"border-b border-transparent hover:border-gray-400",children:"How Courts Evaluate Engineering Causation Testimony"})}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 29, 2026"}),l.jsx("p",{className:"text-gray-700",children:"How courts evaluate engineering causation testimony, including admissibility, methodology, and evidentiary connection."})]}),l.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:l.jsx(pe,{to:"/blog/engineering-causation-failure-analysis",className:"border-b border-transparent hover:border-gray-400",children:"How Engineers Evaluate Causation in Failure Analysis"})}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 28, 2026"}),l.jsx("p",{className:"text-gray-700",children:"Understanding causation analysis in failure investigations, including evidence, failure modes, and professional judgment."})]}),l.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:l.jsx(pe,{to:"/blog/what-does-professional-engineer-seal-mean",className:"border-b border-transparent hover:border-gray-400",children:"What Does It Mean When a Professional Engineer Seals a Document?"})}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 27, 2026"}),l.jsx("p",{className:"text-gray-700",children:"Understanding the purpose of an engineering seal in Missouri: professional responsibility, legal obligations, and when sealing is required."})]}),l.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:l.jsx(pe,{to:"/blog/what-does-engineering-expert-witness-do",className:"border-b border-transparent hover:border-gray-400",children:"What Does an Engineering Expert Witness Do?"})}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 25, 2026"}),l.jsx("p",{className:"text-gray-700",children:"Understanding the role of engineering expert witnesses in legal matters: independent analysis, forensic evaluation, and professional testimony."})]}),l.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:l.jsx(pe,{to:"/blog/when-professional-engineer-required-missouri",className:"border-b border-transparent hover:border-gray-400",children:"When Is a Professional Engineer Required in Missouri?"})}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 24, 2026"}),l.jsx("p",{className:"text-gray-700",children:"Understanding when engineering licensure is necessary, including sealing, professional judgment, and common compliance scenarios."})]}),l.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:l.jsx(pe,{to:"/blog/engineering-standards-assumptions-failure-analysis",className:"border-b border-transparent hover:border-gray-400",children:"Engineering Standards, Assumptions, and Failure Analysis"})}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 21, 2026"}),l.jsx("p",{className:"text-gray-700",children:"Why assumptions matter in engineering practice, including standards, documentation, and failure analysis."})]}),l.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:l.jsx(pe,{to:"/blog/professional-engineer-expert-witness-missouri",className:"border-b border-transparent hover:border-gray-400",children:"The Role of a Professional Engineer as an Expert Witness in Missouri"})}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 20, 2026"}),l.jsx("p",{className:"text-gray-700",children:"Technical expertise in legal and dispute contexts, including professional responsibilities and independence of engineering expert witnesses."})]}),l.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:l.jsx(pe,{to:"/blog/forensic-engineering-missouri-technical-analysis",className:"border-b border-transparent hover:border-gray-400",children:"Forensic Engineering in Missouri: Technical Analysis After a Failure"})}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 19, 2026"}),l.jsx("p",{className:"text-gray-700",children:"Understanding forensic engineering practice in Missouri: technical investigation of failures, incidents, and disputes by a licensed Professional Engineer."})]}),l.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:l.jsx(pe,{to:"/blog/engineering-review-professional-judgment-st-louis-missouri",className:"border-b border-transparent hover:border-gray-400",children:"Engineering Review and Professional Judgment in the St. Louis Region"})}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 18, 2026"}),l.jsx("p",{className:"text-gray-700",children:"A discussion of professional engineering review and judgment in the St. Louis region, including typical review activities and forensic engineering contexts."})]}),l.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:l.jsx(pe,{to:"/blog/professional-engineering-st-louis-missouri",className:"border-b border-transparent hover:border-gray-400",children:"Professional Engineering Practice in St. Louis, Missouri"})}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 16, 2026"}),l.jsx("p",{className:"text-gray-700",children:"An overview of professional engineering practice in St. Louis, Missouri, including licensure requirements, common project types, and the role of licensed Professional Engineers."})]})]})]})}),l.jsx(Pt,{})]})}function OO(){const i="2026-01-16",e="January 16, 2026";return k.useEffect(()=>{const n=(o,u)=>{const d=document.head.querySelector(`meta[name="${o}"]`),g=d??document.createElement("meta");g.name=o,g.content=u,d||document.head.appendChild(g)},r=(o,u)=>{const d=document.head.querySelector(`meta[property="${o}"]`),g=d??document.createElement("meta");g.setAttribute("property",o),g.content=u,d||document.head.appendChild(g)};n("date",i),r("article:published_time",i)},[]),l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[l.jsxs("header",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx(pe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Professional Engineering Practice in St. Louis, Missouri"]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Professional Engineering Practice in St. Louis, Missouri"}),l.jsx("p",{className:"text-lg text-gray-700",children:"An overview of professional engineering practice in St. Louis, Missouri, including licensure requirements, common project types, and the role of licensed Professional Engineers."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Introduction"}),l.jsx("p",{className:"text-gray-700",children:"St. Louis has a long history of engineering activity, spanning transportation, manufacturing, aerospace, energy, and modern software-enabled systems. Professional engineering practice in the region operates within a regulatory framework established by the State of Missouri to protect public health, safety, and welfare."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"This article provides an overview of how professional engineering work is practiced in St. Louis, the role of a licensed Professional Engineer (PE), and common contexts in which engineering review and judgment are required."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Professional Engineering Licensure in Missouri"}),l.jsx("p",{className:"text-gray-700",children:"Engineering services offered to the public in Missouri are regulated under Chapter 327 of the Revised Statutes of Missouri. Individuals offering professional engineering services must be licensed by the Missouri Board for Architects, Professional Engineers, Professional Land Surveyors, and Professional Landscape Architects."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Licensure requires formal education, documented experience, successful completion of national examinations, and adherence to ongoing professional and ethical obligations. A licensed Professional Engineer is personally responsible for engineering work performed under their seal."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"In St. Louis, as elsewhere in Missouri, engineering documents such as drawings, specifications, calculations, reports, and certifications may require review and sealing by a licensed PE, depending on the nature and use of the work."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Work Commonly Performed in the St. Louis Region"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"The St. Louis metropolitan area supports a wide range of engineering activities. Common categories include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Infrastructure and transportation systems, including civil and structural components"}),l.jsx("li",{children:"Manufacturing and industrial systems, often involving mechanical, electrical, and controls engineering"}),l.jsx("li",{children:"Aerospace and defense-related engineering, reflecting the regionâ€™s historical strengths"}),l.jsx("li",{children:"Energy, utilities, and power systems"}),l.jsx("li",{children:"Software-integrated and automated systems, where engineering judgment intersects with computing and control systems"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Many projects involve multidisciplinary considerations and require formal engineering analysis, documentation, and professional review."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Review, Analysis, and Professional Judgment"}),l.jsx("p",{className:"text-gray-700",children:"Not all engineering work is the same. Some projects involve original design, while others require independent review, verification, or expert opinion. In regulated or high-consequence environments, professional engineering judgment is often necessary to assess compliance, safety, reliability, and fitness for purpose."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering review may include evaluation of calculations, assumptions, testing results, system behavior, or failure modes. When appropriate, a Professional Engineer may seal documents to indicate responsibility for the technical content under Missouri law."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Forensic Engineering and Expert Analysis"}),l.jsx("p",{className:"text-gray-700",children:"In addition to design and review, professional engineers in St. Louis may perform forensic engineering work. This can include analysis of system failures, construction issues, accidents, or disputes involving technical matters."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic engineering often supports legal proceedings, insurance claims, or internal investigations. In such contexts, engineering opinions must be based on sound methodology, documented evidence, and professional standards."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Selecting a Professional Engineer in St. Louis"}),l.jsx("p",{className:"text-gray-700",children:"When engaging a Professional Engineer, it is important to confirm licensure status, relevant experience, and scope alignment with the work being requested. Professional engagements are typically established through a written agreement defining responsibilities, limitations, and deliverables."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering services should be performed in accordance with Missouri statutes, applicable codes and standards, and accepted engineering practices."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Conclusion"}),l.jsx("p",{className:"text-gray-700",children:"Professional engineering practice in St. Louis reflects both the regionâ€™s technical history and its ongoing development. Licensed Professional Engineers play a critical role in ensuring that engineering work affecting the public is performed with appropriate competence, judgment, and accountability."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"For projects requiring engineering analysis, review, or professional oversight, consultation with a Missouri-licensed Professional Engineer is an essential step."})]}),l.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[l.jsxs("p",{children:["Published"," ",l.jsx("time",{dateTime:i,children:e})]}),l.jsxs("p",{children:["Related:"," ",l.jsx(pe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",l.jsx(pe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]}),l.jsxs("p",{children:["Learn more about the"," ",l.jsx(pe,{to:"/",className:"border-b border-gray-300 hover:border-gray-500",children:"licensed Professional Engineer"})," ","providing services in Missouri."]})]})]})}),l.jsx(Pt,{})]})}function PO(){const i="2026-01-18",e="January 18, 2026",n="Engineering Review and Professional Judgment in the St. Louis Region",r="An overview of professional engineering review in the St. Louis region, including typical review activities, software-driven systems, and forensic engineering contexts.";return k.useEffect(()=>{document.title=`${n} â€” Missouri`;const o=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};o("description",r),o("date",i),u("article:published_time",i)},[r,i,n]),l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[l.jsxs("header",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx(pe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Engineering Review and Professional Judgment in the St. Louis Region"]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Engineering Review and Professional Judgment in the St. Louis Region"}),l.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Role of a Licensed Professional Engineer"})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("p",{className:"text-gray-700",children:"Engineering work in the St. Louis region spans a wide range of industries, including manufacturing, transportation, technology, utilities, and regulated systems. Many projects involve complex interactions between software, hardware, and physical systems, where failure modes are not always obvious."}),l.jsx("p",{className:"text-gray-700",children:"In Missouri, a licensed Professional Engineer (PE) is responsible for applying engineering judgment to evaluate designs, analyses, and technical decisions that may affect public safety, reliability, or compliance with applicable standards."}),l.jsx("p",{className:"text-gray-700",children:"This post explains how professional engineering review fits into real-world projects in the St. Louis area, and when engaging a Missouri-licensed PE is appropriate."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Professional Engineering Review Involves"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Professional engineering review is not limited to producing new designs. In many cases, it involves evaluating existing work, assumptions, or system behavior."}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Typical review activities may include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Reviewing engineering drawings, calculations, or specifications"}),l.jsx("li",{children:"Evaluating system architecture or control logic"}),l.jsx("li",{children:"Assessing whether assumptions align with operating conditions"}),l.jsx("li",{children:"Identifying failure modes, edge cases, or unintended interactions"}),l.jsx("li",{children:"Providing a documented engineering opinion based on analysis"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"The goal of review is not to â€œapproveâ€ work informally, but to apply professional judgment grounded in education, experience, and applicable engineering principles."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Judgment in Complex and Software-Driven Systems"}),l.jsx("p",{className:"text-gray-700",children:"Modern engineering projects increasingly involve software-defined behavior, distributed systems, and embedded control. In these environments, failures often arise from system interactions rather than single-component defects."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering judgment in these cases may involve:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Understanding how software logic interacts with physical processes"}),l.jsx("li",{children:"Reviewing control strategies and fault handling"}),l.jsx("li",{children:"Evaluating verification and validation methods"}),l.jsx("li",{children:"Assessing risk where deterministic proof is impractical"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"These types of reviews are common in regulated or high-reliability environments and often benefit from independent professional evaluation."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Forensic Engineering and Expert Analysis"}),l.jsx("p",{className:"text-gray-700",children:"In some situations, engineering review occurs after an incident, failure, or dispute. Forensic engineering focuses on understanding what happened and why, based on technical evidence rather than speculation."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic engineering services may include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Analysis of system behavior leading up to a failure"}),l.jsx("li",{children:"Review of documentation, logs, or test results"}),l.jsx("li",{children:"Evaluation of compliance with accepted engineering practices"}),l.jsx("li",{children:"Preparation of engineering opinions suitable for legal or insurance contexts"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"In Missouri, forensic opinions offered by a Professional Engineer must remain within the engineerâ€™s area of competence and be based on sufficient technical analysis."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Engage a Missouri-Licensed Professional Engineer"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Engaging a Professional Engineer may be appropriate when:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Engineering work affects public safety or critical operations"}),l.jsx("li",{children:"Independent technical review is required"}),l.jsx("li",{children:"Engineering documents require sealing under Missouri law"}),l.jsx("li",{children:"An objective engineering opinion is needed"}),l.jsx("li",{children:"A failure or dispute involves technical systems"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Early engagement often allows issues to be identified before they become costly or contentious."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Professional Practice in the St. Louis Area"}),l.jsx("p",{className:"text-gray-700",children:"Engineering practice in the St. Louis region reflects the areaâ€™s diverse industrial and technical base. Projects frequently involve interdisciplinary systems where careful analysis and clear documentation are essential."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Professional engineering services are governed by Missouri statutes and board rules, which establish requirements for licensure, responsibility, and ethical conduct. Any engineering engagement should clearly define scope, responsibilities, and limitations in writing."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),l.jsx("p",{className:"text-gray-700",children:"This article is intended to provide general information about professional engineering practice in Missouri. It does not constitute engineering advice or establish a professional engagement."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"If you are considering engineering review, analysis, or forensic evaluation, consultation with a Missouri-licensed Professional Engineer can help clarify next steps and determine whether professional services are appropriate for your situation."})]}),l.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[l.jsxs("p",{children:["Published"," ",l.jsx("time",{dateTime:i,children:e})]}),l.jsxs("p",{children:["Related:"," ",l.jsx(pe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",l.jsx(pe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),l.jsx(Pt,{})]})}function kO(){const i="2026-01-19",e="January 19, 2026",n="Forensic Engineering in Missouri: Technical Analysis After a Failure",r="Understanding forensic engineering practice in Missouri: technical investigation of failures, incidents, and disputes by a licensed Professional Engineer.";return k.useEffect(()=>{document.title=`${n} â€” Missouri`;const o=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};o("description",r),o("date",i),u("article:published_time",i)},[r,i,n]),l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[l.jsxs("header",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx(pe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Forensic Engineering in Missouri: Technical Analysis After a Failure"]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Forensic Engineering in Missouri: Technical Analysis After a Failure"}),l.jsx("p",{className:"text-lg text-gray-700",children:"Understanding forensic engineering practice in Missouri: technical investigation of failures, incidents, and disputes by a licensed Professional Engineer."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Forensic Engineering Is â€” and Is Not"}),l.jsx("p",{className:"text-gray-700",children:"Forensic engineering focuses on the investigation of engineering-related failures, incidents, or disputes. The purpose is not advocacy, but technical understanding: determining what occurred, how systems behaved, and whether engineering practices were consistent with accepted standards."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"In Missouri, forensic engineering opinions offered by a licensed Professional Engineer must be based on sufficient facts, appropriate analysis, and the engineer's area of competence."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"This article outlines how forensic engineering is typically applied and when it may be appropriate to engage a Missouri-licensed Professional Engineer."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Common Situations Involving Forensic Engineering"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Forensic engineering may be involved in a wide range of situations, including:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"System or equipment failures"}),l.jsx("li",{children:"Software-controlled system malfunctions"}),l.jsx("li",{children:"Industrial or infrastructure incidents"}),l.jsx("li",{children:"Construction or design disputes"}),l.jsx("li",{children:"Product performance issues"}),l.jsx("li",{children:"Insurance or liability investigations"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"In many cases, forensic analysis occurs months or years after the original work was performed, requiring careful reconstruction of events from available evidence."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"The Forensic Engineering Process"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"While each investigation is unique, forensic engineering often follows a structured process:"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Evidence Collection"}),l.jsx("p",{className:"text-gray-700",children:"Review of drawings, specifications, logs, test results, photographs, and physical evidence."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"System Understanding"}),l.jsx("p",{className:"text-gray-700",children:"Analysis of how the system was intended to function, including control logic, operating conditions, and interfaces."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Failure Analysis"}),l.jsx("p",{className:"text-gray-700",children:"Identification of failure modes, contributing factors, and sequence of events."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Engineering Evaluation"}),l.jsx("p",{className:"text-gray-700",children:"Assessment of whether engineering decisions aligned with accepted practices at the time the work was performed."})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Documentation"}),l.jsx("p",{className:"text-gray-700",children:"Preparation of clear, technically grounded findings and opinions."})]})]}),l.jsx("p",{className:"text-gray-700 mt-4",children:"The emphasis is on reproducible analysis and defensible reasoning rather than conclusions drawn from limited data."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Software and Complex Systems in Forensic Analysis"}),l.jsx("p",{className:"text-gray-700",children:"Modern forensic engineering increasingly involves software-driven and distributed systems. In these cases, failures may arise from timing, state transitions, data dependencies, or unexpected interactions between components."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic analysis of such systems may include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[l.jsx("li",{children:"Review of source code or configuration artifacts"}),l.jsx("li",{children:"Analysis of logs, telemetry, or audit trails"}),l.jsx("li",{children:"Evaluation of control strategies and fault handling"}),l.jsx("li",{children:"Reconstruction of system state over time"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Understanding both software behavior and physical system constraints is often necessary to form a reliable engineering opinion."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Expert Engineering Opinions and Legal Contexts"}),l.jsx("p",{className:"text-gray-700",children:"Forensic engineering findings are frequently used in legal, insurance, or regulatory contexts. When acting as an expert, a Professional Engineer's role is to provide objective technical opinions â€” not legal conclusions."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Key principles include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[l.jsx("li",{children:"Remaining within the engineer's area of expertise"}),l.jsx("li",{children:"Avoiding speculation beyond available evidence"}),l.jsx("li",{children:"Clearly stating assumptions and limitations"}),l.jsx("li",{children:"Distinguishing facts from professional judgment"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Professional engineers are ethically obligated to present opinions honestly and without bias."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Engage a Forensic Engineer"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Engaging a forensic engineer may be appropriate when:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"The cause of a failure is unclear or disputed"}),l.jsx("li",{children:"Technical evidence requires expert interpretation"}),l.jsx("li",{children:"An independent engineering opinion is needed"}),l.jsx("li",{children:"Engineering documentation or practices are questioned"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Early involvement can help preserve evidence and reduce uncertainty as investigations progress."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),l.jsx("p",{className:"text-gray-700",children:"This article provides general information about forensic engineering practice in Missouri. It does not constitute engineering advice or establish a professional engagement."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic engineering requires careful analysis, technical rigor, and professional judgment grounded in engineering principles and experience."})]}),l.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[l.jsx("p",{children:l.jsxs("time",{dateTime:i,children:["Published ",e]})}),l.jsxs("p",{children:["Related:"," ",l.jsx(pe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",l.jsx(pe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]}),l.jsxs("p",{children:["Learn more about the"," ",l.jsx(pe,{to:"/",className:"border-b border-gray-300 hover:border-gray-500",children:"licensed Professional Engineer"})," ","providing forensic engineering services in Missouri."]})]})]})}),l.jsx(Pt,{})]})}function LO(){const i="2026-01-20",e="January 20, 2026",n="The Role of a Professional Engineer as an Expert Witness in Missouri",r="An overview of the role of licensed Professional Engineers as expert witnesses in Missouri, including independence, professional judgment, and legal context.";return k.useEffect(()=>{document.title=`${n} â€” Missouri`;const o=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};o("description",r),o("date",i),u("article:published_time",i)},[r,i,n]),l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[l.jsxs("header",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx(pe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ The Role of a Professional Engineer as an Expert Witness in Missouri"]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"The Role of a Professional Engineer as an Expert Witness in Missouri"}),l.jsx("p",{className:"text-lg text-gray-700",children:"Technical Expertise in Legal and Dispute Contexts"})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("p",{className:"text-gray-700",children:"Engineering issues frequently arise in legal disputes, insurance claims, and regulatory proceedings. When technical questions are central to a matter, courts and attorneys may rely on expert testimony to understand engineering principles, system behavior, and technical causation."}),l.jsx("p",{className:"text-gray-700",children:"In Missouri, a licensed Professional Engineer may serve as an expert witness when the subject matter falls within the engineerâ€™s area of competence and the opinions offered are based on sufficient technical analysis."}),l.jsx("p",{className:"text-gray-700",children:"This article describes the role of an engineering expert witness and the professional responsibilities that accompany that role."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What an Engineering Expert Witness Does"}),l.jsx("p",{className:"text-gray-700",children:"An engineering expert witness provides independent technical opinions to assist the court or other decision-makers. This role is distinct from advocacy and is grounded in objective engineering analysis."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Typical expert witness activities may include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[l.jsx("li",{children:"Reviewing technical documents, drawings, and records"}),l.jsx("li",{children:"Evaluating system design, operation, and failure modes"}),l.jsx("li",{children:"Analyzing data, logs, and test results"}),l.jsx("li",{children:"Preparing written expert reports"}),l.jsx("li",{children:"Providing deposition or trial testimony"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"The expertâ€™s duty is to the facts and engineering principles, not to a particular outcome."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Independence and Professional Judgment"}),l.jsx("p",{className:"text-gray-700",children:"Professional engineers serving as expert witnesses are ethically obligated to remain independent and unbiased. Opinions must be formed through analysis rather than instruction from counsel or clients."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Key elements of professional judgment in expert work include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[l.jsx("li",{children:"Clear distinction between facts, assumptions, and opinions"}),l.jsx("li",{children:"Use of accepted engineering methods"}),l.jsx("li",{children:"Disclosure of limitations or uncertainties"}),l.jsx("li",{children:"Avoidance of conclusions beyond available evidence"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Maintaining independence is essential for credibility and admissibility."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Expertise and Modern Systems"}),l.jsx("p",{className:"text-gray-700",children:"Many disputes today involve complex systems that include software, control logic, or distributed components. Expert evaluation of such systems often requires understanding both theoretical design and real-world operation."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Expert witness work in these cases may involve:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[l.jsx("li",{children:"Reconstruction of system behavior over time"}),l.jsx("li",{children:"Evaluation of control or decision logic"}),l.jsx("li",{children:"Analysis of interactions between software and physical components"}),l.jsx("li",{children:"Review of verification and validation practices"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering expertise must be applied in a manner that is clear and accessible to non-technical audiences without oversimplifying the underlying analysis."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Legal Standards and Professional Responsibility"}),l.jsx("p",{className:"text-gray-700",children:"While legal standards for expert testimony vary by jurisdiction, professional engineers are governed by ethical and licensure obligations regardless of venue."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"In Missouri, engineers must:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[l.jsx("li",{children:"Practice within their area of competence"}),l.jsx("li",{children:"Avoid misleading statements or omissions"}),l.jsx("li",{children:"Maintain honesty and objectivity"}),l.jsx("li",{children:"Accept responsibility for opinions offered"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Failure to adhere to these principles can affect both professional credibility and licensure."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When an Engineering Expert May Be Needed"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"An engineering expert witness may be appropriate when:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Technical causation is disputed"}),l.jsx("li",{children:"Engineering standards or practices are questioned"}),l.jsx("li",{children:"System behavior is not readily understood by non-engineers"}),l.jsx("li",{children:"Independent analysis is required to inform decision-making"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Early technical evaluation can often clarify issues and narrow the scope of disputes."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),l.jsx("p",{className:"text-gray-700",children:"This article is intended to provide general information about the role of Professional Engineers as expert witnesses in Missouri. It does not constitute engineering advice or establish a professional engagement."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering expert testimony relies on careful analysis, clear reasoning, and professional integrity."})]}),l.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[l.jsxs("p",{children:["Published"," ",l.jsx("time",{dateTime:i,children:e})]}),l.jsxs("p",{children:["Related:"," ",l.jsx(pe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",l.jsx(pe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),l.jsx(Pt,{})]})}function VO(){const i="2026-01-21",e="January 21, 2026",n="Engineering Standards, Assumptions, and Failure Analysis",r="Why assumptions matter in engineering practice, and how standards and documentation influence failure analysis and professional judgment.";return k.useEffect(()=>{document.title=`${n} â€” Missouri`;const o=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};o("description",r),o("date",i),u("article:published_time",i)},[r,i,n]),l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[l.jsxs("header",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx(pe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Engineering Standards, Assumptions, and Failure Analysis"]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Engineering Standards, Assumptions, and Failure Analysis"}),l.jsx("p",{className:"text-lg text-gray-700",children:"Why Assumptions Matter in Engineering Practice"})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("p",{className:"text-gray-700",children:"Engineering analysis is built on assumptions. These may involve operating conditions, loads, environmental factors, user behavior, data quality, or system boundaries. While assumptions are unavoidable, they must be reasonable, documented, and appropriate to the problem being addressed."}),l.jsx("p",{className:"text-gray-700",children:"In professional engineering practice, unexamined or invalid assumptions are a common source of system failures and disputes. Understanding how assumptions influence analysis is central to both design review and forensic engineering."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Standards and Accepted Practice"}),l.jsx("p",{className:"text-gray-700",children:"Engineering standards provide a framework for consistent and reliable analysis. Standards may be developed by professional organizations, regulatory bodies, or industry groups, and they often reflect consensus on acceptable methods and safety considerations."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"In practice, standards:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[l.jsx("li",{children:"Inform design criteria and analysis methods"}),l.jsx("li",{children:"Establish minimum performance or safety thresholds"}),l.jsx("li",{children:"Provide reference points for professional judgment"}),l.jsx("li",{children:"Evolve over time as technology and knowledge advance"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Compliance with a standard does not eliminate the need for judgment, but deviations from standards should be intentional, justified, and documented."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"The Role of Assumptions in Failure Analysis"}),l.jsx("p",{className:"text-gray-700",children:"When a system fails, forensic engineering analysis often begins by examining the assumptions underlying its design, implementation, and operation."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Common assumption-related issues include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[l.jsx("li",{children:"Operating conditions outside the original design envelope"}),l.jsx("li",{children:"Environmental factors not fully considered"}),l.jsx("li",{children:"Simplifications that obscured critical interactions"}),l.jsx("li",{children:"Incomplete or outdated data inputs"}),l.jsx("li",{children:"Misalignment between documented assumptions and actual use"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Failure analysis seeks to identify not only what failed, but why the assumptions supporting earlier decisions may no longer have been valid."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Distinguishing Errors from Engineering Judgment"}),l.jsx("p",{className:"text-gray-700",children:"Not every unfavorable outcome reflects an error. Engineering decisions are often made under uncertainty, with incomplete information and competing constraints."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"A key task in professional and forensic analysis is distinguishing between:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[l.jsx("li",{children:"Reasonable engineering judgment based on available information"}),l.jsx("li",{children:"Decisions that deviated from accepted practice without justification"}),l.jsx("li",{children:"Changes in conditions that were not foreseeable at the time"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"This distinction is particularly important in legal or insurance contexts, where outcomes alone do not define professional responsibility."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Documentation and Traceability"}),l.jsx("p",{className:"text-gray-700",children:"Clear documentation of assumptions, standards, and decision rationale plays a critical role in both project execution and post-event analysis."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Effective documentation supports:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[l.jsx("li",{children:"Technical review and peer evaluation"}),l.jsx("li",{children:"Future modifications or maintenance"}),l.jsx("li",{children:"Regulatory or contractual compliance"}),l.jsx("li",{children:"Forensic reconstruction if issues arise"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Inadequate documentation can significantly increase uncertainty during failure analysis and complicate resolution of disputes."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Judgment in Complex Systems"}),l.jsx("p",{className:"text-gray-700",children:"Modern systems often involve interactions between physical components, software, and human operators. In these cases, assumptions may be embedded in algorithms, control logic, or operational procedures rather than explicitly stated."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Failure analysis of complex systems may require:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[l.jsx("li",{children:"Examination of implicit assumptions in system behavior"}),l.jsx("li",{children:"Evaluation of edge cases and state transitions"}),l.jsx("li",{children:"Review of validation and testing coverage"}),l.jsx("li",{children:"Consideration of how systems respond to unexpected inputs"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Professional judgment is required to assess whether these assumptions were reasonable in context."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),l.jsx("p",{className:"text-gray-700",children:"This article provides general information about engineering standards, assumptions, and failure analysis. It does not constitute engineering advice or establish a professional engagement."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Careful consideration of assumptions and standards is fundamental to sound engineering practice, effective review, and reliable forensic analysis."})]}),l.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[l.jsxs("p",{children:["Published"," ",l.jsx("time",{dateTime:i,children:e})]}),l.jsxs("p",{children:["Related:"," ",l.jsx(pe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",l.jsx(pe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),l.jsx(Pt,{})]})}function UO(){const i="2026-01-24",e="January 24, 2026",n="When Is a Professional Engineer Required in Missouri?",r="Understanding when engineering licensure is necessary in Missouri and how professional judgment, sealing, and compliance requirements apply.";return k.useEffect(()=>{document.title=`${n} â€” Missouri`;const o=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};o("description",r),o("date",i),u("article:published_time",i)},[r,i,n]),l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[l.jsxs("header",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx(pe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ When Is a Professional Engineer Required in Missouri?"]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"When Is a Professional Engineer Required in Missouri?"}),l.jsx("p",{className:"text-lg text-gray-700",children:"Understanding When Engineering Licensure Is Necessary"})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("p",{className:"text-gray-700",children:"In Missouri, the practice of professional engineering is regulated to protect public health, safety, and welfare. Not every technical task requires a licensed Professional Engineer (PE), but certain activities legally do."}),l.jsx("p",{className:"text-gray-700",children:"Understanding when a PE is required can help project owners, developers, contractors, and attorneys avoid delays, compliance issues, or rejected submissions."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Constitutes the Practice of Engineering in Missouri"}),l.jsx("p",{className:"text-gray-700",children:"Missouri law defines the practice of engineering broadly. In general, it includes the application of engineering principles and judgment to services such as:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[l.jsx("li",{children:"Engineering analysis and evaluation"}),l.jsx("li",{children:"Preparation of engineering drawings and specifications"}),l.jsx("li",{children:"Design or review of systems affecting safety or performance"}),l.jsx("li",{children:"Engineering reports, opinions, or certifications"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"If a task involves professional judgment that could impact public safety, it may fall under regulated engineering practice."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Common Situations Where a PE Is Required"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"While requirements vary by jurisdiction and project type, a Missouri-licensed PE is commonly required for:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Engineering drawings submitted to public agencies"}),l.jsx("li",{children:"Structural, mechanical, electrical, or system designs affecting safety"}),l.jsx("li",{children:"Sealed engineering calculations or reports"}),l.jsx("li",{children:"Expert engineering opinions in legal or insurance matters"}),l.jsx("li",{children:"Engineering evaluations relied upon by third parties"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Local authorities may impose additional requirements depending on the scope and nature of the work."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Activities That May Not Require a PE"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Not all technical work requires licensure. Examples of activities that may not require a PE include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Drafting or modeling performed under supervision"}),l.jsx("li",{children:"Work based strictly on prescriptive codes without judgment"}),l.jsx("li",{children:"Internal technical analysis not released externally"}),l.jsx("li",{children:"Manufacturing or installation following stamped plans"}),l.jsx("li",{children:"Software development that does not constitute regulated engineering practice"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"The distinction often depends on whether professional judgment is exercised and whether the work is offered to the public."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Review vs. Engineering Design"}),l.jsx("p",{className:"text-gray-700",children:"Engineering review and engineering design are related but distinct activities."}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[l.jsx("li",{children:"Design involves creating engineering solutions and selecting parameters"}),l.jsx("li",{children:"Review involves evaluating work prepared by others for compliance, reasonableness, and suitability"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Both activities may require licensure when professional judgment is applied and the work is relied upon by others."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Sealing and Responsibility"}),l.jsx("p",{className:"text-gray-700",children:"When a Missouri PE seals a document, they are affirming that:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[l.jsx("li",{children:"The work was prepared by them or under their responsible charge"}),l.jsx("li",{children:"The work meets applicable standards and requirements"}),l.jsx("li",{children:"They accept professional responsibility for the content"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Sealing is not a formality. It carries legal and ethical obligations and should only be done when appropriate."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Consequences of Improper Practice"}),l.jsx("p",{className:"text-gray-700",children:"Performing regulated engineering services without proper licensure can result in:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[l.jsx("li",{children:"Rejected submissions or project delays"}),l.jsx("li",{children:"Regulatory action or penalties"}),l.jsx("li",{children:"Increased liability exposure"}),l.jsx("li",{children:"Challenges to the validity of work products"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Clarifying licensure requirements early can prevent issues later."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Seek Professional Guidance"}),l.jsx("p",{className:"text-gray-700",children:"If there is uncertainty about whether a PE is required, consulting with a licensed Professional Engineer early in the process can help clarify obligations and define appropriate scope."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),l.jsx("p",{className:"text-gray-700",children:"This article provides general information regarding professional engineering licensure in Missouri. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),l.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[l.jsxs("p",{children:["Published"," ",l.jsx("time",{dateTime:i,children:e})]}),l.jsxs("p",{children:["Related:"," ",l.jsx(pe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",l.jsx(pe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),l.jsx(Pt,{})]})}function zO(){const i="2026-01-25",e="January 25, 2026",n="What Does an Engineering Expert Witness Do?",r="Understanding the role of engineering expert witnesses in legal matters: independent analysis, forensic evaluation, and professional testimony in Missouri.";return k.useEffect(()=>{document.title=`${n} â€” Missouri`;const o=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};o("description",r),o("date",i),u("article:published_time",i)},[r,i,n]),l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[l.jsxs("header",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx(pe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ What Does an Engineering Expert Witness Do?"]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"What Does an Engineering Expert Witness Do?"}),l.jsx("p",{className:"text-lg text-gray-700",children:"The Role of Engineering Expertise in Legal Matters"})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("p",{className:"text-gray-700",children:"Engineering expert witnesses play a critical role in legal disputes involving technical, scientific, or engineering issues. Their function is not to advocate for a party, but to provide independent, objective engineering analysis and opinion to assist the court in understanding complex matters."}),l.jsx("p",{className:"text-gray-700",children:"In Missouri, expert witnesses offering engineering opinions are often licensed Professional Engineers (PEs)."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Independence and Objectivity"}),l.jsx("p",{className:"text-gray-700",children:"An engineering expert witness is expected to remain independent. Unlike consultants retained to solve problems or design solutions, an expert witness evaluates facts, applies engineering principles, and offers opinions based on evidence."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Credibility depends on:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[l.jsx("li",{children:"Objectivity"}),l.jsx("li",{children:"Technical rigor"}),l.jsx("li",{children:"Transparency of assumptions"}),l.jsx("li",{children:"Consistency with accepted engineering practice"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Typical Engineering Expert Witness Services"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering expert witnesses may be asked to perform tasks such as:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Reviewing engineering drawings, reports, and calculations"}),l.jsx("li",{children:"Evaluating compliance with applicable standards and codes"}),l.jsx("li",{children:"Analyzing failure modes and causation"}),l.jsx("li",{children:"Assessing reasonableness of engineering decisions"}),l.jsx("li",{children:"Preparing written expert reports"}),l.jsx("li",{children:"Providing sworn testimony or deposition"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"The scope of work is typically defined in writing and tailored to the needs of the matter."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Forensic Engineering vs. Design Engineering"}),l.jsx("p",{className:"text-gray-700",children:"Forensic engineering focuses on understanding what occurred, why it occurred, and whether professional standards were met."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"This differs from design engineering, which involves creating systems or solutions. Forensic work is retrospective and analytical, rather than prescriptive."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Licensing and Qualifications"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"In Missouri, offering engineering opinions that rely on professional judgment may require licensure as a Professional Engineer. Courts and attorneys frequently seek experts who:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Hold active PE licensure"}),l.jsx("li",{children:"Have relevant technical education and experience"}),l.jsx("li",{children:"Can clearly explain technical concepts"}),l.jsx("li",{children:"Are familiar with professional standards and ethics"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Licensure alone does not make someone an expert witness, but it is often a baseline requirement."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Reports and Testimony"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Expert reports must be well-organized, technically sound, and defensible. Assumptions, methodologies, and limitations should be clearly stated."}),l.jsx("p",{className:"text-gray-700 mb-3",children:"During testimony, an engineering expert witness may be asked to:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Explain technical findings in plain language"}),l.jsx("li",{children:"Defend methods and conclusions under questioning"}),l.jsx("li",{children:"Clarify what opinions are and are not being offered"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Professional demeanor and clarity are as important as technical correctness."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Ethical Considerations"}),l.jsx("p",{className:"text-gray-700",children:"Engineering expert witnesses are bound by professional ethics. Opinions must be honest, unbiased, and based on sufficient facts and analysis. Compensation should not depend on the outcome of a case."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Maintaining ethical standards protects both the integrity of the process and the credibility of the expert."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When an Engineering Expert Witness Is Needed"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Common situations include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Construction or design disputes"}),l.jsx("li",{children:"Structural or system failures"}),l.jsx("li",{children:"Professional negligence claims"}),l.jsx("li",{children:"Insurance or property damage matters"}),l.jsx("li",{children:"Regulatory or compliance disputes"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Early involvement can help clarify technical issues and narrow disputes."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),l.jsx("p",{className:"text-gray-700",children:"This article provides general information regarding engineering expert witness services. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),l.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[l.jsxs("p",{children:["Published ",l.jsx("time",{dateTime:i,children:e})]}),l.jsxs("p",{children:["Related:"," ",l.jsx(pe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",l.jsx(pe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),l.jsx(Pt,{})]})}function qO(){const i="2026-01-27",e="January 27, 2026",n="What Does It Mean When a Professional Engineer Seals a Document?",r="Understanding the purpose of an engineering seal in Missouri: professional responsibility, legal obligations, and when sealing is required by licensed PEs.";return k.useEffect(()=>{document.title=`${n} â€” Missouri`;const o=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};o("description",r),o("date",i),u("article:published_time",i)},[r,i,n]),l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[l.jsxs("header",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx(pe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ What Does It Mean When a Professional Engineer Seals a Document?"]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"What Does It Mean When a Professional Engineer Seals a Document?"}),l.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Purpose of an Engineering Seal"})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("p",{className:"text-gray-700",children:"When a Professional Engineer (PE) places their seal on an engineering document, it signifies more than approval or review. In Missouri, sealing is a formal declaration of professional responsibility for the work."}),l.jsx("p",{className:"text-gray-700",children:"Sealed documents are often relied upon by public agencies, courts, lenders, insurers, and other third parties. For this reason, the use of an engineering seal carries legal, ethical, and professional obligations."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What the Engineering Seal Represents"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"By sealing a document, a Missouri-licensed Professional Engineer affirms that:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"The work was prepared by them or under their responsible charge"}),l.jsx("li",{children:"Professional engineering judgment was applied"}),l.jsx("li",{children:"The document complies with applicable standards and regulations"}),l.jsx("li",{children:"The engineer accepts responsibility for the technical content"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"The seal is not a certification of perfection, but it is a statement of accountability."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Documents Commonly Sealed by Professional Engineers"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Depending on project type and jurisdiction, sealed documents may include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Engineering drawings and specifications"}),l.jsx("li",{children:"Engineering reports and evaluations"}),l.jsx("li",{children:"Calculations and technical memoranda"}),l.jsx("li",{children:"Property condition or capital needs assessments"}),l.jsx("li",{children:"Forensic engineering opinions"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Not all engineering documents require a seal, but those that do must be sealed appropriately."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Responsible Charge and Professional Judgment"}),l.jsx("p",{className:"text-gray-700 mb-3",children:'A key requirement for sealing is that the engineer exercised "responsible charge" over the work. This means the engineer:'}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Directly prepared the work, or"}),l.jsx("li",{children:"Personally supervised its preparation, and"}),l.jsx("li",{children:"Had sufficient knowledge to control and evaluate the work"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Sealing work prepared entirely by others without meaningful involvement is not permitted."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Signing and Dating Requirements"}),l.jsx("p",{className:"text-gray-700",children:"In Missouri, sealed documents must also be signed and dated. This establishes when professional responsibility was assumed and helps identify the applicable standards and conditions at the time of issuance."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Electronic seals and signatures are commonly used for digital submissions, provided they meet regulatory requirements."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Improper Use of an Engineering Seal"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Improper sealing can create significant risk for both the engineer and the public. Examples include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Sealing work outside the engineer's area of competence"}),l.jsx("li",{children:"Sealing documents without adequate review or supervision"}),l.jsx("li",{children:"Sealing documents for convenience rather than responsibility"}),l.jsx("li",{children:"Allowing others to use the engineer's seal"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Such actions may result in disciplinary action or legal exposure."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When a Seal Is Not Appropriate"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Some technical work does not require or justify sealing, including:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Preliminary or conceptual studies"}),l.jsx("li",{children:"Internal analyses not released externally"}),l.jsx("li",{children:"Draft documents clearly marked as such"}),l.jsx("li",{children:"Work that does not involve professional judgment"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"In these cases, sealing may be inappropriate or misleading."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Why Sealing Matters to Clients and Third Parties"}),l.jsx("p",{className:"text-gray-700",children:"For clients, a sealed document provides assurance that a licensed professional has taken responsibility for the work. For third parties, it establishes a clear point of accountability."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Understanding when and why a document is sealed helps all parties rely on engineering work appropriately."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),l.jsx("p",{className:"text-gray-700",children:"This article provides general information about the use of an engineering seal in Missouri. It does not constitute engineering advice or establish a professional engagement."})]}),l.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[l.jsxs("p",{children:["Published ",l.jsx("time",{dateTime:i,children:e})]}),l.jsxs("p",{children:["Related:"," ",l.jsx(pe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",l.jsx(pe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),l.jsx(Pt,{})]})}function BO(){const i="2026-01-28",e="January 28, 2026",n="How Engineers Evaluate Causation in Failure Analysis",r="Understanding how engineers evaluate causation in failure analysis, including evidence collection, failure modes, and professional judgment in Missouri.";return k.useEffect(()=>{document.title=`${n} â€” Missouri`;const o=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};o("description",r),o("date",i),u("article:published_time",i)},[r,i,n]),l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[l.jsxs("header",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx(pe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ How Engineers Evaluate Causation in Failure Analysis"]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"How Engineers Evaluate Causation in Failure Analysis"}),l.jsx("p",{className:"text-lg text-gray-700",children:"Understanding Why a System Failed"})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("p",{className:"text-gray-700",children:"Failure analysis is not limited to identifying what went wrong. A central objective is determining causationâ€”why the failure occurred and what factors materially contributed to the outcome."}),l.jsx("p",{className:"text-gray-700",children:"In professional engineering practice, causation is evaluated through structured analysis grounded in evidence, engineering principles, and accepted methodology. This process is especially important in forensic and expert witness contexts, where conclusions may be relied upon by courts, insurers, or other decision-makers."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Defining Failure and Scope"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Before causation can be evaluated, the engineer must define:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"What constitutes â€œfailureâ€ in the specific context"}),l.jsx("li",{children:"The performance criteria or expectations involved"}),l.jsx("li",{children:"The system boundaries and time frame under consideration"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Failure may involve physical damage, loss of function, deviation from specifications, or inability to meet operational requirements. Clear definition prevents conclusions from drifting beyond the facts."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Evidence Collection and Preservation"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Causation analysis depends on reliable evidence. Engineers typically begin by gathering and reviewing available materials, which may include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Drawings, specifications, and design documents"}),l.jsx("li",{children:"Maintenance and inspection records"}),l.jsx("li",{children:"Operational data and logs"}),l.jsx("li",{children:"Photographs, videos, or physical artifacts"}),l.jsx("li",{children:"Witness statements or timelines"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Where possible, evidence is preserved to avoid altering or obscuring relevant conditions."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Identifying Potential Failure Modes"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Engineers then identify plausible failure modesâ€”mechanisms by which the system could have failed. This may involve:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Reviewing design assumptions"}),l.jsx("li",{children:"Evaluating loading and operating conditions"}),l.jsx("li",{children:"Considering environmental factors"}),l.jsx("li",{children:"Examining human or procedural interactions"}),l.jsx("li",{children:"Assessing degradation over time"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"At this stage, multiple hypotheses are often considered."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Evaluating Contributing Factors"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Causation in engineering is rarely singular. Engineers distinguish between:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Primary causes that directly led to failure"}),l.jsx("li",{children:"Contributing factors that increased likelihood or severity"}),l.jsx("li",{children:"Non-causal conditions present but not materially relevant"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"This distinction is critical in forensic contexts, where responsibility and liability may hinge on material contribution rather than mere association."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Use of Engineering Principles and Standards"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering causation analysis relies on established principles, such as:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Mechanics and material behavior"}),l.jsx("li",{children:"Control system response"}),l.jsx("li",{children:"Load paths and redundancy"}),l.jsx("li",{children:"Failure progression and sequence"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Applicable standards and codes are often used as reference points, not as automatic determinants of causation. Deviation from a standard does not necessarily cause failure, and compliance does not guarantee immunity from it."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Testing, Modeling, and Reconstruction"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Where appropriate, engineers may use:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Analytical calculations"}),l.jsx("li",{children:"Computer modeling or simulation"}),l.jsx("li",{children:"Laboratory testing"}),l.jsx("li",{children:"Scenario reconstruction"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"These tools help evaluate whether proposed causes are consistent with observed outcomes. Assumptions and limitations must be clearly stated."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Eliminating Alternative Explanations"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"A key element of causation analysis is the systematic elimination of alternative explanations. Engineers assess whether:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Evidence supports or contradicts each hypothesis"}),l.jsx("li",{children:"Proposed causes are physically or technically plausible"}),l.jsx("li",{children:"Timing and sequence align with observed damage"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Conclusions are strengthened when reasonable alternatives are addressed and ruled out based on evidence."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Communicating Causation Clearly"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering conclusions must be communicated in a way that is accurate, transparent, and understandable to non-engineers."}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Effective communication includes:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Clear separation of facts, assumptions, and opinions"}),l.jsx("li",{children:"Explanation of reasoning and methodology"}),l.jsx("li",{children:"Identification of uncertainties or data gaps"}),l.jsx("li",{children:"Avoidance of speculation beyond available evidence"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"In expert witness settings, clarity is as important as technical rigor."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limits of Engineering Causation Analysis"}),l.jsx("p",{className:"text-gray-700",children:"Engineering analysis does not determine legal responsibility or fault. Engineers evaluate technical causation, not legal conclusions. Where evidence is incomplete or ambiguous, responsible engineers acknowledge limitations rather than overstate certainty."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),l.jsx("p",{className:"text-gray-700",children:"This article provides general information about how engineers evaluate causation in failure analysis. It does not constitute engineering advice or establish a professional engagement."})]}),l.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[l.jsxs("p",{children:["Published ",l.jsx("time",{dateTime:i,children:e})]}),l.jsxs("p",{children:["Related:"," ",l.jsx(pe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",l.jsx(pe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),l.jsx(Pt,{})]})}function FO(){const i="2026-01-29",e="January 29, 2026",n="How Courts Evaluate Engineering Causation Testimony",r="How courts evaluate engineering causation testimony, including admissibility, methodology, evidence connection, and professional conduct in Missouri.";return k.useEffect(()=>{document.title=`${n} â€” Missouri`;const o=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};o("description",r),o("date",i),u("article:published_time",i)},[r,i,n]),l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[l.jsxs("header",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx(pe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ How Courts Evaluate Engineering Causation Testimony"]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"How Courts Evaluate Engineering Causation Testimony"}),l.jsx("p",{className:"text-lg text-gray-700",children:"The Role of Engineering Testimony in Legal Proceedings"})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("p",{className:"text-gray-700",children:"In cases involving technical or engineering issues, courts often rely on expert testimony to understand causation. Engineering causation testimony helps explain whether and how a system failed, what factors contributed to that failure, and whether proposed explanations are technically sound."}),l.jsx("p",{className:"text-gray-700",children:"Courts do not evaluate engineering testimony based on conclusions alone. They examine the methods, reasoning, and reliability underlying the opinions offered."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Admissibility vs. Persuasiveness"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Courts typically distinguish between two related but separate questions:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Admissibility: Whether the testimony meets legal standards to be considered"}),l.jsx("li",{children:"Persuasiveness: How much weight the court gives the testimony"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"An opinion may be admissible but still unpersuasive if it lacks clarity, support, or credibility."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Methodology and Reliability"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Courts evaluate whether an engineerâ€™s analysis is grounded in reliable methodology. Factors commonly considered include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Use of accepted engineering principles"}),l.jsx("li",{children:"Consistency with professional standards or practices"}),l.jsx("li",{children:"Application of methods appropriate to the problem"}),l.jsx("li",{children:"Logical connection between evidence and conclusions"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Courts are generally skeptical of opinions that rely on unexplained assumptions or unsupported leaps in reasoning."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Connection to the Evidence"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering causation testimony must be tied to the facts of the case. Courts examine whether:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"The engineer reviewed relevant documents and data"}),l.jsx("li",{children:"Physical evidence supports the proposed causation"}),l.jsx("li",{children:"Alternative explanations were considered and addressed"}),l.jsx("li",{children:"The timing and sequence of events are consistent"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Opinions that are abstract or disconnected from case-specific evidence are often given less weight."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Transparency of Assumptions"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"All engineering analysis involves assumptions. Courts do not expect assumptions to be eliminated, but they do expect them to be:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Identified explicitly"}),l.jsx("li",{children:"Reasonable in context"}),l.jsx("li",{children:"Consistently applied"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Unstated or shifting assumptions can undermine credibility, even if the technical analysis is otherwise sound."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Qualifications and Scope"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Courts consider whether the expertâ€™s qualifications align with the opinions offered. Relevant factors may include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Licensure and professional standing"}),l.jsx("li",{children:"Education and technical experience"}),l.jsx("li",{children:"Familiarity with the subject matter"}),l.jsx("li",{children:"Experience with similar systems or failures"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Courts may discount testimony that extends beyond the expertâ€™s demonstrated area of competence."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Treatment of Alternative Causes"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Credible engineering testimony addresses alternative causation theories. Courts look for evidence that the expert:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Considered other plausible explanations"}),l.jsx("li",{children:"Evaluated them using engineering principles"}),l.jsx("li",{children:"Explained why they were accepted or rejected"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Failure to engage with alternative causes can suggest incomplete or biased analysis."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Communication and Clarity"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Even technically correct opinions may be ineffective if they are poorly communicated. Courts value testimony that:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Clearly separates facts, analysis, and conclusions"}),l.jsx("li",{children:"Uses plain language where possible"}),l.jsx("li",{children:"Avoids unnecessary jargon"}),l.jsx("li",{children:"Acknowledges uncertainty when appropriate"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Clear explanations help courts understand both the reasoning and its limitations."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Independence and Professional Conduct"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Courts are attentive to signs of bias or advocacy. Factors that may affect credibility include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Consistency of opinions across cases"}),l.jsx("li",{children:"Compensation arrangements"}),l.jsx("li",{children:"Willingness to acknowledge unfavorable facts"}),l.jsx("li",{children:"Adherence to professional ethics"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering experts are expected to assist the court, not argue a case."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limits of Engineering Testimony"}),l.jsx("p",{className:"text-gray-700",children:"Engineering experts provide technical opinions, not legal conclusions. Courts evaluate causation testimony within the broader legal framework, which may involve additional considerations beyond engineering analysis."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Responsible experts respect these boundaries."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),l.jsx("p",{className:"text-gray-700",children:"This article provides general information about how courts evaluate engineering causation testimony. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),l.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[l.jsxs("p",{children:["Published ",l.jsx("time",{dateTime:i,children:e})]}),l.jsxs("p",{children:["Related:"," ",l.jsx(pe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",l.jsx(pe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),l.jsx(Pt,{})]})}function HO(){const i="2026-01-30",e="January 30, 2026",n="Root Cause vs. Legal Cause: An Engineering Perspective",r="Why the distinction between engineering root cause and legal cause matters in Missouri disputes involving technical failures.";return k.useEffect(()=>{document.title=`${n} â€” Missouri`;const o=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};o("description",r),o("date",i),u("article:published_time",i)},[r,i,n]),l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[l.jsxs("header",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx(pe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Root Cause vs. Legal Cause: An Engineering Perspective"]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Root Cause vs. Legal Cause: An Engineering Perspective"}),l.jsx("p",{className:"text-lg text-gray-700",children:"Why the Distinction Matters"})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("p",{className:"text-gray-700",children:"In disputes involving technical failures, the terms root cause and legal cause are sometimes used interchangeably. In practice, they represent different concepts. Understanding the distinction is important for attorneys, courts, and engineers alike."}),l.jsx("p",{className:"text-gray-700",children:"Professional engineers evaluate technical causation. Courts evaluate legal responsibility. While related, these analyses serve different purposes."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Engineers Mean by Root Cause"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"In engineering practice, a root cause is the underlying technical reason a failure occurred. Identifying it typically involves:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Defining failure criteria"}),l.jsx("li",{children:"Examining system behavior and conditions"}),l.jsx("li",{children:"Reviewing assumptions and design decisions"}),l.jsx("li",{children:"Evaluating failure modes and sequences"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"A root cause analysis seeks to explain why a system did not perform as intended from an engineering standpoint."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"There may be more than one contributing technical factor, but the root cause is generally the factor without which the failure would not have occurred."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Legal Cause Is a Separate Question"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Legal causeâ€”often discussed as proximate causeâ€”is a legal concept. Courts evaluate whether a particular act or omission is sufficiently connected to an outcome to warrant responsibility under the law."}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Legal causation may consider factors such as:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Foreseeability"}),l.jsx("li",{children:"Intervening events"}),l.jsx("li",{children:"Allocation of responsibility"}),l.jsx("li",{children:"Policy considerations"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"These considerations extend beyond technical analysis."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"How Engineering Analysis Informs Legal Decisions"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering causation analysis provides courts with a factual and technical foundation. Courts may rely on engineering testimony to understand:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"How a system was designed to function"}),l.jsx("li",{children:"What conditions existed at the time of failure"}),l.jsx("li",{children:"Whether technical standards were met"}),l.jsx("li",{children:"Which factors materially contributed to the outcome"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"However, engineering opinions do not determine legal outcomes on their own."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Multiple Causes and Contributing Factors"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering failures often involve multiple contributing factors. Engineers distinguish between:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Primary technical causes"}),l.jsx("li",{children:"Secondary or contributing conditions"}),l.jsx("li",{children:"Factors that were present but not causally significant"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Legal frameworks may treat these factors differently when assigning responsibility."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Importance of Clear Scope in Expert Testimony"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering experts must clearly define the scope of their opinions. Testimony should focus on technical causation and avoid legal conclusions."}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Clear scope helps:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Preserve credibility"}),l.jsx("li",{children:"Avoid confusion for the court"}),l.jsx("li",{children:"Ensure testimony remains within professional competence"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Courts are generally skeptical of experts who blur the line between engineering analysis and legal judgment."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Communicating Technical Causation Effectively"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"For engineering analysis to be useful in legal settings, it must be communicated clearly. Effective testimony:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Separates facts from opinions"}),l.jsx("li",{children:"Explains assumptions and limitations"}),l.jsx("li",{children:"Uses engineering principles consistently"}),l.jsx("li",{children:"Avoids speculation beyond available evidence"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Clear communication allows legal decision-makers to properly weigh technical findings."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Professional Responsibility and Ethics"}),l.jsx("p",{className:"text-gray-700",children:"Professional engineers are bound by ethical obligations to provide honest, objective opinions. Root cause analysis must be grounded in evidence and professional judgment, regardless of how the conclusions may affect the parties involved."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),l.jsx("p",{className:"text-gray-700",children:"This article provides general information about the distinction between engineering root cause and legal cause. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),l.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[l.jsxs("p",{children:["Published ",l.jsx("time",{dateTime:i,children:e})]}),l.jsxs("p",{children:["Related:"," ",l.jsx(pe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",l.jsx(pe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),l.jsx(Pt,{})]})}function GO(){const i="2026-01-31",e="January 31, 2026",n="Common Mistakes in Engineering Expert Reports",r="Why report quality matters in engineering expert reports, including scope, assumptions, evidence, and communication in Missouri legal contexts.";return k.useEffect(()=>{document.title=`${n} â€” Missouri`;const o=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};o("description",r),o("date",i),u("article:published_time",i)},[r,i,n]),l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[l.jsxs("header",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx(pe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Common Mistakes in Engineering Expert Reports"]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Common Mistakes in Engineering Expert Reports"}),l.jsx("p",{className:"text-lg text-gray-700",children:"Why Report Quality Matters"})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("p",{className:"text-gray-700",children:"In legal and dispute contexts, engineering expert reports often carry significant weight. Courts, attorneys, insurers, and opposing experts may rely on these reports to understand technical issues and evaluate causation. The quality of an expert report can influence not only how persuasive the analysis is, but whether it is taken seriously at all."}),l.jsx("p",{className:"text-gray-700",children:"Even technically correct opinions can lose credibility if they are poorly presented or inadequately supported."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Lack of Clear Scope and Questions"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"A common issue in expert reports is the absence of a clearly defined scope. Effective reports state:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"The specific questions the expert was asked to address"}),l.jsx("li",{children:"The boundaries of the analysis"}),l.jsx("li",{children:"What issues are outside the scope of the report"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Without this clarity, readers may misinterpret conclusions or assume opinions extend beyond what was actually analyzed."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Unstated or Unsupported Assumptions"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"All engineering analysis involves assumptions. Problems arise when assumptions are:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Not disclosed"}),l.jsx("li",{children:"Not justified"}),l.jsx("li",{children:"Inconsistent with available evidence"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Courts and opposing experts often focus on assumptions. Failure to state and support them can undermine otherwise sound analysis."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Insufficient Connection to Evidence"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Expert opinions must be grounded in the facts of the case. Reports that present general engineering theory without tying it to specific evidence are often less persuasive."}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Effective reports:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Cite relevant documents, data, and observations"}),l.jsx("li",{children:"Explain how evidence supports conclusions"}),l.jsx("li",{children:"Distinguish between observed facts and inferred conditions"})]})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Failure to Address Alternative Explanations"}),l.jsx("p",{className:"text-gray-700",children:"Credible engineering analysis considers plausible alternative causes. Reports that present a single explanation without addressing reasonable alternatives may appear incomplete or biased."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Addressing alternative explanations does not weaken a report; it often strengthens it by demonstrating that competing hypotheses were considered and evaluated."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Overstating Certainty"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering analysis often involves uncertainty. Overstating confidence or presenting conclusions as absolute can be misleading."}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Responsible reports:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Acknowledge data limitations"}),l.jsx("li",{children:"Identify uncertainties or assumptions"}),l.jsx("li",{children:"Avoid definitive language when evidence does not support it"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Transparency about uncertainty enhances credibility."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Blurring Technical and Legal Conclusions"}),l.jsx("p",{className:"text-gray-700",children:"Engineering experts provide technical opinions, not legal judgments. Reports that drift into legal conclusionsâ€”such as fault, negligence, or liabilityâ€”risk being discounted or challenged."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Maintaining a clear distinction between technical causation and legal responsibility helps preserve the integrity of the report."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Poor Organization and Communication"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Even strong technical analysis can be undermined by poor structure or unclear writing. Common communication issues include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Dense, jargon-heavy language"}),l.jsx("li",{children:"Unclear presentation of methods"}),l.jsx("li",{children:"Disorganized findings"}),l.jsx("li",{children:"Lack of summaries or conclusions"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Clear organization and plain language help non-technical readers understand the analysis and reasoning."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Inadequate Documentation of Methods"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Courts and opposing experts often scrutinize methodology. Reports should describe:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"The methods used"}),l.jsx("li",{children:"Why those methods are appropriate"}),l.jsx("li",{children:"Any limitations of the methods"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Without this documentation, opinions may appear unsupported."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),l.jsx("p",{className:"text-gray-700",children:"This article provides general information about common issues in engineering expert reports. It does not constitute engineering or legal advice and does not establish a professional engagement."})]}),l.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[l.jsxs("p",{children:["Published ",l.jsx("time",{dateTime:i,children:e})]}),l.jsxs("p",{children:["Related:"," ",l.jsx(pe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",l.jsx(pe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),l.jsx(Pt,{})]})}function $O(){const i="2026-02-01",e="February 1, 2026",n="Structural Analysis and Building Approval in Missouri: What to Know",r="How structural analysis relates to building approval in Missouri, including when engineering is required and the role of a licensed Professional Engineer.";return k.useEffect(()=>{document.title=`${n} â€” Missouri`;const o=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};o("description",r),o("date",i),u("article:published_time",i)},[r,i,n]),l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[l.jsxs("header",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx(pe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Structural Analysis and Building Approval in Missouri"]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Structural Analysis and Building Approval in Missouri: What to Know"}),l.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Role of Engineering in the Approval Process"})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("p",{className:"text-gray-700",children:"Building projects in Missouri often require review and approval by local authorities before construction can proceed. When a project involves structural considerations that affect safety or performance, engineering analysis may be required as part of the approval process."}),l.jsx("p",{className:"text-gray-700",children:"This article provides general information about how structural analysis relates to building approval in Missouri and how professional engineering judgment is used in that context."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When Structural Analysis Is Required"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Local building departments may require engineering analysis when proposed work:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Modifies load-bearing elements"}),l.jsx("li",{children:"Alters structural systems or support conditions"}),l.jsx("li",{children:"Involves unusual loading or non-standard configurations"}),l.jsx("li",{children:"Affects safety-related components of a structure"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"The specific requirements vary by jurisdiction and project type. Some projects may proceed under prescriptive code provisions, while others require engineering evaluation."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Role of a Missouri-Licensed Professional Engineer"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"When structural analysis is required for approval, a Missouri-licensed Professional Engineer may be engaged to evaluate the proposed work and prepare supporting documentation."}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering involvement may include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Review of proposed modifications"}),l.jsx("li",{children:"Evaluation of load paths and structural behavior"}),l.jsx("li",{children:"Assessment of compatibility with existing structures"}),l.jsx("li",{children:"Preparation of sealed engineering reports or drawings when required"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"The engineerâ€™s role is to apply professional judgment to the specific conditions of the project."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Sealed Documents and Submissions"}),l.jsx("p",{className:"text-gray-700",children:"In many cases, building departments require sealed documents for work involving structural modifications. Sealed submissions indicate that a licensed engineer has taken professional responsibility for the technical content of the analysis or drawings."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Requirements for sealing, signing, and dating are governed by Missouri statutes and professional rules. Not all submissions require a seal, but when they do, sealing should be performed in accordance with applicable regulations."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Interaction with Building Codes and Prescriptive Provisions"}),l.jsx("p",{className:"text-gray-700",children:"Building codes often include prescriptive provisions for common construction scenarios. When work falls outside prescriptive limits, engineering analysis may be required to demonstrate compliance with performance-based criteria."}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Engineers may evaluate:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Whether proposed work meets code intent"}),l.jsx("li",{children:"Whether alternative approaches provide equivalent performance"}),l.jsx("li",{children:"Whether existing conditions warrant additional analysis"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering judgment supplements code requirements rather than replacing them."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Coordination with Design and Construction Teams"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering analysis for building approval typically occurs alongside architectural and construction planning. Clear communication among project participants helps ensure that:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Engineering assumptions are understood"}),l.jsx("li",{children:"Structural implications are considered early"}),l.jsx("li",{children:"Submissions to authorities are complete and consistent"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Early coordination can reduce delays and rework during the approval process."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations and Scope"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering analysis for building approval is limited to the scope of the engagement. It does not replace:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Contractor means and methods"}),l.jsx("li",{children:"Construction supervision"}),l.jsx("li",{children:"Ongoing inspection unless specifically agreed"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Understanding the boundaries of professional responsibility is important for all parties involved."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Seek Engineering Input"}),l.jsx("p",{className:"text-gray-700",children:"If there is uncertainty about whether structural analysis is required, consulting with a licensed Professional Engineer early in the planning process can help clarify requirements and define appropriate scope."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),l.jsx("p",{className:"text-gray-700",children:"This article provides general information about structural analysis and building approval in Missouri. It does not constitute engineering advice and does not establish a professional engagement."})]}),l.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[l.jsxs("p",{children:["Published ",l.jsx("time",{dateTime:i,children:e})]}),l.jsxs("p",{children:["Related:"," ",l.jsx(pe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",l.jsx(pe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),l.jsx(Pt,{})]})}function KO(){const i="2026-02-02",e="February 2, 2026",n="What Is a Property Condition Assessment (PCA)?",r="A Property Condition Assessment (PCA) is a high-level evaluation of a buildingâ€™s condition used in due diligence, financing, and asset planning to identify significant deficiencies and risks.";return k.useEffect(()=>{document.title=`${n} â€” Missouri`;const o=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};o("description",r),o("date",i),u("article:published_time",i)},[r,i,n]),l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[l.jsxs("header",{className:"space-y-4",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx(pe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Property Condition Assessment (PCA)"]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"What Is a Property Condition Assessment (PCA)?"}),l.jsx("p",{className:"text-sm text-gray-600",children:e}),l.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Purpose of a PCA"})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("p",{className:"text-gray-700",children:"A Property Condition Assessment (PCA) is an evaluation of the physical condition of a building or group of buildings. PCAs are commonly used in real estate transactions, financing, asset management, and due diligence to understand the current condition of a property and to identify significant deficiencies that may require repair or further investigation."}),l.jsx("p",{className:"text-gray-700",children:"This article provides general information about what a PCA is, what it typically includes, and how engineering judgment may be applied in the process."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What a PCA Typically Covers"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"While the scope of a PCA can vary depending on the property type and purpose of the assessment, PCAs often include a review of major building systems, such as:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Structural components"}),l.jsx("li",{children:"Building envelope (roof, exterior walls, openings)"}),l.jsx("li",{children:"Mechanical, electrical, and plumbing systems"}),l.jsx("li",{children:"Life safety systems"}),l.jsx("li",{children:"Site-related features affecting the building"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"The goal is to identify observed conditions and potential concerns, not to provide detailed design or repair plans."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"The Role of Engineering Judgment"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"In some cases, a PCA involves professional engineering judgment, particularly when observed conditions may affect safety, performance, or service life. Engineering involvement may include:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Evaluation of observed structural or system deficiencies"}),l.jsx("li",{children:"Assessment of potential implications of deterioration"}),l.jsx("li",{children:"Identification of conditions that warrant further investigation"}),l.jsx("li",{children:"Technical input on remaining useful life of components"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Not all PCAs require a Professional Engineer, but when engineering judgment is applied, licensure may be required depending on jurisdiction and scope."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"PCA vs. Detailed Engineering Investigation"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"A PCA is generally a high-level assessment. It is not a substitute for:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Detailed structural analysis"}),l.jsx("li",{children:"Invasive testing"}),l.jsx("li",{children:"Design of repairs or modifications"}),l.jsx("li",{children:"Construction documents"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"When a PCA identifies issues that cannot be evaluated visually or at a high level, further engineering investigation may be recommended."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"How PCAs Are Used"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"PCAs are commonly used to:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Inform purchase or financing decisions"}),l.jsx("li",{children:"Identify near-term capital needs"}),l.jsx("li",{children:"Support asset management planning"}),l.jsx("li",{children:"Provide baseline documentation of building condition"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Lenders and investors often rely on PCAs to understand potential risks associated with a property."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Documentation and Reporting"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"PCA reports typically document:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Observed conditions"}),l.jsx("li",{children:"Noted deficiencies"}),l.jsx("li",{children:"Areas of uncertainty or limited access"}),l.jsx("li",{children:"Recommendations for further evaluation where appropriate"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Clear documentation helps readers understand both what was observed and what was not evaluated."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations of a PCA"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"PCAs are limited by:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Accessibility of building components"}),l.jsx("li",{children:"Non-invasive nature of most assessments"}),l.jsx("li",{children:"Time and scope constraints"}),l.jsx("li",{children:"Reliance on visual observation"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Responsible PCA reports acknowledge these limitations rather than implying certainty where none exists."})]}),l.jsxs("section",{children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Consider a PCA"}),l.jsx("p",{className:"text-gray-700 mb-3",children:"A PCA may be appropriate when:"}),l.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[l.jsx("li",{children:"Acquiring or refinancing a property"}),l.jsx("li",{children:"Evaluating capital planning needs"}),l.jsx("li",{children:"Establishing a baseline condition record"}),l.jsx("li",{children:"Assessing potential risks prior to significant investment"})]}),l.jsx("p",{className:"text-gray-700 mt-3",children:"Early assessment can help identify issues before they become more costly."})]}),l.jsxs("section",{className:"border-t border-gray-200 pt-6",children:[l.jsx("h2",{className:"text-xl font-serif text-gray-900 mb-2",children:"Closing"}),l.jsx("p",{className:"text-gray-700",children:"This article provides general information about Property Condition Assessments. It does not constitute engineering advice and does not establish a professional engagement."})]})]})}),l.jsx(Pt,{})]})}function YO(){return l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[l.jsxs("header",{className:"space-y-3",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Toolbox"}),l.jsx("p",{className:"text-lg text-gray-700",children:"Reference tools for engineering calculations and unit handling."})]}),l.jsxs("section",{className:"space-y-4",children:[l.jsx("h2",{className:"text-2xl font-serif text-gray-900",children:"Utilities"}),l.jsxs("div",{className:"border border-gray-200 p-5 bg-white",children:[l.jsx("h3",{className:"text-lg font-serif text-gray-900 mb-2",children:"Unit Conversion"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"Convert numerator and denominator measurements to SI units, or convert to a target set of units."}),l.jsx(pe,{to:"/toolbox/unit-conversion",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Open unit conversion tool"})]}),l.jsxs("div",{className:"border border-gray-200 p-5 bg-white",children:[l.jsx("h3",{className:"text-lg font-serif text-gray-900 mb-2",children:"Force vectors"}),l.jsx("p",{className:"text-gray-700 mb-4",children:"Draw force vectors on an XY plane and compute the resultant."}),l.jsx(pe,{to:"/toolbox/force-vectors",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Open force vectors tool"})]})]})]})}),l.jsx(Pt,{})]})}class on{constructor(e){this.abbreviation=e.abbreviation,this.fullName=e.fullName,this.type=e.type,this.prefix=e.prefix??null,this.prefixMultiplier=e.prefixMultiplier??null,this.baseMultiplier=e.baseMultiplier??null}}class rt{constructor(e,n){this.value=e,this.unit=n}}const qe=new on({abbreviation:"N",fullName:"Newtons",type:"Force"}),L_=i=>{if(i.baseMultiplier!=null)return i.baseMultiplier;const e=i.prefixMultiplier??1;return i.type==="Mass"?e/1e3:e},V_=(i,e,n={})=>{if(i.type==="Mass"){const o=i.baseMultiplier!=null?i.baseMultiplier*1e3:i.prefixMultiplier??1,u=i.baseMultiplier!=null?i.baseMultiplier:(i.prefixMultiplier??1)/1e3;return e==="numerator"&&!n.preferKilogram?{multiplier:o,label:"g",baseLabel:"g"}:{multiplier:u,label:"kg",baseLabel:"kg"}}const r=i.baseMultiplier??i.prefixMultiplier??1;return i.type==="Force"?{multiplier:r,label:"N",baseLabel:"N"}:i.type==="Time"?{multiplier:r,label:"s",baseLabel:"s"}:i.type==="Length"?{multiplier:r,label:"m",baseLabel:"m"}:{multiplier:r,label:i.abbreviation,baseLabel:i.abbreviation}},bg=[{name:"tera",symbol:"T",multiplier:1e12},{name:"giga",symbol:"G",multiplier:1e9},{name:"mega",symbol:"M",multiplier:1e6},{name:"kilo",symbol:"k",multiplier:1e3},{name:"",symbol:"",multiplier:1},{name:"milli",symbol:"m",multiplier:.001},{name:"micro",symbol:"Î¼",multiplier:1e-6}],U_=(i,e,n=.1)=>{const r=Math.abs(i);if(r===0)return{value:i,label:e};for(const u of bg){const d=r/u.multiplier;if(d>=n&&d<1e3)return{value:i/u.multiplier,label:`${u.symbol}${e}`}}const o=bg[bg.length-1];return{value:i/o.multiplier,label:`${o.symbol}${e}`}},z_=i=>{const e=["N","kg","m","g","s"],n=e.indexOf(i);return n===-1?e.length:n},q_=i=>[...i].sort((e,n)=>z_(e.baseLabel)-z_(n.baseLabel)).map(e=>e.label).join("*"),QO=(i,e)=>{if(!Number.isFinite(i)||i===0)return i;const n=Math.floor(Math.log10(Math.abs(i))),r=10**(e-1-n);return Math.round(i*r)/r},wh=i=>i.map(e=>"unit"in e?{unit:e.unit,power:e.power??1}:{unit:e,power:1}),qt=(i,e,n=[])=>{const r=wh(e),o=wh(n),u=r.reduce((g,{unit:y,power:p})=>g*L_(y)**(p??1),1),d=o.reduce((g,{unit:y,power:p})=>g*L_(y)**(p??1),1);return i*(u/d)},It=(i,e,n,r,o=[])=>{const u=qt(i,e,n),d=qt(1,r,o);return u/d},WO=(i,e,n=[],r={})=>{const o=wh(e),u=wh(n),d=o.length>1,g=o.map(({unit:z,power:te})=>{const J=te??1,W=V_(z,"numerator",{preferKilogram:d});return{multiplier:W.multiplier**J,label:J===1?W.label:`${W.label}^${J}`,power:J,baseLabel:W.baseLabel}}),y=u.map(({unit:z,power:te})=>{const J=te??1,W=V_(z,"denominator");return{multiplier:W.multiplier**J,label:J===1?W.label:`${W.label}^${J}`,power:J,baseLabel:W.baseLabel}}),p=g.reduce((z,te)=>z*te.multiplier,1),_=y.reduce((z,te)=>z*te.multiplier,1);let E=i*(p/_),N=q_(g);const L=y.map(z=>z.label).join("*");if(g.length===1&&g[0].power===1){const z=g[0].baseLabel;if(z==="N"||z==="g"||z==="m"){const te=U_(E,z,.1);E=te.value,N=te.label}}if(g.length>1){const te=["m","N","g"].map(J=>g.findIndex(W=>W.baseLabel===J&&W.power===1)).find(J=>J!==void 0&&J>=0);if(te!==void 0&&te>=0){const J=Math.abs(E);if(J<.1||J>=1e3){const W=g[te],q=U_(E,W.baseLabel,.1);q.label!==W.label&&(E=q.value,g[te]={...W,label:q.label},N=q_(g))}}}if(r.sigFigs!==void 0){const z=Math.max(1,Math.floor(r.sigFigs));E=QO(E,z)}const Y=L&&L.includes("*")?`(${L})`:L,B=Y?`${N}/${Y}`:N;return{value:E,unit:B}},XO=new on({abbreviation:"kg",fullName:"Kilograms",type:"Mass",prefix:"kilo",prefixMultiplier:1e3}),JO=new on({abbreviation:"g",fullName:"Grams",type:"Mass",prefixMultiplier:1}),ZO=new on({abbreviation:"Mg",fullName:"Megagrams",type:"Mass",prefix:"mega",prefixMultiplier:1e6}),eP=new on({abbreviation:"mg",fullName:"Milligrams",type:"Mass",prefix:"milli",prefixMultiplier:.001}),tP=new on({abbreviation:"s",fullName:"Seconds",type:"Time"}),nP=new on({abbreviation:"ms",fullName:"Milliseconds",type:"Time",prefix:"milli",prefixMultiplier:.001}),iP=new on({abbreviation:"Î¼s",fullName:"Microseconds",type:"Time",prefix:"micro",prefixMultiplier:1e-6}),sP=new on({abbreviation:"mN",fullName:"Millinewtons",type:"Force",prefix:"milli",prefixMultiplier:.001}),rP=new on({abbreviation:"kN",fullName:"Kilonewtons",type:"Force",prefix:"kilo",prefixMultiplier:1e3}),aP=new on({abbreviation:"MN",fullName:"Meganewtons",type:"Force",prefix:"mega",prefixMultiplier:1e6}),cu=new on({abbreviation:"m",fullName:"Meters",type:"Length"}),oP=new on({abbreviation:"mm",fullName:"Millimeters",type:"Length",prefix:"milli",prefixMultiplier:.001}),lP=new on({abbreviation:"Î¼m",fullName:"Micrometers",type:"Length",prefix:"micro",prefixMultiplier:1e-6}),cP=new on({abbreviation:"km",fullName:"Kilometers",type:"Length",prefix:"kilo",prefixMultiplier:1e3}),uP=new on({abbreviation:"Mm",fullName:"Megameters",type:"Length",prefix:"mega",prefixMultiplier:1e6}),cy=new on({abbreviation:"ft",fullName:"Feet",type:"Length",baseMultiplier:.3048}),dP=new on({abbreviation:"hr",fullName:"Hours",type:"Time",baseMultiplier:3600}),uy=new on({abbreviation:"lb",fullName:"Pound-force",type:"Force",baseMultiplier:4.4482216152605}),hP=new on({abbreviation:"slug",fullName:"Slugs",type:"Mass",baseMultiplier:14.59390294}),Nc=[{label:"N",unit:qe},{label:"kN",unit:rP},{label:"MN",unit:aP},{label:"mN",unit:sP},{label:"lb",unit:uy},{label:"kg",unit:XO},{label:"g",unit:JO},{label:"mg",unit:eP},{label:"Mg",unit:ZO},{label:"slug",unit:hP},{label:"m",unit:cu},{label:"mm",unit:oP},{label:"Î¼m",unit:lP},{label:"km",unit:cP},{label:"Mm",unit:uP},{label:"ft",unit:cy},{label:"s",unit:tP},{label:"ms",unit:nP},{label:"Î¼s",unit:iP},{label:"hr",unit:dP}],qd=i=>Nc.find(n=>n.label===i)?.unit??qe,B_=i=>Number.isFinite(i)?i===0?"0":Number(i.toPrecision(6)).toString():"â€”";function fP(){const[i,e]=k.useState("1"),[n,r]=k.useState("1"),[o,u]=k.useState("N"),[d,g]=k.useState("s"),[y,p]=k.useState("N"),[_,E]=k.useState("s"),[N,L]=k.useState(1),[Y,B]=k.useState(1),[z,te]=k.useState(1),[J,W]=k.useState(1),q=k.useMemo(()=>qd(o),[o]),oe=k.useMemo(()=>qd(d),[d]),he=k.useMemo(()=>qd(y),[y]),j=k.useMemo(()=>qd(_),[_]),S=Number(i),A=Number(n),C=Number.isFinite(S),M=Number.isFinite(A)&&A!==0,V=C&&M?S/A:NaN,R=k.useMemo(()=>Number.isFinite(V)?WO(V,[{unit:q,power:N}],[{unit:oe,power:Y}],{sigFigs:6}):null,[V,q,oe,N,Y]),we=k.useMemo(()=>{if(!Number.isFinite(V))return null;const ye=It(V,[{unit:q,power:N}],[{unit:oe,power:Y}],[{unit:he,power:z}],[{unit:j,power:J}]),X=z===1?he.abbreviation:`${he.abbreviation}^${z}`,le=J===1?j.abbreviation:`${j.abbreviation}^${J}`,fe=`${X}/${le}`;return{value:ye,unit:fe}},[V,q,oe,N,Y,he,j,z,J]);return l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[l.jsxs("header",{className:"space-y-3",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Unit Conversion"}),l.jsx("p",{className:"text-lg text-gray-700",children:"Convert a numerator and denominator measurement to SI, or convert to a target unit pair."})]}),l.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-serif text-gray-900",children:"Input"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"block text-sm text-gray-700",children:["Numerator value",l.jsx("input",{className:"mt-1 w-full border border-gray-300 px-3 py-2 text-sm",value:i,onChange:ye=>e(ye.target.value),inputMode:"decimal"})]}),l.jsxs("label",{className:"block text-sm text-gray-700",children:["Numerator unit",l.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[l.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:o,onChange:ye=>u(ye.target.value),children:Nc.map(ye=>l.jsx("option",{value:ye.label,children:ye.label},ye.label))}),l.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:N,onChange:ye=>L(Number(ye.target.value)),children:[l.jsx("option",{value:1,children:"^1"}),l.jsx("option",{value:2,children:"^2"}),l.jsx("option",{value:3,children:"^3"})]})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("label",{className:"block text-sm text-gray-700",children:["Denominator value",l.jsx("input",{className:"mt-1 w-full border border-gray-300 px-3 py-2 text-sm",value:n,onChange:ye=>r(ye.target.value),inputMode:"decimal"})]}),l.jsxs("label",{className:"block text-sm text-gray-700",children:["Denominator unit",l.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[l.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:d,onChange:ye=>g(ye.target.value),children:Nc.map(ye=>l.jsx("option",{value:ye.label,children:ye.label},ye.label))}),l.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:Y,onChange:ye=>B(Number(ye.target.value)),children:[l.jsx("option",{value:1,children:"^1"}),l.jsx("option",{value:2,children:"^2"}),l.jsx("option",{value:3,children:"^3"})]})]})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-xl font-serif text-gray-900",children:"Results"}),l.jsxs("div",{className:"border border-gray-200 p-4 space-y-3",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"A) Convert to SI"}),l.jsx("p",{className:"text-lg text-gray-900",children:R?`${B_(R.value)} ${R.unit}`:"â€”"})]}),l.jsxs("div",{className:"border border-gray-200 p-4 space-y-3",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"B) Convert to target numerator / denominator"}),l.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[l.jsxs("label",{className:"block text-sm text-gray-700",children:["Target numerator unit",l.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[l.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:y,onChange:ye=>p(ye.target.value),children:Nc.map(ye=>l.jsx("option",{value:ye.label,children:ye.label},ye.label))}),l.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:z,onChange:ye=>te(Number(ye.target.value)),children:[l.jsx("option",{value:1,children:"^1"}),l.jsx("option",{value:2,children:"^2"}),l.jsx("option",{value:3,children:"^3"})]})]})]}),l.jsxs("label",{className:"block text-sm text-gray-700",children:["Target denominator unit",l.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[l.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:_,onChange:ye=>E(ye.target.value),children:Nc.map(ye=>l.jsx("option",{value:ye.label,children:ye.label},ye.label))}),l.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:J,onChange:ye=>W(Number(ye.target.value)),children:[l.jsx("option",{value:1,children:"^1"}),l.jsx("option",{value:2,children:"^2"}),l.jsx("option",{value:3,children:"^3"})]})]})]})]}),l.jsx("p",{className:"text-lg text-gray-900",children:we?`${B_(we.value)} ${we.unit}`:"â€”"})]}),!C&&l.jsx("p",{className:"text-sm text-red-600",children:"Enter a valid numerator value."}),!M&&l.jsx("p",{className:"text-sm text-red-600",children:"Enter a valid, non-zero denominator value."})]})]})]})}),l.jsx(Pt,{})]})}const Bd=2*Math.PI,Pr=(i,e)=>{if(!Number.isFinite(i))throw new Error(`${e} must be a finite number.`)},Xr=i=>{const e=(i%Bd+Bd)%Bd;return e===Bd?0:e},dN=i=>Math.hypot(i.x,i.y,i.z);class gn{constructor(e){this._radians=e}static fromDegrees(e){return Pr(e,"degrees"),gn.fromRadians(e*Math.PI/180)}static fromRadians(e){return Pr(e,"radians"),new gn(Xr(e))}get radians(){return this._radians}get degrees(){return this._radians*180/Math.PI}}const dy=i=>{if(i.unit.type!=="Force")throw new Error(`Expected Force unit, received ${i.unit.type}.`);return qt(i.value,[i.unit],[])};class Oi{constructor(e){this._unit=e}static fromUnitVector(e){const n=dN(e);if(!Number.isFinite(n)||n===0)throw new Error("Unit vector must be a non-zero finite vector.");return new Oi({x:e.x/n,y:e.y/n,z:e.z/n})}static fromThetaPhiRadians(e,n){Pr(e,"theta"),Pr(n,"phi");const r=Xr(e),o=Math.max(-Math.PI/2,Math.min(Math.PI/2,n)),u=Math.cos(o),d={x:u*Math.cos(r),y:u*Math.sin(r),z:Math.sin(o)};return new Oi(d)}static fromThetaPhiDegrees(e,n){return Oi.fromThetaPhiRadians(e*Math.PI/180,n*Math.PI/180)}static fromDirectionAnglesDegrees(e,n,r){Pr(e,"alpha"),Pr(n,"beta"),Pr(r,"gamma");const o=Math.cos(e*Math.PI/180),u=Math.cos(n*Math.PI/180),d=Math.cos(r*Math.PI/180),g=Math.hypot(o,u,d);if(!Number.isFinite(g)||g===0)throw new Error("Invalid direction angles.");return new Oi({x:o/g,y:u/g,z:d/g})}static completeDirectionAnglesDegrees(e){const n=e.alphaDeg??null,r=e.betaDeg??null,o=e.gammaDeg??null;if([n!=null?1:0,r!=null?1:0,o!=null?1:0].reduce((L,Y)=>L+Y,0)!==2)throw new Error("Provide exactly two of alpha/beta/gamma to compute the third.");const d=L=>{Pr(L,"angle");const Y=Math.cos(L*Math.PI/180);return Y*Y},g=n!=null?d(n):0,y=r!=null?d(r):0,p=o!=null?d(o):0,_=1-(g+y+p);if(!Number.isFinite(_)||_<-1e-12)throw new Error("Invalid direction angles: cos^2 sum exceeds 1.");const E=Math.sqrt(Math.max(0,_)),N=Math.acos(Math.max(-1,Math.min(1,E)))*180/Math.PI;return{alphaDeg:n??N,betaDeg:r??N,gammaDeg:o??N}}get unit(){return this._unit}get thetaRadians(){return Xr(Math.atan2(this._unit.y,this._unit.x))}get phiRadians(){const e=Math.hypot(this._unit.x,this._unit.y);return Math.atan2(this._unit.z,e)}get thetaDegrees(){return this.thetaRadians*180/Math.PI}get phiDegrees(){return this.phiRadians*180/Math.PI}get alphaDegrees(){return Math.acos(Math.max(-1,Math.min(1,this._unit.x)))*180/Math.PI}get betaDegrees(){return Math.acos(Math.max(-1,Math.min(1,this._unit.y)))*180/Math.PI}get gammaDegrees(){return Math.acos(Math.max(-1,Math.min(1,this._unit.z)))*180/Math.PI}}class En{constructor(e,n){if(e.unit.type!=="Force")throw new Error(`Expected Force unit, received ${e.unit.type}.`);this.measurement=e,this.direction=n}static fromComponents(e,n){if(e.unit.type!=="Force"||n.unit.type!=="Force")throw new Error("Components must use Force units.");if(e.unit!==n.unit)throw new Error("Component units must match.");const r=qt(e.value,[e.unit],[]),o=qt(n.value,[n.unit],[]),u=Math.hypot(r,o),d=u===0?0:Xr(Math.atan2(o,r));return new En(new rt(u,qe),gn.fromRadians(d))}toComponentsNewtons(){const e=dy(this.measurement),n=this.direction.radians;return{x:e*Math.cos(n),y:e*Math.sin(n)}}components(e=qe){if(e.type!=="Force")throw new Error(`Expected Force unit, received ${e.type}.`);const n=this.toComponentsNewtons(),r=It(n.x,[qe],[],[e],[]),o=It(n.y,[qe],[],[e],[]);return{i:new rt(r,e),j:new rt(o,e)}}toIHatJHatString(e={}){const n=e.unit??qe,r=e.sigFigs??6,{i:o,j:u}=this.components(n),d=E=>Number.isFinite(E)?E===0?"0":Number(E.toPrecision(Math.max(1,Math.floor(r)))).toString():"â€”",g=`${d(o.value)} ${n.abbreviation} iÌ‚`,y=Math.abs(u.value),p=u.value>=0?"+":"-",_=`${d(y)} ${n.abbreviation} jÌ‚`;return`${g} ${p} ${_}`}add(e){return Dc(this,e)}}class ka{constructor(e,n){if(e.unit.type!=="Force")throw new Error(`Expected Force unit, received ${e.unit.type}.`);this.measurement=e,this.direction=n}static fromComponents(e,n,r){if(e.unit.type!=="Force"||n.unit.type!=="Force"||r.unit.type!=="Force")throw new Error("Components must use Force units.");if(e.unit!==n.unit||e.unit!==r.unit)throw new Error("Component units must match.");const o=qt(e.value,[e.unit],[]),u=qt(n.value,[n.unit],[]),d=qt(r.value,[r.unit],[]),g=Math.hypot(o,u,d),y=g===0?{x:1,y:0,z:0}:{x:o/g,y:u/g,z:d/g};return new ka(new rt(g,qe),Oi.fromUnitVector(y))}toComponentsNewtons(){const e=dy(this.measurement),n=this.direction.unit;return{x:e*n.x,y:e*n.y,z:e*n.z}}components(e=qe){if(e.type!=="Force")throw new Error(`Expected Force unit, received ${e.type}.`);const n=this.toComponentsNewtons(),r=It(n.x,[qe],[],[e],[]),o=It(n.y,[qe],[],[e],[]),u=It(n.z,[qe],[],[e],[]);return{i:new rt(r,e),j:new rt(o,e),k:new rt(u,e)}}toIJKString(e={}){const n=e.unit??qe,r=e.sigFigs??6,{i:o,j:u,k:d}=this.components(n),g=N=>Number.isFinite(N)?N===0?"0":Number(N.toPrecision(Math.max(1,Math.floor(r)))).toString():"â€”",y=(N,L)=>`${g(Math.abs(N))} ${n.abbreviation} ${L}`,p=`${g(o.value)} ${n.abbreviation} iÌ‚`,_=`${u.value>=0?"+":"-"} ${y(u.value,"jÌ‚")}`,E=`${d.value>=0?"+":"-"} ${y(d.value,"kÌ‚")}`;return`${p} ${_} ${E}`}}const mP=(...i)=>{if(i.length===0)throw new Error("addForces3D requires at least one force.");const e=i.reduce((o,u)=>{const d=u.toComponentsNewtons();return{x:o.x+d.x,y:o.y+d.y,z:o.z+d.z}},{x:0,y:0,z:0}),n=dN(e),r=n===0?{x:1,y:0,z:0}:{x:e.x/n,y:e.y/n,z:e.z/n};return new ka(new rt(n,qe),Oi.fromUnitVector(r))},gP=(i,e)=>{const n=i.toComponentsNewtons(),r=e.toComponentsNewtons(),o={x:n.x-r.x,y:n.y-r.y},u=Math.hypot(o.x,o.y),d=u===0?0:Xr(Math.atan2(o.y,o.x));return new En(new rt(u,qe),gn.fromRadians(d))},pP=i=>{const e=i.resultant.toComponentsNewtons(),n=i.direction1.radians,r=i.direction2.radians,o=Math.cos(n),u=Math.cos(r),d=Math.sin(n),g=Math.sin(r),y=o*g-u*d;if(!Number.isFinite(y)||Math.abs(y)<1e-12)throw new Error("Directions are colinear; cannot solve unique magnitudes.");const p=(e.x*g-u*e.y)/y,_=(o*e.y-e.x*d)/y;return{force1:new En(new rt(p,qe),i.direction1),force2:new En(new rt(_,qe),i.direction2)}},yP=i=>{const e=i.knownForces.length?Dc(...i.knownForces):null,n=e?e.toComponentsNewtons():{x:0,y:0},r=i.resultantDirection.radians,o={x:Math.cos(r),y:Math.sin(r)},u={x:-Math.sin(r),y:Math.cos(r)},d=dy(i.unknownForceMagnitude);if(!Number.isFinite(d)||d<=0)throw new Error("Unknown force magnitude must be a positive finite number.");const y=-(u.x*n.x+u.y*n.y)/d;if(!Number.isFinite(y)||Math.abs(y)>1)throw new Error("Not solvable: no direction satisfies the resultant direction constraint.");const p=Math.asin(y),_=[Xr(r+p),Xr(r+(Math.PI-p))];let E=null;for(const N of _){const L={x:n.x+d*Math.cos(N),y:n.y+d*Math.sin(N)},Y=u.x*L.x+u.y*L.y,B=o.x*L.x+o.y*L.y,z=1e-9*Math.max(1,Math.abs(B),Math.hypot(L.x,L.y));B<-z||Math.abs(Y)>1e3*z||(!E||B>E.resultantMagnitude)&&(E={theta:N,resultantMagnitude:B,perp:Y,sum:L})}if(!E)throw new Error("Not solvable: solutions point opposite the given resultant direction.");return{unknownForce:new En(new rt(d,qe),gn.fromRadians(E.theta)),resultant:new En(new rt(E.resultantMagnitude,qe),gn.fromRadians(r))}},Dc=(...i)=>{if(i.length===0)throw new Error("addForces requires at least one force.");const e=i.reduce((o,u)=>{const d=u.toComponentsNewtons();return{x:o.x+d.x,y:o.y+d.y}},{x:0,y:0}),n=Math.hypot(e.x,e.y),r=Xr(Math.atan2(e.y,e.x));return new En(new rt(n,qe),gn.fromRadians(r))},Wg=[{label:"N",unit:qe},{label:"lb",unit:uy}],Nh=i=>Wg.find(e=>e.label===i)?.unit??qe,Xg=[{label:"m",unit:cu},{label:"ft",unit:cy}],Or=i=>Xg.find(e=>e.label===i)?.unit??cu,bt=i=>Number.isFinite(i)?i===0?"0":Number(i.toPrecision(6)).toString():"â€”",cn=i=>{const e=i.trim();if(e==="")return null;const n=Number(e);return Number.isFinite(n)?n:null},xP=i=>{if(i.entryMode!=="alphaBetaGamma")return i;const e=cn(i.alphaText),n=cn(i.betaText),r=cn(i.gammaText);if([e!=null?1:0,n!=null?1:0,r!=null?1:0].reduce((u,d)=>u+d,0)!==2)return i;try{const u=Oi.completeDirectionAnglesDegrees({alphaDeg:e,betaDeg:n,gammaDeg:r});return{...i,alphaText:i.alphaText.trim()?i.alphaText:bt(u.alphaDeg),betaText:i.betaText.trim()?i.betaText:bt(u.betaDeg),gammaText:i.gammaText.trim()?i.gammaText:bt(u.gammaDeg)}}catch{return i}},F_=(i,e,n,r)=>{const o=`${bt(i)} ${r} iÌ‚`,u=e>=0?"+":"-",d=n>=0?"+":"-",g=`${bt(Math.abs(e))} ${r} jÌ‚`,y=`${bt(Math.abs(n))} ${r} kÌ‚`;return`${o} ${u} ${g} ${d} ${y}`},Wo=(i,e)=>{const n=cn(i);if(n===null)return 0;if(e.type!=="Length")throw new Error(`Expected Length unit, received ${e.type}.`);return qt(n,[e],[])},bP=(i,e)=>{const n=cn(i.endXText),r=cn(i.endYText),o=cn(i.endZText);if(n===null||r===null||o===null)return null;if(e.type!=="Length")throw new Error(`Expected Length unit, received ${e.type}.`);return{x:qt(n,[e],[]),y:qt(r,[e],[]),z:qt(o,[e],[])}},hN=(i,e)=>{const n=bP(i,e);if(!n)return null;const r={x:Wo(i.startXText,e),y:Wo(i.startYText,e),z:Wo(i.startZText,e)},o={x:n.x-r.x,y:n.y-r.y,z:n.z-r.z};try{return Oi.fromUnitVector(o)}catch{return null}},Oc=640,Fd=40,H_={x:Oc/2,y:Oc/2},vP=Math.cos(Math.PI/6),_P=Math.sin(Math.PI/6),EP=1,Dr=i=>{const e=(i.x-i.y)*vP,n=(i.x+i.y)*_P+i.z*EP;return{x:H_.x+e,y:H_.y-n}},Hd=i=>qt(i.measurement.value,[i.measurement.unit],[]),Sc=i=>{const e=Nh(i.unitLabel);if(i.entryMode==="points"){const d=cn(i.magnitudeText);if(d===null)return null;const g=hN(i,Or(i.positionUnitLabel));return g?new ka(new rt(d,e),g):null}if(i.entryMode==="components"){const d=cn(i.iText),g=cn(i.jText),y=cn(i.kText);return d===null||g===null||y===null?null:ka.fromComponents(new rt(d,e),new rt(g,e),new rt(y,e))}if(i.entryMode==="thetaPhi"){const d=cn(i.magnitudeText),g=cn(i.thetaText),y=cn(i.phiText);return d===null||g===null||y===null?null:new ka(new rt(d,e),Oi.fromThetaPhiDegrees(g,y))}const n=cn(i.magnitudeText),r=cn(i.alphaText),o=cn(i.betaText),u=cn(i.gammaText);return n===null||r===null||o===null||u===null?null:new ka(new rt(n,e),Oi.fromDirectionAnglesDegrees(r,o,u))},G_=i=>{const e=Nh(i.unitLabel),n=xP(i),r=Sc(n);if(!r)return i;const o=r.components(e),u=It(r.measurement.value,[qe],[],[e],[]);return{...n,iText:bt(o.i.value),jText:bt(o.j.value),kText:bt(o.k.value),magnitudeText:bt(u),thetaText:bt(r.direction.thetaDegrees),phiText:bt(r.direction.phiDegrees),alphaText:bt(r.direction.alphaDegrees),betaText:bt(r.direction.betaDegrees),gammaText:bt(r.direction.gammaDegrees)}};function TP(){const[i,e]=k.useState("N"),[n,r]=k.useState("m"),o=k.useMemo(()=>Or(n),[n]),[u,d]=k.useState([]),[g,y]=k.useState(null),[p,_]=k.useState(null),E=k.useMemo(()=>{const q=[...u.map(oe=>Sc(oe)).filter(oe=>oe!=null).map(oe=>Hd(oe)),...p?[Hd(p)]:[]].filter(oe=>Number.isFinite(oe)&&oe>0);return q.length?Math.max(...q):1},[u,p]),N=k.useMemo(()=>{const q=Oc/2-80;return Math.min(1,q/E)},[E]),L=()=>{y(null);const q=crypto.randomUUID();d(oe=>[{id:q,entryMode:"components",unitLabel:i,positionUnitLabel:n,startXText:"0",startYText:"0",startZText:"0",endXText:"",endYText:"",endZText:"",iText:"",jText:"",kText:"",magnitudeText:"",thetaText:"",phiText:"",alphaText:"",betaText:"",gammaText:""},...oe])},Y=q=>{d(oe=>oe.filter(he=>he.id!==q)),_(null)},B=(q,oe)=>{d(he=>he.map(j=>{if(j.id!==q)return j;const S={...j,...oe};return G_(S)})),_(null)},z=(q,oe,he)=>{if(q.trim()==="")return"";const j=cn(q);return j===null?"":oe.type!=="Length"||he.type!=="Length"?q:bt(It(j,[oe],[],[he],[]))},te=(q,oe)=>{d(he=>he.map(j=>{if(j.id!==q)return j;const S=Or(j.positionUnitLabel),A=Or(oe),C={...j,positionUnitLabel:oe,startXText:z(j.startXText,S,A),startYText:z(j.startYText,S,A),startZText:z(j.startZText,S,A),endXText:z(j.endXText,S,A),endYText:z(j.endYText,S,A),endZText:z(j.endZText,S,A)};return G_(C)})),_(null)},J=()=>{if(y(null),u.length===0)return;const q=u.map(oe=>Sc(oe)).filter(oe=>oe!=null);if(q.length!==u.length){y("Cannot draw resultant: one or more vectors are incomplete.");return}_(mP(...q))},W=k.useMemo(()=>{if(!p)return null;const q=Nh(i),oe=It(p.measurement.value,[qe],[],[q],[]),he=p.components(q);return{magnitude:oe,theta:p.direction.thetaDegrees,phi:p.direction.phiDegrees,alpha:p.direction.alphaDegrees,beta:p.direction.betaDegrees,gamma:p.direction.gammaDegrees,i:he.i.value,j:he.j.value,k:he.k.value}},[p,i]);return l.jsxs("div",{className:"border border-gray-200 bg-white",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[l.jsx("div",{className:"text-sm text-gray-700",children:"3D mode uses component/angle entry and renders an isometric preview."}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("span",{children:"Force"}),l.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:i,onChange:q=>e(q.target.value),children:Wg.map(q=>l.jsx("option",{value:q.label,children:q.label},q.label))})]}),l.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("span",{children:"Position"}),l.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:n,onChange:q=>r(q.target.value),children:Xg.map(q=>l.jsx("option",{value:q.label,children:q.label},q.label))})]})]})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"border border-gray-200 bg-gray-50",children:[l.jsx("div",{className:"px-3 py-2 text-sm text-gray-700 border-b border-gray-200",children:"Preview (isometric): +X is down-right, +Y is down-left, +Z is up."}),l.jsx("div",{className:"p-3",children:l.jsxs("svg",{viewBox:`0 0 ${Oc} ${Oc}`,className:"w-full h-[420px] select-none bg-white border border-gray-200",children:[l.jsx("defs",{children:l.jsx("marker",{id:"arrowhead-3d",markerWidth:"10",markerHeight:"10",refX:"8",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:l.jsx("path",{d:"M0,0 L8,3 L0,6 Z",fill:"currentColor"})})}),(()=>{const q=qt(6,[o],[])*Fd,oe=Dr({x:0,y:0,z:0}),he=Dr({x:q,y:0,z:0}),j=Dr({x:0,y:q,z:0}),S=Dr({x:0,y:0,z:q});return l.jsxs("g",{className:"text-gray-400",children:[l.jsx("line",{x1:oe.x,y1:oe.y,x2:he.x,y2:he.y,stroke:"currentColor",strokeWidth:2}),l.jsx("line",{x1:oe.x,y1:oe.y,x2:j.x,y2:j.y,stroke:"currentColor",strokeWidth:2}),l.jsx("line",{x1:oe.x,y1:oe.y,x2:S.x,y2:S.y,stroke:"currentColor",strokeWidth:2}),l.jsx("text",{x:he.x+6,y:he.y,fill:"currentColor",fontSize:12,dominantBaseline:"middle",children:"+X"}),l.jsx("text",{x:j.x-6,y:j.y,fill:"currentColor",fontSize:12,dominantBaseline:"middle",textAnchor:"end",children:"+Y"}),l.jsx("text",{x:S.x,y:S.y-8,fill:"currentColor",fontSize:12,dominantBaseline:"middle",textAnchor:"middle",children:"+Z"}),l.jsx("circle",{cx:oe.x,cy:oe.y,r:3,fill:"currentColor"})]})})(),u.map((q,oe)=>{const he=Sc(q);if(!he)return null;const j=Hd(he);if(!Number.isFinite(j)||j<=0)return null;const S=q.entryMode==="points"?{x:Wo(q.startXText,Or(q.positionUnitLabel))*Fd,y:Wo(q.startYText,Or(q.positionUnitLabel))*Fd,z:Wo(q.startZText,Or(q.positionUnitLabel))*Fd}:{x:0,y:0,z:0},A=he.direction.unit,C={x:A.x*j*N,y:A.y*j*N,z:A.z*j*N},M={x:S.x+C.x,y:S.y+C.y,z:S.z+C.z},V=Dr(S),R=Dr(M),we=`F${u.length-oe}`;return l.jsxs("g",{className:"text-gray-700",children:[l.jsx("line",{x1:V.x,y1:V.y,x2:R.x,y2:R.y,stroke:"currentColor",strokeWidth:4,markerEnd:"url(#arrowhead-3d)"}),l.jsx("text",{x:(V.x+R.x)/2,y:(V.y+R.y)/2,fill:"currentColor",fontSize:12,dominantBaseline:"middle",children:we})]},q.id)}),p?(()=>{const q=Hd(p);if(!Number.isFinite(q)||q<=0)return null;const oe=p.direction.unit,he={x:0,y:0,z:0},j={x:oe.x*q*N,y:oe.y*q*N,z:oe.z*q*N},S=Dr(he),A=Dr(j);return l.jsxs("g",{className:"text-red-600",children:[l.jsx("line",{x1:S.x,y1:S.y,x2:A.x,y2:A.y,stroke:"currentColor",strokeWidth:6,markerEnd:"url(#arrowhead-3d)"}),l.jsx("text",{x:(S.x+A.x)/2,y:(S.y+A.y)/2,fill:"currentColor",fontSize:12,dominantBaseline:"middle",children:"Î£"})]})})():null]})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:L,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add vector"}),l.jsx("button",{type:"button",onClick:J,className:"px-3 py-1.5 text-sm bg-gray-900 text-white hover:bg-gray-800 transition-colors disabled:opacity-50",disabled:u.length===0,children:"Draw resultant"})]}),g&&l.jsx("div",{className:"border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-800",children:g}),u.length===0?l.jsx("div",{className:"text-sm text-gray-600",children:"Add a vector to get started."}):l.jsx("div",{className:"space-y-3",children:u.map((q,oe)=>{const he=Nh(q.unitLabel),j=Sc(q),S=j?j.components(he):null,A=j&&Number.isFinite(j.measurement.value)?It(j.measurement.value,[qe],[],[he],[]):null;return l.jsxs("div",{className:"border border-gray-200 p-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["F",u.length-oe]}),l.jsx("button",{type:"button",onClick:()=>Y(q.id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>B(q.id,{entryMode:"components"}),className:`text-sm border px-2 py-1 ${q.entryMode==="components"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"iÌ‚/jÌ‚/kÌ‚"}),l.jsx("button",{type:"button",onClick:()=>B(q.id,{entryMode:"thetaPhi"}),className:`text-sm border px-2 py-1 ${q.entryMode==="thetaPhi"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Î¸/Ï†"}),l.jsx("button",{type:"button",onClick:()=>B(q.id,{entryMode:"alphaBetaGamma"}),className:`text-sm border px-2 py-1 ${q.entryMode==="alphaBetaGamma"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Î±/Î²/Î³"}),l.jsx("button",{type:"button",onClick:()=>B(q.id,{entryMode:"points"}),className:`text-sm border px-2 py-1 ${q.entryMode==="points"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Start/End"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("span",{children:"Force"}),l.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:q.unitLabel,onChange:C=>B(q.id,{unitLabel:C.target.value}),children:Wg.map(C=>l.jsx("option",{value:C.label,children:C.label},C.label))})]}),l.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("span",{children:"Pos"}),l.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:q.positionUnitLabel,onChange:C=>te(q.id,C.target.value),children:Xg.map(C=>l.jsx("option",{value:C.label,children:C.label},C.label))})]})]})]}),q.entryMode==="points"?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"Magnitude"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:q.magnitudeText,onChange:C=>B(q.id,{magnitudeText:C.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"Start x"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:q.startXText,onChange:C=>B(q.id,{startXText:C.target.value}),inputMode:"decimal",placeholder:"0"})]}),l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"Start y"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:q.startYText,onChange:C=>B(q.id,{startYText:C.target.value}),inputMode:"decimal",placeholder:"0"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"Start z"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:q.startZText,onChange:C=>B(q.id,{startZText:C.target.value}),inputMode:"decimal",placeholder:"0"})]}),l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"End x"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:q.endXText,onChange:C=>B(q.id,{endXText:C.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"End y"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:q.endYText,onChange:C=>B(q.id,{endYText:C.target.value}),inputMode:"decimal",placeholder:"(required)"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"End z"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:q.endZText,onChange:C=>B(q.id,{endZText:C.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),l.jsx("div",{className:"col-span-2 text-xs text-gray-600 flex items-end",children:"Direction is taken from Aâ†’B (startâ†’end)."})]})]}):q.entryMode==="components"?l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"i (x)"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:q.iText,onChange:C=>B(q.id,{iText:C.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"j (y)"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:q.jText,onChange:C=>B(q.id,{jText:C.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"k (z)"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:q.kText,onChange:C=>B(q.id,{kText:C.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}):q.entryMode==="thetaPhi"?l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"Magnitude"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:q.magnitudeText,onChange:C=>B(q.id,{magnitudeText:C.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"Î¸ (azimuth deg)"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:q.thetaText,onChange:C=>B(q.id,{thetaText:C.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"Ï† (elevation deg)"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:q.phiText,onChange:C=>B(q.id,{phiText:C.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}):l.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"Magnitude"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:q.magnitudeText,onChange:C=>B(q.id,{magnitudeText:C.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"Î± (deg)"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:q.alphaText,onChange:C=>B(q.id,{alphaText:C.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"Î² (deg)"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:q.betaText,onChange:C=>B(q.id,{betaText:C.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"Î³ (deg)"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:q.gammaText,onChange:C=>B(q.id,{gammaText:C.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}),q.entryMode==="alphaBetaGamma"?l.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"If one of Î±/Î²/Î³ is blank and the other two are provided, the missing angle is computed from \\(cos^2Î± + cos^2Î² + cos^2Î³ = 1\\) using the acute solution."}):null,q.entryMode==="points"&&!hN(q,Or(q.positionUnitLabel))?l.jsx("div",{className:"mt-2 text-xs text-red-700",children:"Provide a valid end point different from the start point."}):null,l.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:[S?F_(S.i.value,S.j.value,S.k.value,q.unitLabel):`â€” ${q.unitLabel} iÌ‚ + â€” ${q.unitLabel} jÌ‚ + â€” ${q.unitLabel} kÌ‚`,A!==null?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-400",children:" Â· "}),bt(A)," ",q.unitLabel," @ Î¸=",bt(j.direction.thetaDegrees),"Â°, Ï†=",bt(j.direction.phiDegrees),"Â°",l.jsx("span",{className:"text-gray-400",children:" Â· "}),"Î±=",bt(j.direction.alphaDegrees),"Â°, Î²=",bt(j.direction.betaDegrees),"Â°, Î³=",bt(j.direction.gammaDegrees),"Â°"]}):null]})]},q.id)})}),l.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Resultant (3D)"}),W?l.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[l.jsxs("div",{children:[bt(W.magnitude)," ",i," @ Î¸=",bt(W.theta),"Â°, Ï†=",bt(W.phi),"Â°"]}),l.jsx("div",{className:"text-xs text-gray-600",children:F_(W.i,W.j,W.k,i)}),l.jsxs("div",{className:"text-xs text-gray-600",children:["Î±=",bt(W.alpha),"Â°, Î²=",bt(W.beta),"Â°, Î³=",bt(W.gamma),"Â°"]})]}):l.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œDraw resultantâ€ to compute the sum."})]})]})]})}const ih=[{label:"N",unit:qe},{label:"lb",unit:uy}],zt=i=>ih.find(e=>e.label===i)?.unit??qe,Jg=[{label:"m",unit:cu},{label:"ft",unit:cy}],xc=i=>Jg.find(e=>e.label===i)?.unit??cu,Jn=640,wP=40,St={x:Jn/2,y:Jn/2},Zg=40,NP=120,uu=i=>{const e=(i%360+360)%360;return e===360?0:e},nt=i=>Number.isFinite(i)?i===0?"0":Number(i.toPrecision(6)).toString():"â€”",xt=i=>{const e=i.trim();if(e==="")return null;const n=Number(e);return Number.isFinite(n)?n:null},ls=i=>{const e=xt(i);return e===null?null:uu(e)},$_=(i,e,n)=>{const r=`${nt(i)} ${n} iÌ‚`,o=e>=0?"+":"-",u=`${nt(Math.abs(e))} ${n} jÌ‚`;return`${r} ${o} ${u}`},K_=(i,e)=>{const n=e.getBoundingClientRect(),r=(i.clientX-n.left)/n.width*Jn,o=(i.clientY-n.top)/n.height*Jn;return{x:r,y:o}},Y_=i=>{const e=i.x-St.x,n=St.y-i.y,r=Math.hypot(e,n),o=uu(Math.atan2(n,e)*180/Math.PI);return{magnitude:r,angleDeg:o}},SP=i=>({x:St.x+i.x*Zg,y:St.y-i.y*Zg}),vg=(i,e,n,r)=>{const o=uu(n)*Math.PI/180,u=e*r*Math.cos(o),d=e*r*Math.sin(o);return{x:i.x+u,y:i.y-d}},jP=(i,e,n)=>{const r=uu(e)*Math.PI/180,o=n*Math.cos(r),u=n*Math.sin(r);return{x:i.x+o,y:i.y-u}};function AP(){const[i,e]=k.useState("2d"),n=k.useRef(null),[r,o]=k.useState([]),[u,d]=k.useState(null),[g,y]=k.useState(null),[p,_]=k.useState(null),[E,N]=k.useState(null),[L,Y]=k.useState("N"),[B,z]=k.useState("m"),te=k.useMemo(()=>xc(B),[B]),[J,W]=k.useState(null),q=D=>{if(D.entryMode==="components"){const xe=xt(D.iText),ge=xt(D.jText);if(xe===null||ge===null)return null;const je=zt(D.unitLabel),me=qt(xe,[je],[]),Ue=qt(ge,[je],[]);return Math.hypot(me,Ue)}const ne=xt(D.magnitudeText);if(ne===null)return null;const de=zt(D.unitLabel);return qt(ne,[de],[])},oe=D=>ls(D.angleText),he=(D,ne)=>{const de=xt(D);return de===null?0:qt(de,[ne],[])},j=D=>{const ne=xc(D.positionUnitLabel);return{x:he(D.startXText,ne),y:he(D.startYText,ne)}},S=D=>{const ne=xt(D.endXText),de=xt(D.endYText);if(ne===null||de===null)return null;const xe=xc(D.positionUnitLabel);return{x:qt(ne,[xe],[]),y:qt(de,[xe],[])}},A=D=>{const ne=S(D);if(!ne)return null;const de=j(D),xe=ne.x-de.x,ge=ne.y-de.y,je=Math.hypot(xe,ge);return!Number.isFinite(je)||je===0?null:uu(Math.atan2(ge,xe)*180/Math.PI)},C=D=>{const ne=zt(D.unitLabel);if(D.entryMode==="points"){const ge=xt(D.magnitudeText);if(ge===null)return null;const je=A(D);return je===null?null:new En(new rt(ge,ne),gn.fromDegrees(je))}if(D.entryMode==="components"){const ge=xt(D.iText),je=xt(D.jText);return ge===null||je===null?null:En.fromComponents(new rt(ge,ne),new rt(je,ne))}const de=xt(D.magnitudeText),xe=ls(D.angleText);return de===null||xe===null?null:new En(new rt(de,ne),gn.fromDegrees(xe))},M=D=>{const ne=zt(D.unitLabel);if(D.entryMode!=="polar"){const ge=C(D);return ge?{magnitude:It(ge.measurement.value,[qe],[],[ne],[]),angleDeg:ge.direction.degrees,unit:ne}:null}const de=xt(D.magnitudeText),xe=ls(D.angleText);return de===null||xe===null?null:{magnitude:de,angleDeg:xe,unit:ne}},V=D=>{const ne=zt(D.unitLabel);if(D.entryMode==="components"){const ge=xt(D.iText),je=xt(D.jText);return ge===null||je===null?null:{i:ge,j:je,unit:ne}}const de=C(D);if(!de)return null;const xe=de.components(ne);return{i:xe.i.value,j:xe.j.value,unit:ne}},R=(D,ne)=>{o(de=>de.map(xe=>{if(xe.id!==D)return xe;const ge=zt(xe.unitLabel),je=It(ne.measurement.value,[qe],[],[ge],[]),me=ne.components(ge);return{...xe,magnitudeText:nt(je),angleText:nt(ne.direction.degrees),iText:nt(me.i.value),jText:nt(me.j.value)}}))},we=k.useMemo(()=>{const D=[...r.map(ne=>q(ne)).filter(ne=>ne!=null),...p?[q(p)].filter(ne=>ne!=null):[],...E?[q(E)].filter(ne=>ne!=null):[]].filter(ne=>Number.isFinite(ne)&&ne>0);return D.length?Math.max(...D):1},[r,p,E]),ye=k.useMemo(()=>{const D=Jn/2-wP;return Math.min(1,D/we)},[we]);k.useMemo(()=>r.find(D=>D.id===u)??null,[r,u]);const X=k.useMemo(()=>{if(!g)return null;const{magnitude:D,angleDeg:ne}=Y_(g);return!Number.isFinite(D)||D<5?null:{magnitudeNewtons:D,angleDeg:ne}},[g]),le=D=>{const ne=zt(D.unitLabel);if(D.entryMode==="points"){const me=xt(D.magnitudeText),Ue=A(D);if(me===null||Ue===null)return D;const Et=new En(new rt(me,ne),gn.fromDegrees(Ue)),ni=Et.components(ne);return{...D,angleText:nt(Et.direction.degrees),iText:nt(ni.i.value),jText:nt(ni.j.value)}}if(D.entryMode==="components"){const me=xt(D.iText),Ue=xt(D.jText);if(me===null||Ue===null)return D;const Et=En.fromComponents(new rt(me,ne),new rt(Ue,ne)),ni=It(Et.measurement.value,[qe],[],[ne],[]);return{...D,magnitudeText:nt(ni),angleText:nt(Et.direction.degrees)}}const de=xt(D.magnitudeText),xe=ls(D.angleText);if(de===null||xe===null)return D;const je=new En(new rt(de,ne),gn.fromDegrees(xe)).components(ne);return{...D,iText:nt(je.i.value),jText:nt(je.j.value)}},fe=(D,ne)=>{o(de=>de.map(xe=>{if(xe.id!==D)return xe;let ge={...xe,...ne};if(ne.entryMode&&ne.entryMode!==xe.entryMode){const je=C(xe);if(je){const me=zt(ge.unitLabel),Ue=It(je.measurement.value,[qe],[],[me],[]),Et=je.components(me);ge={...ge,magnitudeText:nt(Ue),angleText:nt(je.direction.degrees),iText:nt(Et.i.value),jText:nt(Et.j.value)}}}return le(ge)}))},Me=(D,ne)=>{o(de=>de.map(xe=>{if(xe.id!==D)return xe;const ge=C(xe);if(!ge)return{...xe,unitLabel:ne};const je=zt(ne),me=It(ge.measurement.value,[qe],[],[je],[]),Ue=ge.components(je);return le({...xe,unitLabel:ne,magnitudeText:nt(me),angleText:nt(ge.direction.degrees),iText:nt(Ue.i.value),jText:nt(Ue.j.value)})}))},He=(D,ne,de)=>{if(D.trim()==="")return"";const xe=xt(D);return xe===null?"":ne.type!=="Length"||de.type!=="Length"?D:nt(It(xe,[ne],[],[de],[]))},O=(D,ne)=>{o(de=>de.map(xe=>{if(xe.id!==D)return xe;const ge=xc(xe.positionUnitLabel),je=xc(ne),me={...xe,positionUnitLabel:ne,startXText:He(xe.startXText,ge,je),startYText:He(xe.startYText,ge,je),endXText:He(xe.endXText,ge,je),endYText:He(xe.endYText,ge,je)};return le(me)}))},ie=D=>le(D),ce=D=>{N(ne=>{if(!ne)return ne;const de={...ne,...D};return ie(de)})},ve=D=>{o(ne=>ne.filter(de=>de.id!==D)),d(ne=>ne===D?null:ne)},Ie=()=>{W(null);const D=crypto.randomUUID(),ne={id:D,entryMode:"components",magnitudeText:"",unitLabel:L,positionUnitLabel:B,angleText:"",iText:"",jText:"",startXText:"",startYText:"",endXText:"",endYText:""};o(de=>[le(ne),...de]),d(D),_(null)},ke=()=>{if(W(null),r.length===0)return;const D=r.map(ge=>C(ge)).filter(ge=>ge!=null);if(D.length!==r.length){W("Cannot draw resultant: one or more vectors have unknown magnitude or angle.");return}const ne=Dc(...D),de=zt(L),xe=It(ne.measurement.value,[qe],[],[de],[]);_({id:"resultant",entryMode:"polar",magnitudeText:nt(xe),unitLabel:L,positionUnitLabel:B,angleText:nt(ne.direction.degrees),iText:nt(ne.components(de).i.value),jText:nt(ne.components(de).j.value),startXText:"",startYText:"",endXText:"",endYText:""})},Ge=()=>{W(null),!E&&N({id:"given-resultant",entryMode:"polar",magnitudeText:"",unitLabel:L,positionUnitLabel:B,angleText:"",iText:"",jText:"",startXText:"",startYText:"",endXText:"",endYText:""})},Ft=()=>{if(W(null),!E){W("Add a resultant vector first.");return}const D=xt(E.magnitudeText),ne=ls(E.angleText);if(ne===null){W("Resultant angle is required.");return}const de=gn.fromDegrees(ne),ge=r.map((Je,ft)=>{if(Je.entryMode==="components"){const $e=xt(Je.iText),ct=xt(Je.jText),Ze=$e!==null&&ct!==null;return{idx:ft,magnitudeKnown:Ze,angleKnown:Ze}}if(Je.entryMode==="points"){const $e=xt(Je.magnitudeText),ct=A(Je);return{idx:ft,magnitudeKnown:$e!==null,angleKnown:ct!==null}}const dn=xt(Je.magnitudeText),Mt=ls(Je.angleText);return{idx:ft,magnitudeKnown:dn!==null,angleKnown:Mt!==null}}).filter(Je=>!Je.magnitudeKnown||!Je.angleKnown).map(Je=>Je.idx);if(ge.length===0){if(D===null){const Je=r.map(ct=>C(ct)).filter(ct=>ct!=null);if(Je.length!==r.length){W("Not solvable: one or more vectors are incomplete.");return}const ft=Dc(...Je);if(Math.abs(ft.direction.degrees-de.degrees)>1e-6){W("Not solvable: computed resultant direction does not match the provided direction.");return}const Mt=zt(E.unitLabel),$e=It(ft.measurement.value,[qe],[],[Mt],[]);ce({magnitudeText:nt($e)});return}W("Nothing to solve: all vectors have known magnitude and angle.");return}if(ge.length>2){W("Too many unknown values. This tool currently solves up to 2 incomplete vectors.");return}const je=r.map(Je=>C(Je)).filter(Je=>Je!=null),me=je.length?Dc(...je):null;if(D===null){if(ge.length!==1){W("Not solvable: with unknown resultant magnitude, exactly one vector must be incomplete.");return}const Je=ge[0],ft=r[Je],dn=xt(ft.magnitudeText),Mt=ls(ft.angleText);if(dn===null){W("Not solvable: with unknown resultant magnitude, the incomplete vector must have a known magnitude.");return}if(Mt!==null){W("Nothing to solve: the incomplete vector has a known angle (try leaving the angle blank).");return}try{const $e=yP({knownForces:je,unknownForceMagnitude:new rt(dn,zt(ft.unitLabel)),resultantDirection:de});R(ft.id,$e.unknownForce);const ct=zt(E.unitLabel),Ze=It($e.resultant.measurement.value,[qe],[],[ct],[]);ce({magnitudeText:nt(Ze)})}catch($e){W($e instanceof Error?$e.message:"Failed to solve unknowns.")}return}const Ue=new En(new rt(D,zt(E.unitLabel)),de),Et=me?gP(Ue,me):Ue;if(ge.length===1){const Je=ge[0],ft=r[Je],dn=xt(ft.magnitudeText),Mt=ls(ft.angleText);if(Mt===null){if(dn!==null){const Bi=qt(dn,[zt(ft.unitLabel)],[]),er=1e-6*Math.max(1,Et.measurement.value);if(Math.abs(Bi-Et.measurement.value)>er){W("Not solvable: provided magnitude does not match the required remainder.");return}}const $e=zt(ft.unitLabel),ct=It(Et.measurement.value,[qe],[],[$e],[]),Ze=zt(ft.unitLabel),Zs=new En(new rt(dn===null?ct:dn,Ze),gn.fromDegrees(Et.direction.degrees));R(ft.id,Zs);return}if(dn===null){const $e=gn.fromDegrees(Mt).radians,ct={x:Math.cos($e),y:Math.sin($e)},Ze=Et.toComponentsNewtons(),Zs=Ze.x*ct.x+Ze.y*ct.y,Bi=Ze.x*-ct.y+Ze.y*ct.x,er=1e-6*Math.max(1,Math.hypot(Ze.x,Ze.y));if(Math.abs(Bi)>er){W("Not solvable: resultant/known vectors are not consistent with the unknown direction.");return}const si=zt(ft.unitLabel),xs=It(Zs,[qe],[],[si],[]),Lt=zt(ft.unitLabel),ri=new En(new rt(xs,Lt),gn.fromDegrees(Mt));R(ft.id,ri);return}W("Nothing to solve for the incomplete vector.");return}const[ni,Xa]=ge,Yt=r[ni],ii=r[Xa],Xs=ls(Yt.angleText),Js=ls(ii.angleText),qi=xt(Yt.magnitudeText),ml=xt(ii.magnitudeText);if(Xs===null||Js===null||qi!==null||ml!==null){W("Not solvable: to solve two vectors, both directions must be known and both magnitudes must be unknown.");return}try{const Je=pP({resultant:Et,direction1:gn.fromDegrees(Xs),direction2:gn.fromDegrees(Js)}),ft=zt(Yt.unitLabel),dn=zt(ii.unitLabel),Mt=It(Je.force1.measurement.value,[qe],[],[ft],[]),$e=It(Je.force2.measurement.value,[qe],[],[dn],[]);fe(Yt.id,{magnitudeText:nt(Mt)}),fe(ii.id,{magnitudeText:nt($e)})}catch(Je){W(Je instanceof Error?Je.message:"Failed to solve unknowns.")}},_t=D=>{n.current&&(n.current.setPointerCapture(D.pointerId),y(K_(D,n.current)))},ys=D=>{n.current&&g&&y(K_(D,n.current))},Qs=D=>{if(n.current){if(n.current.releasePointerCapture(D.pointerId),g){const{magnitude:ne,angleDeg:de}=Y_(g);if(Number.isFinite(ne)&&ne>=5){const xe=crypto.randomUUID(),ge=zt(L),je=It(ne,[qe],[],[ge],[]),me={id:xe,entryMode:"polar",magnitudeText:nt(je),unitLabel:L,positionUnitLabel:B,angleText:nt(de),iText:"",jText:"",startXText:"",startYText:"",endXText:"",endYText:""};o(Ue=>[le(me),...Ue]),d(xe),_(null),W(null)}}y(null)}},Ws=k.useMemo(()=>{const D=[],ne=qt(1,[te],[])*Zg;for(let de=0;de<=Jn;de+=ne)D.push({x1:de,y1:0,x2:de,y2:Jn});for(let de=0;de<=Jn;de+=ne)D.push({x1:0,y1:de,x2:Jn,y2:de});return D},[te]);return l.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[l.jsx(kt,{}),l.jsx("main",{className:"flex-1",children:l.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[l.jsxs("header",{className:"space-y-3",children:[l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx(pe,{to:"/toolbox",className:"border-b border-gray-300 hover:border-gray-500 transition-colors",children:"Toolbox"})," ",l.jsx("span",{className:"text-gray-400",children:"/"})," Force vectors"]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Force vectors"}),l.jsx("p",{className:"text-lg text-gray-700",children:"Draw vectors on the plane, then edit magnitude and angle. Angle is measured counterclockwise from +X."}),l.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[l.jsx("button",{type:"button",onClick:()=>e("2d"),className:`text-sm border px-2 py-1 ${i==="2d"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"2D"}),l.jsx("button",{type:"button",onClick:()=>e("3d"),className:`text-sm border px-2 py-1 ${i==="3d"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"3D"})]})]}),i==="3d"?l.jsx(TP,{}):l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-6",children:[l.jsxs("section",{className:"border border-gray-200 bg-white",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[l.jsx("div",{className:"text-sm text-gray-700",children:"Drag anywhere to create an arrow from the origin."}),l.jsx("div",{className:"text-sm text-gray-600",children:"Auto-fit scale (based on max magnitude)"})]}),l.jsx("div",{className:"p-4",children:l.jsxs("svg",{ref:n,viewBox:`0 0 ${Jn} ${Jn}`,className:"w-full h-[520px] touch-none select-none bg-gray-50 border border-gray-200",onPointerDown:_t,onPointerMove:ys,onPointerUp:Qs,children:[l.jsx("defs",{children:l.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"8",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:l.jsx("path",{d:"M0,0 L8,3 L0,6 Z",fill:"currentColor"})})}),l.jsx("g",{className:"text-gray-200",children:Ws.map((D,ne)=>l.jsx("line",{x1:D.x1,y1:D.y1,x2:D.x2,y2:D.y2,stroke:"currentColor",strokeWidth:1},ne))}),l.jsxs("g",{className:"text-gray-400",children:[l.jsx("line",{x1:0,y1:St.y,x2:Jn,y2:St.y,stroke:"currentColor",strokeWidth:2}),l.jsx("line",{x1:St.x,y1:0,x2:St.x,y2:Jn,stroke:"currentColor",strokeWidth:2})]}),l.jsx("circle",{cx:St.x,cy:St.y,r:4,fill:"#111827"}),X&&l.jsx("g",{className:"text-gray-500",children:l.jsx("line",{x1:St.x,y1:St.y,x2:g?.x??St.x,y2:g?.y??St.y,stroke:"currentColor",strokeWidth:3,strokeDasharray:"6 6",markerEnd:"url(#arrowhead)"})}),r.map((D,ne)=>{const de=q(D),xe=oe(D),ge=D.entryMode==="points"?SP(j(D)):St,je=xe===null?ge:de===null?jP(ge,xe,NP):vg(ge,de,xe,ye),me=D.id===u,Ue=me?"#111827":"#374151",Et=`F${r.length-ne}`;return l.jsxs("g",{onClick:ni=>{ni.stopPropagation(),d(D.id)},style:{cursor:"pointer"},children:[xe!==null?l.jsx("line",{x1:ge.x,y1:ge.y,x2:je.x,y2:je.y,stroke:Ue,strokeWidth:me?5:4,strokeDasharray:de===null?"6 6":void 0,markerEnd:"url(#arrowhead)"}):l.jsx("circle",{cx:ge.x,cy:ge.y,r:10,fill:"none",stroke:Ue,strokeWidth:2,strokeDasharray:"6 6"}),l.jsx("text",{x:xe===null?ge.x+14:(ge.x+je.x)/2,y:xe===null?ge.y-14:(ge.y+je.y)/2,fill:Ue,fontSize:14,dominantBaseline:"middle",children:Et})]},D.id)}),E&&l.jsx("g",{className:"text-blue-600",children:(()=>{const D=q(E),ne=oe(E);if(D===null||ne===null)return null;const de=vg(St,D,ne,ye);return l.jsxs(l.Fragment,{children:[l.jsx("line",{x1:St.x,y1:St.y,x2:de.x,y2:de.y,stroke:"currentColor",strokeWidth:6,markerEnd:"url(#arrowhead)"}),l.jsx("text",{x:(St.x+de.x)/2,y:(St.y+de.y)/2,fill:"currentColor",fontSize:14,dominantBaseline:"middle",children:"R"})]})})()}),p&&l.jsx("g",{className:"text-red-600",children:(()=>{const D=q(p),ne=oe(p);if(D===null||ne===null)return null;const de=vg(St,D,ne,ye);return l.jsxs(l.Fragment,{children:[l.jsx("line",{x1:St.x,y1:St.y,x2:de.x,y2:de.y,stroke:"currentColor",strokeWidth:6,markerEnd:"url(#arrowhead)"}),l.jsx("text",{x:(St.x+de.x)/2,y:(St.y+de.y)/2,fill:"currentColor",fontSize:14,dominantBaseline:"middle",children:"Î£"})]})})()})]})})]}),l.jsxs("aside",{className:"border border-gray-200 bg-white",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-3",children:[l.jsx("div",{className:"text-lg font-serif text-gray-900",children:"Vectors"}),l.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("span",{children:"Force"}),l.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:L,onChange:D=>{const ne=D.target.value;Y(ne)},children:ih.map(D=>l.jsx("option",{value:D.label,children:D.label},D.label))})]}),l.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("span",{children:"Position"}),l.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:B,onChange:D=>z(D.target.value),children:Jg.map(D=>l.jsx("option",{value:D.label,children:D.label},D.label))})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:Ie,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add vector"}),l.jsx("button",{type:"button",onClick:Ge,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors disabled:opacity-50",disabled:E!=null,children:"Add resultant"}),l.jsx("button",{type:"button",onClick:Ft,className:"px-3 py-1.5 text-sm bg-gray-900 text-white hover:bg-gray-800 transition-colors",children:"Calculate unknown values"}),l.jsx("button",{type:"button",onClick:ke,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors disabled:opacity-50",disabled:r.length===0,children:"Draw resultant"})]})]}),l.jsxs("div",{className:"p-4 space-y-6",children:[J&&l.jsx("div",{className:"border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-800",children:J}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Resultant (given)",l.jsxs("span",{className:"text-gray-500 font-normal",children:[" ","â€” angle required, magnitude optional"]})]}),E?l.jsxs("div",{className:"border border-gray-200 p-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:"R"}),l.jsx("button",{type:"button",onClick:()=>N(null),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>ce({entryMode:"polar"}),className:`text-sm border px-2 py-1 ${E.entryMode==="polar"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Magnitude/Angle"}),l.jsx("button",{type:"button",onClick:()=>ce({entryMode:"components"}),className:`text-sm border px-2 py-1 ${E.entryMode==="components"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"iÌ‚/jÌ‚"})]}),l.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("span",{children:"Unit"}),l.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:E.unitLabel,onChange:D=>ce({unitLabel:D.target.value}),children:ih.map(D=>l.jsx("option",{value:D.label,children:D.label},D.label))})]})]}),E.entryMode==="polar"?l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"Magnitude"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.magnitudeText,onChange:D=>ce({magnitudeText:D.target.value}),inputMode:"decimal",placeholder:"(optional)"})]}),l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"Angle (deg)"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.angleText,onChange:D=>ce({angleText:D.target.value}),inputMode:"decimal",placeholder:"(required)"})]})]}):l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"i (x)"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.iText,onChange:D=>ce({iText:D.target.value}),inputMode:"decimal",placeholder:"(optional)"})]}),l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"j (y)"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.jText,onChange:D=>ce({jText:D.target.value}),inputMode:"decimal",placeholder:"(optional)"})]})]}),(()=>{const D=V(E);return D?l.jsx("div",{className:"mt-3 text-xs text-gray-600",children:$_(D.i,D.j,E.unitLabel)}):null})()]}):l.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œAdd resultantâ€ to define the target vector."})]}),r.length===0?l.jsx("div",{className:"text-gray-700 text-sm",children:"No vectors yet. Drag on the plane to add one."}):l.jsx("div",{className:"space-y-3",children:r.map((D,ne)=>{const de=`F${r.length-ne}`,xe=D.id===u,ge=M(D),je=V(D);return l.jsxs("div",{className:`border p-3 ${xe?"border-gray-900":"border-gray-200"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("button",{type:"button",onClick:()=>d(D.id),className:"text-sm font-medium text-gray-900 border-b border-gray-300 hover:border-gray-700 transition-colors",children:de}),l.jsx("button",{type:"button",onClick:()=>ve(D.id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),l.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between mb-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>fe(D.id,{entryMode:"polar"}),className:`text-sm border px-2 py-1 ${D.entryMode==="polar"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Magnitude/Angle"}),l.jsx("button",{type:"button",onClick:()=>fe(D.id,{entryMode:"components"}),className:`text-sm border px-2 py-1 ${D.entryMode==="components"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"iÌ‚/jÌ‚"}),l.jsx("button",{type:"button",onClick:()=>fe(D.id,{entryMode:"points"}),className:`text-sm border px-2 py-1 ${D.entryMode==="points"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Start/End"})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:[l.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("span",{children:"Force"}),l.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:D.unitLabel,onChange:me=>Me(D.id,me.target.value),children:ih.map(me=>l.jsx("option",{value:me.label,children:me.label},me.label))})]}),l.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[l.jsx("span",{children:"Pos"}),l.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:D.positionUnitLabel,onChange:me=>O(D.id,me.target.value),children:Jg.map(me=>l.jsx("option",{value:me.label,children:me.label},me.label))})]})]})]}),D.entryMode==="points"?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"Magnitude"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:D.magnitudeText,onChange:me=>fe(D.id,{magnitudeText:me.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),l.jsx("div",{className:"text-xs text-gray-600 flex items-end",children:"Direction is taken from startâ†’end."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"Start x"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:D.startXText,onChange:me=>fe(D.id,{startXText:me.target.value}),inputMode:"decimal",placeholder:"0"})]}),l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"Start y"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:D.startYText,onChange:me=>fe(D.id,{startYText:me.target.value}),inputMode:"decimal",placeholder:"0"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"End x"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:D.endXText,onChange:me=>fe(D.id,{endXText:me.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"End y"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:D.endYText,onChange:me=>fe(D.id,{endYText:me.target.value}),inputMode:"decimal",placeholder:"(required)"})]})]})]}):D.entryMode==="polar"?l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"Magnitude"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:D.magnitudeText,onChange:me=>fe(D.id,{magnitudeText:me.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"Angle (deg)"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:D.angleText,onChange:me=>fe(D.id,{angleText:me.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}):l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"i (x)"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:D.iText,onChange:me=>fe(D.id,{iText:me.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),l.jsxs("label",{className:"text-sm text-gray-700",children:[l.jsx("div",{className:"mb-1",children:"j (y)"}),l.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:D.jText,onChange:me=>fe(D.id,{jText:me.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}),l.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:[ge?`${nt(ge.magnitude)} ${D.unitLabel} @ ${nt(ge.angleDeg)}Â°`:`â€” ${D.unitLabel} @ â€”Â°`,je?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-400",children:" Â· "}),$_(je.i,je.j,D.unitLabel)]}):null]})]},D.id)})}),l.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Resultant (sum of vectors)"}),p?l.jsxs("div",{className:"text-sm text-gray-700",children:[p.magnitudeText.trim()?p.magnitudeText.trim():"â€”"," ",p.unitLabel," @"," ",p.angleText.trim()?p.angleText.trim():"â€”","Â°"]}):l.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œDraw resultantâ€ to compute the vector sum."})]})]})]})]})]})}),l.jsx(Pt,{})]})}function CP(){return l.jsxs(Fj,{children:[l.jsx(Rt,{path:"/",element:l.jsx(AO,{})}),l.jsx(Rt,{path:"/contact",element:l.jsx(CO,{})}),l.jsx(Rt,{path:"/portal",element:l.jsx(RO,{})}),l.jsx(Rt,{path:"/dashboard",element:l.jsx(IO,{})}),l.jsx(Rt,{path:"/legal",element:l.jsx(MO,{})}),l.jsx(Rt,{path:"/toolbox",element:l.jsx(YO,{})}),l.jsx(Rt,{path:"/toolbox/unit-conversion",element:l.jsx(fP,{})}),l.jsx(Rt,{path:"/toolbox/force-vectors",element:l.jsx(AP,{})}),l.jsx(Rt,{path:"/blog",element:l.jsx(DO,{})}),l.jsx(Rt,{path:"/blog/professional-engineering-st-louis-missouri",element:l.jsx(OO,{})}),l.jsx(Rt,{path:"/blog/engineering-review-professional-judgment-st-louis-missouri",element:l.jsx(PO,{})}),l.jsx(Rt,{path:"/blog/forensic-engineering-missouri-technical-analysis",element:l.jsx(kO,{})}),l.jsx(Rt,{path:"/blog/professional-engineer-expert-witness-missouri",element:l.jsx(LO,{})}),l.jsx(Rt,{path:"/blog/engineering-standards-assumptions-failure-analysis",element:l.jsx(VO,{})}),l.jsx(Rt,{path:"/blog/when-professional-engineer-required-missouri",element:l.jsx(UO,{})}),l.jsx(Rt,{path:"/blog/what-does-engineering-expert-witness-do",element:l.jsx(zO,{})}),l.jsx(Rt,{path:"/blog/what-does-professional-engineer-seal-mean",element:l.jsx(qO,{})}),l.jsx(Rt,{path:"/blog/engineering-causation-failure-analysis",element:l.jsx(BO,{})}),l.jsx(Rt,{path:"/blog/courts-evaluate-engineering-causation-testimony",element:l.jsx(FO,{})}),l.jsx(Rt,{path:"/blog/root-cause-vs-legal-cause-engineering",element:l.jsx(HO,{})}),l.jsx(Rt,{path:"/blog/common-mistakes-engineering-expert-reports",element:l.jsx(GO,{})}),l.jsx(Rt,{path:"/blog/structural-analysis-building-approval-missouri",element:l.jsx($O,{})}),l.jsx(Rt,{path:"/blog/property-condition-assessment-pca",element:l.jsx(KO,{})})]})}const RP=CA.createRoot(document.getElementById("root"));RP.render(l.jsx(k.StrictMode,{children:l.jsx(fA,{children:l.jsx(CP,{})})}));
