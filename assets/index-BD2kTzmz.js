(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var ug={exports:{}},wc={};var Jb;function b1(){if(Jb)return wc;Jb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:i,type:r,key:d,ref:l!==void 0?l:null,props:u}}return wc.Fragment=e,wc.jsx=n,wc.jsxs=n,wc}var Zb;function v1(){return Zb||(Zb=1,ug.exports=b1()),ug.exports}var o=v1(),dg={exports:{}},ke={};var ev;function _1(){if(ev)return ke;ev=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),N=Symbol.iterator;function V(k){return k===null||typeof k!="object"?null:(k=N&&k[N]||k["@@iterator"],typeof k=="function"?k:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,q={};function ne(k,j,I){this.props=k,this.context=j,this.refs=q,this.updater=I||H}ne.prototype.isReactComponent={},ne.prototype.setState=function(k,j){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,j,"setState")},ne.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Z(){}Z.prototype=ne.prototype;function J(k,j,I){this.props=k,this.context=j,this.refs=q,this.updater=I||H}var B=J.prototype=new Z;B.constructor=J,z(B,ne.prototype),B.isPureReactComponent=!0;var de=Array.isArray;function ge(){}var A={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(k,j,I){var K=I.ref;return{$$typeof:i,type:k,key:j,ref:K!==void 0?K:null,props:I}}function R(k,j){return C(k.type,j,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function F(k){var j={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(I){return j[I]})}var M=/\/+/g;function Ne(k,j){return typeof k=="object"&&k!==null&&k.key!=null?F(""+k.key):j.toString(36)}function be(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ge,ge):(k.status="pending",k.then(function(j){k.status==="pending"&&(k.status="fulfilled",k.value=j)},function(j){k.status==="pending"&&(k.status="rejected",k.reason=j)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Q(k,j,I,K,ce){var ue=typeof k;(ue==="undefined"||ue==="boolean")&&(k=null);var Se=!1;if(k===null)Se=!0;else switch(ue){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(k.$$typeof){case i:case e:Se=!0;break;case _:return Se=k._init,Q(Se(k._payload),j,I,K,ce)}}if(Se)return ce=ce(k),Se=K===""?"."+Ne(k,0):K,de(ce)?(I="",Se!=null&&(I=Se.replace(M,"$&/")+"/"),Q(ce,j,I,"",function(_s){return _s})):ce!=null&&(O(ce)&&(ce=R(ce,I+(ce.key==null||k&&k.key===ce.key?"":(""+ce.key).replace(M,"$&/")+"/")+Se)),j.push(ce)),1;Se=0;var ct=K===""?".":K+":";if(de(k))for(var nt=0;nt<k.length;nt++)K=k[nt],ue=ct+Ne(K,nt),Se+=Q(K,j,I,ue,ce);else if(nt=V(k),typeof nt=="function")for(k=nt.call(k),nt=0;!(K=k.next()).done;)K=K.value,ue=ct+Ne(K,nt++),Se+=Q(K,j,I,ue,ce);else if(ue==="object"){if(typeof k.then=="function")return Q(be(k),j,I,K,ce);throw j=String(k),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return Se}function he(k,j,I){if(k==null)return k;var K=[],ce=0;return Q(k,K,"","",function(ue){return j.call(I,ue,ce++)}),K}function pe(k){if(k._status===-1){var j=k._result;j=j(),j.then(function(I){(k._status===0||k._status===-1)&&(k._status=1,k._result=I)},function(I){(k._status===0||k._status===-1)&&(k._status=2,k._result=I)}),k._status===-1&&(k._status=0,k._result=j)}if(k._status===1)return k._result.default;throw k._result}var Oe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Be={map:he,forEach:function(k,j,I){he(k,function(){j.apply(this,arguments)},I)},count:function(k){var j=0;return he(k,function(){j++}),j},toArray:function(k){return he(k,function(j){return j})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return ke.Activity=E,ke.Children=Be,ke.Component=ne,ke.Fragment=n,ke.Profiler=l,ke.PureComponent=J,ke.StrictMode=r,ke.Suspense=y,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,ke.__COMPILER_RUNTIME={__proto__:null,c:function(k){return A.H.useMemoCache(k)}},ke.cache=function(k){return function(){return k.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(k,j,I){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var K=z({},k.props),ce=k.key;if(j!=null)for(ue in j.key!==void 0&&(ce=""+j.key),j)!S.call(j,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&j.ref===void 0||(K[ue]=j[ue]);var ue=arguments.length-2;if(ue===1)K.children=I;else if(1<ue){for(var Se=Array(ue),ct=0;ct<ue;ct++)Se[ct]=arguments[ct+2];K.children=Se}return C(k.type,ce,K)},ke.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},ke.createElement=function(k,j,I){var K,ce={},ue=null;if(j!=null)for(K in j.key!==void 0&&(ue=""+j.key),j)S.call(j,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ce[K]=j[K]);var Se=arguments.length-2;if(Se===1)ce.children=I;else if(1<Se){for(var ct=Array(Se),nt=0;nt<Se;nt++)ct[nt]=arguments[nt+2];ce.children=ct}if(k&&k.defaultProps)for(K in Se=k.defaultProps,Se)ce[K]===void 0&&(ce[K]=Se[K]);return C(k,ue,ce)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(k){return{$$typeof:g,render:k}},ke.isValidElement=O,ke.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:pe}},ke.memo=function(k,j){return{$$typeof:p,type:k,compare:j===void 0?null:j}},ke.startTransition=function(k){var j=A.T,I={};A.T=I;try{var K=k(),ce=A.S;ce!==null&&ce(I,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(ge,Oe)}catch(ue){Oe(ue)}finally{j!==null&&I.types!==null&&(j.types=I.types),A.T=j}},ke.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},ke.use=function(k){return A.H.use(k)},ke.useActionState=function(k,j,I){return A.H.useActionState(k,j,I)},ke.useCallback=function(k,j){return A.H.useCallback(k,j)},ke.useContext=function(k){return A.H.useContext(k)},ke.useDebugValue=function(){},ke.useDeferredValue=function(k,j){return A.H.useDeferredValue(k,j)},ke.useEffect=function(k,j){return A.H.useEffect(k,j)},ke.useEffectEvent=function(k){return A.H.useEffectEvent(k)},ke.useId=function(){return A.H.useId()},ke.useImperativeHandle=function(k,j,I){return A.H.useImperativeHandle(k,j,I)},ke.useInsertionEffect=function(k,j){return A.H.useInsertionEffect(k,j)},ke.useLayoutEffect=function(k,j){return A.H.useLayoutEffect(k,j)},ke.useMemo=function(k,j){return A.H.useMemo(k,j)},ke.useOptimistic=function(k,j){return A.H.useOptimistic(k,j)},ke.useReducer=function(k,j,I){return A.H.useReducer(k,j,I)},ke.useRef=function(k){return A.H.useRef(k)},ke.useState=function(k){return A.H.useState(k)},ke.useSyncExternalStore=function(k,j,I){return A.H.useSyncExternalStore(k,j,I)},ke.useTransition=function(){return A.H.useTransition()},ke.version="19.2.3",ke}var tv;function _p(){return tv||(tv=1,dg.exports=_1()),dg.exports}var P=_p();var nv="popstate";function E1(i={}){function e(r,l){let{pathname:u,search:d,hash:g}=r.location;return Ug("",{pathname:u,search:d,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Gc(l)}return w1(e,n,null,i)}function Lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ui(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function T1(){return Math.random().toString(36).substring(2,10)}function iv(i,e){return{usr:i.state,key:i.key,idx:e}}function Ug(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ml(e):e,state:n,key:e&&e.key||r||T1()}}function Gc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ml(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function w1(i,e,n,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,d=l.history,g="POP",y=null,p=_();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function _(){return(d.state||{idx:null}).idx}function E(){g="POP";let q=_(),ne=q==null?null:q-p;p=q,y&&y({action:g,location:z.location,delta:ne})}function N(q,ne){g="PUSH";let Z=Ug(z.location,q,ne);p=_()+1;let J=iv(Z,p),B=z.createHref(Z);try{d.pushState(J,"",B)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;l.location.assign(B)}u&&y&&y({action:g,location:z.location,delta:1})}function V(q,ne){g="REPLACE";let Z=Ug(z.location,q,ne);p=_();let J=iv(Z,p),B=z.createHref(Z);d.replaceState(J,"",B),u&&y&&y({action:g,location:z.location,delta:0})}function H(q){return N1(q)}let z={get action(){return g},get location(){return i(l,d)},listen(q){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(nv,E),y=q,()=>{l.removeEventListener(nv,E),y=null}},createHref(q){return e(l,q)},createURL:H,encodeLocation(q){let ne=H(q);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:N,replace:V,go(q){return d.go(q)}};return z}function N1(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Gc(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function pE(i,e,n="/"){return j1(i,e,n,!1)}function j1(i,e,n,r){let l=typeof e=="string"?ml(e):e,u=Ws(l.pathname||"/",n);if(u==null)return null;let d=yE(i);S1(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let p=V1(u);g=k1(d[y],p,r)}return g}function yE(i,e=[],n=[],r="",l=!1){let u=(d,g,y=l,p)=>{let _={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&y)return;Lt(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let E=Ks([r,_.relativePath]),N=n.concat(_);d.children&&d.children.length>0&&(Lt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),yE(d.children,e,N,E,y)),!(d.path==null&&!d.index)&&e.push({path:E,score:O1(E,d.index),routesMeta:N})};return i.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))u(d,g);else for(let y of xE(d.path))u(d,g,!0,y)}),e}function xE(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let d=xE(r.join("/")),g=[];return g.push(...d.map(y=>y===""?u:[u,y].join("/"))),l&&g.push(...d),g.map(y=>i.startsWith("/")&&y===""?"/":y)}function S1(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:P1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var A1=/^:[\w-]+$/,I1=3,C1=2,R1=1,M1=10,D1=-2,sv=i=>i==="*";function O1(i,e){let n=i.split("/"),r=n.length;return n.some(sv)&&(r+=D1),e&&(r+=C1),n.filter(l=>!sv(l)).reduce((l,u)=>l+(A1.test(u)?I1:u===""?R1:M1),r)}function P1(i,e){return i.length===e.length&&i.slice(0,-1).every((r,l)=>r===e[l])?i[i.length-1]-e[e.length-1]:0}function k1(i,e,n=!1){let{routesMeta:r}=i,l={},u="/",d=[];for(let g=0;g<r.length;++g){let y=r[g],p=g===r.length-1,_=u==="/"?e:e.slice(u.length)||"/",E=xh({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},_),N=y.route;if(!E&&p&&n&&!r[r.length-1].route.index&&(E=xh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},_)),!E)return null;Object.assign(l,E.params),d.push({params:l,pathname:Ks([u,E.pathname]),pathnameBase:F1(Ks([u,E.pathnameBase])),route:N}),E.pathnameBase!=="/"&&(u=Ks([u,E.pathnameBase]))}return d}function xh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=L1(i.path,i.caseSensitive,i.end),l=e.match(n);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:r.reduce((p,{paramName:_,isOptional:E},N)=>{if(_==="*"){let H=g[N]||"";d=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const V=g[N];return E&&!V?p[_]=void 0:p[_]=(V||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:d,pattern:i}}function L1(i,e=!1,n=!0){Ui(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(r.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function V1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ui(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ws(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}var bE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U1=i=>bE.test(i);function z1(i,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof i=="string"?ml(i):i,u;if(n)if(U1(n))u=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Ui(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?u=rv(n.substring(1),"/"):u=rv(n,e)}else u=e;return{pathname:u,search:B1(r),hash:H1(l)}}function rv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function hg(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function q1(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vE(i){let e=q1(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _E(i,e,n,r=!1){let l;typeof i=="string"?l=ml(i):(l={...i},Lt(!l.pathname||!l.pathname.includes("?"),hg("?","pathname","search",l)),Lt(!l.pathname||!l.pathname.includes("#"),hg("#","pathname","hash",l)),Lt(!l.search||!l.search.includes("#"),hg("#","search","hash",l)));let u=i===""||l.pathname==="",d=u?"/":l.pathname,g;if(d==null)g=n;else{let E=e.length-1;if(!r&&d.startsWith("..")){let N=d.split("/");for(;N[0]==="..";)N.shift(),E-=1;l.pathname=N.join("/")}g=E>=0?e[E]:"/"}let y=z1(l,g),p=d&&d!=="/"&&d.endsWith("/"),_=(u||d===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(p||_)&&(y.pathname+="/"),y}var Ks=i=>i.join("/").replace(/\/\/+/g,"/"),F1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),B1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,H1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,$1=class{constructor(i,e,n,r=!1){this.status=i,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function G1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function K1(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var EE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function TE(i,e){let n=i;if(typeof n!="string"||!bE.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,l=!1;if(EE)try{let u=new URL(window.location.href),d=n.startsWith("//")?new URL(u.protocol+n):new URL(n),g=Ws(d.pathname,e);d.origin===u.origin&&g!=null?n=g+d.search+d.hash:l=!0}catch{Ui(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wE=["POST","PUT","PATCH","DELETE"];new Set(wE);var Y1=["GET",...wE];new Set(Y1);var gl=P.createContext(null);gl.displayName="DataRouter";var qh=P.createContext(null);qh.displayName="DataRouterState";var W1=P.createContext(!1),NE=P.createContext({isTransitioning:!1});NE.displayName="ViewTransition";var Q1=P.createContext(new Map);Q1.displayName="Fetchers";var X1=P.createContext(null);X1.displayName="Await";var Ti=P.createContext(null);Ti.displayName="Navigation";var cu=P.createContext(null);cu.displayName="Location";var er=P.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var Ep=P.createContext(null);Ep.displayName="RouteError";var jE="REACT_ROUTER_ERROR",J1="REDIRECT",Z1="ROUTE_ERROR_RESPONSE";function eS(i){if(i.startsWith(`${jE}:${J1}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function tS(i){if(i.startsWith(`${jE}:${Z1}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new $1(e.status,e.statusText,e.data)}catch{}}function nS(i,{relative:e}={}){Lt(uu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(Ti),{hash:l,pathname:u,search:d}=du(i,{relative:e}),g=u;return n!=="/"&&(g=u==="/"?n:Ks([n,u])),r.createHref({pathname:g,search:d,hash:l})}function uu(){return P.useContext(cu)!=null}function oa(){return Lt(uu(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(cu).location}var SE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AE(i){P.useContext(Ti).static||P.useLayoutEffect(i)}function iS(){let{isDataRoute:i}=P.useContext(er);return i?pS():sS()}function sS(){Lt(uu(),"useNavigate() may be used only in the context of a <Router> component.");let i=P.useContext(gl),{basename:e,navigator:n}=P.useContext(Ti),{matches:r}=P.useContext(er),{pathname:l}=oa(),u=JSON.stringify(vE(r)),d=P.useRef(!1);return AE(()=>{d.current=!0}),P.useCallback((y,p={})=>{if(Ui(d.current,SE),!d.current)return;if(typeof y=="number"){n.go(y);return}let _=_E(y,JSON.parse(u),l,p.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ks([e,_.pathname])),(p.replace?n.replace:n.push)(_,p.state,p)},[e,n,u,l,i])}P.createContext(null);function du(i,{relative:e}={}){let{matches:n}=P.useContext(er),{pathname:r}=oa(),l=JSON.stringify(vE(n));return P.useMemo(()=>_E(i,JSON.parse(l),r,e==="path"),[i,l,r,e])}function rS(i,e){return IE(i,e)}function IE(i,e,n,r,l){Lt(uu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(Ti),{matches:d}=P.useContext(er),g=d[d.length-1],y=g?g.params:{},p=g?g.pathname:"/",_=g?g.pathnameBase:"/",E=g&&g.route;{let Z=E&&E.path||"";RE(p,!E||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let N=oa(),V;if(e){let Z=typeof e=="string"?ml(e):e;Lt(_==="/"||Z.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),V=Z}else V=N;let H=V.pathname||"/",z=H;if(_!=="/"){let Z=_.replace(/^\//,"").split("/");z="/"+H.replace(/^\//,"").split("/").slice(Z.length).join("/")}let q=pE(i,{pathname:z});Ui(E||q!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Ui(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=uS(q&&q.map(Z=>Object.assign({},Z,{params:Object.assign({},y,Z.params),pathname:Ks([_,u.encodeLocation?u.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?_:Ks([_,u.encodeLocation?u.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),d,n,r,l);return e&&ne?P.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},ne):ne}function aS(){let i=gS(),e=G1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=P.createElement(P.Fragment,null,P.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:l},n):null,d)}var oS=P.createElement(aS,null),CE=class extends P.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=tS(i.digest);n&&(i=n)}let e=i!==void 0?P.createElement(er.Provider,{value:this.props.routeContext},P.createElement(Ep.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?P.createElement(lS,{error:i},e):e}};CE.contextType=W1;var fg=new WeakMap;function lS({children:i,error:e}){let{basename:n}=P.useContext(Ti);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=eS(e.digest);if(r){let l=fg.get(e);if(l)throw l;let u=TE(r.location,n);if(EE&&!fg.get(e))if(u.isExternal||r.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:r.replace}));throw fg.set(e,d),d}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function cS({routeContext:i,match:e,children:n}){let r=P.useContext(gl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(er.Provider,{value:i},n)}function uS(i,e=[],n=null,r=null,l=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,d=n?.errors;if(d!=null){let _=u.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);Lt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let g=!1,y=-1;if(n)for(let _=0;_<u.length;_++){let E=u[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=_),E.route.id){let{loaderData:N,errors:V}=n,H=E.route.loader&&!N.hasOwnProperty(E.route.id)&&(!V||V[E.route.id]===void 0);if(E.route.lazy||H){g=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}let p=n&&r?(_,E)=>{r(_,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:K1(n.matches),errorInfo:E})}:void 0;return u.reduceRight((_,E,N)=>{let V,H=!1,z=null,q=null;n&&(V=d&&E.route.id?d[E.route.id]:void 0,z=E.route.errorElement||oS,g&&(y<0&&N===0?(RE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),H=!0,q=null):y===N&&(H=!0,q=E.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,N+1)),Z=()=>{let J;return V?J=z:H?J=q:E.route.Component?J=P.createElement(E.route.Component,null):E.route.element?J=E.route.element:J=_,P.createElement(cS,{match:E,routeContext:{outlet:_,matches:ne,isDataRoute:n!=null},children:J})};return n&&(E.route.ErrorBoundary||E.route.errorElement||N===0)?P.createElement(CE,{location:n.location,revalidation:n.revalidation,component:z,error:V,children:Z(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:p}):Z()},null)}function Tp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dS(i){let e=P.useContext(gl);return Lt(e,Tp(i)),e}function hS(i){let e=P.useContext(qh);return Lt(e,Tp(i)),e}function fS(i){let e=P.useContext(er);return Lt(e,Tp(i)),e}function wp(i){let e=fS(i),n=e.matches[e.matches.length-1];return Lt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function mS(){return wp("useRouteId")}function gS(){let i=P.useContext(Ep),e=hS("useRouteError"),n=wp("useRouteError");return i!==void 0?i:e.errors?.[n]}function pS(){let{router:i}=dS("useNavigate"),e=wp("useNavigate"),n=P.useRef(!1);return AE(()=>{n.current=!0}),P.useCallback(async(l,u={})=>{Ui(n.current,SE),n.current&&(typeof l=="number"?await i.navigate(l):await i.navigate(l,{fromRouteId:e,...u}))},[i,e])}var av={};function RE(i,e,n){!e&&!av[i]&&(av[i]=!0,Ui(!1,n))}P.memo(yS);function yS({routes:i,future:e,state:n,onError:r}){return IE(i,void 0,n,r,e)}function It(i){Lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xS({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:u=!1,unstable_useTransitions:d}){Lt(!uu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=i.replace(/^\/*/,"/"),y=P.useMemo(()=>({basename:g,navigator:l,static:u,unstable_useTransitions:d,future:{}}),[g,l,u,d]);typeof n=="string"&&(n=ml(n));let{pathname:p="/",search:_="",hash:E="",state:N=null,key:V="default"}=n,H=P.useMemo(()=>{let z=Ws(p,g);return z==null?null:{location:{pathname:z,search:_,hash:E,state:N,key:V},navigationType:r}},[g,p,_,E,N,V,r]);return Ui(H!=null,`<Router basename="${g}"> is not able to match the URL "${p}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:P.createElement(Ti.Provider,{value:y},P.createElement(cu.Provider,{children:e,value:H}))}function bS({children:i,location:e}){return rS(zg(i),e)}function zg(i,e=[]){let n=[];return P.Children.forEach(i,(r,l)=>{if(!P.isValidElement(r))return;let u=[...e,l];if(r.type===P.Fragment){n.push.apply(n,zg(r.props.children,u));return}Lt(r.type===It,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=zg(r.props.children,u)),n.push(d)}),n}var sh="get",rh="application/x-www-form-urlencoded";function Fh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function vS(i){return Fh(i)&&i.tagName.toLowerCase()==="button"}function _S(i){return Fh(i)&&i.tagName.toLowerCase()==="form"}function ES(i){return Fh(i)&&i.tagName.toLowerCase()==="input"}function TS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function wS(i,e){return i.button===0&&(!e||e==="_self")&&!TS(i)}var Kd=null;function NS(){if(Kd===null)try{new FormData(document.createElement("form"),0),Kd=!1}catch{Kd=!0}return Kd}var jS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mg(i){return i!=null&&!jS.has(i)?(Ui(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rh}"`),null):i}function SS(i,e){let n,r,l,u,d;if(_S(i)){let g=i.getAttribute("action");r=g?Ws(g,e):null,n=i.getAttribute("method")||sh,l=mg(i.getAttribute("enctype"))||rh,u=new FormData(i)}else if(vS(i)||ES(i)&&(i.type==="submit"||i.type==="image")){let g=i.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||g.getAttribute("action");if(r=y?Ws(y,e):null,n=i.getAttribute("formmethod")||g.getAttribute("method")||sh,l=mg(i.getAttribute("formenctype"))||mg(g.getAttribute("enctype"))||rh,u=new FormData(g,i),!NS()){let{name:p,type:_,value:E}=i;if(_==="image"){let N=p?`${p}.`:"";u.append(`${N}x`,"0"),u.append(`${N}y`,"0")}else p&&u.append(p,E)}}else{if(Fh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,r=null,l=rh,d=i}return u&&l==="text/plain"&&(d=u,u=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Np(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function AS(i,e,n,r){let l=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${r}`:l.pathname=`${l.pathname}.${r}`:l.pathname==="/"?l.pathname=`_root.${r}`:e&&Ws(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function IS(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function RS(i,e,n){let r=await Promise.all(i.map(async l=>{let u=e.routes[l.route.id];if(u){let d=await IS(u,n);return d.links?d.links():[]}return[]}));return PS(r.flat(1).filter(CS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function ov(i,e,n,r,l,u){let d=(y,p)=>n[p]?y.route.id!==n[p].route.id:!0,g=(y,p)=>n[p].pathname!==y.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,p)=>d(y,p)||g(y,p)):u==="data"?e.filter((y,p)=>{let _=r.routes[y.route.id];if(!_||!_.hasLoader)return!1;if(d(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let E=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function MS(i,e,{includeHydrateFallback:n}={}){return DS(i.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function DS(i){return[...new Set(i)]}function OS(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function PS(i,e){let n=new Set;return new Set(e),i.reduce((r,l)=>{let u=JSON.stringify(OS(l));return n.has(u)||(n.add(u),r.push({key:u,link:l})),r},[])}function ME(){let i=P.useContext(gl);return Np(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function kS(){let i=P.useContext(qh);return Np(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var jp=P.createContext(void 0);jp.displayName="FrameworkContext";function DE(){let i=P.useContext(jp);return Np(i,"You must render this element inside a <HydratedRouter> element"),i}function LS(i,e){let n=P.useContext(jp),[r,l]=P.useState(!1),[u,d]=P.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:_,onTouchStart:E}=e,N=P.useRef(null);P.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let z=ne=>{ne.forEach(Z=>{d(Z.isIntersecting)})},q=new IntersectionObserver(z,{threshold:.5});return N.current&&q.observe(N.current),()=>{q.disconnect()}}},[i]),P.useEffect(()=>{if(r){let z=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(z)}}},[r]);let V=()=>{l(!0)},H=()=>{l(!1),d(!1)};return n?i!=="intent"?[u,N,{}]:[u,N,{onFocus:Nc(g,V),onBlur:Nc(y,H),onMouseEnter:Nc(p,V),onMouseLeave:Nc(_,H),onTouchStart:Nc(E,V)}]:[!1,N,{}]}function Nc(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function VS({page:i,...e}){let{router:n}=ME(),r=P.useMemo(()=>pE(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?P.createElement(zS,{page:i,matches:r,...e}):null}function US(i){let{manifest:e,routeModules:n}=DE(),[r,l]=P.useState([]);return P.useEffect(()=>{let u=!1;return RS(i,e,n).then(d=>{u||l(d)}),()=>{u=!0}},[i,e,n]),r}function zS({page:i,matches:e,...n}){let r=oa(),{future:l,manifest:u,routeModules:d}=DE(),{basename:g}=ME(),{loaderData:y,matches:p}=kS(),_=P.useMemo(()=>ov(i,e,p,u,r,"data"),[i,e,p,u,r]),E=P.useMemo(()=>ov(i,e,p,u,r,"assets"),[i,e,p,u,r]),N=P.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let z=new Set,q=!1;if(e.forEach(Z=>{let J=u.routes[Z.route.id];!J||!J.hasLoader||(!_.some(B=>B.route.id===Z.route.id)&&Z.route.id in y&&d[Z.route.id]?.shouldRevalidate||J.hasClientLoader?q=!0:z.add(Z.route.id))}),z.size===0)return[];let ne=AS(i,g,l.unstable_trailingSlashAwareDataRequests,"data");return q&&z.size>0&&ne.searchParams.set("_routes",e.filter(Z=>z.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[ne.pathname+ne.search]},[g,l.unstable_trailingSlashAwareDataRequests,y,r,u,_,e,i,d]),V=P.useMemo(()=>MS(E,u),[E,u]),H=US(E);return P.createElement(P.Fragment,null,N.map(z=>P.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),V.map(z=>P.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),H.map(({key:z,link:q})=>P.createElement("link",{key:z,nonce:n.nonce,...q})))}function qS(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var FS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FS&&(window.__reactRouterVersion="7.12.0")}catch{}function BS({basename:i,children:e,unstable_useTransitions:n,window:r}){let l=P.useRef();l.current==null&&(l.current=E1({window:r,v5Compat:!0}));let u=l.current,[d,g]=P.useState({action:u.action,location:u.location}),y=P.useCallback(p=>{n===!1?g(p):P.startTransition(()=>g(p))},[n]);return P.useLayoutEffect(()=>u.listen(y),[u,y]),P.createElement(xS,{basename:i,children:e,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:n})}var OE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xe=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:u,replace:d,state:g,target:y,to:p,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:N,...V},H){let{basename:z,unstable_useTransitions:q}=P.useContext(Ti),ne=typeof p=="string"&&OE.test(p),Z=TE(p,z);p=Z.to;let J=nS(p,{relative:l}),[B,de,ge]=LS(r,V),A=KS(p,{replace:d,state:g,target:y,preventScrollReset:_,relative:l,viewTransition:E,unstable_defaultShouldRevalidate:N,unstable_useTransitions:q});function S(R){e&&e(R),R.defaultPrevented||A(R)}let C=P.createElement("a",{...V,...ge,href:Z.absoluteURL||J,onClick:Z.isExternal||u?e:S,ref:qS(H,de),target:y,"data-discover":!ne&&n==="render"?"true":void 0});return B&&!ne?P.createElement(P.Fragment,null,C,P.createElement(VS,{page:J})):C});xe.displayName="Link";var HS=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:u,to:d,viewTransition:g,children:y,...p},_){let E=du(d,{relative:p.relative}),N=oa(),V=P.useContext(qh),{navigator:H,basename:z}=P.useContext(Ti),q=V!=null&&JS(E)&&g===!0,ne=H.encodeLocation?H.encodeLocation(E).pathname:E.pathname,Z=N.pathname,J=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),J=J?J.toLowerCase():null,ne=ne.toLowerCase()),J&&z&&(J=Ws(J,z)||J);const B=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let de=Z===ne||!l&&Z.startsWith(ne)&&Z.charAt(B)==="/",ge=J!=null&&(J===ne||!l&&J.startsWith(ne)&&J.charAt(ne.length)==="/"),A={isActive:de,isPending:ge,isTransitioning:q},S=de?e:void 0,C;typeof r=="function"?C=r(A):C=[r,de?"active":null,ge?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let R=typeof u=="function"?u(A):u;return P.createElement(xe,{...p,"aria-current":S,className:C,ref:_,style:R,to:d,viewTransition:g},typeof y=="function"?y(A):y)});HS.displayName="NavLink";var $S=P.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:u,method:d=sh,action:g,onSubmit:y,relative:p,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:N,...V},H)=>{let{unstable_useTransitions:z}=P.useContext(Ti),q=QS(),ne=XS(g,{relative:p}),Z=d.toLowerCase()==="get"?"get":"post",J=typeof g=="string"&&OE.test(g),B=de=>{if(y&&y(de),de.defaultPrevented)return;de.preventDefault();let ge=de.nativeEvent.submitter,A=ge?.getAttribute("formmethod")||d,S=()=>q(ge||de.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:l,state:u,relative:p,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:N});z&&n!==!1?P.startTransition(()=>S()):S()};return P.createElement("form",{ref:H,method:Z,action:ne,onSubmit:r?y:B,...V,"data-discover":!J&&i==="render"?"true":void 0})});$S.displayName="Form";function GS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PE(i){let e=P.useContext(gl);return Lt(e,GS(i)),e}function KS(i,{target:e,replace:n,state:r,preventScrollReset:l,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:g,unstable_useTransitions:y}={}){let p=iS(),_=oa(),E=du(i,{relative:u});return P.useCallback(N=>{if(wS(N,e)){N.preventDefault();let V=n!==void 0?n:Gc(_)===Gc(E),H=()=>p(i,{replace:V,state:r,preventScrollReset:l,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:g});y?P.startTransition(()=>H()):H()}},[_,p,E,n,r,e,i,l,u,d,g,y])}var YS=0,WS=()=>`__${String(++YS)}__`;function QS(){let{router:i}=PE("useSubmit"),{basename:e}=P.useContext(Ti),n=mS(),r=i.fetch,l=i.navigate;return P.useCallback(async(u,d={})=>{let{action:g,method:y,encType:p,formData:_,body:E}=SS(u,e);if(d.navigate===!1){let N=d.fetcherKey||WS();await r(N,n,d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:_,body:E,formMethod:d.method||y,formEncType:d.encType||p,flushSync:d.flushSync})}else await l(d.action||g,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:_,body:E,formMethod:d.method||y,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,l,e,n])}function XS(i,{relative:e}={}){let{basename:n}=P.useContext(Ti),r=P.useContext(er);Lt(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...du(i||".",{relative:e})},d=oa();if(i==null){u.search=d.search;let g=new URLSearchParams(u.search),y=g.getAll("index");if(y.some(_=>_==="")){g.delete("index"),y.filter(E=>E).forEach(E=>g.append("index",E));let _=g.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ks([n,u.pathname])),Gc(u)}function JS(i,{relative:e}={}){let n=P.useContext(NE);Lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=PE("useViewTransitionState"),l=du(i,{relative:e});if(!n.isTransitioning)return!1;let u=Ws(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=Ws(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xh(l.pathname,d)!=null||xh(l.pathname,u)!=null}var gg={exports:{}},Sn={};var lv;function ZS(){if(lv)return Sn;lv=1;var i=_p();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,p,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:E==null?null:""+E,children:y,containerInfo:p,implementation:_}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sn.createPortal=function(y,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,_)},Sn.flushSync=function(y){var p=d.T,_=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=p,r.p=_,r.d.f()}},Sn.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},Sn.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Sn.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var _=p.as,E=g(_,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,V=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:N,fetchPriority:V}):_==="script"&&r.d.X(y,{crossOrigin:E,integrity:N,fetchPriority:V,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Sn.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=g(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},Sn.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,E=g(_,p.crossOrigin);r.d.L(y,_,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Sn.preloadModule=function(y,p){if(typeof y=="string")if(p){var _=g(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},Sn.requestFormReset=function(y){r.d.r(y)},Sn.unstable_batchedUpdates=function(y,p){return y(p)},Sn.useFormState=function(y,p,_){return d.H.useFormState(y,p,_)},Sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Sn.version="19.2.3",Sn}var cv;function eA(){if(cv)return gg.exports;cv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gg.exports=ZS(),gg.exports}var pg={exports:{}},jc={},yg={exports:{}},xg={};var uv;function tA(){return uv||(uv=1,(function(i){function e(Q,he){var pe=Q.length;Q.push(he);e:for(;0<pe;){var Oe=pe-1>>>1,Be=Q[Oe];if(0<l(Be,he))Q[Oe]=he,Q[pe]=Be,pe=Oe;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var he=Q[0],pe=Q.pop();if(pe!==he){Q[0]=pe;e:for(var Oe=0,Be=Q.length,k=Be>>>1;Oe<k;){var j=2*(Oe+1)-1,I=Q[j],K=j+1,ce=Q[K];if(0>l(I,pe))K<Be&&0>l(ce,I)?(Q[Oe]=ce,Q[K]=pe,Oe=K):(Q[Oe]=I,Q[j]=pe,Oe=j);else if(K<Be&&0>l(ce,pe))Q[Oe]=ce,Q[K]=pe,Oe=K;else break e}}return he}function l(Q,he){var pe=Q.sortIndex-he.sortIndex;return pe!==0?pe:Q.id-he.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();i.unstable_now=function(){return d.now()-g}}var y=[],p=[],_=1,E=null,N=3,V=!1,H=!1,z=!1,q=!1,ne=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function B(Q){for(var he=n(p);he!==null;){if(he.callback===null)r(p);else if(he.startTime<=Q)r(p),he.sortIndex=he.expirationTime,e(y,he);else break;he=n(p)}}function de(Q){if(z=!1,B(Q),!H)if(n(y)!==null)H=!0,ge||(ge=!0,F());else{var he=n(p);he!==null&&be(de,he.startTime-Q)}}var ge=!1,A=-1,S=5,C=-1;function R(){return q?!0:!(i.unstable_now()-C<S)}function O(){if(q=!1,ge){var Q=i.unstable_now();C=Q;var he=!0;try{e:{H=!1,z&&(z=!1,Z(A),A=-1),V=!0;var pe=N;try{t:{for(B(Q),E=n(y);E!==null&&!(E.expirationTime>Q&&R());){var Oe=E.callback;if(typeof Oe=="function"){E.callback=null,N=E.priorityLevel;var Be=Oe(E.expirationTime<=Q);if(Q=i.unstable_now(),typeof Be=="function"){E.callback=Be,B(Q),he=!0;break t}E===n(y)&&r(y),B(Q)}else r(y);E=n(y)}if(E!==null)he=!0;else{var k=n(p);k!==null&&be(de,k.startTime-Q),he=!1}}break e}finally{E=null,N=pe,V=!1}he=void 0}}finally{he?F():ge=!1}}}var F;if(typeof J=="function")F=function(){J(O)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Ne=M.port2;M.port1.onmessage=O,F=function(){Ne.postMessage(null)}}else F=function(){ne(O,0)};function be(Q,he){A=ne(function(){Q(i.unstable_now())},he)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_next=function(Q){switch(N){case 1:case 2:case 3:var he=3;break;default:he=N}var pe=N;N=he;try{return Q()}finally{N=pe}},i.unstable_requestPaint=function(){q=!0},i.unstable_runWithPriority=function(Q,he){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pe=N;N=Q;try{return he()}finally{N=pe}},i.unstable_scheduleCallback=function(Q,he,pe){var Oe=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Oe+pe:Oe):pe=Oe,Q){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=pe+Be,Q={id:_++,callback:he,priorityLevel:Q,startTime:pe,expirationTime:Be,sortIndex:-1},pe>Oe?(Q.sortIndex=pe,e(p,Q),n(y)===null&&Q===n(p)&&(z?(Z(A),A=-1):z=!0,be(de,pe-Oe))):(Q.sortIndex=Be,e(y,Q),H||V||(H=!0,ge||(ge=!0,F()))),Q},i.unstable_shouldYield=R,i.unstable_wrapCallback=function(Q){var he=N;return function(){var pe=N;N=he;try{return Q.apply(this,arguments)}finally{N=pe}}}})(xg)),xg}var dv;function nA(){return dv||(dv=1,yg.exports=tA()),yg.exports}var hv;function iA(){if(hv)return jc;hv=1;var i=nA(),e=_p(),n=eA();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(r(188))}function p(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,c=s;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return y(f),t;if(m===c)return y(f),s;m=m.sibling}throw Error(r(188))}if(a.return!==c.return)a=f,c=m;else{for(var b=!1,T=f.child;T;){if(T===a){b=!0,a=f,c=m;break}if(T===c){b=!0,c=f,a=m;break}T=T.sibling}if(!b){for(T=m.child;T;){if(T===a){b=!0,a=m,c=f;break}if(T===c){b=!0,c=m,a=f;break}T=T.sibling}if(!b)throw Error(r(189))}}if(a.alternate!==c)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function _(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=_(t),s!==null)return s;t=t.sibling}return null}var E=Object.assign,N=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),J=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function F(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case ne:return"Profiler";case q:return"StrictMode";case de:return"Suspense";case ge:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case J:return t.displayName||"Context";case Z:return(t._context.displayName||"Context")+".Consumer";case B:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A:return s=t.displayName||null,s!==null?s:Ne(t.type)||"Memo";case S:s=t._payload,t=t._init;try{return Ne(t(s))}catch{}}return null}var be=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Oe=[],Be=-1;function k(t){return{current:t}}function j(t){0>Be||(t.current=Oe[Be],Oe[Be]=null,Be--)}function I(t,s){Be++,Oe[Be]=t.current,t.current=s}var K=k(null),ce=k(null),ue=k(null),Se=k(null);function ct(t,s){switch(I(ue,s),I(ce,t),I(K,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?_b(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=_b(s),t=Eb(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(K),I(K,t)}function nt(){j(K),j(ce),j(ue)}function _s(t){t.memoizedState!==null&&I(Se,t);var s=K.current,a=Eb(s,t.type);s!==a&&(I(ce,t),I(K,a))}function tr(t){ce.current===t&&(j(K),j(ce)),Se.current===t&&(j(Se),vc._currentValue=pe)}var nr,L;function re(t){if(nr===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);nr=s&&s[1]||"",L=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nr+t+L}var me=!1;function _e(t,s){if(!t||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(te){var X=te}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(te){X=te}t.call(ae.prototype)}}else{try{throw Error()}catch(te){X=te}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(te){if(te&&X&&typeof te.stack=="string")return[te.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),b=m[0],T=m[1];if(b&&T){var D=b.split(`
`),W=T.split(`
`);for(f=c=0;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;for(;f<W.length&&!W[f].includes("DetermineComponentFrameRoot");)f++;if(c===D.length||f===W.length)for(c=D.length-1,f=W.length-1;1<=c&&0<=f&&D[c]!==W[f];)f--;for(;1<=c&&0<=f;c--,f--)if(D[c]!==W[f]){if(c!==1||f!==1)do if(c--,f--,0>f||D[c]!==W[f]){var ie=`
`+D[c].replace(" at new "," at ");return t.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",t.displayName)),ie}while(1<=c&&0<=f);break}}}finally{me=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?re(a):""}function ve(t,s){switch(t.tag){case 26:case 27:case 5:return re(t.type);case 16:return re("Lazy");case 13:return t.child!==s&&s!==null?re("Suspense Fallback"):re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return _e(t.type,!1);case 11:return _e(t.type.render,!1);case 1:return _e(t.type,!0);case 31:return re("Activity");default:return""}}function Ce(t){try{var s="",a=null;do s+=ve(t,a),a=t,t=t.return;while(t);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ye=Object.prototype.hasOwnProperty,qe=i.unstable_scheduleCallback,Nt=i.unstable_cancelCallback,si=i.unstable_shouldYield,oo=i.unstable_requestPaint,Yt=i.unstable_now,ri=i.unstable_getCurrentPriorityLevel,ir=i.unstable_ImmediatePriority,sr=i.unstable_UserBlockingPriority,Bi=i.unstable_NormalPriority,wl=i.unstable_LowPriority,Ze=i.unstable_IdlePriority,gt=i.log,dn=i.unstable_setDisableYieldValue,kt=null,Ke=null;function dt(t){if(typeof gt=="function"&&dn(t),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(kt,t)}catch{}}var et=Math.clz32?Math.clz32:ar,rr=Math.log,Hi=Math.LN2;function ar(t){return t>>>=0,t===0?32:31-(rr(t)/Hi|0)|0}var ai=256,Es=262144,Ut=4194304;function oi(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $i(t,s,a){var c=t.pendingLanes;if(c===0)return 0;var f=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=c&134217727;return T!==0?(c=T&~m,c!==0?f=oi(c):(b&=T,b!==0?f=oi(b):a||(a=T&~t,a!==0&&(f=oi(a))))):(T=c&~m,T!==0?f=oi(T):b!==0?f=oi(b):a||(a=c&~t,a!==0&&(f=oi(a)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:f}function wi(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function mf(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wu(){var t=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),t}function Gi(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function fa(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gf(t,s,a,c,f,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,W=t.hiddenUpdates;for(a=b&~a;0<a;){var ie=31-et(a),ae=1<<ie;T[ie]=0,D[ie]=-1;var X=W[ie];if(X!==null)for(W[ie]=null,ie=0;ie<X.length;ie++){var te=X[ie];te!==null&&(te.lane&=-536870913)}a&=~ae}c!==0&&ma(t,c,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~s))}function ma(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var c=31-et(s);t.entangledLanes|=s,t.entanglements[c]=t.entanglements[c]|1073741824|a&261930}function Nl(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var c=31-et(a),f=1<<c;f&s|t[c]&s&&(t[c]|=s),a&=~f}}function jl(t,s){var a=s&-s;return a=(a&42)!==0?1:ga(a),(a&(t.suspendedLanes|s))!==0?0:a}function ga(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ts(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nu(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:$b(t.type))}function Ni(t,s){var a=he.p;try{return he.p=t,s()}finally{he.p=a}}var ji=Math.random().toString(36).slice(2),Wt="__reactFiber$"+ji,hn="__reactProps$"+ji,Ki="__reactContainer$"+ji,lo="__reactEvents$"+ji,pf="__reactListeners$"+ji,ju="__reactHandles$"+ji,Su="__reactResources$"+ji,Yi="__reactMarker$"+ji;function co(t){delete t[Wt],delete t[hn],delete t[lo],delete t[pf],delete t[ju]}function Wi(t){var s=t[Wt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Ki]||a[Wt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Ib(t);t!==null;){if(a=t[Wt])return a;t=Ib(t)}return s}t=a,a=t.parentNode}return null}function li(t){if(t=t[Wt]||t[Ki]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Hn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Qi(t){var s=t[Su];return s||(s=t[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Qt(t){t[Yi]=!0}var Sl=new Set,Al={};function Xi(t,s){Ji(t,s),Ji(t+"Capture",s)}function Ji(t,s){for(Al[t]=s,t=0;t<s.length;t++)Sl.add(s[t])}var Il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},Rl={};function Au(t){return ye.call(Rl,t)?!0:ye.call(Cl,t)?!1:Il.test(t)?Rl[t]=!0:(Cl[t]=!0,!1)}function uo(t,s,a){if(Au(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function $n(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Xt(t,s,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+c)}}function fn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function or(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ml(t,s,a){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){a=""+b,m.call(this,b)}}),Object.defineProperty(t,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function ht(t){if(!t._valueTracker){var s=or(t)?"checked":"value";t._valueTracker=Ml(t,s,""+t[s])}}function pa(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return t&&(c=or(t)?t.checked?"true":"false":t.value),t=c,t!==a?(s.setValue(t),!0):!1}function Zi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ya=/[\n"\\]/g;function Pn(t){return t.replace(ya,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ho(t,s,a,c,f,m,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),s!=null?b==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+fn(s)):t.value!==""+fn(s)&&(t.value=""+fn(s)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),s!=null?Dl(t,b,fn(s)):a!=null?Dl(t,b,fn(a)):c!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+fn(T):t.removeAttribute("name")}function Iu(t,s,a,c,f,m,b,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){ht(t);return}a=a!=null?""+fn(a):"",s=s!=null?""+fn(s):a,T||s===t.value||(t.value=s),t.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=T?t.checked:!!c,t.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),ht(t)}function Dl(t,s,a){s==="number"&&Zi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function lr(t,s,a,c){if(t=t.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=s.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&c&&(t[a].defaultSelected=!0)}else{for(a=""+fn(a),s=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}s!==null||t[f].disabled||(s=t[f])}s!==null&&(s.selected=!0)}}function Cu(t,s,a){if(s!=null&&(s=""+fn(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+fn(a):""}function cr(t,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(r(92));if(be(c)){if(1<c.length)throw Error(r(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=fn(s),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c),ht(t)}function kn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ol(t,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":c?t.setProperty(s,a):typeof a!="number"||a===0||Ru.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Pl(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&a[f]!==c&&Ol(t,f,c)}else for(var m in s)s.hasOwnProperty(m)&&Ol(t,m,s[m])}function fo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ur=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mo(t){return ur.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Si(){}var kl=null;function ci(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dr=null,es=null;function xa(t){var s=li(t);if(s&&(t=s.stateNode)){var a=t[hn]||null;e:switch(t=s.stateNode,s.type){case"input":if(ho(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==t&&c.form===t.form){var f=c[hn]||null;if(!f)throw Error(r(90));ho(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===t.form&&pa(c)}break e;case"textarea":Cu(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&lr(t,!!a.multiple,s,!1)}}}var go=!1;function hr(t,s,a){if(go)return t(s,a);go=!0;try{var c=t(s);return c}finally{if(go=!1,(dr!==null||es!==null)&&(Nd(),dr&&(s=dr,t=es,es=dr=null,xa(s),t)))for(s=0;s<t.length;s++)xa(t[s])}}function Ai(t,s){var a=t.stateNode;if(a===null)return null;var c=a[hn]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=!1;if(ui)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){ba=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{ba=!1}var ts=null,Ll=null,va=null;function Vl(){if(va)return va;var t,s=Ll,a=s.length,c,f="value"in ts?ts.value:ts.textContent,m=f.length;for(t=0;t<a&&s[t]===f[t];t++);var b=a-t;for(c=1;c<=b&&s[a-c]===f[m-c];c++);return va=f.slice(t,1<c?1-c:void 0)}function _a(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ws(){return!0}function Ii(){return!1}function xn(t){function s(a,c,f,m,b){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ws:Ii,this.isPropagationStopped=Ii,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),s}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=xn(Ns),fr=E({},Ns,{view:0,detail:0}),Ul=xn(fr),mr,po,is,yo=E({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==is&&(is&&t.type==="mousemove"?(mr=t.screenX-is.screenX,po=t.screenY-is.screenY):po=mr=0,is=t),mr)},movementY:function(t){return"movementY"in t?t.movementY:po}}),zl=xn(yo),Ea=E({},yo,{dataTransfer:0}),Du=xn(Ea),Ou=E({},fr,{relatedTarget:0}),Ta=xn(Ou),ql=E({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=xn(ql),xo=E({},Ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ku=xn(xo),Lu=E({},Ns,{data:0}),ss=xn(Lu),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=zu[t])?!!s[t]:!1}function gr(){return qu}var Mn=E({},fr,{key:function(t){if(t.key){var s=Vu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=_a(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(t){return t.type==="keypress"?_a(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_a(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fu=xn(Mn),Bu=E({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),js=xn(Bu),h=E({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),x=xn(h),v=E({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=xn(v),G=E({},yo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=xn(G),fe=E({},Ns,{newState:0,oldState:0}),Ue=xn(fe),Ht=[9,13,27,32],ot=ui&&"CompositionEvent"in window,Mt=null;ui&&"documentMode"in document&&(Mt=document.documentMode);var di=ui&&"TextEvent"in window&&!Mt,rs=ui&&(!ot||Mt&&8<Mt&&11>=Mt),Ci=" ",Ri=!1;function wa(t,s){switch(t){case"keyup":return Ht.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vo=!1;function BN(t,s){switch(t){case"compositionend":return bo(s);case"keypress":return s.which!==32?null:(Ri=!0,Ci);case"textInput":return t=s.data,t===Ci&&Ri?null:t;default:return null}}function HN(t,s){if(vo)return t==="compositionend"||!ot&&wa(t,s)?(t=Vl(),va=Ll=ts=null,vo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return rs&&s.locale!=="ko"?null:s.data;default:return null}}var $N={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function My(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!$N[t.type]:s==="textarea"}function Dy(t,s,a,c){dr?es?es.push(c):es=[c]:dr=c,s=Md(s,"onChange"),0<s.length&&(a=new ns("onChange","change",null,a,c),t.push({event:a,listeners:s}))}var Fl=null,Bl=null;function GN(t){gb(t,0)}function Hu(t){var s=Hn(t);if(pa(s))return t}function Oy(t,s){if(t==="change")return s}var Py=!1;if(ui){var yf;if(ui){var xf="oninput"in document;if(!xf){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),xf=typeof ky.oninput=="function"}yf=xf}else yf=!1;Py=yf&&(!document.documentMode||9<document.documentMode)}function Ly(){Fl&&(Fl.detachEvent("onpropertychange",Vy),Bl=Fl=null)}function Vy(t){if(t.propertyName==="value"&&Hu(Bl)){var s=[];Dy(s,Bl,t,ci(t)),hr(GN,s)}}function KN(t,s,a){t==="focusin"?(Ly(),Fl=s,Bl=a,Fl.attachEvent("onpropertychange",Vy)):t==="focusout"&&Ly()}function YN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hu(Bl)}function WN(t,s){if(t==="click")return Hu(s)}function QN(t,s){if(t==="input"||t==="change")return Hu(s)}function XN(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Gn=typeof Object.is=="function"?Object.is:XN;function Hl(t,s){if(Gn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!ye.call(s,f)||!Gn(t[f],s[f]))return!1}return!0}function Uy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zy(t,s){var a=Uy(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=s&&c>=s)return{node:a,offset:s-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Uy(a)}}function qy(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?qy(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Fy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Zi(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Zi(t.document)}return s}function bf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var JN=ui&&"documentMode"in document&&11>=document.documentMode,_o=null,vf=null,$l=null,_f=!1;function By(t,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_f||_o==null||_o!==Zi(c)||(c=_o,"selectionStart"in c&&bf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),$l&&Hl($l,c)||($l=c,c=Md(vf,"onSelect"),0<c.length&&(s=new ns("onSelect","select",null,s,a),t.push({event:s,listeners:c}),s.target=_o)))}function Na(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Eo={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},Ef={},Hy={};ui&&(Hy=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function ja(t){if(Ef[t])return Ef[t];if(!Eo[t])return t;var s=Eo[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Hy)return Ef[t]=s[a];return t}var $y=ja("animationend"),Gy=ja("animationiteration"),Ky=ja("animationstart"),ZN=ja("transitionrun"),ej=ja("transitionstart"),tj=ja("transitioncancel"),Yy=ja("transitionend"),Wy=new Map,Tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tf.push("scrollEnd");function Mi(t,s){Wy.set(t,s),Xi(s,[t])}var $u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},hi=[],To=0,wf=0;function Gu(){for(var t=To,s=wf=To=0;s<t;){var a=hi[s];hi[s++]=null;var c=hi[s];hi[s++]=null;var f=hi[s];hi[s++]=null;var m=hi[s];if(hi[s++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}m!==0&&Qy(a,f,m)}}function Ku(t,s,a,c){hi[To++]=t,hi[To++]=s,hi[To++]=a,hi[To++]=c,wf|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Nf(t,s,a,c){return Ku(t,s,a,c),Yu(t)}function Sa(t,s){return Ku(t,null,null,s),Yu(t)}function Qy(t,s,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,c=m.alternate,c!==null&&(c.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&s!==null&&(f=31-et(a),t=m.hiddenUpdates,c=t[f],c===null?t[f]=[s]:c.push(s),s.lane=a|536870912),m):null}function Yu(t){if(50<fc)throw fc=0,Om=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var wo={};function nj(t,s,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,s,a,c){return new nj(t,s,a,c)}function jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ss(t,s){var a=t.alternate;return a===null?(a=Kn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Xy(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Wu(t,s,a,c,f,m){var b=0;if(c=t,typeof t=="function")jf(t)&&(b=1);else if(typeof t=="string")b=o1(t,a,K.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Kn(31,a,s,f),t.elementType=C,t.lanes=m,t;case z:return Aa(a.children,f,m,s);case q:b=8,f|=24;break;case ne:return t=Kn(12,a,s,f|2),t.elementType=ne,t.lanes=m,t;case de:return t=Kn(13,a,s,f),t.elementType=de,t.lanes=m,t;case ge:return t=Kn(19,a,s,f),t.elementType=ge,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:b=10;break e;case Z:b=9;break e;case B:b=11;break e;case A:b=14;break e;case S:b=16,c=null;break e}b=29,a=Error(r(130,t===null?"null":typeof t,"")),c=null}return s=Kn(b,a,s,f),s.elementType=t,s.type=c,s.lanes=m,s}function Aa(t,s,a,c){return t=Kn(7,t,c,s),t.lanes=a,t}function Sf(t,s,a){return t=Kn(6,t,null,s),t.lanes=a,t}function Jy(t){var s=Kn(18,null,null,0);return s.stateNode=t,s}function Af(t,s,a){return s=Kn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Zy=new WeakMap;function fi(t,s){if(typeof t=="object"&&t!==null){var a=Zy.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Ce(s)},Zy.set(t,s),s)}return{value:t,source:s,stack:Ce(s)}}var No=[],jo=0,Qu=null,Gl=0,mi=[],gi=0,pr=null,as=1,os="";function As(t,s){No[jo++]=Gl,No[jo++]=Qu,Qu=t,Gl=s}function ex(t,s,a){mi[gi++]=as,mi[gi++]=os,mi[gi++]=pr,pr=t;var c=as;t=os;var f=32-et(c)-1;c&=~(1<<f),a+=1;var m=32-et(s)+f;if(30<m){var b=f-f%5;m=(c&(1<<b)-1).toString(32),c>>=b,f-=b,as=1<<32-et(s)+f|a<<f|c,os=m+t}else as=1<<m|a<<f|c,os=t}function If(t){t.return!==null&&(As(t,1),ex(t,1,0))}function Cf(t){for(;t===Qu;)Qu=No[--jo],No[jo]=null,Gl=No[--jo],No[jo]=null;for(;t===pr;)pr=mi[--gi],mi[gi]=null,os=mi[--gi],mi[gi]=null,as=mi[--gi],mi[gi]=null}function tx(t,s){mi[gi++]=as,mi[gi++]=os,mi[gi++]=pr,as=s.id,os=s.overflow,pr=t}var bn=null,St=null,tt=!1,yr=null,pi=!1,Rf=Error(r(519));function xr(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(fi(s,t)),Rf}function nx(t){var s=t.stateNode,a=t.type,c=t.memoizedProps;switch(s[Wt]=t,s[hn]=c,a){case"dialog":$e("cancel",s),$e("close",s);break;case"iframe":case"object":case"embed":$e("load",s);break;case"video":case"audio":for(a=0;a<gc.length;a++)$e(gc[a],s);break;case"source":$e("error",s);break;case"img":case"image":case"link":$e("error",s),$e("load",s);break;case"details":$e("toggle",s);break;case"input":$e("invalid",s),Iu(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":$e("invalid",s);break;case"textarea":$e("invalid",s),cr(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||bb(s.textContent,a)?(c.popover!=null&&($e("beforetoggle",s),$e("toggle",s)),c.onScroll!=null&&$e("scroll",s),c.onScrollEnd!=null&&$e("scrollend",s),c.onClick!=null&&(s.onclick=Si),s=!0):s=!1,s||xr(t,!0)}function ix(t){for(bn=t.return;bn;)switch(bn.tag){case 5:case 31:case 13:pi=!1;return;case 27:case 3:pi=!0;return;default:bn=bn.return}}function So(t){if(t!==bn)return!1;if(!tt)return ix(t),tt=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wm(t.type,t.memoizedProps)),a=!a),a&&St&&xr(t),ix(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));St=Ab(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));St=Ab(t)}else s===27?(s=St,Mr(t.type)?(t=eg,eg=null,St=t):St=s):St=bn?xi(t.stateNode.nextSibling):null;return!0}function Ia(){St=bn=null,tt=!1}function Mf(){var t=yr;return t!==null&&(zn===null?zn=t:zn.push.apply(zn,t),yr=null),t}function Kl(t){yr===null?yr=[t]:yr.push(t)}var Df=k(null),Ca=null,Is=null;function br(t,s,a){I(Df,s._currentValue),s._currentValue=a}function Cs(t){t._currentValue=Df.current,j(Df)}function Of(t,s,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===a)break;t=t.return}}function Pf(t,s,a,c){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var D=0;D<s.length;D++)if(T.context===s[D]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),Of(m.return,a,t),c||(b=null);break e}m=T.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Of(b,a,t),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===t){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ao(t,s,a,c){t=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var T=f.type;Gn(f.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(f===Se.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(vc):t=[vc])}f=f.return}t!==null&&Pf(s,t,a,c),s.flags|=262144}function Xu(t){for(t=t.firstContext;t!==null;){if(!Gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ra(t){Ca=t,Is=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function vn(t){return sx(Ca,t)}function Ju(t,s){return Ca===null&&Ra(t),sx(t,s)}function sx(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Is===null){if(t===null)throw Error(r(308));Is=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Is=Is.next=s;return a}var ij=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},sj=i.unstable_scheduleCallback,rj=i.unstable_NormalPriority,Jt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new ij,data:new Map,refCount:0}}function Yl(t){t.refCount--,t.refCount===0&&sj(rj,function(){t.controller.abort()})}var Wl=null,Lf=0,Io=0,Co=null;function aj(t,s){if(Wl===null){var a=Wl=[];Lf=0,Io=zm(),Co={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Lf++,s.then(rx,rx),s}function rx(){if(--Lf===0&&Wl!==null){Co!==null&&(Co.status="fulfilled");var t=Wl;Wl=null,Io=0,Co=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function oj(t,s){var a=[],c={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<a.length;f++)(0,a[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),c}var ax=Q.S;Q.S=function(t,s){B0=Yt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&aj(t,s),ax!==null&&ax(t,s)};var Ma=k(null);function Vf(){var t=Ma.current;return t!==null?t:wt.pooledCache}function Zu(t,s){s===null?I(Ma,Ma.current):I(Ma,s.pool)}function ox(){var t=Vf();return t===null?null:{parent:Jt._currentValue,pool:t}}var Ro=Error(r(460)),Uf=Error(r(474)),ed=Error(r(542)),td={then:function(){}};function lx(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cx(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Si,Si),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,dx(t),t;default:if(typeof s.status=="string")s.then(Si,Si);else{if(t=wt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,dx(t),t}throw Oa=s,Ro}}function Da(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Oa=a,Ro):a}}var Oa=null;function ux(){if(Oa===null)throw Error(r(459));var t=Oa;return Oa=null,t}function dx(t){if(t===Ro||t===ed)throw Error(r(483))}var Mo=null,Ql=0;function nd(t){var s=Ql;return Ql+=1,Mo===null&&(Mo=[]),cx(Mo,t,s)}function Xl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function id(t,s){throw s.$$typeof===N?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function hx(t){function s($,U){if(t){var Y=$.deletions;Y===null?($.deletions=[U],$.flags|=16):Y.push(U)}}function a($,U){if(!t)return null;for(;U!==null;)s($,U),U=U.sibling;return null}function c($){for(var U=new Map;$!==null;)$.key!==null?U.set($.key,$):U.set($.index,$),$=$.sibling;return U}function f($,U){return $=Ss($,U),$.index=0,$.sibling=null,$}function m($,U,Y){return $.index=Y,t?(Y=$.alternate,Y!==null?(Y=Y.index,Y<U?($.flags|=67108866,U):Y):($.flags|=67108866,U)):($.flags|=1048576,U)}function b($){return t&&$.alternate===null&&($.flags|=67108866),$}function T($,U,Y,se){return U===null||U.tag!==6?(U=Sf(Y,$.mode,se),U.return=$,U):(U=f(U,Y),U.return=$,U)}function D($,U,Y,se){var Ae=Y.type;return Ae===z?ie($,U,Y.props.children,se,Y.key):U!==null&&(U.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===S&&Da(Ae)===U.type)?(U=f(U,Y.props),Xl(U,Y),U.return=$,U):(U=Wu(Y.type,Y.key,Y.props,null,$.mode,se),Xl(U,Y),U.return=$,U)}function W($,U,Y,se){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=Af(Y,$.mode,se),U.return=$,U):(U=f(U,Y.children||[]),U.return=$,U)}function ie($,U,Y,se,Ae){return U===null||U.tag!==7?(U=Aa(Y,$.mode,se,Ae),U.return=$,U):(U=f(U,Y),U.return=$,U)}function ae($,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Sf(""+U,$.mode,Y),U.return=$,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case V:return Y=Wu(U.type,U.key,U.props,null,$.mode,Y),Xl(Y,U),Y.return=$,Y;case H:return U=Af(U,$.mode,Y),U.return=$,U;case S:return U=Da(U),ae($,U,Y)}if(be(U)||F(U))return U=Aa(U,$.mode,Y,null),U.return=$,U;if(typeof U.then=="function")return ae($,nd(U),Y);if(U.$$typeof===J)return ae($,Ju($,U),Y);id($,U)}return null}function X($,U,Y,se){var Ae=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ae!==null?null:T($,U,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case V:return Y.key===Ae?D($,U,Y,se):null;case H:return Y.key===Ae?W($,U,Y,se):null;case S:return Y=Da(Y),X($,U,Y,se)}if(be(Y)||F(Y))return Ae!==null?null:ie($,U,Y,se,null);if(typeof Y.then=="function")return X($,U,nd(Y),se);if(Y.$$typeof===J)return X($,U,Ju($,Y),se);id($,Y)}return null}function te($,U,Y,se,Ae){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return $=$.get(Y)||null,T(U,$,""+se,Ae);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case V:return $=$.get(se.key===null?Y:se.key)||null,D(U,$,se,Ae);case H:return $=$.get(se.key===null?Y:se.key)||null,W(U,$,se,Ae);case S:return se=Da(se),te($,U,Y,se,Ae)}if(be(se)||F(se))return $=$.get(Y)||null,ie(U,$,se,Ae,null);if(typeof se.then=="function")return te($,U,Y,nd(se),Ae);if(se.$$typeof===J)return te($,U,Y,Ju(U,se),Ae);id(U,se)}return null}function we($,U,Y,se){for(var Ae=null,rt=null,je=U,Fe=U=0,We=null;je!==null&&Fe<Y.length;Fe++){je.index>Fe?(We=je,je=null):We=je.sibling;var at=X($,je,Y[Fe],se);if(at===null){je===null&&(je=We);break}t&&je&&at.alternate===null&&s($,je),U=m(at,U,Fe),rt===null?Ae=at:rt.sibling=at,rt=at,je=We}if(Fe===Y.length)return a($,je),tt&&As($,Fe),Ae;if(je===null){for(;Fe<Y.length;Fe++)je=ae($,Y[Fe],se),je!==null&&(U=m(je,U,Fe),rt===null?Ae=je:rt.sibling=je,rt=je);return tt&&As($,Fe),Ae}for(je=c(je);Fe<Y.length;Fe++)We=te(je,$,Fe,Y[Fe],se),We!==null&&(t&&We.alternate!==null&&je.delete(We.key===null?Fe:We.key),U=m(We,U,Fe),rt===null?Ae=We:rt.sibling=We,rt=We);return t&&je.forEach(function(Lr){return s($,Lr)}),tt&&As($,Fe),Ae}function Re($,U,Y,se){if(Y==null)throw Error(r(151));for(var Ae=null,rt=null,je=U,Fe=U=0,We=null,at=Y.next();je!==null&&!at.done;Fe++,at=Y.next()){je.index>Fe?(We=je,je=null):We=je.sibling;var Lr=X($,je,at.value,se);if(Lr===null){je===null&&(je=We);break}t&&je&&Lr.alternate===null&&s($,je),U=m(Lr,U,Fe),rt===null?Ae=Lr:rt.sibling=Lr,rt=Lr,je=We}if(at.done)return a($,je),tt&&As($,Fe),Ae;if(je===null){for(;!at.done;Fe++,at=Y.next())at=ae($,at.value,se),at!==null&&(U=m(at,U,Fe),rt===null?Ae=at:rt.sibling=at,rt=at);return tt&&As($,Fe),Ae}for(je=c(je);!at.done;Fe++,at=Y.next())at=te(je,$,Fe,at.value,se),at!==null&&(t&&at.alternate!==null&&je.delete(at.key===null?Fe:at.key),U=m(at,U,Fe),rt===null?Ae=at:rt.sibling=at,rt=at);return t&&je.forEach(function(x1){return s($,x1)}),tt&&As($,Fe),Ae}function bt($,U,Y,se){if(typeof Y=="object"&&Y!==null&&Y.type===z&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case V:e:{for(var Ae=Y.key;U!==null;){if(U.key===Ae){if(Ae=Y.type,Ae===z){if(U.tag===7){a($,U.sibling),se=f(U,Y.props.children),se.return=$,$=se;break e}}else if(U.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===S&&Da(Ae)===U.type){a($,U.sibling),se=f(U,Y.props),Xl(se,Y),se.return=$,$=se;break e}a($,U);break}else s($,U);U=U.sibling}Y.type===z?(se=Aa(Y.props.children,$.mode,se,Y.key),se.return=$,$=se):(se=Wu(Y.type,Y.key,Y.props,null,$.mode,se),Xl(se,Y),se.return=$,$=se)}return b($);case H:e:{for(Ae=Y.key;U!==null;){if(U.key===Ae)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){a($,U.sibling),se=f(U,Y.children||[]),se.return=$,$=se;break e}else{a($,U);break}else s($,U);U=U.sibling}se=Af(Y,$.mode,se),se.return=$,$=se}return b($);case S:return Y=Da(Y),bt($,U,Y,se)}if(be(Y))return we($,U,Y,se);if(F(Y)){if(Ae=F(Y),typeof Ae!="function")throw Error(r(150));return Y=Ae.call(Y),Re($,U,Y,se)}if(typeof Y.then=="function")return bt($,U,nd(Y),se);if(Y.$$typeof===J)return bt($,U,Ju($,Y),se);id($,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(a($,U.sibling),se=f(U,Y),se.return=$,$=se):(a($,U),se=Sf(Y,$.mode,se),se.return=$,$=se),b($)):a($,U)}return function($,U,Y,se){try{Ql=0;var Ae=bt($,U,Y,se);return Mo=null,Ae}catch(je){if(je===Ro||je===ed)throw je;var rt=Kn(29,je,null,$.mode);return rt.lanes=se,rt.return=$,rt}}}var Pa=hx(!0),fx=hx(!1),vr=!1;function zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _r(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Er(t,s,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(lt&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=Yu(t),Qy(t,null,a),s}return Ku(t,c,s,a),Yu(t)}function Jl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=t.pendingLanes,a|=c,s.lanes=a,Nl(t,a)}}function Ff(t,s){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?f=m=s:m=m.next=s}else f=m=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Bf=!1;function Zl(){if(Bf){var t=Co;if(t!==null)throw t}}function ec(t,s,a,c){Bf=!1;var f=t.updateQueue;vr=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var D=T,W=D.next;D.next=null,b===null?m=W:b.next=W,b=D;var ie=t.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==b&&(T===null?ie.firstBaseUpdate=W:T.next=W,ie.lastBaseUpdate=D))}if(m!==null){var ae=f.baseState;b=0,ie=W=D=null,T=m;do{var X=T.lane&-536870913,te=X!==T.lane;if(te?(Ye&X)===X:(c&X)===X){X!==0&&X===Io&&(Bf=!0),ie!==null&&(ie=ie.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var we=t,Re=T;X=s;var bt=a;switch(Re.tag){case 1:if(we=Re.payload,typeof we=="function"){ae=we.call(bt,ae,X);break e}ae=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Re.payload,X=typeof we=="function"?we.call(bt,ae,X):we,X==null)break e;ae=E({},ae,X);break e;case 2:vr=!0}}X=T.callback,X!==null&&(t.flags|=64,te&&(t.flags|=8192),te=f.callbacks,te===null?f.callbacks=[X]:te.push(X))}else te={lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?(W=ie=te,D=ae):ie=ie.next=te,b|=X;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;te=T,T=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);ie===null&&(D=ae),f.baseState=D,f.firstBaseUpdate=W,f.lastBaseUpdate=ie,m===null&&(f.shared.lanes=0),Sr|=b,t.lanes=b,t.memoizedState=ae}}function mx(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function gx(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)mx(a[t],s)}var Do=k(null),sd=k(0);function px(t,s){t=Us,I(sd,t),I(Do,s),Us=t|s.baseLanes}function Hf(){I(sd,Us),I(Do,Do.current)}function $f(){Us=sd.current,j(Do),j(sd)}var Yn=k(null),yi=null;function Tr(t){var s=t.alternate;I($t,$t.current&1),I(Yn,t),yi===null&&(s===null||Do.current!==null||s.memoizedState!==null)&&(yi=t)}function Gf(t){I($t,$t.current),I(Yn,t),yi===null&&(yi=t)}function yx(t){t.tag===22?(I($t,$t.current),I(Yn,t),yi===null&&(yi=t)):wr()}function wr(){I($t,$t.current),I(Yn,Yn.current)}function Wn(t){j(Yn),yi===t&&(yi=null),j($t)}var $t=k(0);function rd(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Jm(a)||Zm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Rs=0,ze=null,yt=null,Zt=null,ad=!1,Oo=!1,ka=!1,od=0,tc=0,Po=null,lj=0;function zt(){throw Error(r(321))}function Kf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Gn(t[a],s[a]))return!1;return!0}function Yf(t,s,a,c,f,m){return Rs=m,ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=t===null||t.memoizedState===null?e0:cm,ka=!1,m=a(c,f),ka=!1,Oo&&(m=bx(s,a,c,f)),xx(t),m}function xx(t){Q.H=sc;var s=yt!==null&&yt.next!==null;if(Rs=0,Zt=yt=ze=null,ad=!1,tc=0,Po=null,s)throw Error(r(300));t===null||en||(t=t.dependencies,t!==null&&Xu(t)&&(en=!0))}function bx(t,s,a,c){ze=t;var f=0;do{if(Oo&&(Po=null),tc=0,Oo=!1,25<=f)throw Error(r(301));if(f+=1,Zt=yt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=t0,m=s(a,c)}while(Oo);return m}function cj(){var t=Q.H,s=t.useState()[0];return s=typeof s.then=="function"?nc(s):s,t=t.useState()[0],(yt!==null?yt.memoizedState:null)!==t&&(ze.flags|=1024),s}function Wf(){var t=od!==0;return od=0,t}function Qf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Xf(t){if(ad){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}ad=!1}Rs=0,Zt=yt=ze=null,Oo=!1,tc=od=0,Po=null}function Dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?ze.memoizedState=Zt=t:Zt=Zt.next=t,Zt}function Gt(){if(yt===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var s=Zt===null?ze.memoizedState:Zt.next;if(s!==null)Zt=s,yt=t;else{if(t===null)throw ze.alternate===null?Error(r(467)):Error(r(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Zt===null?ze.memoizedState=Zt=t:Zt=Zt.next=t}return Zt}function ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nc(t){var s=tc;return tc+=1,Po===null&&(Po=[]),t=cx(Po,t,s),s=ze,(Zt===null?s.memoizedState:Zt.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?e0:cm),t}function cd(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nc(t);if(t.$$typeof===J)return vn(t)}throw Error(r(438,String(t)))}function Jf(t){var s=null,a=ze.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=ld(),ze.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),c=0;c<t;c++)a[c]=R;return s.index++,a}function Ms(t,s){return typeof s=="function"?s(t):s}function ud(t){var s=Gt();return Zf(s,yt,t)}function Zf(t,s,a){var c=t.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var f=t.baseQueue,m=c.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}s.baseQueue=f=m,c.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{s=f.next;var T=b=null,D=null,W=s,ie=!1;do{var ae=W.lane&-536870913;if(ae!==W.lane?(Ye&ae)===ae:(Rs&ae)===ae){var X=W.revertLane;if(X===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ae===Io&&(ie=!0);else if((Rs&X)===X){W=W.next,X===Io&&(ie=!0);continue}else ae={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},D===null?(T=D=ae,b=m):D=D.next=ae,ze.lanes|=X,Sr|=X;ae=W.action,ka&&a(m,ae),m=W.hasEagerState?W.eagerState:a(m,ae)}else X={lane:ae,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},D===null?(T=D=X,b=m):D=D.next=X,ze.lanes|=ae,Sr|=ae;W=W.next}while(W!==null&&W!==s);if(D===null?b=m:D.next=T,!Gn(m,t.memoizedState)&&(en=!0,ie&&(a=Co,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=D,c.lastRenderedState=m}return f===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function em(t){var s=Gt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var c=a.dispatch,f=a.pending,m=s.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do m=t(m,b.action),b=b.next;while(b!==f);Gn(m,s.memoizedState)||(en=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,c]}function vx(t,s,a){var c=ze,f=Gt(),m=tt;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var b=!Gn((yt||f).memoizedState,a);if(b&&(f.memoizedState=a,en=!0),f=f.queue,im(Tx.bind(null,c,f,t),[t]),f.getSnapshot!==s||b||Zt!==null&&Zt.memoizedState.tag&1){if(c.flags|=2048,ko(9,{destroy:void 0},Ex.bind(null,c,f,a,s),null),wt===null)throw Error(r(349));m||(Rs&127)!==0||_x(c,s,a)}return a}function _x(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=ze.updateQueue,s===null?(s=ld(),ze.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Ex(t,s,a,c){s.value=a,s.getSnapshot=c,wx(s)&&Nx(t)}function Tx(t,s,a){return a(function(){wx(s)&&Nx(t)})}function wx(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Gn(t,a)}catch{return!0}}function Nx(t){var s=Sa(t,2);s!==null&&qn(s,t,2)}function tm(t){var s=Dn();if(typeof t=="function"){var a=t;if(t=a(),ka){dt(!0);try{a()}finally{dt(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:t},s}function jx(t,s,a,c){return t.baseState=a,Zf(t,yt,typeof c=="function"?c:Ms)}function uj(t,s,a,c,f){if(fd(t))throw Error(r(485));if(t=s.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};Q.T!==null?a(!0):m.isTransition=!1,c(m),a=s.pending,a===null?(m.next=s.pending=m,Sx(s,m)):(m.next=a.next,s.pending=a.next=m)}}function Sx(t,s){var a=s.action,c=s.payload,f=t.state;if(s.isTransition){var m=Q.T,b={};Q.T=b;try{var T=a(f,c),D=Q.S;D!==null&&D(b,T),Ax(t,s,T)}catch(W){nm(t,s,W)}finally{m!==null&&b.types!==null&&(m.types=b.types),Q.T=m}}else try{m=a(f,c),Ax(t,s,m)}catch(W){nm(t,s,W)}}function Ax(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){Ix(t,s,c)},function(c){return nm(t,s,c)}):Ix(t,s,a)}function Ix(t,s,a){s.status="fulfilled",s.value=a,Cx(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Sx(t,a)))}function nm(t,s,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,Cx(s),s=s.next;while(s!==c)}t.action=null}function Cx(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Rx(t,s){return s}function Mx(t,s){if(tt){var a=wt.formState;if(a!==null){e:{var c=ze;if(tt){if(St){t:{for(var f=St,m=pi;f.nodeType!==8;){if(!m){f=null;break t}if(f=xi(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){St=xi(f.nextSibling),c=f.data==="F!";break e}}xr(c)}c=!1}c&&(s=a[0])}}return a=Dn(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rx,lastRenderedState:s},a.queue=c,a=Xx.bind(null,ze,c),c.dispatch=a,c=tm(!1),m=lm.bind(null,ze,!1,c.queue),c=Dn(),f={state:s,dispatch:null,action:t,pending:null},c.queue=f,a=uj.bind(null,ze,f,m,a),f.dispatch=a,c.memoizedState=t,[s,a,!1]}function Dx(t){var s=Gt();return Ox(s,yt,t)}function Ox(t,s,a){if(s=Zf(t,s,Rx)[0],t=ud(Ms)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=nc(s)}catch(b){throw b===Ro?ed:b}else c=s;s=Gt();var f=s.queue,m=f.dispatch;return a!==s.memoizedState&&(ze.flags|=2048,ko(9,{destroy:void 0},dj.bind(null,f,a),null)),[c,m,t]}function dj(t,s){t.action=s}function Px(t){var s=Gt(),a=yt;if(a!==null)return Ox(s,a,t);Gt(),s=s.memoizedState,a=Gt();var c=a.queue.dispatch;return a.memoizedState=t,[s,c,!1]}function ko(t,s,a,c){return t={tag:t,create:a,deps:c,inst:s,next:null},s=ze.updateQueue,s===null&&(s=ld(),ze.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,s.lastEffect=t),t}function kx(){return Gt().memoizedState}function dd(t,s,a,c){var f=Dn();ze.flags|=t,f.memoizedState=ko(1|s,{destroy:void 0},a,c===void 0?null:c)}function hd(t,s,a,c){var f=Gt();c=c===void 0?null:c;var m=f.memoizedState.inst;yt!==null&&c!==null&&Kf(c,yt.memoizedState.deps)?f.memoizedState=ko(s,m,a,c):(ze.flags|=t,f.memoizedState=ko(1|s,m,a,c))}function Lx(t,s){dd(8390656,8,t,s)}function im(t,s){hd(2048,8,t,s)}function hj(t){ze.flags|=4;var s=ze.updateQueue;if(s===null)s=ld(),ze.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Vx(t){var s=Gt().memoizedState;return hj({ref:s,nextImpl:t}),function(){if((lt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Ux(t,s){return hd(4,2,t,s)}function zx(t,s){return hd(4,4,t,s)}function qx(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Fx(t,s,a){a=a!=null?a.concat([t]):null,hd(4,4,qx.bind(null,s,t),a)}function sm(){}function Bx(t,s){var a=Gt();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&Kf(s,c[1])?c[0]:(a.memoizedState=[t,s],t)}function Hx(t,s){var a=Gt();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&Kf(s,c[1]))return c[0];if(c=t(),ka){dt(!0);try{t()}finally{dt(!1)}}return a.memoizedState=[c,s],c}function rm(t,s,a){return a===void 0||(Rs&1073741824)!==0&&(Ye&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=$0(),ze.lanes|=t,Sr|=t,a)}function $x(t,s,a,c){return Gn(a,s)?a:Do.current!==null?(t=rm(t,a,c),Gn(t,s)||(en=!0),t):(Rs&42)===0||(Rs&1073741824)!==0&&(Ye&261930)===0?(en=!0,t.memoizedState=a):(t=$0(),ze.lanes|=t,Sr|=t,s)}function Gx(t,s,a,c,f){var m=he.p;he.p=m!==0&&8>m?m:8;var b=Q.T,T={};Q.T=T,lm(t,!1,s,a);try{var D=f(),W=Q.S;if(W!==null&&W(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ie=oj(D,c);ic(t,s,ie,Jn(t))}else ic(t,s,c,Jn(t))}catch(ae){ic(t,s,{then:function(){},status:"rejected",reason:ae},Jn())}finally{he.p=m,b!==null&&T.types!==null&&(b.types=T.types),Q.T=b}}function fj(){}function am(t,s,a,c){if(t.tag!==5)throw Error(r(476));var f=Kx(t).queue;Gx(t,f,s,pe,a===null?fj:function(){return Yx(t),a(c)})}function Kx(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:pe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Yx(t){var s=Kx(t);s.next===null&&(s=t.alternate.memoizedState),ic(t,s.next.queue,{},Jn())}function om(){return vn(vc)}function Wx(){return Gt().memoizedState}function Qx(){return Gt().memoizedState}function mj(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Jn();t=_r(a);var c=Er(s,t,a);c!==null&&(qn(c,s,a),Jl(c,s,a)),s={cache:kf()},t.payload=s;return}s=s.return}}function gj(t,s,a){var c=Jn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},fd(t)?Jx(s,a):(a=Nf(t,s,a,c),a!==null&&(qn(a,t,c),Zx(a,s,c)))}function Xx(t,s,a){var c=Jn();ic(t,s,a,c)}function ic(t,s,a,c){var f={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(fd(t))Jx(s,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,T=m(b,a);if(f.hasEagerState=!0,f.eagerState=T,Gn(T,b))return Ku(t,s,f,0),wt===null&&Gu(),!1}catch{}if(a=Nf(t,s,f,c),a!==null)return qn(a,t,c),Zx(a,s,c),!0}return!1}function lm(t,s,a,c){if(c={lane:2,revertLane:zm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},fd(t)){if(s)throw Error(r(479))}else s=Nf(t,a,c,2),s!==null&&qn(s,t,2)}function fd(t){var s=t.alternate;return t===ze||s!==null&&s===ze}function Jx(t,s){Oo=ad=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Zx(t,s,a){if((a&4194048)!==0){var c=s.lanes;c&=t.pendingLanes,a|=c,s.lanes=a,Nl(t,a)}}var sc={readContext:vn,use:cd,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};sc.useEffectEvent=zt;var e0={readContext:vn,use:cd,useCallback:function(t,s){return Dn().memoizedState=[t,s===void 0?null:s],t},useContext:vn,useEffect:Lx,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,dd(4194308,4,qx.bind(null,s,t),a)},useLayoutEffect:function(t,s){return dd(4194308,4,t,s)},useInsertionEffect:function(t,s){dd(4,2,t,s)},useMemo:function(t,s){var a=Dn();s=s===void 0?null:s;var c=t();if(ka){dt(!0);try{t()}finally{dt(!1)}}return a.memoizedState=[c,s],c},useReducer:function(t,s,a){var c=Dn();if(a!==void 0){var f=a(s);if(ka){dt(!0);try{a(s)}finally{dt(!1)}}}else f=s;return c.memoizedState=c.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},c.queue=t,t=t.dispatch=gj.bind(null,ze,t),[c.memoizedState,t]},useRef:function(t){var s=Dn();return t={current:t},s.memoizedState=t},useState:function(t){t=tm(t);var s=t.queue,a=Xx.bind(null,ze,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:sm,useDeferredValue:function(t,s){var a=Dn();return rm(a,t,s)},useTransition:function(){var t=tm(!1);return t=Gx.bind(null,ze,t.queue,!0,!1),Dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var c=ze,f=Dn();if(tt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),wt===null)throw Error(r(349));(Ye&127)!==0||_x(c,s,a)}f.memoizedState=a;var m={value:a,getSnapshot:s};return f.queue=m,Lx(Tx.bind(null,c,m,t),[t]),c.flags|=2048,ko(9,{destroy:void 0},Ex.bind(null,c,m,a,s),null),a},useId:function(){var t=Dn(),s=wt.identifierPrefix;if(tt){var a=os,c=as;a=(c&~(1<<32-et(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=od++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=lj++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:om,useFormState:Mx,useActionState:Mx,useOptimistic:function(t){var s=Dn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=lm.bind(null,ze,!0,a),a.dispatch=s,[t,s]},useMemoCache:Jf,useCacheRefresh:function(){return Dn().memoizedState=mj.bind(null,ze)},useEffectEvent:function(t){var s=Dn(),a={impl:t};return s.memoizedState=a,function(){if((lt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},cm={readContext:vn,use:cd,useCallback:Bx,useContext:vn,useEffect:im,useImperativeHandle:Fx,useInsertionEffect:Ux,useLayoutEffect:zx,useMemo:Hx,useReducer:ud,useRef:kx,useState:function(){return ud(Ms)},useDebugValue:sm,useDeferredValue:function(t,s){var a=Gt();return $x(a,yt.memoizedState,t,s)},useTransition:function(){var t=ud(Ms)[0],s=Gt().memoizedState;return[typeof t=="boolean"?t:nc(t),s]},useSyncExternalStore:vx,useId:Wx,useHostTransitionStatus:om,useFormState:Dx,useActionState:Dx,useOptimistic:function(t,s){var a=Gt();return jx(a,yt,t,s)},useMemoCache:Jf,useCacheRefresh:Qx};cm.useEffectEvent=Vx;var t0={readContext:vn,use:cd,useCallback:Bx,useContext:vn,useEffect:im,useImperativeHandle:Fx,useInsertionEffect:Ux,useLayoutEffect:zx,useMemo:Hx,useReducer:em,useRef:kx,useState:function(){return em(Ms)},useDebugValue:sm,useDeferredValue:function(t,s){var a=Gt();return yt===null?rm(a,t,s):$x(a,yt.memoizedState,t,s)},useTransition:function(){var t=em(Ms)[0],s=Gt().memoizedState;return[typeof t=="boolean"?t:nc(t),s]},useSyncExternalStore:vx,useId:Wx,useHostTransitionStatus:om,useFormState:Px,useActionState:Px,useOptimistic:function(t,s){var a=Gt();return yt!==null?jx(a,yt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:Qx};t0.useEffectEvent=Vx;function um(t,s,a,c){s=t.memoizedState,a=a(c,s),a=a==null?s:E({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var dm={enqueueSetState:function(t,s,a){t=t._reactInternals;var c=Jn(),f=_r(c);f.payload=s,a!=null&&(f.callback=a),s=Er(t,f,c),s!==null&&(qn(s,t,c),Jl(s,t,c))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var c=Jn(),f=_r(c);f.tag=1,f.payload=s,a!=null&&(f.callback=a),s=Er(t,f,c),s!==null&&(qn(s,t,c),Jl(s,t,c))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Jn(),c=_r(a);c.tag=2,s!=null&&(c.callback=s),s=Er(t,c,a),s!==null&&(qn(s,t,a),Jl(s,t,a))}};function n0(t,s,a,c,f,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,b):s.prototype&&s.prototype.isPureReactComponent?!Hl(a,c)||!Hl(f,m):!0}function i0(t,s,a,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==t&&dm.enqueueReplaceState(s,s.state,null)}function La(t,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(t=t.defaultProps){a===s&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function s0(t){$u(t)}function r0(t){console.error(t)}function a0(t){$u(t)}function md(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function o0(t,s,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function hm(t,s,a){return a=_r(a),a.tag=3,a.payload={element:null},a.callback=function(){md(t,s)},a}function l0(t){return t=_r(t),t.tag=3,t}function c0(t,s,a,c){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;t.payload=function(){return f(m)},t.callback=function(){o0(s,a,c)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){o0(s,a,c),typeof f!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function pj(t,s,a,c,f){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&Ao(s,a,f,!0),a=Yn.current,a!==null){switch(a.tag){case 31:case 13:return yi===null?jd():a.alternate===null&&qt===0&&(qt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,c===td?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),Lm(t,c,f)),!1;case 22:return a.flags|=65536,c===td?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),Lm(t,c,f)),!1}throw Error(r(435,a.tag))}return Lm(t,c,f),jd(),!1}if(tt)return s=Yn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==Rf&&(t=Error(r(422),{cause:c}),Kl(fi(t,a)))):(c!==Rf&&(s=Error(r(423),{cause:c}),Kl(fi(s,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,c=fi(c,a),f=hm(t.stateNode,c,f),Ff(t,f),qt!==4&&(qt=2)),!1;var m=Error(r(520),{cause:c});if(m=fi(m,a),hc===null?hc=[m]:hc.push(m),qt!==4&&(qt=2),s===null)return!0;c=fi(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=hm(a.stateNode,c,t),Ff(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ar===null||!Ar.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=l0(f),c0(f,t,a,c),Ff(a,f),!1}a=a.return}while(a!==null);return!1}var fm=Error(r(461)),en=!1;function _n(t,s,a,c){s.child=t===null?fx(s,null,a,c):Pa(s,t.child,a,c)}function u0(t,s,a,c,f){a=a.render;var m=s.ref;if("ref"in c){var b={};for(var T in c)T!=="ref"&&(b[T]=c[T])}else b=c;return Ra(s),c=Yf(t,s,a,b,m,f),T=Wf(),t!==null&&!en?(Qf(t,s,f),Ds(t,s,f)):(tt&&T&&If(s),s.flags|=1,_n(t,s,c,f),s.child)}function d0(t,s,a,c,f){if(t===null){var m=a.type;return typeof m=="function"&&!jf(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,h0(t,s,m,c,f)):(t=Wu(a.type,null,c,s,s.mode,f),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!_m(t,f)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:Hl,a(b,c)&&t.ref===s.ref)return Ds(t,s,f)}return s.flags|=1,t=Ss(m,c),t.ref=s.ref,t.return=s,s.child=t}function h0(t,s,a,c,f){if(t!==null){var m=t.memoizedProps;if(Hl(m,c)&&t.ref===s.ref)if(en=!1,s.pendingProps=c=m,_m(t,f))(t.flags&131072)!==0&&(en=!0);else return s.lanes=t.lanes,Ds(t,s,f)}return mm(t,s,a,c,f)}function f0(t,s,a,c){var f=c.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(c=s.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,s.child=null;return m0(t,s,m,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(s,m!==null?m.cachePool:null),m!==null?px(s,m):Hf(),yx(s);else return c=s.lanes=536870912,m0(t,s,m!==null?m.baseLanes|a:a,a,c)}else m!==null?(Zu(s,m.cachePool),px(s,m),wr(),s.memoizedState=null):(t!==null&&Zu(s,null),Hf(),wr());return _n(t,s,f,a),s.child}function rc(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function m0(t,s,a,c,f){var m=Vf();return m=m===null?null:{parent:Jt._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&Zu(s,null),Hf(),yx(s),t!==null&&Ao(t,s,c,!0),s.childLanes=f,null}function gd(t,s){return s=yd({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function g0(t,s,a){return Pa(s,t.child,null,a),t=gd(s,s.pendingProps),t.flags|=2,Wn(s),s.memoizedState=null,t}function yj(t,s,a){var c=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(tt){if(c.mode==="hidden")return t=gd(s,c),s.lanes=536870912,rc(null,t);if(Gf(s),(t=St)?(t=Sb(t,pi),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:pr!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},a=Jy(t),a.return=s,s.child=a,bn=s,St=null)):t=null,t===null)throw xr(s);return s.lanes=536870912,null}return gd(s,c)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(Gf(s),f)if(s.flags&256)s.flags&=-257,s=g0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(en||Ao(t,s,a,!1),f=(a&t.childLanes)!==0,en||f){if(c=wt,c!==null&&(b=jl(c,a),b!==0&&b!==m.retryLane))throw m.retryLane=b,Sa(t,b),qn(c,t,b),fm;jd(),s=g0(t,s,a)}else t=m.treeContext,St=xi(b.nextSibling),bn=s,tt=!0,yr=null,pi=!1,t!==null&&tx(s,t),s=gd(s,c),s.flags|=4096;return s}return t=Ss(t.child,{mode:c.mode,children:c.children}),t.ref=s.ref,s.child=t,t.return=s,t}function pd(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function mm(t,s,a,c,f){return Ra(s),a=Yf(t,s,a,c,void 0,f),c=Wf(),t!==null&&!en?(Qf(t,s,f),Ds(t,s,f)):(tt&&c&&If(s),s.flags|=1,_n(t,s,a,f),s.child)}function p0(t,s,a,c,f,m){return Ra(s),s.updateQueue=null,a=bx(s,c,a,f),xx(t),c=Wf(),t!==null&&!en?(Qf(t,s,m),Ds(t,s,m)):(tt&&c&&If(s),s.flags|=1,_n(t,s,a,m),s.child)}function y0(t,s,a,c,f){if(Ra(s),s.stateNode===null){var m=wo,b=a.contextType;typeof b=="object"&&b!==null&&(m=vn(b)),m=new a(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=dm,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},zf(s),b=a.contextType,m.context=typeof b=="object"&&b!==null?vn(b):wo,m.state=s.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(um(s,a,b,c),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&dm.enqueueReplaceState(m,m.state,null),ec(s,c,m,f),Zl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(t===null){m=s.stateNode;var T=s.memoizedProps,D=La(a,T);m.props=D;var W=m.context,ie=a.contextType;b=wo,typeof ie=="object"&&ie!==null&&(b=vn(ie));var ae=a.getDerivedStateFromProps;ie=typeof ae=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,ie||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||W!==b)&&i0(s,m,c,b),vr=!1;var X=s.memoizedState;m.state=X,ec(s,c,m,f),Zl(),W=s.memoizedState,T||X!==W||vr?(typeof ae=="function"&&(um(s,a,ae,c),W=s.memoizedState),(D=vr||n0(s,a,D,c,X,W,b))?(ie||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=W),m.props=c,m.state=W,m.context=b,c=D):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,qf(t,s),b=s.memoizedProps,ie=La(a,b),m.props=ie,ae=s.pendingProps,X=m.context,W=a.contextType,D=wo,typeof W=="object"&&W!==null&&(D=vn(W)),T=a.getDerivedStateFromProps,(W=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ae||X!==D)&&i0(s,m,c,D),vr=!1,X=s.memoizedState,m.state=X,ec(s,c,m,f),Zl();var te=s.memoizedState;b!==ae||X!==te||vr||t!==null&&t.dependencies!==null&&Xu(t.dependencies)?(typeof T=="function"&&(um(s,a,T,c),te=s.memoizedState),(ie=vr||n0(s,a,ie,c,X,te,D)||t!==null&&t.dependencies!==null&&Xu(t.dependencies))?(W||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,te,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,te,D)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&X===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&X===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=te),m.props=c,m.state=te,m.context=D,c=ie):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&X===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&X===t.memoizedState||(s.flags|=1024),c=!1)}return m=c,pd(t,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&c?(s.child=Pa(s,t.child,null,f),s.child=Pa(s,null,a,f)):_n(t,s,a,f),s.memoizedState=m.state,t=s.child):t=Ds(t,s,f),t}function x0(t,s,a,c){return Ia(),s.flags|=256,_n(t,s,a,c),s.child}var gm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pm(t){return{baseLanes:t,cachePool:ox()}}function ym(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Xn),t}function b0(t,s,a){var c=s.pendingProps,f=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:($t.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,t===null){if(tt){if(f?Tr(s):wr(),(t=St)?(t=Sb(t,pi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:pr!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},a=Jy(t),a.return=s,s.child=a,bn=s,St=null)):t=null,t===null)throw xr(s);return Zm(t)?s.lanes=32:s.lanes=536870912,null}var T=c.children;return c=c.fallback,f?(wr(),f=s.mode,T=yd({mode:"hidden",children:T},f),c=Aa(c,f,a,null),T.return=s,c.return=s,T.sibling=c,s.child=T,c=s.child,c.memoizedState=pm(a),c.childLanes=ym(t,b,a),s.memoizedState=gm,rc(null,c)):(Tr(s),xm(s,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(m)s.flags&256?(Tr(s),s.flags&=-257,s=bm(t,s,a)):s.memoizedState!==null?(wr(),s.child=t.child,s.flags|=128,s=null):(wr(),T=c.fallback,f=s.mode,c=yd({mode:"visible",children:c.children},f),T=Aa(T,f,a,null),T.flags|=2,c.return=s,T.return=s,c.sibling=T,s.child=c,Pa(s,t.child,null,a),c=s.child,c.memoizedState=pm(a),c.childLanes=ym(t,b,a),s.memoizedState=gm,s=rc(null,c));else if(Tr(s),Zm(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var W=b.dgst;b=W,c=Error(r(419)),c.stack="",c.digest=b,Kl({value:c,source:null,stack:null}),s=bm(t,s,a)}else if(en||Ao(t,s,a,!1),b=(a&t.childLanes)!==0,en||b){if(b=wt,b!==null&&(c=jl(b,a),c!==0&&c!==D.retryLane))throw D.retryLane=c,Sa(t,c),qn(b,t,c),fm;Jm(T)||jd(),s=bm(t,s,a)}else Jm(T)?(s.flags|=192,s.child=t.child,s=null):(t=D.treeContext,St=xi(T.nextSibling),bn=s,tt=!0,yr=null,pi=!1,t!==null&&tx(s,t),s=xm(s,c.children),s.flags|=4096);return s}return f?(wr(),T=c.fallback,f=s.mode,D=t.child,W=D.sibling,c=Ss(D,{mode:"hidden",children:c.children}),c.subtreeFlags=D.subtreeFlags&65011712,W!==null?T=Ss(W,T):(T=Aa(T,f,a,null),T.flags|=2),T.return=s,c.return=s,c.sibling=T,s.child=c,rc(null,c),c=s.child,T=t.child.memoizedState,T===null?T=pm(a):(f=T.cachePool,f!==null?(D=Jt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=ox(),T={baseLanes:T.baseLanes|a,cachePool:f}),c.memoizedState=T,c.childLanes=ym(t,b,a),s.memoizedState=gm,rc(t.child,c)):(Tr(s),a=t.child,t=a.sibling,a=Ss(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,t!==null&&(b=s.deletions,b===null?(s.deletions=[t],s.flags|=16):b.push(t)),s.child=a,s.memoizedState=null,a)}function xm(t,s){return s=yd({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function yd(t,s){return t=Kn(22,t,null,s),t.lanes=0,t}function bm(t,s,a){return Pa(s,t.child,null,a),t=xm(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function v0(t,s,a){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),Of(t.return,s,a)}function vm(t,s,a,c,f,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f,treeForkCount:m}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=a,b.tailMode=f,b.treeForkCount=m)}function _0(t,s,a){var c=s.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var b=$t.current,T=(b&2)!==0;if(T?(b=b&1|2,s.flags|=128):b&=1,I($t,b),_n(t,s,c,a),c=tt?Gl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v0(t,a,s);else if(t.tag===19)v0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=s.child,f=null;a!==null;)t=a.alternate,t!==null&&rd(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),vm(s,!1,f,a,m,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(t=f.alternate,t!==null&&rd(t)===null){s.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}vm(s,!0,a,null,m,c);break;case"together":vm(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Ds(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Sr|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Ao(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=Ss(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Ss(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function _m(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Xu(t)))}function xj(t,s,a){switch(s.tag){case 3:ct(s,s.stateNode.containerInfo),br(s,Jt,t.memoizedState.cache),Ia();break;case 27:case 5:_s(s);break;case 4:ct(s,s.stateNode.containerInfo);break;case 10:br(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Gf(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Tr(s),s.flags|=128,null):(a&s.child.childLanes)!==0?b0(t,s,a):(Tr(s),t=Ds(t,s,a),t!==null?t.sibling:null);Tr(s);break;case 19:var f=(t.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(Ao(t,s,a,!1),c=(a&s.childLanes)!==0),f){if(c)return _0(t,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),I($t,$t.current),c)break;return null;case 22:return s.lanes=0,f0(t,s,a,s.pendingProps);case 24:br(s,Jt,t.memoizedState.cache)}return Ds(t,s,a)}function E0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)en=!0;else{if(!_m(t,a)&&(s.flags&128)===0)return en=!1,xj(t,s,a);en=(t.flags&131072)!==0}else en=!1,tt&&(s.flags&1048576)!==0&&ex(s,Gl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(t=Da(s.elementType),s.type=t,typeof t=="function")jf(t)?(c=La(t,c),s.tag=1,s=y0(null,s,t,c,a)):(s.tag=0,s=mm(null,s,t,c,a));else{if(t!=null){var f=t.$$typeof;if(f===B){s.tag=11,s=u0(null,s,t,c,a);break e}else if(f===A){s.tag=14,s=d0(null,s,t,c,a);break e}}throw s=Ne(t)||t,Error(r(306,s,""))}}return s;case 0:return mm(t,s,s.type,s.pendingProps,a);case 1:return c=s.type,f=La(c,s.pendingProps),y0(t,s,c,f,a);case 3:e:{if(ct(s,s.stateNode.containerInfo),t===null)throw Error(r(387));c=s.pendingProps;var m=s.memoizedState;f=m.element,qf(t,s),ec(s,c,null,a);var b=s.memoizedState;if(c=b.cache,br(s,Jt,c),c!==m.cache&&Pf(s,[Jt],a,!0),Zl(),c=b.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=x0(t,s,c,a);break e}else if(c!==f){f=fi(Error(r(424)),s),Kl(f),s=x0(t,s,c,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,St=xi(t.firstChild),bn=s,tt=!0,yr=null,pi=!0,a=fx(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ia(),c===f){s=Ds(t,s,a);break e}_n(t,s,c,a)}s=s.child}return s;case 26:return pd(t,s),t===null?(a=Db(s.type,null,s.pendingProps,null))?s.memoizedState=a:tt||(a=s.type,t=s.pendingProps,c=Dd(ue.current).createElement(a),c[Wt]=s,c[hn]=t,En(c,a,t),Qt(c),s.stateNode=c):s.memoizedState=Db(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return _s(s),t===null&&tt&&(c=s.stateNode=Cb(s.type,s.pendingProps,ue.current),bn=s,pi=!0,f=St,Mr(s.type)?(eg=f,St=xi(c.firstChild)):St=f),_n(t,s,s.pendingProps.children,a),pd(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&tt&&((f=c=St)&&(c=Yj(c,s.type,s.pendingProps,pi),c!==null?(s.stateNode=c,bn=s,St=xi(c.firstChild),pi=!1,f=!0):f=!1),f||xr(s)),_s(s),f=s.type,m=s.pendingProps,b=t!==null?t.memoizedProps:null,c=m.children,Wm(f,m)?c=null:b!==null&&Wm(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=Yf(t,s,cj,null,null,a),vc._currentValue=f),pd(t,s),_n(t,s,c,a),s.child;case 6:return t===null&&tt&&((t=a=St)&&(a=Wj(a,s.pendingProps,pi),a!==null?(s.stateNode=a,bn=s,St=null,t=!0):t=!1),t||xr(s)),null;case 13:return b0(t,s,a);case 4:return ct(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=Pa(s,null,c,a):_n(t,s,c,a),s.child;case 11:return u0(t,s,s.type,s.pendingProps,a);case 7:return _n(t,s,s.pendingProps,a),s.child;case 8:return _n(t,s,s.pendingProps.children,a),s.child;case 12:return _n(t,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,br(s,s.type,c.value),_n(t,s,c.children,a),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,Ra(s),f=vn(f),c=c(f),s.flags|=1,_n(t,s,c,a),s.child;case 14:return d0(t,s,s.type,s.pendingProps,a);case 15:return h0(t,s,s.type,s.pendingProps,a);case 19:return _0(t,s,a);case 31:return yj(t,s,a);case 22:return f0(t,s,a,s.pendingProps);case 24:return Ra(s),c=vn(Jt),t===null?(f=Vf(),f===null&&(f=wt,m=kf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),s.memoizedState={parent:c,cache:f},zf(s),br(s,Jt,f)):((t.lanes&a)!==0&&(qf(t,s),ec(s,null,null,a),Zl()),f=t.memoizedState,m=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),br(s,Jt,c)):(c=m.cache,br(s,Jt,c),c!==f.cache&&Pf(s,[Jt],a,!0))),_n(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Os(t){t.flags|=4}function Em(t,s,a,c,f){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(W0())t.flags|=8192;else throw Oa=td,Uf}else t.flags&=-16777217}function T0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vb(s))if(W0())t.flags|=8192;else throw Oa=td,Uf}function xd(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?wu():536870912,t.lanes|=s,zo|=s)}function ac(t,s){if(!tt)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function At(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(s)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=a,s}function bj(t,s,a){var c=s.pendingProps;switch(Cf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(s),null;case 1:return At(s),null;case 3:return a=s.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Cs(Jt),nt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(So(s)?Os(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Mf())),At(s),null;case 26:var f=s.type,m=s.memoizedState;return t===null?(Os(s),m!==null?(At(s),T0(s,m)):(At(s),Em(s,f,null,c,a))):m?m!==t.memoizedState?(Os(s),At(s),T0(s,m)):(At(s),s.flags&=-16777217):(t=t.memoizedProps,t!==c&&Os(s),At(s),Em(s,f,t,c,a)),null;case 27:if(tr(s),a=ue.current,f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Os(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return At(s),null}t=K.current,So(s)?nx(s):(t=Cb(f,c,a),s.stateNode=t,Os(s))}return At(s),null;case 5:if(tr(s),f=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&Os(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return At(s),null}if(m=K.current,So(s))nx(s);else{var b=Dd(ue.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?b.createElement(f,{is:c.is}):b.createElement(f)}}m[Wt]=s,m[hn]=c;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=m;e:switch(En(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Os(s)}}return At(s),Em(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==c&&Os(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(t=ue.current,So(s)){if(t=s.stateNode,a=s.memoizedProps,c=null,f=bn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}t[Wt]=s,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||bb(t.nodeValue,a)),t||xr(s,!0)}else t=Dd(t).createTextNode(c),t[Wt]=s,s.stateNode=t}return At(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(c=So(s),a!==null){if(t===null){if(!c)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Wt]=s}else Ia(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),t=!1}else a=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Wn(s),s):(Wn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return At(s),null;case 13:if(c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=So(s),c!==null&&c.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Wt]=s}else Ia(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;At(s),f=!1}else f=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Wn(s),s):(Wn(s),null)}return Wn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,t=t!==null&&t.memoizedState!==null,a&&(c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),xd(s,s.updateQueue),At(s),null);case 4:return nt(),t===null&&Hm(s.stateNode.containerInfo),At(s),null;case 10:return Cs(s.type),At(s),null;case 19:if(j($t),c=s.memoizedState,c===null)return At(s),null;if(f=(s.flags&128)!==0,m=c.rendering,m===null)if(f)ac(c,!1);else{if(qt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=rd(t),m!==null){for(s.flags|=128,ac(c,!1),t=m.updateQueue,s.updateQueue=t,xd(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Xy(a,t),a=a.sibling;return I($t,$t.current&1|2),tt&&As(s,c.treeForkCount),s.child}t=t.sibling}c.tail!==null&&Yt()>Td&&(s.flags|=128,f=!0,ac(c,!1),s.lanes=4194304)}else{if(!f)if(t=rd(m),t!==null){if(s.flags|=128,f=!0,t=t.updateQueue,s.updateQueue=t,xd(s,t),ac(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!tt)return At(s),null}else 2*Yt()-c.renderingStartTime>Td&&a!==536870912&&(s.flags|=128,f=!0,ac(c,!1),s.lanes=4194304);c.isBackwards?(m.sibling=s.child,s.child=m):(t=c.last,t!==null?t.sibling=m:s.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Yt(),t.sibling=null,a=$t.current,I($t,f?a&1|2:a&1),tt&&As(s,c.treeForkCount),t):(At(s),null);case 22:case 23:return Wn(s),$f(),c=s.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(At(s),s.subtreeFlags&6&&(s.flags|=8192)):At(s),a=s.updateQueue,a!==null&&xd(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),t!==null&&j(Ma),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Cs(Jt),At(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function vj(t,s){switch(Cf(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Cs(Jt),nt(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return tr(s),null;case 31:if(s.memoizedState!==null){if(Wn(s),s.alternate===null)throw Error(r(340));Ia()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Wn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ia()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return j($t),null;case 4:return nt(),null;case 10:return Cs(s.type),null;case 22:case 23:return Wn(s),$f(),t!==null&&j(Ma),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Cs(Jt),null;case 25:return null;default:return null}}function w0(t,s){switch(Cf(s),s.tag){case 3:Cs(Jt),nt();break;case 26:case 27:case 5:tr(s);break;case 4:nt();break;case 31:s.memoizedState!==null&&Wn(s);break;case 13:Wn(s);break;case 19:j($t);break;case 10:Cs(s.type);break;case 22:case 23:Wn(s),$f(),t!==null&&j(Ma);break;case 24:Cs(Jt)}}function oc(t,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&t)===t){c=void 0;var m=a.create,b=a.inst;c=m(),b.destroy=c}a=a.next}while(a!==f)}}catch(T){mt(s,s.return,T)}}function Nr(t,s,a){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&t)===t){var b=c.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,f=s;var D=a,W=T;try{W()}catch(ie){mt(f,D,ie)}}}c=c.next}while(c!==m)}}catch(ie){mt(s,s.return,ie)}}function N0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{gx(s,a)}catch(c){mt(t,t.return,c)}}}function j0(t,s,a){a.props=La(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){mt(t,s,c)}}function lc(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(f){mt(t,s,f)}}function ls(t,s){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(f){mt(t,s,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){mt(t,s,f)}else a.current=null}function S0(t){var s=t.type,a=t.memoizedProps,c=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(f){mt(t,t.return,f)}}function Tm(t,s,a){try{var c=t.stateNode;Fj(c,t.type,a,s),c[hn]=s}catch(f){mt(t,t.return,f)}}function A0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Mr(t.type)||t.tag===4}function wm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||A0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Mr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nm(t,s,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Si));else if(c!==4&&(c===27&&Mr(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Nm(t,s,a),t=t.sibling;t!==null;)Nm(t,s,a),t=t.sibling}function bd(t,s,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(c!==4&&(c===27&&Mr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(bd(t,s,a),t=t.sibling;t!==null;)bd(t,s,a),t=t.sibling}function I0(t){var s=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);En(s,c,a),s[Wt]=t,s[hn]=a}catch(m){mt(t,t.return,m)}}var Ps=!1,tn=!1,jm=!1,C0=typeof WeakSet=="function"?WeakSet:Set,mn=null;function _j(t,s){if(t=t.containerInfo,Km=zd,t=Fy(t),bf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,T=-1,D=-1,W=0,ie=0,ae=t,X=null;t:for(;;){for(var te;ae!==a||f!==0&&ae.nodeType!==3||(T=b+f),ae!==m||c!==0&&ae.nodeType!==3||(D=b+c),ae.nodeType===3&&(b+=ae.nodeValue.length),(te=ae.firstChild)!==null;)X=ae,ae=te;for(;;){if(ae===t)break t;if(X===a&&++W===f&&(T=b),X===m&&++ie===c&&(D=b),(te=ae.nextSibling)!==null)break;ae=X,X=ae.parentNode}ae=te}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ym={focusedElem:t,selectionRange:a},zd=!1,mn=s;mn!==null;)if(s=mn,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,mn=t;else for(;mn!==null;){switch(s=mn,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,f=m.memoizedProps,m=m.memoizedState,c=a.stateNode;try{var we=La(a.type,f);t=c.getSnapshotBeforeUpdate(we,m),c.__reactInternalSnapshotBeforeUpdate=t}catch(Re){mt(a,a.return,Re)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Xm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,mn=t;break}mn=s.return}}function R0(t,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Ls(t,a),c&4&&oc(5,a);break;case 1:if(Ls(t,a),c&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(b){mt(a,a.return,b)}else{var f=La(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(f,s,t.__reactInternalSnapshotBeforeUpdate)}catch(b){mt(a,a.return,b)}}c&64&&N0(a),c&512&&lc(a,a.return);break;case 3:if(Ls(t,a),c&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{gx(t,s)}catch(b){mt(a,a.return,b)}}break;case 27:s===null&&c&4&&I0(a);case 26:case 5:Ls(t,a),s===null&&c&4&&S0(a),c&512&&lc(a,a.return);break;case 12:Ls(t,a);break;case 31:Ls(t,a),c&4&&O0(t,a);break;case 13:Ls(t,a),c&4&&P0(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Cj.bind(null,a),Qj(t,a))));break;case 22:if(c=a.memoizedState!==null||Ps,!c){s=s!==null&&s.memoizedState!==null||tn,f=Ps;var m=tn;Ps=c,(tn=s)&&!m?Vs(t,a,(a.subtreeFlags&8772)!==0):Ls(t,a),Ps=f,tn=m}break;case 30:break;default:Ls(t,a)}}function M0(t){var s=t.alternate;s!==null&&(t.alternate=null,M0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&co(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Dt=null,Ln=!1;function ks(t,s,a){for(a=a.child;a!==null;)D0(t,s,a),a=a.sibling}function D0(t,s,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(kt,a)}catch{}switch(a.tag){case 26:tn||ls(a,s),ks(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tn||ls(a,s);var c=Dt,f=Ln;Mr(a.type)&&(Dt=a.stateNode,Ln=!1),ks(t,s,a),yc(a.stateNode),Dt=c,Ln=f;break;case 5:tn||ls(a,s);case 6:if(c=Dt,f=Ln,Dt=null,ks(t,s,a),Dt=c,Ln=f,Dt!==null)if(Ln)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(a.stateNode)}catch(m){mt(a,s,m)}else try{Dt.removeChild(a.stateNode)}catch(m){mt(a,s,m)}break;case 18:Dt!==null&&(Ln?(t=Dt,Nb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Yo(t)):Nb(Dt,a.stateNode));break;case 4:c=Dt,f=Ln,Dt=a.stateNode.containerInfo,Ln=!0,ks(t,s,a),Dt=c,Ln=f;break;case 0:case 11:case 14:case 15:Nr(2,a,s),tn||Nr(4,a,s),ks(t,s,a);break;case 1:tn||(ls(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&j0(a,s,c)),ks(t,s,a);break;case 21:ks(t,s,a);break;case 22:tn=(c=tn)||a.memoizedState!==null,ks(t,s,a),tn=c;break;default:ks(t,s,a)}}function O0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Yo(t)}catch(a){mt(s,s.return,a)}}}function P0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Yo(t)}catch(a){mt(s,s.return,a)}}function Ej(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new C0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new C0),s;default:throw Error(r(435,t.tag))}}function vd(t,s){var a=Ej(t);s.forEach(function(c){if(!a.has(c)){a.add(c);var f=Rj.bind(null,t,c);c.then(f,f)}})}function Vn(t,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c],m=t,b=s,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(Mr(T.type)){Dt=T.stateNode,Ln=!1;break e}break;case 5:Dt=T.stateNode,Ln=!1;break e;case 3:case 4:Dt=T.stateNode.containerInfo,Ln=!0;break e}T=T.return}if(Dt===null)throw Error(r(160));D0(m,b,f),Dt=null,Ln=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)k0(s,t),s=s.sibling}var Di=null;function k0(t,s){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vn(s,t),Un(t),c&4&&(Nr(3,t,t.return),oc(3,t),Nr(5,t,t.return));break;case 1:Vn(s,t),Un(t),c&512&&(tn||a===null||ls(a,a.return)),c&64&&Ps&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var f=Di;if(Vn(s,t),Un(t),c&512&&(tn||a===null||ls(a,a.return)),c&4){var m=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){e:{c=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Yi]||m[Wt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),En(m,c,a),m[Wt]=t,Qt(m),c=m;break e;case"link":var b=kb("link","href",f).get(c+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(m=b[T],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break t}}m=f.createElement(c),En(m,c,a),f.head.appendChild(m);break;case"meta":if(b=kb("meta","content",f).get(c+(a.content||""))){for(T=0;T<b.length;T++)if(m=b[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break t}}m=f.createElement(c),En(m,c,a),f.head.appendChild(m);break;default:throw Error(r(468,c))}m[Wt]=t,Qt(m),c=m}t.stateNode=c}else Lb(f,t.type,t.stateNode);else t.stateNode=Pb(f,c,t.memoizedProps);else m!==c?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,c===null?Lb(f,t.type,t.stateNode):Pb(f,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Tm(t,t.memoizedProps,a.memoizedProps)}break;case 27:Vn(s,t),Un(t),c&512&&(tn||a===null||ls(a,a.return)),a!==null&&c&4&&Tm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Vn(s,t),Un(t),c&512&&(tn||a===null||ls(a,a.return)),t.flags&32){f=t.stateNode;try{kn(f,"")}catch(we){mt(t,t.return,we)}}c&4&&t.stateNode!=null&&(f=t.memoizedProps,Tm(t,f,a!==null?a.memoizedProps:f)),c&1024&&(jm=!0);break;case 6:if(Vn(s,t),Un(t),c&4){if(t.stateNode===null)throw Error(r(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(we){mt(t,t.return,we)}}break;case 3:if(kd=null,f=Di,Di=Od(s.containerInfo),Vn(s,t),Di=f,Un(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Yo(s.containerInfo)}catch(we){mt(t,t.return,we)}jm&&(jm=!1,L0(t));break;case 4:c=Di,Di=Od(t.stateNode.containerInfo),Vn(s,t),Un(t),Di=c;break;case 12:Vn(s,t),Un(t);break;case 31:Vn(s,t),Un(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,vd(t,c)));break;case 13:Vn(s,t),Un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ed=Yt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,vd(t,c)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,W=Ps,ie=tn;if(Ps=W||f,tn=ie||D,Vn(s,t),tn=ie,Ps=W,Un(t),c&8192)e:for(s=t.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(a===null||D||Ps||tn||Va(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(m=D.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=D.stateNode;var ae=D.memoizedProps.style,X=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(we){mt(D,D.return,we)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(we){mt(D,D.return,we)}}}else if(s.tag===18){if(a===null){D=s;try{var te=D.stateNode;f?jb(te,!0):jb(D.stateNode,!1)}catch(we){mt(D,D.return,we)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,vd(t,a))));break;case 19:Vn(s,t),Un(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,vd(t,c)));break;case 30:break;case 21:break;default:Vn(s,t),Un(t)}}function Un(t){var s=t.flags;if(s&2){try{for(var a,c=t.return;c!==null;){if(A0(c)){a=c;break}c=c.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=wm(t);bd(t,m,f);break;case 5:var b=a.stateNode;a.flags&32&&(kn(b,""),a.flags&=-33);var T=wm(t);bd(t,T,b);break;case 3:case 4:var D=a.stateNode.containerInfo,W=wm(t);Nm(t,W,D);break;default:throw Error(r(161))}}catch(ie){mt(t,t.return,ie)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function L0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;L0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Ls(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)R0(t,s.alternate,s),s=s.sibling}function Va(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Nr(4,s,s.return),Va(s);break;case 1:ls(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&j0(s,s.return,a),Va(s);break;case 27:yc(s.stateNode);case 26:case 5:ls(s,s.return),Va(s);break;case 22:s.memoizedState===null&&Va(s);break;case 30:Va(s);break;default:Va(s)}t=t.sibling}}function Vs(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=t,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:Vs(f,m,a),oc(4,m);break;case 1:if(Vs(f,m,a),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(W){mt(c,c.return,W)}if(c=m,f=c.updateQueue,f!==null){var T=c.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)mx(D[f],T)}catch(W){mt(c,c.return,W)}}a&&b&64&&N0(m),lc(m,m.return);break;case 27:I0(m);case 26:case 5:Vs(f,m,a),a&&c===null&&b&4&&S0(m),lc(m,m.return);break;case 12:Vs(f,m,a);break;case 31:Vs(f,m,a),a&&b&4&&O0(f,m);break;case 13:Vs(f,m,a),a&&b&4&&P0(f,m);break;case 22:m.memoizedState===null&&Vs(f,m,a),lc(m,m.return);break;case 30:break;default:Vs(f,m,a)}s=s.sibling}}function Sm(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Yl(a))}function Am(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Yl(t))}function Oi(t,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)V0(t,s,a,c),s=s.sibling}function V0(t,s,a,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Oi(t,s,a,c),f&2048&&oc(9,s);break;case 1:Oi(t,s,a,c);break;case 3:Oi(t,s,a,c),f&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Yl(t)));break;case 12:if(f&2048){Oi(t,s,a,c),t=s.stateNode;try{var m=s.memoizedProps,b=m.id,T=m.onPostCommit;typeof T=="function"&&T(b,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){mt(s,s.return,D)}}else Oi(t,s,a,c);break;case 31:Oi(t,s,a,c);break;case 13:Oi(t,s,a,c);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?Oi(t,s,a,c):cc(t,s):m._visibility&2?Oi(t,s,a,c):(m._visibility|=2,Lo(t,s,a,c,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Sm(b,s);break;case 24:Oi(t,s,a,c),f&2048&&Am(s.alternate,s);break;default:Oi(t,s,a,c)}}function Lo(t,s,a,c,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,b=s,T=a,D=c,W=b.flags;switch(b.tag){case 0:case 11:case 15:Lo(m,b,T,D,f),oc(8,b);break;case 23:break;case 22:var ie=b.stateNode;b.memoizedState!==null?ie._visibility&2?Lo(m,b,T,D,f):cc(m,b):(ie._visibility|=2,Lo(m,b,T,D,f)),f&&W&2048&&Sm(b.alternate,b);break;case 24:Lo(m,b,T,D,f),f&&W&2048&&Am(b.alternate,b);break;default:Lo(m,b,T,D,f)}s=s.sibling}}function cc(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,c=s,f=c.flags;switch(c.tag){case 22:cc(a,c),f&2048&&Sm(c.alternate,c);break;case 24:cc(a,c),f&2048&&Am(c.alternate,c);break;default:cc(a,c)}s=s.sibling}}var uc=8192;function Vo(t,s,a){if(t.subtreeFlags&uc)for(t=t.child;t!==null;)U0(t,s,a),t=t.sibling}function U0(t,s,a){switch(t.tag){case 26:Vo(t,s,a),t.flags&uc&&t.memoizedState!==null&&l1(a,Di,t.memoizedState,t.memoizedProps);break;case 5:Vo(t,s,a);break;case 3:case 4:var c=Di;Di=Od(t.stateNode.containerInfo),Vo(t,s,a),Di=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=uc,uc=16777216,Vo(t,s,a),uc=c):Vo(t,s,a));break;default:Vo(t,s,a)}}function z0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function dc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];mn=c,F0(c,t)}z0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)q0(t),t=t.sibling}function q0(t){switch(t.tag){case 0:case 11:case 15:dc(t),t.flags&2048&&Nr(9,t,t.return);break;case 3:dc(t);break;case 12:dc(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,_d(t)):dc(t);break;default:dc(t)}}function _d(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];mn=c,F0(c,t)}z0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Nr(8,s,s.return),_d(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,_d(s));break;default:_d(s)}t=t.sibling}}function F0(t,s){for(;mn!==null;){var a=mn;switch(a.tag){case 0:case 11:case 15:Nr(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Yl(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,mn=c;else e:for(a=t;mn!==null;){c=mn;var f=c.sibling,m=c.return;if(M0(c),c===a){mn=null;break e}if(f!==null){f.return=m,mn=f;break e}mn=m}}}var Tj={getCacheForType:function(t){var s=vn(Jt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return vn(Jt).controller.signal}},wj=typeof WeakMap=="function"?WeakMap:Map,lt=0,wt=null,He=null,Ye=0,ft=0,Qn=null,jr=!1,Uo=!1,Im=!1,Us=0,qt=0,Sr=0,Ua=0,Cm=0,Xn=0,zo=0,hc=null,zn=null,Rm=!1,Ed=0,B0=0,Td=1/0,wd=null,Ar=null,ln=0,Ir=null,qo=null,zs=0,Mm=0,Dm=null,H0=null,fc=0,Om=null;function Jn(){return(lt&2)!==0&&Ye!==0?Ye&-Ye:Q.T!==null?zm():Nu()}function $0(){if(Xn===0)if((Ye&536870912)===0||tt){var t=Es;Es<<=1,(Es&3932160)===0&&(Es=262144),Xn=t}else Xn=536870912;return t=Yn.current,t!==null&&(t.flags|=32),Xn}function qn(t,s,a){(t===wt&&(ft===2||ft===9)||t.cancelPendingCommit!==null)&&(Fo(t,0),Cr(t,Ye,Xn,!1)),fa(t,a),((lt&2)===0||t!==wt)&&(t===wt&&((lt&2)===0&&(Ua|=a),qt===4&&Cr(t,Ye,Xn,!1)),cs(t))}function G0(t,s,a){if((lt&6)!==0)throw Error(r(327));var c=!a&&(s&127)===0&&(s&t.expiredLanes)===0||wi(t,s),f=c?Sj(t,s):km(t,s,!0),m=c;do{if(f===0){Uo&&!c&&Cr(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!Nj(a)){f=km(t,s,!1),m=!1;continue}if(f===2){if(m=s,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var T=t;f=hc;var D=T.current.memoizedState.isDehydrated;if(D&&(Fo(T,b).flags|=256),b=km(T,b,!1),b!==2){if(Im&&!D){T.errorRecoveryDisabledLanes|=m,Ua|=m,f=4;break e}m=zn,zn=f,m!==null&&(zn===null?zn=m:zn.push.apply(zn,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){Fo(t,0),Cr(t,s,0,!0);break}e:{switch(c=t,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Cr(c,s,Xn,!jr);break e;case 2:zn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Ed+300-Yt(),10<f)){if(Cr(c,s,Xn,!jr),$i(c,0,!0)!==0)break e;zs=s,c.timeoutHandle=Tb(K0.bind(null,c,a,zn,wd,Rm,s,Xn,Ua,zo,jr,m,"Throttled",-0,0),f);break e}K0(c,a,zn,wd,Rm,s,Xn,Ua,zo,jr,m,null,-0,0)}}break}while(!0);cs(t)}function K0(t,s,a,c,f,m,b,T,D,W,ie,ae,X,te){if(t.timeoutHandle=-1,ae=s.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Si},U0(s,m,ae);var we=(m&62914560)===m?Ed-Yt():(m&4194048)===m?B0-Yt():0;if(we=c1(ae,we),we!==null){zs=m,t.cancelPendingCommit=we(tb.bind(null,t,s,m,a,c,f,b,T,D,ie,ae,null,X,te)),Cr(t,m,b,!W);return}}tb(t,s,m,a,c,f,b,T,D)}function Nj(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!Gn(m(),f))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Cr(t,s,a,c){s&=~Cm,s&=~Ua,t.suspendedLanes|=s,t.pingedLanes&=~s,c&&(t.warmLanes|=s),c=t.expirationTimes;for(var f=s;0<f;){var m=31-et(f),b=1<<m;c[m]=-1,f&=~b}a!==0&&ma(t,a,s)}function Nd(){return(lt&6)===0?(mc(0),!1):!0}function Pm(){if(He!==null){if(ft===0)var t=He.return;else t=He,Is=Ca=null,Xf(t),Mo=null,Ql=0,t=He;for(;t!==null;)w0(t.alternate,t),t=t.return;He=null}}function Fo(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,$j(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),zs=0,Pm(),wt=t,He=a=Ss(t.current,null),Ye=s,ft=0,Qn=null,jr=!1,Uo=wi(t,s),Im=!1,zo=Xn=Cm=Ua=Sr=qt=0,zn=hc=null,Rm=!1,(s&8)!==0&&(s|=s&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=s;0<c;){var f=31-et(c),m=1<<f;s|=t[f],c&=~m}return Us=s,Gu(),a}function Y0(t,s){ze=null,Q.H=sc,s===Ro||s===ed?(s=ux(),ft=3):s===Uf?(s=ux(),ft=4):ft=s===fm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Qn=s,He===null&&(qt=1,md(t,fi(s,t.current)))}function W0(){var t=Yn.current;return t===null?!0:(Ye&4194048)===Ye?yi===null:(Ye&62914560)===Ye||(Ye&536870912)!==0?t===yi:!1}function Q0(){var t=Q.H;return Q.H=sc,t===null?sc:t}function X0(){var t=Q.A;return Q.A=Tj,t}function jd(){qt=4,jr||(Ye&4194048)!==Ye&&Yn.current!==null||(Uo=!0),(Sr&134217727)===0&&(Ua&134217727)===0||wt===null||Cr(wt,Ye,Xn,!1)}function km(t,s,a){var c=lt;lt|=2;var f=Q0(),m=X0();(wt!==t||Ye!==s)&&(wd=null,Fo(t,s)),s=!1;var b=qt;e:do try{if(ft!==0&&He!==null){var T=He,D=Qn;switch(ft){case 8:Pm(),b=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(s=!0);var W=ft;if(ft=0,Qn=null,Bo(t,T,D,W),a&&Uo){b=0;break e}break;default:W=ft,ft=0,Qn=null,Bo(t,T,D,W)}}jj(),b=qt;break}catch(ie){Y0(t,ie)}while(!0);return s&&t.shellSuspendCounter++,Is=Ca=null,lt=c,Q.H=f,Q.A=m,He===null&&(wt=null,Ye=0,Gu()),b}function jj(){for(;He!==null;)J0(He)}function Sj(t,s){var a=lt;lt|=2;var c=Q0(),f=X0();wt!==t||Ye!==s?(wd=null,Td=Yt()+500,Fo(t,s)):Uo=wi(t,s);e:do try{if(ft!==0&&He!==null){s=He;var m=Qn;t:switch(ft){case 1:ft=0,Qn=null,Bo(t,s,m,1);break;case 2:case 9:if(lx(m)){ft=0,Qn=null,Z0(s);break}s=function(){ft!==2&&ft!==9||wt!==t||(ft=7),cs(t)},m.then(s,s);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:lx(m)?(ft=0,Qn=null,Z0(s)):(ft=0,Qn=null,Bo(t,s,m,7));break;case 5:var b=null;switch(He.tag){case 26:b=He.memoizedState;case 5:case 27:var T=He;if(b?Vb(b):T.stateNode.complete){ft=0,Qn=null;var D=T.sibling;if(D!==null)He=D;else{var W=T.return;W!==null?(He=W,Sd(W)):He=null}break t}}ft=0,Qn=null,Bo(t,s,m,5);break;case 6:ft=0,Qn=null,Bo(t,s,m,6);break;case 8:Pm(),qt=6;break e;default:throw Error(r(462))}}Aj();break}catch(ie){Y0(t,ie)}while(!0);return Is=Ca=null,Q.H=c,Q.A=f,lt=a,He!==null?0:(wt=null,Ye=0,Gu(),qt)}function Aj(){for(;He!==null&&!si();)J0(He)}function J0(t){var s=E0(t.alternate,t,Us);t.memoizedProps=t.pendingProps,s===null?Sd(t):He=s}function Z0(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=p0(a,s,s.pendingProps,s.type,void 0,Ye);break;case 11:s=p0(a,s,s.pendingProps,s.type.render,s.ref,Ye);break;case 5:Xf(s);default:w0(a,s),s=He=Xy(s,Us),s=E0(a,s,Us)}t.memoizedProps=t.pendingProps,s===null?Sd(t):He=s}function Bo(t,s,a,c){Is=Ca=null,Xf(s),Mo=null,Ql=0;var f=s.return;try{if(pj(t,f,s,a,Ye)){qt=1,md(t,fi(a,t.current)),He=null;return}}catch(m){if(f!==null)throw He=f,m;qt=1,md(t,fi(a,t.current)),He=null;return}s.flags&32768?(tt||c===1?t=!0:Uo||(Ye&536870912)!==0?t=!1:(jr=t=!0,(c===2||c===9||c===3||c===6)&&(c=Yn.current,c!==null&&c.tag===13&&(c.flags|=16384))),eb(s,t)):Sd(s)}function Sd(t){var s=t;do{if((s.flags&32768)!==0){eb(s,jr);return}t=s.return;var a=bj(s.alternate,s,Us);if(a!==null){He=a;return}if(s=s.sibling,s!==null){He=s;return}He=s=t}while(s!==null);qt===0&&(qt=5)}function eb(t,s){do{var a=vj(t.alternate,t);if(a!==null){a.flags&=32767,He=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){He=t;return}He=t=a}while(t!==null);qt=6,He=null}function tb(t,s,a,c,f,m,b,T,D){t.cancelPendingCommit=null;do Ad();while(ln!==0);if((lt&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=wf,gf(t,a,m,b,T,D),t===wt&&(He=wt=null,Ye=0),qo=s,Ir=t,zs=a,Mm=m,Dm=f,H0=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Mj(Bi,function(){return ab(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,f=he.p,he.p=2,b=lt,lt|=4;try{_j(t,s,a)}finally{lt=b,he.p=f,Q.T=c}}ln=1,nb(),ib(),sb()}}function nb(){if(ln===1){ln=0;var t=Ir,s=qo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var c=he.p;he.p=2;var f=lt;lt|=4;try{k0(s,t);var m=Ym,b=Fy(t.containerInfo),T=m.focusedElem,D=m.selectionRange;if(b!==T&&T&&T.ownerDocument&&qy(T.ownerDocument.documentElement,T)){if(D!==null&&bf(T)){var W=D.start,ie=D.end;if(ie===void 0&&(ie=W),"selectionStart"in T)T.selectionStart=W,T.selectionEnd=Math.min(ie,T.value.length);else{var ae=T.ownerDocument||document,X=ae&&ae.defaultView||window;if(X.getSelection){var te=X.getSelection(),we=T.textContent.length,Re=Math.min(D.start,we),bt=D.end===void 0?Re:Math.min(D.end,we);!te.extend&&Re>bt&&(b=bt,bt=Re,Re=b);var $=zy(T,Re),U=zy(T,bt);if($&&U&&(te.rangeCount!==1||te.anchorNode!==$.node||te.anchorOffset!==$.offset||te.focusNode!==U.node||te.focusOffset!==U.offset)){var Y=ae.createRange();Y.setStart($.node,$.offset),te.removeAllRanges(),Re>bt?(te.addRange(Y),te.extend(U.node,U.offset)):(Y.setEnd(U.node,U.offset),te.addRange(Y))}}}}for(ae=[],te=T;te=te.parentNode;)te.nodeType===1&&ae.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ae.length;T++){var se=ae[T];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}zd=!!Km,Ym=Km=null}finally{lt=f,he.p=c,Q.T=a}}t.current=s,ln=2}}function ib(){if(ln===2){ln=0;var t=Ir,s=qo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var c=he.p;he.p=2;var f=lt;lt|=4;try{R0(t,s.alternate,s)}finally{lt=f,he.p=c,Q.T=a}}ln=3}}function sb(){if(ln===4||ln===3){ln=0,oo();var t=Ir,s=qo,a=zs,c=H0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ln=5:(ln=0,qo=Ir=null,rb(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ar=null),Ts(a),s=s.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(kt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Q.T,f=he.p,he.p=2,Q.T=null;try{for(var m=t.onRecoverableError,b=0;b<c.length;b++){var T=c[b];m(T.value,{componentStack:T.stack})}}finally{Q.T=s,he.p=f}}(zs&3)!==0&&Ad(),cs(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Om?fc++:(fc=0,Om=t):fc=0,mc(0)}}function rb(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Yl(s)))}function Ad(){return nb(),ib(),sb(),ab()}function ab(){if(ln!==5)return!1;var t=Ir,s=Mm;Mm=0;var a=Ts(zs),c=Q.T,f=he.p;try{he.p=32>a?32:a,Q.T=null,a=Dm,Dm=null;var m=Ir,b=zs;if(ln=0,qo=Ir=null,zs=0,(lt&6)!==0)throw Error(r(331));var T=lt;if(lt|=4,q0(m.current),V0(m,m.current,b,a),lt=T,mc(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(kt,m)}catch{}return!0}finally{he.p=f,Q.T=c,rb(t,s)}}function ob(t,s,a){s=fi(a,s),s=hm(t.stateNode,s,2),t=Er(t,s,2),t!==null&&(fa(t,2),cs(t))}function mt(t,s,a){if(t.tag===3)ob(t,t,a);else for(;s!==null;){if(s.tag===3){ob(s,t,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ar===null||!Ar.has(c))){t=fi(a,t),a=l0(2),c=Er(s,a,2),c!==null&&(c0(a,c,s,t),fa(c,2),cs(c));break}}s=s.return}}function Lm(t,s,a){var c=t.pingCache;if(c===null){c=t.pingCache=new wj;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(Im=!0,f.add(a),t=Ij.bind(null,t,s,a),s.then(t,t))}function Ij(t,s,a){var c=t.pingCache;c!==null&&c.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,wt===t&&(Ye&a)===a&&(qt===4||qt===3&&(Ye&62914560)===Ye&&300>Yt()-Ed?(lt&2)===0&&Fo(t,0):Cm|=a,zo===Ye&&(zo=0)),cs(t)}function lb(t,s){s===0&&(s=wu()),t=Sa(t,s),t!==null&&(fa(t,s),cs(t))}function Cj(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),lb(t,a)}function Rj(t,s){var a=0;switch(t.tag){case 31:case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),lb(t,a)}function Mj(t,s){return qe(t,s)}var Id=null,Ho=null,Vm=!1,Cd=!1,Um=!1,Rr=0;function cs(t){t!==Ho&&t.next===null&&(Ho===null?Id=Ho=t:Ho=Ho.next=t),Cd=!0,Vm||(Vm=!0,Oj())}function mc(t,s){if(!Um&&Cd){Um=!0;do for(var a=!1,c=Id;c!==null;){if(t!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var b=c.suspendedLanes,T=c.pingedLanes;m=(1<<31-et(42|t)+1)-1,m&=f&~(b&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,hb(c,m))}else m=Ye,m=$i(c,c===wt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||wi(c,m)||(a=!0,hb(c,m));c=c.next}while(a);Um=!1}}function Dj(){cb()}function cb(){Cd=Vm=!1;var t=0;Rr!==0&&Hj()&&(t=Rr);for(var s=Yt(),a=null,c=Id;c!==null;){var f=c.next,m=ub(c,s);m===0?(c.next=null,a===null?Id=f:a.next=f,f===null&&(Ho=a)):(a=c,(t!==0||(m&3)!==0)&&(Cd=!0)),c=f}ln!==0&&ln!==5||mc(t),Rr!==0&&(Rr=0)}function ub(t,s){for(var a=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-et(m),T=1<<b,D=f[b];D===-1?((T&a)===0||(T&c)!==0)&&(f[b]=mf(T,s)):D<=s&&(t.expiredLanes|=T),m&=~T}if(s=wt,a=Ye,a=$i(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===s&&(ft===2||ft===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Nt(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||wi(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(c!==null&&Nt(c),Ts(a)){case 2:case 8:a=sr;break;case 32:a=Bi;break;case 268435456:a=Ze;break;default:a=Bi}return c=db.bind(null,t),a=qe(a,c),t.callbackPriority=s,t.callbackNode=a,s}return c!==null&&c!==null&&Nt(c),t.callbackPriority=2,t.callbackNode=null,2}function db(t,s){if(ln!==0&&ln!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ad()&&t.callbackNode!==a)return null;var c=Ye;return c=$i(t,t===wt?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(G0(t,c,s),ub(t,Yt()),t.callbackNode!=null&&t.callbackNode===a?db.bind(null,t):null)}function hb(t,s){if(Ad())return null;G0(t,s,!0)}function Oj(){Gj(function(){(lt&6)!==0?qe(ir,Dj):cb()})}function zm(){if(Rr===0){var t=Io;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Rr=t}return Rr}function fb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:mo(""+t)}function mb(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function Pj(t,s,a,c,f){if(s==="submit"&&a&&a.stateNode===f){var m=fb((f[hn]||null).action),b=c.submitter;b&&(s=(s=b[hn]||null)?fb(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var T=new ns("action","action",null,c,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Rr!==0){var D=b?mb(f,b):new FormData(f);am(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(T.preventDefault(),D=b?mb(f,b):new FormData(f),am(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var qm=0;qm<Tf.length;qm++){var Fm=Tf[qm],kj=Fm.toLowerCase(),Lj=Fm[0].toUpperCase()+Fm.slice(1);Mi(kj,"on"+Lj)}Mi($y,"onAnimationEnd"),Mi(Gy,"onAnimationIteration"),Mi(Ky,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(ZN,"onTransitionRun"),Mi(ej,"onTransitionStart"),Mi(tj,"onTransitionCancel"),Mi(Yy,"onTransitionEnd"),Ji("onMouseEnter",["mouseout","mouseover"]),Ji("onMouseLeave",["mouseout","mouseover"]),Ji("onPointerEnter",["pointerout","pointerover"]),Ji("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gc));function gb(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],f=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var b=c.length-1;0<=b;b--){var T=c[b],D=T.instance,W=T.currentTarget;if(T=T.listener,D!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=W;try{m(f)}catch(ie){$u(ie)}f.currentTarget=null,m=D}else for(b=0;b<c.length;b++){if(T=c[b],D=T.instance,W=T.currentTarget,T=T.listener,D!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=W;try{m(f)}catch(ie){$u(ie)}f.currentTarget=null,m=D}}}}function $e(t,s){var a=s[lo];a===void 0&&(a=s[lo]=new Set);var c=t+"__bubble";a.has(c)||(pb(s,t,2,!1),a.add(c))}function Bm(t,s,a){var c=0;s&&(c|=4),pb(a,t,c,s)}var Rd="_reactListening"+Math.random().toString(36).slice(2);function Hm(t){if(!t[Rd]){t[Rd]=!0,Sl.forEach(function(a){a!=="selectionchange"&&(Vj.has(a)||Bm(a,!1,t),Bm(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Rd]||(s[Rd]=!0,Bm("selectionchange",!1,s))}}function pb(t,s,a,c){switch($b(s)){case 2:var f=h1;break;case 8:f=f1;break;default:f=rg}a=f.bind(null,s,a,t),f=void 0,!ba||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(s,a,{capture:!0,passive:f}):t.addEventListener(s,a,!0):f!==void 0?t.addEventListener(s,a,{passive:f}):t.addEventListener(s,a,!1)}function $m(t,s,a,c,f){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var T=c.stateNode.containerInfo;if(T===f)break;if(b===4)for(b=c.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;T!==null;){if(b=Wi(T),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){c=m=b;continue e}T=T.parentNode}}c=c.return}hr(function(){var W=m,ie=ci(a),ae=[];e:{var X=Wy.get(t);if(X!==void 0){var te=ns,we=t;switch(t){case"keypress":if(_a(a)===0)break e;case"keydown":case"keyup":te=Fu;break;case"focusin":we="focus",te=Ta;break;case"focusout":we="blur",te=Ta;break;case"beforeblur":case"afterblur":te=Ta;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=x;break;case $y:case Gy:case Ky:te=Pu;break;case Yy:te=w;break;case"scroll":case"scrollend":te=Ul;break;case"wheel":te=ee;break;case"copy":case"cut":case"paste":te=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=js;break;case"toggle":case"beforetoggle":te=Ue}var Re=(s&4)!==0,bt=!Re&&(t==="scroll"||t==="scrollend"),$=Re?X!==null?X+"Capture":null:X;Re=[];for(var U=W,Y;U!==null;){var se=U;if(Y=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Y===null||$===null||(se=Ai(U,$),se!=null&&Re.push(pc(U,se,Y))),bt)break;U=U.return}0<Re.length&&(X=new te(X,we,null,a,ie),ae.push({event:X,listeners:Re}))}}if((s&7)===0){e:{if(X=t==="mouseover"||t==="pointerover",te=t==="mouseout"||t==="pointerout",X&&a!==kl&&(we=a.relatedTarget||a.fromElement)&&(Wi(we)||we[Ki]))break e;if((te||X)&&(X=ie.window===ie?ie:(X=ie.ownerDocument)?X.defaultView||X.parentWindow:window,te?(we=a.relatedTarget||a.toElement,te=W,we=we?Wi(we):null,we!==null&&(bt=u(we),Re=we.tag,we!==bt||Re!==5&&Re!==27&&Re!==6)&&(we=null)):(te=null,we=W),te!==we)){if(Re=zl,se="onMouseLeave",$="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Re=js,se="onPointerLeave",$="onPointerEnter",U="pointer"),bt=te==null?X:Hn(te),Y=we==null?X:Hn(we),X=new Re(se,U+"leave",te,a,ie),X.target=bt,X.relatedTarget=Y,se=null,Wi(ie)===W&&(Re=new Re($,U+"enter",we,a,ie),Re.target=Y,Re.relatedTarget=bt,se=Re),bt=se,te&&we)t:{for(Re=Uj,$=te,U=we,Y=0,se=$;se;se=Re(se))Y++;se=0;for(var Ae=U;Ae;Ae=Re(Ae))se++;for(;0<Y-se;)$=Re($),Y--;for(;0<se-Y;)U=Re(U),se--;for(;Y--;){if($===U||U!==null&&$===U.alternate){Re=$;break t}$=Re($),U=Re(U)}Re=null}else Re=null;te!==null&&yb(ae,X,te,Re,!1),we!==null&&bt!==null&&yb(ae,bt,we,Re,!0)}}e:{if(X=W?Hn(W):window,te=X.nodeName&&X.nodeName.toLowerCase(),te==="select"||te==="input"&&X.type==="file")var rt=Oy;else if(My(X))if(Py)rt=QN;else{rt=YN;var je=KN}else te=X.nodeName,!te||te.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?W&&fo(W.elementType)&&(rt=Oy):rt=WN;if(rt&&(rt=rt(t,W))){Dy(ae,rt,a,ie);break e}je&&je(t,X,W),t==="focusout"&&W&&X.type==="number"&&W.memoizedProps.value!=null&&Dl(X,"number",X.value)}switch(je=W?Hn(W):window,t){case"focusin":(My(je)||je.contentEditable==="true")&&(_o=je,vf=W,$l=null);break;case"focusout":$l=vf=_o=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,By(ae,a,ie);break;case"selectionchange":if(JN)break;case"keydown":case"keyup":By(ae,a,ie)}var Fe;if(ot)e:{switch(t){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else vo?wa(t,a)&&(We="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(We="onCompositionStart");We&&(rs&&a.locale!=="ko"&&(vo||We!=="onCompositionStart"?We==="onCompositionEnd"&&vo&&(Fe=Vl()):(ts=ie,Ll="value"in ts?ts.value:ts.textContent,vo=!0)),je=Md(W,We),0<je.length&&(We=new ss(We,t,null,a,ie),ae.push({event:We,listeners:je}),Fe?We.data=Fe:(Fe=bo(a),Fe!==null&&(We.data=Fe)))),(Fe=di?BN(t,a):HN(t,a))&&(We=Md(W,"onBeforeInput"),0<We.length&&(je=new ss("onBeforeInput","beforeinput",null,a,ie),ae.push({event:je,listeners:We}),je.data=Fe)),Pj(ae,t,W,a,ie)}gb(ae,s)})}function pc(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Md(t,s){for(var a=s+"Capture",c=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ai(t,a),f!=null&&c.unshift(pc(t,f,m)),f=Ai(t,s),f!=null&&c.push(pc(t,f,m))),t.tag===3)return c;t=t.return}return[]}function Uj(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yb(t,s,a,c,f){for(var m=s._reactName,b=[];a!==null&&a!==c;){var T=a,D=T.alternate,W=T.stateNode;if(T=T.tag,D!==null&&D===c)break;T!==5&&T!==26&&T!==27||W===null||(D=W,f?(W=Ai(a,m),W!=null&&b.unshift(pc(a,W,D))):f||(W=Ai(a,m),W!=null&&b.push(pc(a,W,D)))),a=a.return}b.length!==0&&t.push({event:s,listeners:b})}var zj=/\r\n?/g,qj=/\u0000|\uFFFD/g;function xb(t){return(typeof t=="string"?t:""+t).replace(zj,`
`).replace(qj,"")}function bb(t,s){return s=xb(s),xb(t)===s}function xt(t,s,a,c,f,m){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||kn(t,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&kn(t,""+c);break;case"className":$n(t,"class",c);break;case"tabIndex":$n(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(t,a,c);break;case"style":Pl(t,c,m);break;case"data":if(s!=="object"){$n(t,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=mo(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&xt(t,s,"name",f.name,f,null),xt(t,s,"formEncType",f.formEncType,f,null),xt(t,s,"formMethod",f.formMethod,f,null),xt(t,s,"formTarget",f.formTarget,f,null)):(xt(t,s,"encType",f.encType,f,null),xt(t,s,"method",f.method,f,null),xt(t,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=mo(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=Si);break;case"onScroll":c!=null&&$e("scroll",t);break;case"onScrollEnd":c!=null&&$e("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=mo(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":$e("beforetoggle",t),$e("toggle",t),uo(t,"popover",c);break;case"xlinkActuate":Xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Xt(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Xt(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Xt(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Xt(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":uo(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Mu.get(a)||a,uo(t,a,c))}}function Gm(t,s,a,c,f,m){switch(a){case"style":Pl(t,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof c=="string"?kn(t,c):(typeof c=="number"||typeof c=="bigint")&&kn(t,""+c);break;case"onScroll":c!=null&&$e("scroll",t);break;case"onScrollEnd":c!=null&&$e("scrollend",t);break;case"onClick":c!=null&&(t.onclick=Si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Al.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),s=a.slice(2,f?a.length-7:void 0),m=t[hn]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,c,f);break e}a in t?t[a]=c:c===!0?t.setAttribute(a,""):uo(t,a,c)}}}function En(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",t),$e("load",t);var c=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:xt(t,s,m,b,a,null)}}f&&xt(t,s,"srcSet",a.srcSet,a,null),c&&xt(t,s,"src",a.src,a,null);return;case"input":$e("invalid",t);var T=m=b=f=null,D=null,W=null;for(c in a)if(a.hasOwnProperty(c)){var ie=a[c];if(ie!=null)switch(c){case"name":f=ie;break;case"type":b=ie;break;case"checked":D=ie;break;case"defaultChecked":W=ie;break;case"value":m=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:xt(t,s,c,ie,a,null)}}Iu(t,m,T,D,W,b,f,!1);return;case"select":$e("invalid",t),c=b=m=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":b=T;break;case"multiple":c=T;default:xt(t,s,f,T,a,null)}s=m,a=b,t.multiple=!!c,s!=null?lr(t,!!c,s,!1):a!=null&&lr(t,!!c,a,!0);return;case"textarea":$e("invalid",t),m=f=c=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":c=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:xt(t,s,b,T,a,null)}cr(t,c,f,m);return;case"option":for(D in a)a.hasOwnProperty(D)&&(c=a[D],c!=null)&&(D==="selected"?t.selected=c&&typeof c!="function"&&typeof c!="symbol":xt(t,s,D,c,a,null));return;case"dialog":$e("beforetoggle",t),$e("toggle",t),$e("cancel",t),$e("close",t);break;case"iframe":case"object":$e("load",t);break;case"video":case"audio":for(c=0;c<gc.length;c++)$e(gc[c],t);break;case"image":$e("error",t),$e("load",t);break;case"details":$e("toggle",t);break;case"embed":case"source":case"link":$e("error",t),$e("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in a)if(a.hasOwnProperty(W)&&(c=a[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:xt(t,s,W,c,a,null)}return;default:if(fo(s)){for(ie in a)a.hasOwnProperty(ie)&&(c=a[ie],c!==void 0&&Gm(t,s,ie,c,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(c=a[T],c!=null&&xt(t,s,T,c,a,null))}function Fj(t,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,T=null,D=null,W=null,ie=null;for(te in a){var ae=a[te];if(a.hasOwnProperty(te)&&ae!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":D=ae;default:c.hasOwnProperty(te)||xt(t,s,te,null,c,ae)}}for(var X in c){var te=c[X];if(ae=a[X],c.hasOwnProperty(X)&&(te!=null||ae!=null))switch(X){case"type":m=te;break;case"name":f=te;break;case"checked":W=te;break;case"defaultChecked":ie=te;break;case"value":b=te;break;case"defaultValue":T=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:te!==ae&&xt(t,s,X,te,c,ae)}}ho(t,b,T,D,W,ie,m,f);return;case"select":te=b=T=X=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":te=D;default:c.hasOwnProperty(m)||xt(t,s,m,null,c,D)}for(f in c)if(m=c[f],D=a[f],c.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":X=m;break;case"defaultValue":T=m;break;case"multiple":b=m;default:m!==D&&xt(t,s,f,m,c,D)}s=T,a=b,c=te,X!=null?lr(t,!!a,X,!1):!!c!=!!a&&(s!=null?lr(t,!!a,s,!0):lr(t,!!a,a?[]:"",!1));return;case"textarea":te=X=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:xt(t,s,T,null,c,f)}for(b in c)if(f=c[b],m=a[b],c.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":X=f;break;case"defaultValue":te=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&xt(t,s,b,f,c,m)}Cu(t,X,te);return;case"option":for(var we in a)X=a[we],a.hasOwnProperty(we)&&X!=null&&!c.hasOwnProperty(we)&&(we==="selected"?t.selected=!1:xt(t,s,we,null,c,X));for(D in c)X=c[D],te=a[D],c.hasOwnProperty(D)&&X!==te&&(X!=null||te!=null)&&(D==="selected"?t.selected=X&&typeof X!="function"&&typeof X!="symbol":xt(t,s,D,X,c,te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in a)X=a[Re],a.hasOwnProperty(Re)&&X!=null&&!c.hasOwnProperty(Re)&&xt(t,s,Re,null,c,X);for(W in c)if(X=c[W],te=a[W],c.hasOwnProperty(W)&&X!==te&&(X!=null||te!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:xt(t,s,W,X,c,te)}return;default:if(fo(s)){for(var bt in a)X=a[bt],a.hasOwnProperty(bt)&&X!==void 0&&!c.hasOwnProperty(bt)&&Gm(t,s,bt,void 0,c,X);for(ie in c)X=c[ie],te=a[ie],!c.hasOwnProperty(ie)||X===te||X===void 0&&te===void 0||Gm(t,s,ie,X,c,te);return}}for(var $ in a)X=a[$],a.hasOwnProperty($)&&X!=null&&!c.hasOwnProperty($)&&xt(t,s,$,null,c,X);for(ae in c)X=c[ae],te=a[ae],!c.hasOwnProperty(ae)||X===te||X==null&&te==null||xt(t,s,ae,X,c,te)}function vb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bj(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var f=a[c],m=f.transferSize,b=f.initiatorType,T=f.duration;if(m&&T&&vb(b)){for(b=0,T=f.responseEnd,c+=1;c<a.length;c++){var D=a[c],W=D.startTime;if(W>T)break;var ie=D.transferSize,ae=D.initiatorType;ie&&vb(ae)&&(D=D.responseEnd,b+=ie*(D<T?1:(T-W)/(D-W)))}if(--c,s+=8*(m+b)/(f.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Km=null,Ym=null;function Dd(t){return t.nodeType===9?t:t.ownerDocument}function _b(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Eb(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Wm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Qm=null;function Hj(){var t=window.event;return t&&t.type==="popstate"?t===Qm?!1:(Qm=t,!0):(Qm=null,!1)}var Tb=typeof setTimeout=="function"?setTimeout:void 0,$j=typeof clearTimeout=="function"?clearTimeout:void 0,wb=typeof Promise=="function"?Promise:void 0,Gj=typeof queueMicrotask=="function"?queueMicrotask:typeof wb<"u"?function(t){return wb.resolve(null).then(t).catch(Kj)}:Tb;function Kj(t){setTimeout(function(){throw t})}function Mr(t){return t==="head"}function Nb(t,s){var a=s,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(c===0){t.removeChild(f),Yo(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")yc(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,yc(a);for(var m=a.firstChild;m;){var b=m.nextSibling,T=m.nodeName;m[Yi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=b}}else a==="body"&&yc(t.ownerDocument.body);a=f}while(a);Yo(s)}function jb(t,s){var a=t;t=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=c}while(a)}function Xm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xm(a),co(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Yj(t,s,a,c){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Yi])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=xi(t.nextSibling),t===null)break}return null}function Wj(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=xi(t.nextSibling),t===null))return null;return t}function Sb(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=xi(t.nextSibling),t===null))return null;return t}function Jm(t){return t.data==="$?"||t.data==="$~"}function Zm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Qj(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function xi(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var eg=null;function Ab(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return xi(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function Ib(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Cb(t,s,a){switch(s=Dd(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function yc(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);co(t)}var bi=new Map,Rb=new Set;function Od(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qs=he.d;he.d={f:Xj,r:Jj,D:Zj,C:e1,L:t1,m:n1,X:s1,S:i1,M:r1};function Xj(){var t=qs.f(),s=Nd();return t||s}function Jj(t){var s=li(t);s!==null&&s.tag===5&&s.type==="form"?Yx(s):qs.r(t)}var $o=typeof document>"u"?null:document;function Mb(t,s,a){var c=$o;if(c&&typeof s=="string"&&s){var f=Pn(s);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Rb.has(f)||(Rb.add(f),t={rel:t,crossOrigin:a,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),En(s,"link",t),Qt(s),c.head.appendChild(s)))}}function Zj(t){qs.D(t),Mb("dns-prefetch",t,null)}function e1(t,s){qs.C(t,s),Mb("preconnect",t,s)}function t1(t,s,a){qs.L(t,s,a);var c=$o;if(c&&t&&s){var f='link[rel="preload"][as="'+Pn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Pn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Pn(a.imageSizes)+'"]')):f+='[href="'+Pn(t)+'"]';var m=f;switch(s){case"style":m=Go(t);break;case"script":m=Ko(t)}bi.has(m)||(t=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),bi.set(m,t),c.querySelector(f)!==null||s==="style"&&c.querySelector(xc(m))||s==="script"&&c.querySelector(bc(m))||(s=c.createElement("link"),En(s,"link",t),Qt(s),c.head.appendChild(s)))}}function n1(t,s){qs.m(t,s);var a=$o;if(a&&t){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Pn(c)+'"][href="'+Pn(t)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ko(t)}if(!bi.has(m)&&(t=E({rel:"modulepreload",href:t},s),bi.set(m,t),a.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bc(m)))return}c=a.createElement("link"),En(c,"link",t),Qt(c),a.head.appendChild(c)}}}function i1(t,s,a){qs.S(t,s,a);var c=$o;if(c&&t){var f=Qi(c).hoistableStyles,m=Go(t);s=s||"default";var b=f.get(m);if(!b){var T={loading:0,preload:null};if(b=c.querySelector(xc(m)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":s},a),(a=bi.get(m))&&tg(t,a);var D=b=c.createElement("link");Qt(D),En(D,"link",t),D._p=new Promise(function(W,ie){D.onload=W,D.onerror=ie}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Pd(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:T},f.set(m,b)}}}function s1(t,s){qs.X(t,s);var a=$o;if(a&&t){var c=Qi(a).hoistableScripts,f=Ko(t),m=c.get(f);m||(m=a.querySelector(bc(f)),m||(t=E({src:t,async:!0},s),(s=bi.get(f))&&ng(t,s),m=a.createElement("script"),Qt(m),En(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function r1(t,s){qs.M(t,s);var a=$o;if(a&&t){var c=Qi(a).hoistableScripts,f=Ko(t),m=c.get(f);m||(m=a.querySelector(bc(f)),m||(t=E({src:t,async:!0,type:"module"},s),(s=bi.get(f))&&ng(t,s),m=a.createElement("script"),Qt(m),En(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function Db(t,s,a,c){var f=(f=ue.current)?Od(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Go(a.href),a=Qi(f).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Go(a.href);var m=Qi(f).hoistableStyles,b=m.get(t);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=f.querySelector(xc(t)))&&!m._p&&(b.instance=m,b.state.loading=5),bi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bi.set(t,a),m||a1(f,t,a,b.state))),s&&c===null)throw Error(r(528,""));return b}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ko(a),a=Qi(f).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Go(t){return'href="'+Pn(t)+'"'}function xc(t){return'link[rel="stylesheet"]['+t+"]"}function Ob(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function a1(t,s,a,c){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=t.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),En(s,"link",a),Qt(s),t.head.appendChild(s))}function Ko(t){return'[src="'+Pn(t)+'"]'}function bc(t){return"script[async]"+t}function Pb(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=t.querySelector('style[data-href~="'+Pn(a.href)+'"]');if(c)return s.instance=c,Qt(c),c;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),Qt(c),En(c,"style",f),Pd(c,a.precedence,t),s.instance=c;case"stylesheet":f=Go(a.href);var m=t.querySelector(xc(f));if(m)return s.state.loading|=4,s.instance=m,Qt(m),m;c=Ob(a),(f=bi.get(f))&&tg(c,f),m=(t.ownerDocument||t).createElement("link"),Qt(m);var b=m;return b._p=new Promise(function(T,D){b.onload=T,b.onerror=D}),En(m,"link",c),s.state.loading|=4,Pd(m,a.precedence,t),s.instance=m;case"script":return m=Ko(a.src),(f=t.querySelector(bc(m)))?(s.instance=f,Qt(f),f):(c=a,(f=bi.get(m))&&(c=E({},a),ng(c,f)),t=t.ownerDocument||t,f=t.createElement("script"),Qt(f),En(f,"link",c),t.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Pd(c,a.precedence,t));return s.instance}function Pd(t,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,b=0;b<c.length;b++){var T=c[b];if(T.dataset.precedence===s)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function tg(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function ng(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var kd=null;function kb(t,s,a){if(kd===null){var c=new Map,f=kd=new Map;f.set(a,c)}else f=kd,c=f.get(a),c||(c=new Map,f.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[Yi]||m[Wt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=t+b;var T=c.get(b);T?T.push(m):c.set(b,[m])}}return c}function Lb(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function o1(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Vb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function l1(t,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Go(c.href),m=s.querySelector(xc(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Ld.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,Qt(m);return}m=s.ownerDocument||s,c=Ob(c),(f=bi.get(f))&&tg(c,f),m=m.createElement("link"),Qt(m);var b=m;b._p=new Promise(function(T,D){b.onload=T,b.onerror=D}),En(m,"link",c),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ld.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var ig=0;function c1(t,s){return t.stylesheets&&t.count===0&&Ud(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var c=setTimeout(function(){if(t.stylesheets&&Ud(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&ig===0&&(ig=62500*Bj());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ud(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>ig?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function Ld(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ud(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vd=null;function Ud(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vd=new Map,s.forEach(u1,t),Vd=null,Ld.call(t))}function u1(t,s){if(!(s.state.loading&4)){var a=Vd.get(t);if(a)var c=a.get(null);else{a=new Map,Vd.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),c=b)}c&&a.set(null,c)}f=s.instance,b=f.getAttribute("data-precedence"),m=a.get(b)||c,m===c&&a.set(null,f),a.set(b,f),this.count++,c=Ld.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),s.state.loading|=4}}var vc={$$typeof:J,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function d1(t,s,a,c,f,m,b,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Ub(t,s,a,c,f,m,b,T,D,W,ie,ae){return t=new d1(t,s,a,b,D,W,ie,ae,T),s=1,m===!0&&(s|=24),m=Kn(3,null,null,s),t.current=m,m.stateNode=t,s=kf(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:a,cache:s},zf(m),t}function zb(t){return t?(t=wo,t):wo}function qb(t,s,a,c,f,m){f=zb(f),c.context===null?c.context=f:c.pendingContext=f,c=_r(s),c.payload={element:a},m=m===void 0?null:m,m!==null&&(c.callback=m),a=Er(t,c,s),a!==null&&(qn(a,t,s),Jl(a,t,s))}function Fb(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function sg(t,s){Fb(t,s),(t=t.alternate)&&Fb(t,s)}function Bb(t){if(t.tag===13||t.tag===31){var s=Sa(t,67108864);s!==null&&qn(s,t,67108864),sg(t,67108864)}}function Hb(t){if(t.tag===13||t.tag===31){var s=Jn();s=ga(s);var a=Sa(t,s);a!==null&&qn(a,t,s),sg(t,s)}}var zd=!0;function h1(t,s,a,c){var f=Q.T;Q.T=null;var m=he.p;try{he.p=2,rg(t,s,a,c)}finally{he.p=m,Q.T=f}}function f1(t,s,a,c){var f=Q.T;Q.T=null;var m=he.p;try{he.p=8,rg(t,s,a,c)}finally{he.p=m,Q.T=f}}function rg(t,s,a,c){if(zd){var f=ag(c);if(f===null)$m(t,s,c,qd,a),Gb(t,c);else if(g1(f,t,s,a,c))c.stopPropagation();else if(Gb(t,c),s&4&&-1<m1.indexOf(t)){for(;f!==null;){var m=li(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=oi(m.pendingLanes);if(b!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var D=1<<31-et(b);T.entanglements[1]|=D,b&=~D}cs(m),(lt&6)===0&&(Td=Yt()+500,mc(0))}}break;case 31:case 13:T=Sa(m,2),T!==null&&qn(T,m,2),Nd(),sg(m,2)}if(m=ag(c),m===null&&$m(t,s,c,qd,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else $m(t,s,c,null,a)}}function ag(t){return t=ci(t),og(t)}var qd=null;function og(t){if(qd=null,t=Wi(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===31){if(t=g(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return qd=t,null}function $b(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ri()){case ir:return 2;case sr:return 8;case Bi:case wl:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var lg=!1,Dr=null,Or=null,Pr=null,_c=new Map,Ec=new Map,kr=[],m1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gb(t,s){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":_c.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ec.delete(s.pointerId)}}function Tc(t,s,a,c,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},s!==null&&(s=li(s),s!==null&&Bb(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),t)}function g1(t,s,a,c,f){switch(s){case"focusin":return Dr=Tc(Dr,t,s,a,c,f),!0;case"dragenter":return Or=Tc(Or,t,s,a,c,f),!0;case"mouseover":return Pr=Tc(Pr,t,s,a,c,f),!0;case"pointerover":var m=f.pointerId;return _c.set(m,Tc(_c.get(m)||null,t,s,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,Ec.set(m,Tc(Ec.get(m)||null,t,s,a,c,f)),!0}return!1}function Kb(t){var s=Wi(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,Ni(t.priority,function(){Hb(a)});return}}else if(s===31){if(s=g(a),s!==null){t.blockedOn=s,Ni(t.priority,function(){Hb(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fd(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=ag(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);kl=c,a.target.dispatchEvent(c),kl=null}else return s=li(a),s!==null&&Bb(s),t.blockedOn=a,!1;s.shift()}return!0}function Yb(t,s,a){Fd(t)&&a.delete(s)}function p1(){lg=!1,Dr!==null&&Fd(Dr)&&(Dr=null),Or!==null&&Fd(Or)&&(Or=null),Pr!==null&&Fd(Pr)&&(Pr=null),_c.forEach(Yb),Ec.forEach(Yb)}function Bd(t,s){t.blockedOn===s&&(t.blockedOn=null,lg||(lg=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,p1)))}var Hd=null;function Wb(t){Hd!==t&&(Hd=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Hd===t&&(Hd=null);for(var s=0;s<t.length;s+=3){var a=t[s],c=t[s+1],f=t[s+2];if(typeof c!="function"){if(og(c||a)===null)continue;break}var m=li(a);m!==null&&(t.splice(s,3),s-=3,am(m,{pending:!0,data:f,method:a.method,action:c},c,f))}}))}function Yo(t){function s(D){return Bd(D,t)}Dr!==null&&Bd(Dr,t),Or!==null&&Bd(Or,t),Pr!==null&&Bd(Pr,t),_c.forEach(s),Ec.forEach(s);for(var a=0;a<kr.length;a++){var c=kr[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)Kb(a),a.blockedOn===null&&kr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var f=a[c],m=a[c+1],b=f[hn]||null;if(typeof m=="function")b||Wb(a);else if(b){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[hn]||null)T=b.formAction;else if(og(f)!==null)continue}else T=b.action;typeof T=="function"?a[c+1]=T:(a.splice(c,3),c-=3),Wb(a)}}}function Qb(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function cg(t){this._internalRoot=t}$d.prototype.render=cg.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,c=Jn();qb(a,c,t,s,null,null)},$d.prototype.unmount=cg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;qb(t.current,2,null,t,null,null),Nd(),s[Ki]=null}};function $d(t){this._internalRoot=t}$d.prototype.unstable_scheduleHydration=function(t){if(t){var s=Nu();t={blockedOn:null,target:t,priority:s};for(var a=0;a<kr.length&&s!==0&&s<kr[a].priority;a++);kr.splice(a,0,t),a===0&&Kb(t)}};var Xb=e.version;if(Xb!=="19.2.3")throw Error(r(527,Xb,"19.2.3"));he.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(s),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var y1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gd.isDisabled&&Gd.supportsFiber)try{kt=Gd.inject(y1),Ke=Gd}catch{}}return jc.createRoot=function(t,s){if(!l(t))throw Error(r(299));var a=!1,c="",f=s0,m=r0,b=a0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=Ub(t,1,!1,null,null,a,c,null,f,m,b,Qb),t[Ki]=s.current,Hm(t),new cg(s)},jc.hydrateRoot=function(t,s,a){if(!l(t))throw Error(r(299));var c=!1,f="",m=s0,b=r0,T=a0,D=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=Ub(t,1,!0,s,a??null,c,f,D,m,b,T,Qb),s.context=zb(null),a=s.current,c=Jn(),c=ga(c),f=_r(c),f.callback=null,Er(a,f,c),a=c,s.current.lanes=a,fa(s,a),cs(s),t[Ki]=s.current,Hm(t),new $d(s)},jc.version="19.2.3",jc}var fv;function sA(){if(fv)return pg.exports;fv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),pg.exports=iA(),pg.exports}var rA=sA();const aA="/assets/face2-BnorMDId.webp",oA="/assets/face2-B6YhBnC2.png";function Ot(){return o.jsx("footer",{className:"bg-gray-900 text-gray-300 py-8",children:o.jsx("div",{className:"max-w-4xl mx-auto px-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-medium",children:"Seth Jamison Kitchen"}),o.jsx("p",{children:"Professional Engineer, Missouri"}),o.jsx("p",{className:"text-sm",children:"License No. PE-2026001392"})]}),o.jsxs("nav",{"aria-label":"Footer navigation",className:"flex flex-wrap gap-4 text-sm",children:[o.jsx(xe,{to:"/contact",className:"hover:text-white transition-colors",children:"Contact"}),o.jsx(xe,{to:"/portal",className:"hover:text-white transition-colors",children:"Portal Login"}),o.jsx(xe,{to:"/legal",className:"hover:text-white transition-colors",children:"Legal / Disclaimer"})]})]})})})}const lA=()=>{};var mv={};const kE=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let l=i.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},cA=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const l=i[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[n++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[n++],d=i[n++],g=i[n++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=i[n++],d=i[n++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},LE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<i.length;l+=3){const u=i[l],d=l+1<i.length,g=d?i[l+1]:0,y=l+2<i.length,p=y?i[l+2]:0,_=u>>2,E=(u&3)<<4|g>>4;let N=(g&15)<<2|p>>6,V=p&63;y||(V=64,d||(N=64)),r.push(n[_],n[E],n[N],n[V])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(kE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):cA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<i.length;){const u=n[i.charAt(l++)],g=l<i.length?n[i.charAt(l)]:0;++l;const p=l<i.length?n[i.charAt(l)]:64;++l;const E=l<i.length?n[i.charAt(l)]:64;if(++l,u==null||g==null||p==null||E==null)throw new uA;const N=u<<2|g>>4;if(r.push(N),p!==64){const V=g<<4&240|p>>2;if(r.push(V),E!==64){const H=p<<6&192|E;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class uA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dA=function(i){const e=kE(i);return LE.encodeByteArray(e,!0)},bh=function(i){return dA(i).replace(/\./g,"")},VE=function(i){try{return LE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fA=()=>hA().__FIREBASE_DEFAULTS__,mA=()=>{if(typeof process>"u"||typeof mv>"u")return;const i=mv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},gA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&VE(i[1]);return e&&JSON.parse(e)},Bh=()=>{try{return lA()||fA()||mA()||gA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},UE=i=>Bh()?.emulatorHosts?.[i],pA=i=>{const e=UE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zE=()=>Bh()?.config,qE=i=>Bh()?.[`_${i}`];class yA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function pl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function FE(i){return(await fetch(i,{credentials:"include"})).ok}function xA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[bh(JSON.stringify(n)),bh(JSON.stringify(d)),""].join(".")}const Lc={};function bA(){const i={prod:[],emulator:[]};for(const e of Object.keys(Lc))Lc[e]?i.emulator.push(e):i.prod.push(e);return i}function vA(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let gv=!1;function BE(i,e){if(typeof window>"u"||typeof document>"u"||!pl(window.location.host)||Lc[i]===e||Lc[i]||gv)return;Lc[i]=e;function n(N){return`__firebase__banner__${N}`}const r="__firebase__banner",u=bA().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,V){N.setAttribute("width","24"),N.setAttribute("id",V),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function p(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{gv=!0,d()},N}function _(N,V){N.setAttribute("id",V),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function E(){const N=vA(r),V=n("text"),H=document.getElementById(V)||document.createElement("span"),z=n("learnmore"),q=document.getElementById(z)||document.createElement("a"),ne=n("preprendIcon"),Z=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const J=N.element;g(J),_(q,z);const B=p();y(Z,ne),J.append(Z,H,q,B),document.body.appendChild(J)}u?(H.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _A(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function EA(){const i=Bh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sp(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function wA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NA(){const i=Rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function jA(){return!EA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ap(){try{return typeof indexedDB=="object"}catch{return!1}}function Ip(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}function HE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const SA="FirebaseError";class Fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SA,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,no.prototype.create)}}class no{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?AA(u,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Fi(l,g,r)}}function AA(i,e){return i.replace(IA,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const IA=/\{\$([^}]+)}/g;function CA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Jr(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const u=i[l],d=e[l];if(pv(u)&&pv(d)){if(!Jr(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function pv(i){return i!==null&&typeof i=="object"}function hu(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ic(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Cc(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function RA(i,e){const n=new MA(i,e);return n.subscribe.bind(n)}class MA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DA(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=bg),l.error===void 0&&(l.error=bg),l.complete===void 0&&(l.complete=bg);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DA(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function bg(){}const OA=1e3,PA=2,kA=14400*1e3,LA=.5;function yv(i,e=OA,n=PA){const r=e*Math.pow(n,i),l=Math.round(LA*r*(Math.random()-.5)*2);return Math.min(kA,r+l)}function Bt(i){return i&&i._delegate?i._delegate:i}class zi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const za="[DEFAULT]";class VA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zA(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UA(i){return i===za?void 0:i}function zA(i){return i.instantiationMode==="EAGER"}class qA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Qe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Qe||(Qe={}));const FA={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},BA=Qe.INFO,HA={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},$A=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),l=HA[e];if(l)console[l](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hh{constructor(e){this.name=e,this._logLevel=BA,this._logHandler=$A,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const GA=(i,e)=>e.some(n=>i instanceof n);let xv,bv;function KA(){return xv||(xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YA(){return bv||(bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $E=new WeakMap,qg=new WeakMap,GE=new WeakMap,vg=new WeakMap,Cp=new WeakMap;function WA(i){const e=new Promise((n,r)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n(Kr(i.result)),l()},d=()=>{r(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&$E.set(n,i)}).catch(()=>{}),Cp.set(e,i),e}function QA(i){if(qg.has(i))return;const e=new Promise((n,r)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});qg.set(i,e)}let Fg={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return qg.get(i);if(e==="objectStoreNames")return i.objectStoreNames||GE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function XA(i){Fg=i(Fg)}function JA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(_g(this),e,...n);return GE.set(r,e.sort?e.sort():[e]),Kr(r)}:YA().includes(i)?function(...e){return i.apply(_g(this),e),Kr($E.get(this))}:function(...e){return Kr(i.apply(_g(this),e))}}function ZA(i){return typeof i=="function"?JA(i):(i instanceof IDBTransaction&&QA(i),GA(i,KA())?new Proxy(i,Fg):i)}function Kr(i){if(i instanceof IDBRequest)return WA(i);if(vg.has(i))return vg.get(i);const e=ZA(i);return e!==i&&(vg.set(i,e),Cp.set(e,i)),e}const _g=i=>Cp.get(i);function KE(i,e,{blocked:n,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(i,e),g=Kr(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Kr(d.result),y.oldVersion,y.newVersion,Kr(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const e2=["get","getKey","getAll","getAllKeys","count"],t2=["put","add","delete","clear"],Eg=new Map;function vv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Eg.get(e))return Eg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=t2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||e2.includes(n)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let p=y.store;return r&&(p=p.index(g.shift())),(await Promise.all([p[n](...g),l&&y.done]))[0]};return Eg.set(e,u),u}XA(i=>({...i,get:(e,n,r)=>vv(e,n)||i.get(e,n,r),has:(e,n)=>!!vv(e,n)||i.has(e,n)}));class n2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(i2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function i2(i){return i.getComponent()?.type==="VERSION"}const Bg="@firebase/app",_v="0.14.7";const Qs=new Hh("@firebase/app"),s2="@firebase/app-compat",r2="@firebase/analytics-compat",a2="@firebase/analytics",o2="@firebase/app-check-compat",l2="@firebase/app-check",c2="@firebase/auth",u2="@firebase/auth-compat",d2="@firebase/database",h2="@firebase/data-connect",f2="@firebase/database-compat",m2="@firebase/functions",g2="@firebase/functions-compat",p2="@firebase/installations",y2="@firebase/installations-compat",x2="@firebase/messaging",b2="@firebase/messaging-compat",v2="@firebase/performance",_2="@firebase/performance-compat",E2="@firebase/remote-config",T2="@firebase/remote-config-compat",w2="@firebase/storage",N2="@firebase/storage-compat",j2="@firebase/firestore",S2="@firebase/ai",A2="@firebase/firestore-compat",I2="firebase",C2="12.8.0";const Hg="[DEFAULT]",R2={[Bg]:"fire-core",[s2]:"fire-core-compat",[a2]:"fire-analytics",[r2]:"fire-analytics-compat",[l2]:"fire-app-check",[o2]:"fire-app-check-compat",[c2]:"fire-auth",[u2]:"fire-auth-compat",[d2]:"fire-rtdb",[h2]:"fire-data-connect",[f2]:"fire-rtdb-compat",[m2]:"fire-fn",[g2]:"fire-fn-compat",[p2]:"fire-iid",[y2]:"fire-iid-compat",[x2]:"fire-fcm",[b2]:"fire-fcm-compat",[v2]:"fire-perf",[_2]:"fire-perf-compat",[E2]:"fire-rc",[T2]:"fire-rc-compat",[w2]:"fire-gcs",[N2]:"fire-gcs-compat",[j2]:"fire-fst",[A2]:"fire-fst-compat",[S2]:"fire-vertex","fire-js":"fire-js",[I2]:"fire-js-all"};const Kc=new Map,M2=new Map,$g=new Map;function Ev(i,e){try{i.container.addComponent(e)}catch(n){Qs.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function bs(i){const e=i.name;if($g.has(e))return Qs.debug(`There were multiple attempts to register component ${e}.`),!1;$g.set(e,i);for(const n of Kc.values())Ev(n,i);for(const n of M2.values())Ev(n,i);return!0}function io(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function ti(i){return i==null?!1:i.settings!==void 0}const D2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new no("app","Firebase",D2);class O2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}const yl=C2;function YE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:Hg,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Yr.create("bad-app-name",{appName:String(l)});if(n||(n=zE()),!n)throw Yr.create("no-options");const u=Kc.get(l);if(u){if(Jr(n,u.options)&&Jr(r,u.config))return u;throw Yr.create("duplicate-app",{appName:l})}const d=new qA(l);for(const y of $g.values())d.addComponent(y);const g=new O2(n,r,d);return Kc.set(l,g),g}function Rp(i=Hg){const e=Kc.get(i);if(!e&&i===Hg&&zE())return YE();if(!e)throw Yr.create("no-app",{appName:i});return e}function Tv(){return Array.from(Kc.values())}function _i(i,e,n){let r=R2[i]??i;n&&(r+=`-${n}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qs.warn(d.join(" "));return}bs(new zi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const P2="firebase-heartbeat-database",k2=1,Yc="firebase-heartbeat-store";let Tg=null;function WE(){return Tg||(Tg=KE(P2,k2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Yc)}catch(n){console.warn(n)}}}}).catch(i=>{throw Yr.create("idb-open",{originalErrorMessage:i.message})})),Tg}async function L2(i){try{const n=(await WE()).transaction(Yc),r=await n.objectStore(Yc).get(QE(i));return await n.done,r}catch(e){if(e instanceof Fi)Qs.warn(e.message);else{const n=Yr.create("idb-get",{originalErrorMessage:e?.message});Qs.warn(n.message)}}}async function wv(i,e){try{const r=(await WE()).transaction(Yc,"readwrite");await r.objectStore(Yc).put(e,QE(i)),await r.done}catch(n){if(n instanceof Fi)Qs.warn(n.message);else{const r=Yr.create("idb-set",{originalErrorMessage:n?.message});Qs.warn(r.message)}}}function QE(i){return`${i.name}!${i.options.appId}`}const V2=1024,U2=30;class z2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new F2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Nv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>U2){const l=B2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Nv(),{heartbeatsToSend:n,unsentEntries:r}=q2(this._heartbeatsCache.heartbeats),l=bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Qs.warn(e),""}}}function Nv(){return new Date().toISOString().substring(0,10)}function q2(i,e=V2){const n=[];let r=i.slice();for(const l of i){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),jv(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),jv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class F2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ap()?Ip().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await L2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function jv(i){return bh(JSON.stringify({version:2,heartbeats:i})).length}function B2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}function H2(i){bs(new zi("platform-logger",e=>new n2(e),"PRIVATE")),bs(new zi("heartbeat",e=>new z2(e),"PRIVATE")),_i(Bg,_v,i),_i(Bg,_v,"esm2020"),_i("fire-js","")}H2("");function XE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $2=XE,JE=new no("auth","Firebase",XE());const vh=new Hh("@firebase/auth");function G2(i,...e){vh.logLevel<=Qe.WARN&&vh.warn(`Auth (${yl}): ${i}`,...e)}function ah(i,...e){vh.logLevel<=Qe.ERROR&&vh.error(`Auth (${yl}): ${i}`,...e)}function Ei(i,...e){throw Dp(i,...e)}function Li(i,...e){return Dp(i,...e)}function Mp(i,e,n){const r={...$2(),[e]:n};return new no("auth","Firebase",r).create(e,{appName:i.name})}function Ys(i){return Mp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function K2(i,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ei(i,"argument-error"),Mp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dp(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return JE.create(i,...e)}function Me(i,e,...n){if(!i)throw Dp(e,...n)}function Hs(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ah(e),new Error(e)}function Xs(i,e){i||Hs(e)}function Gg(){return typeof self<"u"&&self.location?.href||""}function Y2(){return Sv()==="http:"||Sv()==="https:"}function Sv(){return typeof self<"u"&&self.location?.protocol||null}function W2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y2()||Sp()||"connection"in navigator)?navigator.onLine:!0}function Q2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xs(n>e,"Short delay should be less than long delay!"),this.isMobile=_A()||wA()}get(){return W2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Op(i,e){Xs(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ZE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const X2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const J2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Z2=new fu(3e4,6e4);function la(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ca(i,e,n,r,l={}){return eT(i,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const g=hu({key:i.config.apiKey,...d}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:y,...u};return TA()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&pl(i.emulatorConfig.host)&&(p.credentials="include"),ZE.fetch()(await tT(i,i.config.apiHost,n,g),p)})}async function eT(i,e,n){i._canInitEmulator=!1;const r={...X2,...e};try{const l=new tI(i),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Yd(i,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,p]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yd(i,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Yd(i,"email-already-in-use",d);if(y==="USER_DISABLED")throw Yd(i,"user-disabled",d);const _=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Mp(i,_,p);Ei(i,_)}}catch(l){if(l instanceof Fi)throw l;Ei(i,"network-request-failed",{message:String(l)})}}async function mu(i,e,n,r,l={}){const u=await ca(i,e,n,r,l);return"mfaPendingCredential"in u&&Ei(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function tT(i,e,n,r){const l=`${e}${n}?${r}`,u=i,d=u.config.emulator?Op(i.config,l):`${i.config.apiScheme}://${l}`;return J2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function eI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Li(this.auth,"network-request-failed")),Z2.get())})}}function Yd(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Li(i,e,r);return l.customData._tokenResponse=n,l}function Av(i){return i!==void 0&&i.enterprise!==void 0}class nI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iI(i,e){return ca(i,"GET","/v2/recaptchaConfig",la(i,e))}async function sI(i,e){return ca(i,"POST","/v1/accounts:delete",e)}async function _h(i,e){return ca(i,"POST","/v1/accounts:lookup",e)}function Vc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rI(i,e=!1){const n=Bt(i),r=await n.getIdToken(e),l=Pp(r);Me(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Vc(wg(l.auth_time)),issuedAtTime:Vc(wg(l.iat)),expirationTime:Vc(wg(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function wg(i){return Number(i)*1e3}function Pp(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const l=VE(n);return l?JSON.parse(l):(ah("Failed to decode base64 JWT payload"),null)}catch(l){return ah("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Iv(i){const e=Pp(i);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wc(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fi&&aI(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function aI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class oI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Kg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Eh(i){const e=i.auth,n=await i.getIdToken(),r=await Wc(i,_h(e,{idToken:n}));Me(r?.users.length,e,"internal-error");const l=r.users[0];i._notifyReloadListener(l);const u=l.providerUserInfo?.length?nT(l.providerUserInfo):[],d=cI(i.providerData,u),g=i.isAnonymous,y=!(i.email&&l.passwordHash)&&!d?.length,p=g?y:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Kg(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(i,_)}async function lI(i){const e=Bt(i);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cI(i,e){return[...i.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function nT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function uI(i,e){const n=await eT(i,{},async()=>{const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=i.config,d=await tT(i,l,"/v1/token",`key=${u}`),g=await i._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return i.emulatorConfig&&pl(i.emulatorConfig.host)&&(y.credentials="include"),ZE.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dI(i,e){return ca(i,"POST","/v2/accounts:revokeToken",la(i,e))}class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Iv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=Iv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:u}=await uI(e,n);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:u}=n,d=new Zo;return r&&(Me(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Me(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Me(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return Hs("not implemented")}}function Vr(i,e){Me(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Pi{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new oI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Kg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Wc(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rI(this,e)}reload(){return lI(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await Wc(this,sI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:E,emailVerified:N,isAnonymous:V,providerData:H,stsTokenManager:z}=n;Me(E&&z,e,"internal-error");const q=Zo.fromJSON(this.name,z);Me(typeof E=="string",e,"internal-error"),Vr(r,e.name),Vr(l,e.name),Me(typeof N=="boolean",e,"internal-error"),Me(typeof V=="boolean",e,"internal-error"),Vr(u,e.name),Vr(d,e.name),Vr(g,e.name),Vr(y,e.name),Vr(p,e.name),Vr(_,e.name);const ne=new Pi({uid:E,auth:e,email:l,emailVerified:N,displayName:r,isAnonymous:V,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:q,createdAt:p,lastLoginAt:_});return H&&Array.isArray(H)&&(ne.providerData=H.map(Z=>({...Z}))),y&&(ne._redirectEventId=y),ne}static async _fromIdTokenResponse(e,n,r=!1){const l=new Zo;l.updateFromServerResponse(n);const u=new Pi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Eh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];Me(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?nT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new Zo;g.updateFromIdToken(r);const y=new Pi({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Kg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const Cv=new Map;function $s(i){Xs(i instanceof Function,"Expected a class definition");let e=Cv.get(i);return e?(Xs(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Cv.set(i,e),e)}class iT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iT.type="NONE";const Rv=iT;function oh(i,e,n){return`firebase:${i}:${e}:${n}`}class el{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=oh(this.userKey,l.apiKey,u),this.fullPersistenceKey=oh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _h(this.auth,{idToken:e}).catch(()=>{});return n?Pi._fromGetAccountInfoResponse(this.auth,n,e):null}return Pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new el($s(Rv),e,r);const l=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||$s(Rv);const d=oh(r,e.config.apiKey,e.name);let g=null;for(const p of n)try{const _=await p._get(d);if(_){let E;if(typeof _=="string"){const N=await _h(e,{idToken:_}).catch(()=>{});if(!N)break;E=await Pi._fromGetAccountInfoResponse(e,N,_)}else E=Pi._fromJSON(e,_);p!==u&&(g=E),u=p;break}}catch{}const y=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new el(u,e,r):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new el(u,e,r))}}function Mv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cT(e))return"Blackberry";if(uT(e))return"Webos";if(rT(e))return"Safari";if((e.includes("chrome/")||aT(e))&&!e.includes("edge/"))return"Chrome";if(lT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function sT(i=Rn()){return/firefox\//i.test(i)}function rT(i=Rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aT(i=Rn()){return/crios\//i.test(i)}function oT(i=Rn()){return/iemobile/i.test(i)}function lT(i=Rn()){return/android/i.test(i)}function cT(i=Rn()){return/blackberry/i.test(i)}function uT(i=Rn()){return/webos/i.test(i)}function kp(i=Rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function hI(i=Rn()){return kp(i)&&!!window.navigator?.standalone}function fI(){return NA()&&document.documentMode===10}function dT(i=Rn()){return kp(i)||lT(i)||uT(i)||cT(i)||/windows phone/i.test(i)||oT(i)}function hT(i,e=[]){let n;switch(i){case"Browser":n=Mv(Rn());break;case"Worker":n=`${Mv(Rn())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yl}/${r}`}class mI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((d,g)=>{try{const y=e(u);d(y)}catch(y){g(y)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function gI(i,e={}){return ca(i,"GET","/v2/passwordPolicy",la(i,e))}const pI=6;class yI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??pI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class xI{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new mI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$s(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await el.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _h(this,{idToken:e}),r=await Pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ti(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Q2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(Ys(this));const n=e?Bt(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gI(this),n=new yI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new no("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$s(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[$s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&G2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ua(i){return Bt(i)}class Dv{constructor(e){this.auth=e,this.observer=null,this.addObserver=RA(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bI(i){$h=i}function fT(i){return $h.loadJS(i)}function vI(){return $h.recaptchaEnterpriseScript}function _I(){return $h.gapiScript}function EI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class TI{constructor(){this.enterprise=new wI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const NI="recaptcha-enterprise",mT="NO_RECAPTCHA";class jI{constructor(e){this.type=NI,this.auth=ua(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{iI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new nI(y);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,d(p.siteKey)}}).catch(y=>{g(y)})})}function l(u,d,g){const y=window.grecaptcha;Av(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(p=>{d(p)}).catch(()=>{d(mT)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TI().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(g=>{if(!n&&Av(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=vI();y.length!==0&&(y+=g),fT(y).then(()=>{l(g,u,d)}).catch(p=>{d(p)})}}).catch(g=>{d(g)})})}}async function Ov(i,e,n,r=!1,l=!1){const u=new jI(i);let d;if(l)d=mT;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Yg(i,e,n,r,l){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Ov(i,e,n,n==="getOobCode");return r(i,u)}else return r(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Ov(i,e,n,n==="getOobCode");return r(i,d)}else return Promise.reject(u)})}function SI(i,e){const n=io(i,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Jr(u,e??{}))return l;Ei(l,"already-initialized")}return n.initialize({options:e})}function AI(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($s);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function II(i,e,n){const r=ua(i);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=gT(e),{host:d,port:g}=CI(e),y=g===null?"":`:${g}`,p={url:`${u}//${d}${y}/`},_=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(Jr(p,r.config.emulator)&&Jr(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,pl(d)?(FE(`${u}//${d}${y}`),BE("Auth",!0)):RI()}function gT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function CI(i){const e=gT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:Pv(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:Pv(d)}}}function Pv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function RI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Lp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hs("not implemented")}_getIdTokenResponse(e){return Hs("not implemented")}_linkToIdToken(e,n){return Hs("not implemented")}_getReauthenticationResolver(e){return Hs("not implemented")}}async function MI(i,e){return ca(i,"POST","/v1/accounts:signUp",e)}async function DI(i,e){return mu(i,"POST","/v1/accounts:signInWithPassword",la(i,e))}async function OI(i,e){return mu(i,"POST","/v1/accounts:signInWithEmailLink",la(i,e))}async function PI(i,e){return mu(i,"POST","/v1/accounts:signInWithEmailLink",la(i,e))}class Qc extends Lp{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Qc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yg(e,n,"signInWithPassword",DI);case"emailLink":return OI(e,{email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yg(e,r,"signUpPassword",MI);case"emailLink":return PI(e,{idToken:n,email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function tl(i,e){return mu(i,"POST","/v1/accounts:signInWithIdp",la(i,e))}const kI="http://localhost";class Qa extends Lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=n;if(!r||!l)return null;const d=new Qa(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return tl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tl(e,n)}buildRequest(){const e={requestUri:kI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}function LI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VI(i){const e=Ic(Cc(i)).link,n=e?Ic(Cc(e)).deep_link_id:null,r=Ic(Cc(i)).deep_link_id;return(r?Ic(Cc(r)).link:null)||r||n||e||i}class Vp{constructor(e){const n=Ic(Cc(e)),r=n.apiKey??null,l=n.oobCode??null,u=LI(n.mode??null);Me(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=VI(e);try{return new Vp(n)}catch{return null}}}class xl{constructor(){this.providerId=xl.PROVIDER_ID}static credential(e,n){return Qc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Vp.parseLink(n);return Me(r,"argument-error"),Qc._fromEmailAndCode(e,r.code,r.tenantId)}}xl.PROVIDER_ID="password";xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Up{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class gu extends Up{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Fr extends gu{constructor(){super("facebook.com")}static credential(e){return Qa._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";class Bs extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qa._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bs.credential(n,r)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class Br extends gu{constructor(){super("github.com")}static credential(e){return Qa._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";class Hr extends gu{constructor(){super("twitter.com")}static credential(e,n){return Qa._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hr.credential(n,r)}catch{return null}}}Hr.TWITTER_SIGN_IN_METHOD="twitter.com";Hr.PROVIDER_ID="twitter.com";async function UI(i,e){return mu(i,"POST","/v1/accounts:signUp",la(i,e))}class Xa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const u=await Pi._fromIdTokenResponse(e,r,l),d=kv(r);return new Xa({user:u,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=kv(r);return new Xa({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function kv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Th extends Fi{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new Th(e,n,r,l)}}function pT(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(i,u,e,r):u})}async function zI(i,e,n=!1){const r=await Wc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Xa._forOperation(i,"link",r)}async function qI(i,e,n=!1){const{auth:r}=i;if(ti(r.app))return Promise.reject(Ys(r));const l="reauthenticate";try{const u=await Wc(i,pT(r,l,e,i),n);Me(u.idToken,r,"internal-error");const d=Pp(u.idToken);Me(d,r,"internal-error");const{sub:g}=d;return Me(i.uid===g,r,"user-mismatch"),Xa._forOperation(i,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ei(r,"user-mismatch"),u}}async function yT(i,e,n=!1){if(ti(i.app))return Promise.reject(Ys(i));const r="signIn",l=await pT(i,r,e),u=await Xa._fromIdTokenResponse(i,r,l);return n||await i._updateCurrentUser(u.user),u}async function FI(i,e){return yT(ua(i),e)}async function xT(i){const e=ua(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BI(i,e,n){if(ti(i.app))return Promise.reject(Ys(i));const r=ua(i),d=await Yg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UI).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&xT(i),y}),g=await Xa._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function HI(i,e,n){return ti(i.app)?Promise.reject(Ys(i)):FI(Bt(i),xl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xT(i),r})}function $I(i,e,n,r){return Bt(i).onIdTokenChanged(e,n,r)}function GI(i,e,n){return Bt(i).beforeAuthStateChanged(e,n)}function zp(i,e,n,r){return Bt(i).onAuthStateChanged(e,n,r)}function KI(i){return Bt(i).signOut()}const wh="__sak";class bT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const YI=1e3,WI=10;class vT extends bT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);fI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,WI):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},YI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vT.type="LOCAL";const QI=vT;class _T extends bT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_T.type="SESSION";const ET=_T;function XI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new Gh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async p=>p(n.origin,u)),y=await XI(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];function qp(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}class JI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const p=qp("",20);l.port1.start();const _=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(E){const N=E;if(N.data.eventId===p)switch(N.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(N.data.response);break;default:clearTimeout(_),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function fs(){return window}function ZI(i){fs().location.href=i}function TT(){return typeof fs().WorkerGlobalScope<"u"&&typeof fs().importScripts=="function"}async function eC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tC(){return navigator?.serviceWorker?.controller||null}function nC(){return TT()?self:null}const wT="firebaseLocalStorageDb",iC=1,Nh="firebaseLocalStorage",NT="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kh(i,e){return i.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function sC(){const i=indexedDB.deleteDatabase(wT);return new pu(i).toPromise()}function Wg(){const i=indexedDB.open(wT,iC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Nh,{keyPath:NT})}catch(l){n(l)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Nh)?e(r):(r.close(),await sC(),e(await Wg()))})})}async function Lv(i,e,n){const r=Kh(i,!0).put({[NT]:e,value:n});return new pu(r).toPromise()}async function rC(i,e){const n=Kh(i,!1).get(e),r=await new pu(n).toPromise();return r===void 0?null:r.value}function Vv(i,e){const n=Kh(i,!0).delete(e);return new pu(n).toPromise()}const aC=800,oC=3;class jT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>oC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(nC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await eC(),!this.activeServiceWorker)return;this.sender=new JI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wg();return await Lv(e,wh,"1"),await Vv(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Kh(l,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jT.type="LOCAL";const lC=jT;new fu(3e4,6e4);function ST(i,e){return e?$s(e):(Me(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Fp extends Lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cC(i){return yT(i.auth,new Fp(i),i.bypassAuthState)}function uC(i){const{auth:e,user:n}=i;return Me(n,e,"internal-error"),qI(n,new Fp(i),i.bypassAuthState)}async function dC(i){const{auth:e,user:n}=i;return Me(n,e,"internal-error"),zI(n,new Fp(i),i.bypassAuthState)}class AT{constructor(e,n,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cC;case"linkViaPopup":case"linkViaRedirect":return dC;case"reauthViaPopup":case"reauthViaRedirect":return uC;default:Ei(this.auth,"internal-error")}}resolve(e){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hC=new fu(2e3,1e4);async function fC(i,e,n){if(ti(i.app))return Promise.reject(Li(i,"operation-not-supported-in-this-environment"));const r=ua(i);K2(i,e,Up);const l=ST(r,n);return new Fa(r,"signInViaPopup",e,l).executeNotNull()}class Fa extends AT{constructor(e,n,r,l,u){super(e,n,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Xs(this.filter.length===1,"Popup operations only handle one event");const e=qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hC.get())};e()}}Fa.currentPopupAction=null;const mC="pendingRedirect",lh=new Map;class gC extends AT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const r=await pC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pC(i,e){const n=bC(e),r=xC(i);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function yC(i,e){lh.set(i._key(),e)}function xC(i){return $s(i._redirectPersistence)}function bC(i){return oh(mC,i.config.apiKey,i.name)}async function vC(i,e,n=!1){if(ti(i.app))return Promise.reject(Ys(i));const r=ua(i),l=ST(r,e),d=await new gC(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const _C=600*1e3;class EC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!IT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Li(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_C&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uv(e))}saveEventToCache(e){this.cachedEventUids.add(Uv(e)),this.lastProcessedEventTime=Date.now()}}function Uv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function IT({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function TC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IT(i);default:return!1}}async function wC(i,e={}){return ca(i,"GET","/v1/projects",e)}const NC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jC=/^https?/;async function SC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await wC(i);for(const n of e)try{if(AC(n))return}catch{}Ei(i,"unauthorized-domain")}function AC(i){const e=Gg(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!jC.test(n))return!1;if(NC.test(i))return r===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const IC=new fu(3e4,6e4);function zv(){const i=fs().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function CC(i){return new Promise((e,n)=>{function r(){zv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zv(),n(Li(i,"network-request-failed"))},timeout:IC.get()})}if(fs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(fs().gapi?.load)r();else{const l=EI("iframefcb");return fs()[l]=()=>{gapi.load?r():n(Li(i,"network-request-failed"))},fT(`${_I()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw ch=null,e})}let ch=null;function RC(i){return ch=ch||CC(i),ch}const MC=new fu(5e3,15e3),DC="__/auth/iframe",OC="emulator/auth/iframe",PC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LC(i){const e=i.config;Me(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Op(e,OC):`https://${i.config.authDomain}/${DC}`,r={apiKey:e.apiKey,appName:i.name,v:yl},l=kC.get(i.config.apiHost);l&&(r.eid=l);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${hu(r).slice(1)}`}async function VC(i){const e=await RC(i),n=fs().gapi;return Me(n,i,"internal-error"),e.open({where:document.body,url:LC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PC,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=Li(i,"network-request-failed"),g=fs().setTimeout(()=>{u(d)},MC.get());function y(){fs().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{u(d)})}))}const UC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zC=500,qC=600,FC="_blank",BC="http://localhost";class qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HC(i,e,n,r=zC,l=qC){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...UC,width:r.toString(),height:l.toString(),top:u,left:d},p=Rn().toLowerCase();n&&(g=aT(p)?FC:n),sT(p)&&(e=e||BC,y.scrollbars="yes");const _=Object.entries(y).reduce((N,[V,H])=>`${N}${V}=${H},`,"");if(hI(p)&&g!=="_self")return $C(e||"",g),new qv(null);const E=window.open(e||"",g,_);Me(E,i,"popup-blocked");try{E.focus()}catch{}return new qv(E)}function $C(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const GC="__/auth/handler",KC="emulator/auth/handler",YC=encodeURIComponent("fac");async function Fv(i,e,n,r,l,u){Me(i.config.authDomain,i,"auth-domain-config-required"),Me(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:yl,eventId:l};if(e instanceof Up){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",CA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))d[_]=E}if(e instanceof gu){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(d.scopes=_.join(","))}i.tenantId&&(d.tid=i.tenantId);const g=d;for(const _ of Object.keys(g))g[_]===void 0&&delete g[_];const y=await i._getAppCheckToken(),p=y?`#${YC}=${encodeURIComponent(y)}`:"";return`${WC(i)}?${hu(g).slice(1)}${p}`}function WC({config:i}){return i.emulator?Op(i,KC):`https://${i.authDomain}/${GC}`}const Ng="webStorageSupport";class QC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ET,this._completeRedirectFn=vC,this._overrideRedirectResult=yC}async _openPopup(e,n,r,l){Xs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Fv(e,n,r,Gg(),l);return HC(e,u,qp())}async _openRedirect(e,n,r,l){await this._originValidation(e);const u=await Fv(e,n,r,Gg(),l);return ZI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Xs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VC(e),r=new EC(e);return n.register("authEvent",l=>(Me(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ng,{type:Ng},l=>{const u=l?.[0]?.[Ng];u!==void 0&&n(!!u),Ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dT()||rT()||kp()}}const XC=QC;var Bv="@firebase/auth",Hv="1.12.0";class JC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ZC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eR(i){bs(new zi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Me(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hT(i)},p=new xI(r,l,u,y);return AI(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bs(new zi("auth-internal",e=>{const n=ua(e.getProvider("auth").getImmediate());return(r=>new JC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(Bv,Hv,ZC(i)),_i(Bv,Hv,"esm2020")}const tR=300,nR=qE("authIdTokenMaxAge")||tR;let $v=null;const iR=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nR)return;const l=n?.token;$v!==l&&($v=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function sR(i=Rp()){const e=io(i,"auth");if(e.isInitialized())return e.getImmediate();const n=SI(i,{popupRedirectResolver:XC,persistence:[lC,QI,ET]}),r=qE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=iR(u.toString());GI(n,d,()=>d(n.currentUser)),$I(n,g=>d(g))}}const l=UE("auth");return l&&II(n,`http://${l}`),n}function rR(){return document.getElementsByTagName("head")?.[0]??document}bI({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=l=>{const u=Li("internal-error");u.customData=l,n(u)},r.type="text/javascript",r.charset="UTF-8",rR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eR("Browser");var aR="firebase",oR="12.8.0";_i(aR,oR,"app");const CT="@firebase/installations",Bp="0.6.19";const RT=1e4,MT=`w:${Bp}`,DT="FIS_v2",lR="https://firebaseinstallations.googleapis.com/v1",cR=3600*1e3,uR="installations",dR="Installations";const hR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ja=new no(uR,dR,hR);function OT(i){return i instanceof Fi&&i.code.includes("request-failed")}function PT({projectId:i}){return`${lR}/projects/${i}/installations`}function kT(i){return{token:i.token,requestStatus:2,expiresIn:mR(i.expiresIn),creationTime:Date.now()}}async function LT(i,e){const r=(await e.json()).error;return Ja.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function VT({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function fR(i,{refreshToken:e}){const n=VT(i);return n.append("Authorization",gR(e)),n}async function UT(i){const e=await i();return e.status>=500&&e.status<600?i():e}function mR(i){return Number(i.replace("s","000"))}function gR(i){return`${DT} ${i}`}async function pR({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const r=PT(i),l=VT(i),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const d={fid:n,authVersion:DT,appId:i.appId,sdkVersion:MT},g={method:"POST",headers:l,body:JSON.stringify(d)},y=await UT(()=>fetch(r,g));if(y.ok){const p=await y.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:kT(p.authToken)}}else throw await LT("Create Installation",y)}function zT(i){return new Promise(e=>{setTimeout(e,i)})}function yR(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}const xR=/^[cdef][\w-]{21}$/,Qg="";function bR(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=vR(i);return xR.test(n)?n:Qg}catch{return Qg}}function vR(i){return yR(i).substr(0,22)}function Yh(i){return`${i.appName}!${i.appId}`}const qT=new Map;function FT(i,e){const n=Yh(i);BT(n,e),_R(n,e)}function BT(i,e){const n=qT.get(i);if(n)for(const r of n)r(e)}function _R(i,e){const n=ER();n&&n.postMessage({key:i,fid:e}),TR()}let Ba=null;function ER(){return!Ba&&"BroadcastChannel"in self&&(Ba=new BroadcastChannel("[Firebase] FID Change"),Ba.onmessage=i=>{BT(i.data.key,i.data.fid)}),Ba}function TR(){qT.size===0&&Ba&&(Ba.close(),Ba=null)}const wR="firebase-installations-database",NR=1,Za="firebase-installations-store";let jg=null;function Hp(){return jg||(jg=KE(wR,NR,{upgrade:(i,e)=>{e===0&&i.createObjectStore(Za)}})),jg}async function jh(i,e){const n=Yh(i),l=(await Hp()).transaction(Za,"readwrite"),u=l.objectStore(Za),d=await u.get(n);return await u.put(e,n),await l.done,(!d||d.fid!==e.fid)&&FT(i,e.fid),e}async function HT(i){const e=Yh(i),r=(await Hp()).transaction(Za,"readwrite");await r.objectStore(Za).delete(e),await r.done}async function Wh(i,e){const n=Yh(i),l=(await Hp()).transaction(Za,"readwrite"),u=l.objectStore(Za),d=await u.get(n),g=e(d);return g===void 0?await u.delete(n):await u.put(g,n),await l.done,g&&(!d||d.fid!==g.fid)&&FT(i,g.fid),g}async function $p(i){let e;const n=await Wh(i.appConfig,r=>{const l=jR(r),u=SR(i,l);return e=u.registrationPromise,u.installationEntry});return n.fid===Qg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function jR(i){const e=i||{fid:bR(),registrationStatus:0};return $T(e)}function SR(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Ja.create("app-offline"));return{installationEntry:e,registrationPromise:l}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=AR(i,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:IR(i)}:{installationEntry:e}}async function AR(i,e){try{const n=await pR(i,e);return jh(i.appConfig,n)}catch(n){throw OT(n)&&n.customData.serverCode===409?await HT(i.appConfig):await jh(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function IR(i){let e=await Gv(i.appConfig);for(;e.registrationStatus===1;)await zT(100),e=await Gv(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await $p(i);return r||n}return e}function Gv(i){return Wh(i,e=>{if(!e)throw Ja.create("installation-not-found");return $T(e)})}function $T(i){return CR(i)?{fid:i.fid,registrationStatus:0}:i}function CR(i){return i.registrationStatus===1&&i.registrationTime+RT<Date.now()}async function RR({appConfig:i,heartbeatServiceProvider:e},n){const r=MR(i,n),l=fR(i,n),u=e.getImmediate({optional:!0});if(u){const p=await u.getHeartbeatsHeader();p&&l.append("x-firebase-client",p)}const d={installation:{sdkVersion:MT,appId:i.appId}},g={method:"POST",headers:l,body:JSON.stringify(d)},y=await UT(()=>fetch(r,g));if(y.ok){const p=await y.json();return kT(p)}else throw await LT("Generate Auth Token",y)}function MR(i,{fid:e}){return`${PT(i)}/${e}/authTokens:generate`}async function Gp(i,e=!1){let n;const r=await Wh(i.appConfig,u=>{if(!GT(u))throw Ja.create("not-registered");const d=u.authToken;if(!e&&PR(d))return u;if(d.requestStatus===1)return n=DR(i,e),u;{if(!navigator.onLine)throw Ja.create("app-offline");const g=LR(u);return n=OR(i,g),g}});return n?await n:r.authToken}async function DR(i,e){let n=await Kv(i.appConfig);for(;n.authToken.requestStatus===1;)await zT(100),n=await Kv(i.appConfig);const r=n.authToken;return r.requestStatus===0?Gp(i,e):r}function Kv(i){return Wh(i,e=>{if(!GT(e))throw Ja.create("not-registered");const n=e.authToken;return VR(n)?{...e,authToken:{requestStatus:0}}:e})}async function OR(i,e){try{const n=await RR(i,e),r={...e,authToken:n};return await jh(i.appConfig,r),n}catch(n){if(OT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await HT(i.appConfig);else{const r={...e,authToken:{requestStatus:0}};await jh(i.appConfig,r)}throw n}}function GT(i){return i!==void 0&&i.registrationStatus===2}function PR(i){return i.requestStatus===2&&!kR(i)}function kR(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+cR}function LR(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function VR(i){return i.requestStatus===1&&i.requestTime+RT<Date.now()}async function UR(i){const e=i,{installationEntry:n,registrationPromise:r}=await $p(e);return r?r.catch(console.error):Gp(e).catch(console.error),n.fid}async function zR(i,e=!1){const n=i;return await qR(n),(await Gp(n,e)).token}async function qR(i){const{registrationPromise:e}=await $p(i);e&&await e}function FR(i){if(!i||!i.options)throw Sg("App Configuration");if(!i.name)throw Sg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Sg(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Sg(i){return Ja.create("missing-app-config-values",{valueName:i})}const KT="installations",BR="installations-internal",HR=i=>{const e=i.getProvider("app").getImmediate(),n=FR(e),r=io(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},$R=i=>{const e=i.getProvider("app").getImmediate(),n=io(e,KT).getImmediate();return{getId:()=>UR(n),getToken:l=>zR(n,l)}};function GR(){bs(new zi(KT,HR,"PUBLIC")),bs(new zi(BR,$R,"PRIVATE"))}GR();_i(CT,Bp);_i(CT,Bp,"esm2020");const Sh="analytics",KR="firebase_id",YR="origin",WR=60*1e3,QR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kp="https://www.googletagmanager.com/gtag/js";const On=new Hh("@firebase/analytics");const XR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ii=new no("analytics","Analytics",XR);function JR(i){if(!i.startsWith(Kp)){const e=ii.create("invalid-gtag-resource",{gtagURL:i});return On.warn(e.message),""}return i}function YT(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function ZR(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function eM(i,e){const n=ZR("firebase-js-sdk-policy",{createScriptURL:JR}),r=document.createElement("script"),l=`${Kp}?l=${i}&id=${e}`;r.src=n?n?.createScriptURL(l):l,r.async=!0,document.head.appendChild(r)}function tM(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function nM(i,e,n,r,l,u){const d=r[l];try{if(d)await e[d];else{const y=(await YT(n)).find(p=>p.measurementId===l);y&&await e[y.appId]}}catch(g){On.error(g)}i("config",l,u)}async function iM(i,e,n,r,l){try{let u=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const g=await YT(n);for(const y of d){const p=g.find(E=>E.measurementId===y),_=p&&e[p.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",r,l||{})}catch(u){On.error(u)}}function sM(i,e,n,r){async function l(u,...d){try{if(u==="event"){const[g,y]=d;await iM(i,e,n,g,y)}else if(u==="config"){const[g,y]=d;await nM(i,e,n,r,g,y)}else if(u==="consent"){const[g,y]=d;i("consent",g,y)}else if(u==="get"){const[g,y,p]=d;i("get",g,y,p)}else if(u==="set"){const[g]=d;i("set",g)}else i(u,...d)}catch(g){On.error(g)}}return l}function rM(i,e,n,r,l){let u=function(...d){window[r].push(arguments)};return window[l]&&typeof window[l]=="function"&&(u=window[l]),window[l]=sM(u,i,e,n),{gtagCore:u,wrappedGtag:window[l]}}function aM(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Kp)&&n.src.includes(i))return n;return null}const oM=30,lM=1e3;class cM{constructor(e={},n=lM){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const WT=new cM;function uM(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function dM(i){const{appId:e,apiKey:n}=i,r={method:"GET",headers:uM(n)},l=QR.replace("{app-id}",e),u=await fetch(l,r);if(u.status!==200&&u.status!==304){let d="";try{const g=await u.json();g.error?.message&&(d=g.error.message)}catch{}throw ii.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()}async function hM(i,e=WT,n){const{appId:r,apiKey:l,measurementId:u}=i.options;if(!r)throw ii.create("no-app-id");if(!l){if(u)return{measurementId:u,appId:r};throw ii.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new gM;return setTimeout(async()=>{g.abort()},WR),QT({appId:r,apiKey:l,measurementId:u},d,g,e)}async function QT(i,{throttleEndTimeMillis:e,backoffCount:n},r,l=WT){const{appId:u,measurementId:d}=i;try{await fM(r,e)}catch(g){if(d)return On.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:d};throw g}try{const g=await dM(i);return l.deleteThrottleMetadata(u),g}catch(g){const y=g;if(!mM(y)){if(l.deleteThrottleMetadata(u),d)return On.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:u,measurementId:d};throw g}const p=Number(y?.customData?.httpStatus)===503?yv(n,l.intervalMillis,oM):yv(n,l.intervalMillis),_={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return l.setThrottleMetadata(u,_),On.debug(`Calling attemptFetch again in ${p} millis`),QT(i,_,r,l)}}function fM(i,e){return new Promise((n,r)=>{const l=Math.max(e-Date.now(),0),u=setTimeout(n,l);i.addEventListener(()=>{clearTimeout(u),r(ii.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mM(i){if(!(i instanceof Fi)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class gM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function pM(i,e,n,r,l){if(l&&l.global){i("event",n,r);return}else{const u=await e,d={...r,send_to:u};i("event",n,d)}}async function yM(i,e,n,r){if(r&&r.global){const l={};for(const u of Object.keys(n))l[`user_properties.${u}`]=n[u];return i("set",l),Promise.resolve()}else{const l=await e;i("config",l,{update:!0,user_properties:n})}}async function xM(){if(Ap())try{await Ip()}catch(i){return On.warn(ii.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return On.warn(ii.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function bM(i,e,n,r,l,u,d){const g=hM(i);g.then(N=>{n[N.measurementId]=N.appId,i.options.measurementId&&N.measurementId!==i.options.measurementId&&On.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>On.error(N)),e.push(g);const y=xM().then(N=>{if(N)return r.getId()}),[p,_]=await Promise.all([g,y]);aM(u)||eM(u,p.measurementId),l("js",new Date);const E=d?.config??{};return E[YR]="firebase",E.update=!0,_!=null&&(E[KR]=_),l("config",p.measurementId,E),p.measurementId}class vM{constructor(e){this.app=e}_delete(){return delete nl[this.app.options.appId],Promise.resolve()}}let nl={},Yv=[];const Wv={};let Ag="dataLayer",_M="gtag",Qv,Yp,Xv=!1;function EM(){const i=[];if(Sp()&&i.push("This is a browser extension environment."),HE()||i.push("Cookies are not available."),i.length>0){const e=i.map((r,l)=>`(${l+1}) ${r}`).join(" "),n=ii.create("invalid-analytics-context",{errorInfo:e});On.warn(n.message)}}function TM(i,e,n){EM();const r=i.options.appId;if(!r)throw ii.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)On.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ii.create("no-api-key");if(nl[r]!=null)throw ii.create("already-exists",{id:r});if(!Xv){tM(Ag);const{wrappedGtag:u,gtagCore:d}=rM(nl,Yv,Wv,Ag,_M);Yp=u,Qv=d,Xv=!0}return nl[r]=bM(i,Yv,Wv,e,Qv,Ag,n),new vM(i)}function wM(i=Rp()){i=Bt(i);const e=io(i,Sh);return e.isInitialized()?e.getImmediate():NM(i)}function NM(i,e={}){const n=io(i,Sh);if(n.isInitialized()){const l=n.getImmediate();if(Jr(e,n.getOptions()))return l;throw ii.create("already-initialized")}return n.initialize({options:e})}async function jM(){if(Sp()||!HE()||!Ap())return!1;try{return await Ip()}catch{return!1}}function SM(i,e,n){i=Bt(i),yM(Yp,nl[i.app.options.appId],e,n).catch(r=>On.error(r))}function AM(i,e,n,r){i=Bt(i),pM(Yp,nl[i.app.options.appId],e,n,r).catch(l=>On.error(l))}const Jv="@firebase/analytics",Zv="0.10.19";function IM(){bs(new zi(Sh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("installations-internal").getImmediate();return TM(r,l,n)},"PUBLIC")),bs(new zi("analytics-internal",i,"PRIVATE")),_i(Jv,Zv),_i(Jv,Zv,"esm2020");function i(e){try{const n=e.getProvider(Sh).getImmediate();return{logEvent:(r,l,u)=>AM(n,r,l,u),setUserProperties:(r,l)=>SM(n,r,l)}}catch(n){throw ii.create("interop-component-reg-failed",{reason:n})}}}IM();var e_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wr,XT;(function(){var i;function e(A,S){function C(){}C.prototype=S.prototype,A.F=S.prototype,A.prototype=new C,A.prototype.constructor=A,A.D=function(R,O,F){for(var M=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)M[Ne-2]=arguments[Ne];return S.prototype[O].apply(R,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(A,S,C){C||(C=0);const R=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)R[O]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(O=0;O<16;++O)R[O]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=A.g[0],C=A.g[1],O=A.g[2];let F=A.g[3],M;M=S+(F^C&(O^F))+R[0]+3614090360&4294967295,S=C+(M<<7&4294967295|M>>>25),M=F+(O^S&(C^O))+R[1]+3905402710&4294967295,F=S+(M<<12&4294967295|M>>>20),M=O+(C^F&(S^C))+R[2]+606105819&4294967295,O=F+(M<<17&4294967295|M>>>15),M=C+(S^O&(F^S))+R[3]+3250441966&4294967295,C=O+(M<<22&4294967295|M>>>10),M=S+(F^C&(O^F))+R[4]+4118548399&4294967295,S=C+(M<<7&4294967295|M>>>25),M=F+(O^S&(C^O))+R[5]+1200080426&4294967295,F=S+(M<<12&4294967295|M>>>20),M=O+(C^F&(S^C))+R[6]+2821735955&4294967295,O=F+(M<<17&4294967295|M>>>15),M=C+(S^O&(F^S))+R[7]+4249261313&4294967295,C=O+(M<<22&4294967295|M>>>10),M=S+(F^C&(O^F))+R[8]+1770035416&4294967295,S=C+(M<<7&4294967295|M>>>25),M=F+(O^S&(C^O))+R[9]+2336552879&4294967295,F=S+(M<<12&4294967295|M>>>20),M=O+(C^F&(S^C))+R[10]+4294925233&4294967295,O=F+(M<<17&4294967295|M>>>15),M=C+(S^O&(F^S))+R[11]+2304563134&4294967295,C=O+(M<<22&4294967295|M>>>10),M=S+(F^C&(O^F))+R[12]+1804603682&4294967295,S=C+(M<<7&4294967295|M>>>25),M=F+(O^S&(C^O))+R[13]+4254626195&4294967295,F=S+(M<<12&4294967295|M>>>20),M=O+(C^F&(S^C))+R[14]+2792965006&4294967295,O=F+(M<<17&4294967295|M>>>15),M=C+(S^O&(F^S))+R[15]+1236535329&4294967295,C=O+(M<<22&4294967295|M>>>10),M=S+(O^F&(C^O))+R[1]+4129170786&4294967295,S=C+(M<<5&4294967295|M>>>27),M=F+(C^O&(S^C))+R[6]+3225465664&4294967295,F=S+(M<<9&4294967295|M>>>23),M=O+(S^C&(F^S))+R[11]+643717713&4294967295,O=F+(M<<14&4294967295|M>>>18),M=C+(F^S&(O^F))+R[0]+3921069994&4294967295,C=O+(M<<20&4294967295|M>>>12),M=S+(O^F&(C^O))+R[5]+3593408605&4294967295,S=C+(M<<5&4294967295|M>>>27),M=F+(C^O&(S^C))+R[10]+38016083&4294967295,F=S+(M<<9&4294967295|M>>>23),M=O+(S^C&(F^S))+R[15]+3634488961&4294967295,O=F+(M<<14&4294967295|M>>>18),M=C+(F^S&(O^F))+R[4]+3889429448&4294967295,C=O+(M<<20&4294967295|M>>>12),M=S+(O^F&(C^O))+R[9]+568446438&4294967295,S=C+(M<<5&4294967295|M>>>27),M=F+(C^O&(S^C))+R[14]+3275163606&4294967295,F=S+(M<<9&4294967295|M>>>23),M=O+(S^C&(F^S))+R[3]+4107603335&4294967295,O=F+(M<<14&4294967295|M>>>18),M=C+(F^S&(O^F))+R[8]+1163531501&4294967295,C=O+(M<<20&4294967295|M>>>12),M=S+(O^F&(C^O))+R[13]+2850285829&4294967295,S=C+(M<<5&4294967295|M>>>27),M=F+(C^O&(S^C))+R[2]+4243563512&4294967295,F=S+(M<<9&4294967295|M>>>23),M=O+(S^C&(F^S))+R[7]+1735328473&4294967295,O=F+(M<<14&4294967295|M>>>18),M=C+(F^S&(O^F))+R[12]+2368359562&4294967295,C=O+(M<<20&4294967295|M>>>12),M=S+(C^O^F)+R[5]+4294588738&4294967295,S=C+(M<<4&4294967295|M>>>28),M=F+(S^C^O)+R[8]+2272392833&4294967295,F=S+(M<<11&4294967295|M>>>21),M=O+(F^S^C)+R[11]+1839030562&4294967295,O=F+(M<<16&4294967295|M>>>16),M=C+(O^F^S)+R[14]+4259657740&4294967295,C=O+(M<<23&4294967295|M>>>9),M=S+(C^O^F)+R[1]+2763975236&4294967295,S=C+(M<<4&4294967295|M>>>28),M=F+(S^C^O)+R[4]+1272893353&4294967295,F=S+(M<<11&4294967295|M>>>21),M=O+(F^S^C)+R[7]+4139469664&4294967295,O=F+(M<<16&4294967295|M>>>16),M=C+(O^F^S)+R[10]+3200236656&4294967295,C=O+(M<<23&4294967295|M>>>9),M=S+(C^O^F)+R[13]+681279174&4294967295,S=C+(M<<4&4294967295|M>>>28),M=F+(S^C^O)+R[0]+3936430074&4294967295,F=S+(M<<11&4294967295|M>>>21),M=O+(F^S^C)+R[3]+3572445317&4294967295,O=F+(M<<16&4294967295|M>>>16),M=C+(O^F^S)+R[6]+76029189&4294967295,C=O+(M<<23&4294967295|M>>>9),M=S+(C^O^F)+R[9]+3654602809&4294967295,S=C+(M<<4&4294967295|M>>>28),M=F+(S^C^O)+R[12]+3873151461&4294967295,F=S+(M<<11&4294967295|M>>>21),M=O+(F^S^C)+R[15]+530742520&4294967295,O=F+(M<<16&4294967295|M>>>16),M=C+(O^F^S)+R[2]+3299628645&4294967295,C=O+(M<<23&4294967295|M>>>9),M=S+(O^(C|~F))+R[0]+4096336452&4294967295,S=C+(M<<6&4294967295|M>>>26),M=F+(C^(S|~O))+R[7]+1126891415&4294967295,F=S+(M<<10&4294967295|M>>>22),M=O+(S^(F|~C))+R[14]+2878612391&4294967295,O=F+(M<<15&4294967295|M>>>17),M=C+(F^(O|~S))+R[5]+4237533241&4294967295,C=O+(M<<21&4294967295|M>>>11),M=S+(O^(C|~F))+R[12]+1700485571&4294967295,S=C+(M<<6&4294967295|M>>>26),M=F+(C^(S|~O))+R[3]+2399980690&4294967295,F=S+(M<<10&4294967295|M>>>22),M=O+(S^(F|~C))+R[10]+4293915773&4294967295,O=F+(M<<15&4294967295|M>>>17),M=C+(F^(O|~S))+R[1]+2240044497&4294967295,C=O+(M<<21&4294967295|M>>>11),M=S+(O^(C|~F))+R[8]+1873313359&4294967295,S=C+(M<<6&4294967295|M>>>26),M=F+(C^(S|~O))+R[15]+4264355552&4294967295,F=S+(M<<10&4294967295|M>>>22),M=O+(S^(F|~C))+R[6]+2734768916&4294967295,O=F+(M<<15&4294967295|M>>>17),M=C+(F^(O|~S))+R[13]+1309151649&4294967295,C=O+(M<<21&4294967295|M>>>11),M=S+(O^(C|~F))+R[4]+4149444226&4294967295,S=C+(M<<6&4294967295|M>>>26),M=F+(C^(S|~O))+R[11]+3174756917&4294967295,F=S+(M<<10&4294967295|M>>>22),M=O+(S^(F|~C))+R[2]+718787259&4294967295,O=F+(M<<15&4294967295|M>>>17),M=C+(F^(O|~S))+R[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(O+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+O&4294967295,A.g[3]=A.g[3]+F&4294967295}r.prototype.v=function(A,S){S===void 0&&(S=A.length);const C=S-this.blockSize,R=this.C;let O=this.h,F=0;for(;F<S;){if(O==0)for(;F<=C;)l(this,A,F),F+=this.blockSize;if(typeof A=="string"){for(;F<S;)if(R[O++]=A.charCodeAt(F++),O==this.blockSize){l(this,R),O=0;break}}else for(;F<S;)if(R[O++]=A[F++],O==this.blockSize){l(this,R),O=0;break}}this.h=O,this.o+=S},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var C=A.length-8;C<A.length;++C)A[C]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,C=0;C<4;++C)for(let R=0;R<32;R+=8)A[S++]=this.g[C]>>>R&255;return A};function u(A,S){var C=g;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=S(A)}function d(A,S){this.h=S;const C=[];let R=!0;for(let O=A.length-1;O>=0;O--){const F=A[O]|0;R&&F==S||(C[O]=F,R=!1)}this.g=C}var g={};function y(A){return-128<=A&&A<128?u(A,function(S){return new d([S|0],S<0?-1:0)}):new d([A|0],A<0?-1:0)}function p(A){if(isNaN(A)||!isFinite(A))return E;if(A<0)return q(p(-A));const S=[];let C=1;for(let R=0;A>=C;R++)S[R]=A/C|0,C*=4294967296;return new d(S,0)}function _(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return q(_(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(S,8));let R=E;for(let F=0;F<A.length;F+=8){var O=Math.min(8,A.length-F);const M=parseInt(A.substring(F,F+O),S);O<8?(O=p(Math.pow(S,O)),R=R.j(O).add(p(M))):(R=R.j(C),R=R.add(p(M)))}return R}var E=y(0),N=y(1),V=y(16777216);i=d.prototype,i.m=function(){if(z(this))return-q(this).m();let A=0,S=1;for(let C=0;C<this.g.length;C++){const R=this.i(C);A+=(R>=0?R:4294967296+R)*S,S*=4294967296}return A},i.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(H(this))return"0";if(z(this))return"-"+q(this).toString(A);const S=p(Math.pow(A,6));var C=this;let R="";for(;;){const O=B(C,S).g;C=ne(C,O.j(S));let F=((C.g.length>0?C.g[0]:C.h)>>>0).toString(A);if(C=O,H(C))return F+R;for(;F.length<6;)F="0"+F;R=F+R}},i.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function H(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function z(A){return A.h==-1}i.l=function(A){return A=ne(this,A),z(A)?-1:H(A)?0:1};function q(A){const S=A.g.length,C=[];for(let R=0;R<S;R++)C[R]=~A.g[R];return new d(C,~A.h).add(N)}i.abs=function(){return z(this)?q(this):this},i.add=function(A){const S=Math.max(this.g.length,A.g.length),C=[];let R=0;for(let O=0;O<=S;O++){let F=R+(this.i(O)&65535)+(A.i(O)&65535),M=(F>>>16)+(this.i(O)>>>16)+(A.i(O)>>>16);R=M>>>16,F&=65535,M&=65535,C[O]=M<<16|F}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ne(A,S){return A.add(q(S))}i.j=function(A){if(H(this)||H(A))return E;if(z(this))return z(A)?q(this).j(q(A)):q(q(this).j(A));if(z(A))return q(this.j(q(A)));if(this.l(V)<0&&A.l(V)<0)return p(this.m()*A.m());const S=this.g.length+A.g.length,C=[];for(var R=0;R<2*S;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(let O=0;O<A.g.length;O++){const F=this.i(R)>>>16,M=this.i(R)&65535,Ne=A.i(O)>>>16,be=A.i(O)&65535;C[2*R+2*O]+=M*be,Z(C,2*R+2*O),C[2*R+2*O+1]+=F*be,Z(C,2*R+2*O+1),C[2*R+2*O+1]+=M*Ne,Z(C,2*R+2*O+1),C[2*R+2*O+2]+=F*Ne,Z(C,2*R+2*O+2)}for(A=0;A<S;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=S;A<2*S;A++)C[A]=0;return new d(C,0)};function Z(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function J(A,S){this.g=A,this.h=S}function B(A,S){if(H(S))throw Error("division by zero");if(H(A))return new J(E,E);if(z(A))return S=B(q(A),S),new J(q(S.g),q(S.h));if(z(S))return S=B(A,q(S)),new J(q(S.g),S.h);if(A.g.length>30){if(z(A)||z(S))throw Error("slowDivide_ only works with positive integers.");for(var C=N,R=S;R.l(A)<=0;)C=de(C),R=de(R);var O=ge(C,1),F=ge(R,1);for(R=ge(R,2),C=ge(C,2);!H(R);){var M=F.add(R);M.l(A)<=0&&(O=O.add(C),F=M),R=ge(R,1),C=ge(C,1)}return S=ne(A,O.j(S)),new J(O,S)}for(O=E;A.l(S)>=0;){for(C=Math.max(1,Math.floor(A.m()/S.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),F=p(C),M=F.j(S);z(M)||M.l(A)>0;)C-=R,F=p(C),M=F.j(S);H(F)&&(F=N),O=O.add(F),A=ne(A,M)}return new J(O,A)}i.B=function(A){return B(this,A).h},i.and=function(A){const S=Math.max(this.g.length,A.g.length),C=[];for(let R=0;R<S;R++)C[R]=this.i(R)&A.i(R);return new d(C,this.h&A.h)},i.or=function(A){const S=Math.max(this.g.length,A.g.length),C=[];for(let R=0;R<S;R++)C[R]=this.i(R)|A.i(R);return new d(C,this.h|A.h)},i.xor=function(A){const S=Math.max(this.g.length,A.g.length),C=[];for(let R=0;R<S;R++)C[R]=this.i(R)^A.i(R);return new d(C,this.h^A.h)};function de(A){const S=A.g.length+1,C=[];for(let R=0;R<S;R++)C[R]=A.i(R)<<1|A.i(R-1)>>>31;return new d(C,A.h)}function ge(A,S){const C=S>>5;S%=32;const R=A.g.length-C,O=[];for(let F=0;F<R;F++)O[F]=S>0?A.i(F+C)>>>S|A.i(F+C+1)<<32-S:A.i(F+C);return new d(O,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,XT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=_,Wr=d}).apply(typeof e_<"u"?e_:typeof self<"u"?self:typeof window<"u"?window:{});var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var JT,Rc,ZT,uh,Xg,ew,tw,nw;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wd=="object"&&Wd];for(var x=0;x<h.length;++x){var v=h[x];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(h,x){if(x)e:{var v=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var G=h[w];if(!(G in v))break e;v=v[G]}h=h[h.length-1],w=v[h],x=x(w),x!=w&&x!=null&&e(v,h,{configurable:!0,writable:!0,value:x})}}l("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(h){return h||function(x){var v=[],w;for(w in x)Object.prototype.hasOwnProperty.call(x,w)&&v.push([w,x[w]]);return v}});var u=u||{},d=this||self;function g(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function y(h,x,v){return h.call.apply(h.bind,arguments)}function p(h,x,v){return p=y,p.apply(null,arguments)}function _(h,x){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function E(h,x){function v(){}v.prototype=x.prototype,h.Z=x.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(w,G,ee){for(var fe=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)fe[Ue-2]=arguments[Ue];return x.prototype[G].apply(w,fe)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function V(h){const x=h.length;if(x>0){const v=Array(x);for(let w=0;w<x;w++)v[w]=h[w];return v}return[]}function H(h,x){for(let w=1;w<arguments.length;w++){const G=arguments[w];var v=typeof G;if(v=v!="object"?v:G?Array.isArray(G)?"array":v:"null",v=="array"||v=="object"&&typeof G.length=="number"){v=h.length||0;const ee=G.length||0;h.length=v+ee;for(let fe=0;fe<ee;fe++)h[v+fe]=G[fe]}else h.push(G)}}class z{constructor(x,v){this.i=x,this.j=v,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function q(h){d.setTimeout(()=>{throw h},0)}function ne(){var h=A;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class Z{constructor(){this.h=this.g=null}add(x,v){const w=J.get();w.set(x,v),this.h?this.h.next=w:this.g=w,this.h=w}}var J=new z(()=>new B,h=>h.reset());class B{constructor(){this.next=this.g=this.h=null}set(x,v){this.h=x,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let de,ge=!1,A=new Z,S=()=>{const h=Promise.resolve(void 0);de=()=>{h.then(C)}};function C(){for(var h;h=ne();){try{h.h.call(h.g)}catch(v){q(v)}var x=J;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}ge=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};d.addEventListener("test",v,x),d.removeEventListener("test",v,x)}catch{}return h})();function M(h){return/^[\s\xa0]*$/.test(h)}function Ne(h,x){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}E(Ne,O),Ne.prototype.init=function(h,x){const v=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(v=="mouseover"?x=h.fromElement:v=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ne.Z.h.call(this)},Ne.prototype.h=function(){Ne.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),Q=0;function he(h,x,v,w,G){this.listener=h,this.proxy=null,this.src=x,this.type=v,this.capture=!!w,this.ha=G,this.key=++Q,this.da=this.fa=!1}function pe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Oe(h,x,v){for(const w in h)x.call(v,h[w],w,h)}function Be(h,x){for(const v in h)x.call(void 0,h[v],v,h)}function k(h){const x={};for(const v in h)x[v]=h[v];return x}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(h,x){let v,w;for(let G=1;G<arguments.length;G++){w=arguments[G];for(v in w)h[v]=w[v];for(let ee=0;ee<j.length;ee++)v=j[ee],Object.prototype.hasOwnProperty.call(w,v)&&(h[v]=w[v])}}function K(h){this.src=h,this.g={},this.h=0}K.prototype.add=function(h,x,v,w,G){const ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);const fe=ue(h,x,w,G);return fe>-1?(x=h[fe],v||(x.fa=!1)):(x=new he(x,this.src,ee,!!w,G),x.fa=v,h.push(x)),x};function ce(h,x){const v=x.type;if(v in h.g){var w=h.g[v],G=Array.prototype.indexOf.call(w,x,void 0),ee;(ee=G>=0)&&Array.prototype.splice.call(w,G,1),ee&&(pe(x),h.g[v].length==0&&(delete h.g[v],h.h--))}}function ue(h,x,v,w){for(let G=0;G<h.length;++G){const ee=h[G];if(!ee.da&&ee.listener==x&&ee.capture==!!v&&ee.ha==w)return G}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),ct={};function nt(h,x,v,w,G){if(Array.isArray(x)){for(let ee=0;ee<x.length;ee++)nt(h,x[ee],v,w,G);return null}return v=Ce(v),h&&h[be]?h.J(x,v,g(w)?!!w.capture:!1,G):_s(h,x,v,!1,w,G)}function _s(h,x,v,w,G,ee){if(!x)throw Error("Invalid event type");const fe=g(G)?!!G.capture:!!G;let Ue=_e(h);if(Ue||(h[Se]=Ue=new K(h)),v=Ue.add(x,v,w,fe,ee),v.proxy)return v;if(w=tr(),v.proxy=w,w.src=h,w.listener=v,h.addEventListener)F||(G=fe),G===void 0&&(G=!1),h.addEventListener(x.toString(),w,G);else if(h.attachEvent)h.attachEvent(re(x.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function tr(){function h(v){return x.call(h.src,h.listener,v)}const x=me;return h}function nr(h,x,v,w,G){if(Array.isArray(x))for(var ee=0;ee<x.length;ee++)nr(h,x[ee],v,w,G);else w=g(w)?!!w.capture:!!w,v=Ce(v),h&&h[be]?(h=h.i,ee=String(x).toString(),ee in h.g&&(x=h.g[ee],v=ue(x,v,w,G),v>-1&&(pe(x[v]),Array.prototype.splice.call(x,v,1),x.length==0&&(delete h.g[ee],h.h--)))):h&&(h=_e(h))&&(x=h.g[x.toString()],h=-1,x&&(h=ue(x,v,w,G)),(v=h>-1?x[h]:null)&&L(v))}function L(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[be])ce(x.i,h);else{var v=h.type,w=h.proxy;x.removeEventListener?x.removeEventListener(v,w,h.capture):x.detachEvent?x.detachEvent(re(v),w):x.addListener&&x.removeListener&&x.removeListener(w),(v=_e(x))?(ce(v,h),v.h==0&&(v.src=null,x[Se]=null)):pe(h)}}}function re(h){return h in ct?ct[h]:ct[h]="on"+h}function me(h,x){if(h.da)h=!0;else{x=new Ne(x,this);const v=h.listener,w=h.ha||h.src;h.fa&&L(h),h=v.call(w,x)}return h}function _e(h){return h=h[Se],h instanceof K?h:null}var ve="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ce(h){return typeof h=="function"?h:(h[ve]||(h[ve]=function(x){return h.handleEvent(x)}),h[ve])}function ye(){R.call(this),this.i=new K(this),this.M=this,this.G=null}E(ye,R),ye.prototype[be]=!0,ye.prototype.removeEventListener=function(h,x,v,w){nr(this,h,x,v,w)};function qe(h,x){var v,w=h.G;if(w)for(v=[];w;w=w.G)v.push(w);if(h=h.M,w=x.type||x,typeof x=="string")x=new O(x,h);else if(x instanceof O)x.target=x.target||h;else{var G=x;x=new O(w,h),I(x,G)}G=!0;let ee,fe;if(v)for(fe=v.length-1;fe>=0;fe--)ee=x.g=v[fe],G=Nt(ee,w,!0,x)&&G;if(ee=x.g=h,G=Nt(ee,w,!0,x)&&G,G=Nt(ee,w,!1,x)&&G,v)for(fe=0;fe<v.length;fe++)ee=x.g=v[fe],G=Nt(ee,w,!1,x)&&G}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const v=h.g[x];for(let w=0;w<v.length;w++)pe(v[w]);delete h.g[x],h.h--}}this.G=null},ye.prototype.J=function(h,x,v,w){return this.i.add(String(h),x,!1,v,w)},ye.prototype.K=function(h,x,v,w){return this.i.add(String(h),x,!0,v,w)};function Nt(h,x,v,w){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let G=!0;for(let ee=0;ee<x.length;++ee){const fe=x[ee];if(fe&&!fe.da&&fe.capture==v){const Ue=fe.listener,Ht=fe.ha||fe.src;fe.fa&&ce(h.i,fe),G=Ue.call(Ht,w)!==!1&&G}}return G&&!w.defaultPrevented}function si(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:d.setTimeout(h,x||0)}function oo(h){h.g=si(()=>{h.g=null,h.i&&(h.i=!1,oo(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Yt extends R{constructor(x,v){super(),this.m=x,this.l=v,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:oo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ri(h){R.call(this),this.h=h,this.g={}}E(ri,R);var ir=[];function sr(h){Oe(h.g,function(x,v){this.g.hasOwnProperty(v)&&L(x)},h),h.g={}}ri.prototype.N=function(){ri.Z.N.call(this),sr(this)},ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bi=d.JSON.stringify,wl=d.JSON.parse,Ze=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function gt(){}function dn(){}var kt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){O.call(this,"d")}E(Ke,O);function dt(){O.call(this,"c")}E(dt,O);var et={},rr=null;function Hi(){return rr=rr||new ye}et.Ia="serverreachability";function ar(h){O.call(this,et.Ia,h)}E(ar,O);function ai(h){const x=Hi();qe(x,new ar(x))}et.STAT_EVENT="statevent";function Es(h,x){O.call(this,et.STAT_EVENT,h),this.stat=x}E(Es,O);function Ut(h){const x=Hi();qe(x,new Es(x,h))}et.Ja="timingevent";function oi(h,x){O.call(this,et.Ja,h),this.size=x}E(oi,O);function $i(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},x)}function wi(){this.g=!0}wi.prototype.ua=function(){this.g=!1};function mf(h,x,v,w,G,ee){h.info(function(){if(h.g)if(ee){var fe="",Ue=ee.split("&");for(let ot=0;ot<Ue.length;ot++){var Ht=Ue[ot].split("=");if(Ht.length>1){const Mt=Ht[0];Ht=Ht[1];const di=Mt.split("_");fe=di.length>=2&&di[1]=="type"?fe+(Mt+"="+Ht+"&"):fe+(Mt+"=redacted&")}}}else fe=null;else fe=ee;return"XMLHTTP REQ ("+w+") [attempt "+G+"]: "+x+`
`+v+`
`+fe})}function wu(h,x,v,w,G,ee,fe){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+G+"]: "+x+`
`+v+`
`+ee+" "+fe})}function Gi(h,x,v,w){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+gf(h,v)+(w?" "+w:"")})}function fa(h,x){h.info(function(){return"TIMEOUT: "+x})}wi.prototype.info=function(){};function gf(h,x){if(!h.g)return x;if(!x)return null;try{const ee=JSON.parse(x);if(ee){for(h=0;h<ee.length;h++)if(Array.isArray(ee[h])){var v=ee[h];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var G=w[0];if(G!="noop"&&G!="stop"&&G!="close")for(let fe=1;fe<w.length;fe++)w[fe]=""}}}}return Bi(ee)}catch{return x}}var ma={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jl;function ga(){}E(ga,gt),ga.prototype.g=function(){return new XMLHttpRequest},jl=new ga;function Ts(h){return encodeURIComponent(String(h))}function Nu(h){var x=1;h=h.split(":");const v=[];for(;x>0&&h.length;)v.push(h.shift()),x--;return h.length&&v.push(h.join(":")),v}function Ni(h,x,v,w){this.j=h,this.i=x,this.l=v,this.S=w||1,this.V=new ri(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ji}function ji(){this.i=null,this.g="",this.h=!1}var Wt={},hn={};function Ki(h,x,v){h.M=1,h.A=pa(Xt(x)),h.u=v,h.R=!0,lo(h,null)}function lo(h,x){h.F=Date.now(),Yi(h),h.B=Xt(h.A);var v=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),fo(v.i,"t",w),h.C=0,v=h.j.L,h.h=new ji,h.g=zu(h.j,v?x:null,!h.u),h.P>0&&(h.O=new Yt(p(h.Y,h,h.g),h.P)),x=h.V,v=h.g,w=h.ba;var G="readystatechange";Array.isArray(G)||(G&&(ir[0]=G.toString()),G=ir);for(let ee=0;ee<G.length;ee++){const fe=nt(v,G[ee],w||x.handleEvent,!1,x.h||x);if(!fe)break;x.g[fe.key]=fe}x=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),ai(),mf(h.i,h.v,h.B,h.l,h.S,h.u)}Ni.prototype.ba=function(h){h=h.target;const x=this.O;x&&Ii(h)==3?x.j():this.Y(h)},Ni.prototype.Y=function(h){try{if(h==this.g)e:{const Ue=Ii(this.g),Ht=this.g.ya(),ot=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||xn(this.g)))){this.K||Ue!=4||Ht==7||(Ht==8||ot<=0?ai(3):ai(2)),Wi(this);var x=this.g.ca();this.X=x;var v=pf(this);if(this.o=x==200,wu(this.i,this.v,this.B,this.l,this.S,Ue,x),this.o){if(this.U&&!this.L){t:{if(this.g){var w,G=this.g;if((w=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(w)){var ee=w;break t}}ee=null}if(h=ee)Gi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qi(this,h);else{this.o=!1,this.m=3,Ut(12),Hn(this),li(this);break e}}if(this.R){h=!0;let Mt;for(;!this.K&&this.C<v.length;)if(Mt=Su(this,v),Mt==hn){Ue==4&&(this.m=4,Ut(14),h=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==Wt){this.m=4,Ut(15),Gi(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else Gi(this.i,this.l,Mt,null),Qi(this,Mt);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||v.length!=0||this.h.h||(this.m=1,Ut(16),h=!1),this.o=this.o&&h,!h)Gi(this.i,this.l,v,"[Invalid Chunked Response]"),Hn(this),li(this);else if(v.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ql(fe),fe.P=!0,Ut(11))}}else Gi(this.i,this.l,v,null),Qi(this,v);Ue==4&&Hn(this),this.o&&!this.K&&(Ue==4?ku(this.j,this):(this.o=!1,Yi(this)))}else Ns(this.g),x==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),Hn(this),li(this)}}}catch{}};function pf(h){if(!ju(h))return h.g.la();const x=xn(h.g);if(x==="")return"";let v="";const w=x.length,G=Ii(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Hn(h),li(h),"";h.h.i=new d.TextDecoder}for(let ee=0;ee<w;ee++)h.h.h=!0,v+=h.h.i.decode(x[ee],{stream:!(G&&ee==w-1)});return x.length=0,h.h.g+=v,h.C=0,h.h.g}function ju(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Su(h,x){var v=h.C,w=x.indexOf(`
`,v);return w==-1?hn:(v=Number(x.substring(v,w)),isNaN(v)?Wt:(w+=1,w+v>x.length?hn:(x=x.slice(w,w+v),h.C=w+v,x)))}Ni.prototype.cancel=function(){this.K=!0,Hn(this)};function Yi(h){h.T=Date.now()+h.H,co(h,h.H)}function co(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=$i(p(h.aa,h),x)}function Wi(h){h.D&&(d.clearTimeout(h.D),h.D=null)}Ni.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(fa(this.i,this.B),this.M!=2&&(ai(),Ut(17)),Hn(this),this.m=2,li(this)):co(this,this.T-h)};function li(h){h.j.I==0||h.K||ku(h.j,h)}function Hn(h){Wi(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,sr(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function Qi(h,x){try{var v=h.j;if(v.I!=0&&(v.g==h||Ji(v.h,h))){if(!h.L&&Ji(v.h,h)&&v.I==3){try{var w=v.Ba.g.parse(x)}catch{w=null}if(Array.isArray(w)&&w.length==3){var G=w;if(G[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)xo(v),mr(v);else break e;Ta(v),Ut(18)}}else v.xa=G[1],0<v.xa-v.K&&G[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=$i(p(v.Va,v),6e3));Xi(v.h)<=1&&v.ta&&(v.ta=void 0)}else ss(v,11)}else if((h.L||v.g==h)&&xo(v),!M(x))for(G=v.Ba.g.parse(x),x=0;x<G.length;x++){let ot=G[x];const Mt=ot[0];if(!(Mt<=v.K))if(v.K=Mt,ot=ot[1],v.I==2)if(ot[0]=="c"){v.M=ot[1],v.ba=ot[2];const di=ot[3];di!=null&&(v.ka=di,v.j.info("VER="+v.ka));const rs=ot[4];rs!=null&&(v.za=rs,v.j.info("SVER="+v.za));const Ci=ot[5];Ci!=null&&typeof Ci=="number"&&Ci>0&&(w=1.5*Ci,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Ri=h.g;if(Ri){const wa=Ri.g?Ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wa){var ee=w.h;ee.g||wa.indexOf("spdy")==-1&&wa.indexOf("quic")==-1&&wa.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Il(ee,ee.h),ee.h=null))}if(w.G){const bo=Ri.g?Ri.g.getResponseHeader("X-HTTP-Session-Id"):null;bo&&(w.wa=bo,ht(w.J,w.G,bo))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var fe=h;if(w.na=Uu(w,w.L?w.ba:null,w.W),fe.L){Cl(w.h,fe);var Ue=fe,Ht=w.O;Ht&&(Ue.H=Ht),Ue.D&&(Wi(Ue),Yi(Ue)),w.g=fe}else Ou(w);v.i.length>0&&is(v)}else ot[0]!="stop"&&ot[0]!="close"||ss(v,7);else v.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?ss(v,7):Ul(v):ot[0]!="noop"&&v.l&&v.l.qa(ot),v.A=0)}}ai(4)}catch{}}var Qt=class{constructor(h,x){this.g=h,this.map=x}};function Sl(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Al(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Xi(h){return h.h?1:h.g?h.g.size:0}function Ji(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Il(h,x){h.g?h.g.add(x):h.h=x}function Cl(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}Sl.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Rl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const v of h.g.values())x=x.concat(v.G);return x}return V(h.i)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uo(h,x){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const w=h[v].indexOf("=");let G,ee=null;w>=0?(G=h[v].substring(0,w),ee=h[v].substring(w+1)):G=h[v],x(G,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function $n(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof $n?(this.l=h.l,fn(this,h.j),this.o=h.o,this.g=h.g,or(this,h.u),this.h=h.h,Ml(this,Mu(h.i)),this.m=h.m):h&&(x=String(h).match(Au))?(this.l=!1,fn(this,x[1]||"",!0),this.o=Zi(x[2]||""),this.g=Zi(x[3]||"",!0),or(this,x[4]),this.h=Zi(x[5]||"",!0),Ml(this,x[6]||"",!0),this.m=Zi(x[7]||"")):(this.l=!1,this.i=new cr(null,this.l))}$n.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(ya(x,ho,!0),":");var v=this.g;return(v||x=="file")&&(h.push("//"),(x=this.o)&&h.push(ya(x,ho,!0),"@"),h.push(Ts(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(ya(v,v.charAt(0)=="/"?Dl:Iu,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",ya(v,Cu)),h.join("")},$n.prototype.resolve=function(h){const x=Xt(this);let v=!!h.j;v?fn(x,h.j):v=!!h.o,v?x.o=h.o:v=!!h.g,v?x.g=h.g:v=h.u!=null;var w=h.h;if(v)or(x,h.u);else if(v=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var G=x.h.lastIndexOf("/");G!=-1&&(w=x.h.slice(0,G+1)+w)}if(G=w,G==".."||G==".")w="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){w=G.lastIndexOf("/",0)==0,G=G.split("/");const ee=[];for(let fe=0;fe<G.length;){const Ue=G[fe++];Ue=="."?w&&fe==G.length&&ee.push(""):Ue==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),w&&fe==G.length&&ee.push("")):(ee.push(Ue),w=!0)}w=ee.join("/")}else w=G}return v?x.h=w:v=h.i.toString()!=="",v?Ml(x,Mu(h.i)):v=!!h.m,v&&(x.m=h.m),x};function Xt(h){return new $n(h)}function fn(h,x,v){h.j=v?Zi(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function or(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function Ml(h,x,v){x instanceof cr?(h.i=x,mo(h.i,h.l)):(v||(x=ya(x,lr)),h.i=new cr(x,h.l))}function ht(h,x,v){h.i.set(x,v)}function pa(h){return ht(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Zi(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ya(h,x,v){return typeof h=="string"?(h=encodeURI(h).replace(x,Pn),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Pn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ho=/[#\/\?@]/g,Iu=/[#\?:]/g,Dl=/[#\?]/g,lr=/[#\?@]/g,Cu=/#/g;function cr(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function kn(h){h.g||(h.g=new Map,h.h=0,h.i&&uo(h.i,function(x,v){h.add(decodeURIComponent(x.replace(/\+/g," ")),v)}))}i=cr.prototype,i.add=function(h,x){kn(this),this.i=null,h=ur(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(x),this.h+=1,this};function Ru(h,x){kn(h),x=ur(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Ol(h,x){return kn(h),x=ur(h,x),h.g.has(x)}i.forEach=function(h,x){kn(this),this.g.forEach(function(v,w){v.forEach(function(G){h.call(x,G,w,this)},this)},this)};function Pl(h,x){kn(h);let v=[];if(typeof x=="string")Ol(h,x)&&(v=v.concat(h.g.get(ur(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)v=v.concat(h[x]);return v}i.set=function(h,x){return kn(this),this.i=null,h=ur(this,h),Ol(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},i.get=function(h,x){return h?(h=Pl(this,h),h.length>0?String(h[0]):x):x};function fo(h,x,v){Ru(h,x),v.length>0&&(h.i=null,h.g.set(ur(h,x),V(v)),h.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let w=0;w<x.length;w++){var v=x[w];const G=Ts(v);v=Pl(this,v);for(let ee=0;ee<v.length;ee++){let fe=G;v[ee]!==""&&(fe+="="+Ts(v[ee])),h.push(fe)}}return this.i=h.join("&")};function Mu(h){const x=new cr;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function ur(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function mo(h,x){x&&!h.j&&(kn(h),h.i=null,h.g.forEach(function(v,w){const G=w.toLowerCase();w!=G&&(Ru(this,w),fo(this,G,v))},h)),h.j=x}function Si(h,x){const v=new wi;if(d.Image){const w=new Image;w.onload=_(ci,v,"TestLoadImage: loaded",!0,x,w),w.onerror=_(ci,v,"TestLoadImage: error",!1,x,w),w.onabort=_(ci,v,"TestLoadImage: abort",!1,x,w),w.ontimeout=_(ci,v,"TestLoadImage: timeout",!1,x,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else x(!1)}function kl(h,x){const v=new wi,w=new AbortController,G=setTimeout(()=>{w.abort(),ci(v,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:w.signal}).then(ee=>{clearTimeout(G),ee.ok?ci(v,"TestPingServer: ok",!0,x):ci(v,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(G),ci(v,"TestPingServer: error",!1,x)})}function ci(h,x,v,w,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),w(v)}catch{}}function dr(){this.g=new Ze}function es(h){this.i=h.Sb||null,this.h=h.ab||!1}E(es,gt),es.prototype.g=function(){return new xa(this.i,this.h)};function xa(h,x){ye.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(xa,ye),i=xa.prototype,i.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,Ai(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||d).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;go(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function go(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?hr(this):Ai(this),this.readyState==3&&go(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,hr(this))},i.Na=function(h){this.g&&(this.response=h,hr(this))},i.ga=function(){this.g&&hr(this)};function hr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ai(h)}i.setRequestHeader=function(h,x){this.A.append(h,x)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var v=x.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=x.next();return h.join(`\r
`)};function Ai(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function ui(h){let x="";return Oe(h,function(v,w){x+=w,x+=":",x+=v,x+=`\r
`}),x}function ba(h,x,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=ui(v),typeof h=="string"?v!=null&&Ts(v):ht(h,x,v))}function pt(h){ye.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(pt,ye);var ts=/^https?$/i,Ll=["POST","PUT"];i=pt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,x,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jl.g(),this.g.onreadystatechange=N(p(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(ee){va(this,ee);return}if(h=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var G in w)v.set(G,w[G]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const ee of w.keys())v.set(ee,w.get(ee));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(ee=>ee.toLowerCase()=="content-type"),G=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(Ll,x,void 0)>=0)||w||G||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,fe]of v)this.g.setRequestHeader(ee,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ee){va(this,ee)}};function va(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,Vl(h),ws(h)}function Vl(h){h.A||(h.A=!0,qe(h,"complete"),qe(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,qe(this,"complete"),qe(this,"abort"),ws(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ws(this,!0)),pt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?_a(this):this.Xa())},i.Xa=function(){_a(this)};function _a(h){if(h.h&&typeof u<"u"){if(h.v&&Ii(h)==4)setTimeout(h.Ca.bind(h),0);else if(qe(h,"readystatechange"),Ii(h)==4){h.h=!1;try{const ee=h.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var v;if(!(v=x)){var w;if(w=ee===0){let fe=String(h.D).match(Au)[1]||null;!fe&&d.self&&d.self.location&&(fe=d.self.location.protocol.slice(0,-1)),w=!ts.test(fe?fe.toLowerCase():"")}v=w}if(v)qe(h,"complete"),qe(h,"success");else{h.o=6;try{var G=Ii(h)>2?h.g.statusText:""}catch{G=""}h.l=G+" ["+h.ca()+"]",Vl(h)}}finally{ws(h)}}}}function ws(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,x||qe(h,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Ii(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Ii(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),wl(x)}};function xn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ns(h){const x={};h=(h.g&&Ii(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(M(h[w]))continue;var v=Nu(h[w]);const G=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const ee=x[G]||[];x[G]=ee,ee.push(v)}Be(x,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(h,x,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||x}function fr(h){this.za=0,this.i=[],this.j=new wi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ns("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ns("baseRetryDelayMs",5e3,h),this.Za=ns("retryDelaySeedMs",1e4,h),this.Ta=ns("forwardChannelMaxRetries",2,h),this.va=ns("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Sl(h&&h.concurrentRequestLimit),this.Ba=new dr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=fr.prototype,i.ka=8,i.I=1,i.connect=function(h,x,v,w){Ut(0),this.W=h,this.H=x||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=Uu(this,null,this.W),is(this)};function Ul(h){if(po(h),h.I==3){var x=h.V++,v=Xt(h.J);if(ht(v,"SID",h.M),ht(v,"RID",x),ht(v,"TYPE","terminate"),Ea(h,v),x=new Ni(h,h.j,x),x.M=2,x.A=pa(Xt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(x.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=x.A,v=!0),v||(x.g=zu(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Yi(x)}Vu(h)}function mr(h){h.g&&(ql(h),h.g.cancel(),h.g=null)}function po(h){mr(h),h.v&&(d.clearTimeout(h.v),h.v=null),xo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function is(h){if(!Al(h.h)&&!h.m){h.m=!0;var x=h.Ea;de||S(),ge||(de(),ge=!0),A.add(x,h),h.D=0}}function yo(h,x){return Xi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=$i(p(h.Ea,h,x),Lu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const G=new Ni(this,this.j,h);let ee=this.o;if(this.U&&(ee?(ee=k(ee),I(ee,this.U)):ee=this.U),this.u!==null||this.R||(G.J=ee,ee=null),this.S)e:{for(var x=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(x+=w,x>4096){x=v;break e}if(x===4096||v===this.i.length-1){x=v+1;break e}}x=1e3}else x=1e3;x=Du(this,G,x),v=Xt(this.J),ht(v,"RID",h),ht(v,"CVER",22),this.G&&ht(v,"X-HTTP-Session-Id",this.G),Ea(this,v),ee&&(this.R?x="headers="+Ts(ui(ee))+"&"+x:this.u&&ba(v,this.u,ee)),Il(this.h,G),this.Ra&&ht(v,"TYPE","init"),this.S?(ht(v,"$req",x),ht(v,"SID","null"),G.U=!0,Ki(G,v,null)):Ki(G,v,x),this.I=2}}else this.I==3&&(h?zl(this,h):this.i.length==0||Al(this.h)||zl(this))};function zl(h,x){var v;x?v=x.l:v=h.V++;const w=Xt(h.J);ht(w,"SID",h.M),ht(w,"RID",v),ht(w,"AID",h.K),Ea(h,w),h.u&&h.o&&ba(w,h.u,h.o),v=new Ni(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),x&&(h.i=x.G.concat(h.i)),x=Du(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Il(h.h,v),Ki(v,w,x)}function Ea(h,x){h.H&&Oe(h.H,function(v,w){ht(x,w,v)}),h.l&&Oe({},function(v,w){ht(x,w,v)})}function Du(h,x,v){v=Math.min(h.i.length,v);const w=h.l?p(h.l.Ka,h.l,h):null;e:{var G=h.i;let Ue=-1;for(;;){const Ht=["count="+v];Ue==-1?v>0?(Ue=G[0].g,Ht.push("ofs="+Ue)):Ue=0:Ht.push("ofs="+Ue);let ot=!0;for(let Mt=0;Mt<v;Mt++){var ee=G[Mt].g;const di=G[Mt].map;if(ee-=Ue,ee<0)Ue=Math.max(0,G[Mt].g-100),ot=!1;else try{ee="req"+ee+"_"||"";try{var fe=di instanceof Map?di:Object.entries(di);for(const[rs,Ci]of fe){let Ri=Ci;g(Ci)&&(Ri=Bi(Ci)),Ht.push(ee+rs+"="+encodeURIComponent(Ri))}}catch(rs){throw Ht.push(ee+"type="+encodeURIComponent("_badmap")),rs}}catch{w&&w(di)}}if(ot){fe=Ht.join("&");break e}}fe=void 0}return h=h.i.splice(0,v),x.G=h,fe}function Ou(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;de||S(),ge||(de(),ge=!0),A.add(x,h),h.A=0}}function Ta(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=$i(p(h.Da,h),Lu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=$i(p(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),mr(this),Pu(this))};function ql(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function Pu(h){h.g=new Ni(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=Xt(h.na);ht(x,"RID","rpc"),ht(x,"SID",h.M),ht(x,"AID",h.K),ht(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&ht(x,"TO",h.ia),ht(x,"TYPE","xmlhttp"),Ea(h,x),h.u&&h.o&&ba(x,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=pa(Xt(x)),v.u=null,v.R=!0,lo(v,h)}i.Va=function(){this.C!=null&&(this.C=null,mr(this),Ta(this),Ut(19))};function xo(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function ku(h,x){var v=null;if(h.g==x){xo(h),ql(h),h.g=null;var w=2}else if(Ji(h.h,x))v=x.G,Cl(h.h,x),w=1;else return;if(h.I!=0){if(x.o)if(w==1){v=x.u?x.u.length:0,x=Date.now()-x.F;var G=h.D;w=Hi(),qe(w,new oi(w,v)),is(h)}else Ou(h);else if(G=x.m,G==3||G==0&&x.X>0||!(w==1&&yo(h,x)||w==2&&Ta(h)))switch(v&&v.length>0&&(x=h.h,x.i=x.i.concat(v)),G){case 1:ss(h,5);break;case 4:ss(h,10);break;case 3:ss(h,6);break;default:ss(h,2)}}}function Lu(h,x){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*x}function ss(h,x){if(h.j.info("Error code "+x),x==2){var v=p(h.bb,h),w=h.Ua;const G=!w;w=new $n(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||fn(w,"https"),pa(w),G?Si(w.toString(),v):kl(w.toString(),v)}else Ut(2);h.I=0,h.l&&h.l.pa(x),Vu(h),po(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Vu(h){if(h.I=0,h.ja=[],h.l){const x=Rl(h.h);(x.length!=0||h.i.length!=0)&&(H(h.ja,x),H(h.ja,h.i),h.h.i.length=0,V(h.i),h.i.length=0),h.l.oa()}}function Uu(h,x,v){var w=v instanceof $n?Xt(v):new $n(v);if(w.g!="")x&&(w.g=x+"."+w.g),or(w,w.u);else{var G=d.location;w=G.protocol,x=x?x+"."+G.hostname:G.hostname,G=+G.port;const ee=new $n(null);w&&fn(ee,w),x&&(ee.g=x),G&&or(ee,G),v&&(ee.h=v),w=ee}return v=h.G,x=h.wa,v&&x&&ht(w,v,x),ht(w,"VER",h.ka),Ea(h,w),w}function zu(h,x,v){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new pt(new es({ab:v})):new pt(h.ma),x.Fa(h.L),x}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}i=qu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function gr(){}gr.prototype.g=function(h,x){return new Mn(h,x)};function Mn(h,x){ye.call(this),this.g=new fr(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!M(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!M(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new js(this)}E(Mn,ye),Mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){Ul(this.g)},Mn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=Bi(h),h=v);x.i.push(new Qt(x.Ya++,h)),x.I==3&&is(x)},Mn.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,Mn.Z.N.call(this)};function Fu(h){Ke.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const v in x){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}E(Fu,Ke);function Bu(){dt.call(this),this.status=1}E(Bu,dt);function js(h){this.g=h}E(js,qu),js.prototype.ra=function(){qe(this.g,"a")},js.prototype.qa=function(h){qe(this.g,new Fu(h))},js.prototype.pa=function(h){qe(this.g,new Bu)},js.prototype.oa=function(){qe(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,nw=function(){return new gr},tw=function(){return Hi()},ew=et,Xg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,uh=ma,Nl.COMPLETE="complete",ZT=Nl,dn.EventType=kt,kt.OPEN="a",kt.CLOSE="b",kt.ERROR="c",kt.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Rc=dn,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,JT=pt}).apply(typeof Wd<"u"?Wd:typeof self<"u"?self:typeof window<"u"?window:{});class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");let bl="12.8.0";function CM(i){bl=i}const eo=new Hh("@firebase/firestore");function Wo(){return eo.logLevel}function Te(i,...e){if(eo.logLevel<=Qe.DEBUG){const n=e.map(Wp);eo.debug(`Firestore (${bl}): ${i}`,...n)}}function Js(i,...e){if(eo.logLevel<=Qe.ERROR){const n=e.map(Wp);eo.error(`Firestore (${bl}): ${i}`,...n)}}function ol(i,...e){if(eo.logLevel<=Qe.WARN){const n=e.map(Wp);eo.warn(`Firestore (${bl}): ${i}`,...n)}}function Wp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function De(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,iw(i,r,n)}function iw(i,e,n){let r=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Js(r),new Error(r)}function ut(i,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,i||iw(e,l,r)}function Ve(i,e){return i}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ga{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class sw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(In.UNAUTHENTICATED)))}shutdown(){}}class MM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class DM{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let u=new Ga;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ga,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ga)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string",31837,{l:r}),new sw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class OM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=In.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class PM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new OM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class t_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const r=u=>{u.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,Te("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new t_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new t_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function LM(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}class Qp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=LM(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<n&&(r+=e.charAt(l[u]%62))}return r}}function Xe(i,e){return i<e?-1:i>e?1:0}function Jg(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const l=i.charAt(r),u=e.charAt(r);if(l!==u)return Ig(l)===Ig(u)?Xe(l,u):Ig(l)?1:-1}return Xe(i.length,e.length)}const VM=55296,UM=57343;function Ig(i){const e=i.charCodeAt(0);return e>=VM&&e<=UM}function ll(i,e,n){return i.length===e.length&&i.every(((r,l)=>n(r,e[l])))}const n_="__name__";class hs{constructor(e,n,r){n===void 0?n=0:n>e.length&&De(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&De(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const u=hs.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Xe(e.length,n.length)}static compareSegments(e,n){const r=hs.isNumericId(e),l=hs.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?hs.extractNumericId(e).compare(hs.extractNumericId(n)):Jg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wr.fromString(e.substring(4,e.length-2))}}class jt extends hs{construct(e,n,r){return new jt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new jt(n)}static emptyPath(){return new jt([])}}const zM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends hs{construct(e,n,r){return new Nn(e,n,r)}static isValidIdentifier(e){return zM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n_}static keyField(){return new Nn([n_])}static fromServerFormat(e){const n=[];let r="",l=0;const u=()=>{if(r.length===0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new Ee(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Ee(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(u(),l++)}if(u(),d)throw new Ee(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(jt.fromString(e))}static fromName(e){return new Ie(jt.fromString(e).popFirst(5))}static empty(){return new Ie(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new jt(e.slice()))}}function rw(i,e,n){if(!n)throw new Ee(oe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function qM(i,e,n,r){if(e===!0&&r===!0)throw new Ee(oe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function i_(i){if(!Ie.isDocumentKey(i))throw new Ee(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function s_(i){if(Ie.isDocumentKey(i))throw new Ee(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function aw(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Qh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":De(12329,{type:typeof i})}function Ka(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ee(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qh(i);throw new Ee(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function rn(i,e){const n={typeString:i};return e&&(n.value=e),n}function yu(i,e){if(!aw(i))throw new Ee(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const d=i[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new Ee(oe.INVALID_ARGUMENT,n);return!0}const r_=-62135596800,a_=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*a_);return new Rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<r_)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a_}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-r_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:rn("string",Rt._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Rt(0,0))}static max(){return new Pe(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xc=-1;function FM(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,l=Pe.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new Zr(l,Ie.empty(),e)}function BM(i){return new Zr(i.readTime,i.key,Xc)}class Zr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zr(Pe.min(),Ie.empty(),Xc)}static max(){return new Zr(Pe.max(),Ie.empty(),Xc)}}function HM(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(i.documentKey,e.documentKey),n!==0?n:Xe(i.largestBatchId,e.largestBatchId))}const $M="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vl(i){if(i.code!==oe.FAILED_PRECONDITION||i.message!==$M)throw i;Te("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let l=0,u=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&n()}),(y=>r(y)))})),d=!0,u===l&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((l=>l?le.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,u)=>{r.push(n.call(this,l,u))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,l)=>{const u=e.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const p=y;n(e[p]).next((_=>{d[p]=_,++g,g===u&&r(d)}),(_=>l(_)))}}))}static doWhile(e,n){return new le(((r,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):r()};u()}))}}function KM(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _l(i){return i.name==="IndexedDbTransactionError"}class Xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xh.ce=-1;const Xp=-1;function Jh(i){return i==null}function Ah(i){return i===0&&1/i==-1/0}function YM(i){return typeof i=="number"&&Number.isInteger(i)&&!Ah(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const ow="";function WM(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=o_(e)),e=QM(i.get(n),e);return o_(e)}function QM(i,e){let n=e;const r=i.length;for(let l=0;l<r;l++){const u=i.charAt(l);switch(u){case"\0":n+="";break;case ow:n+="";break;default:n+=u}}return n}function o_(i){return i+ow+""}function l_(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function da(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function lw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Vt{constructor(e,n){this.comparator=e,this.root=n||wn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qd(this.root,e,this.comparator,!0)}}class Qd{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,n,r,l,u){this.key=e,this.value=n,this.color=r??wn.RED,this.left=l??wn.EMPTY,this.right=u??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,u){return new wn(e??this.key,n??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,r),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return wn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,n,r,l,u){return this}insert(e,n,r){return new wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class un{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new c_(this.data.getIterator())}getIteratorFrom(e){return new c_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class c_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ni{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new ni([])}unionWith(e){let n=new un(Nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class cw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cw("Invalid base64 string: "+u):u}})(e);return new jn(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new jn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const XM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(i){if(ut(!!i,39018),typeof i=="string"){let e=0;const n=XM.exec(i);if(ut(!!n,46558,{timestamp:i}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(i.seconds),nanos:Kt(i.nanos)}}function Kt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ta(i){return typeof i=="string"?jn.fromBase64String(i):jn.fromUint8Array(i)}const uw="server_timestamp",dw="__type__",hw="__previous_value__",fw="__local_write_time__";function Jp(i){return(i?.mapValue?.fields||{})[dw]?.stringValue===uw}function Zh(i){const e=i.mapValue.fields[hw];return Jp(e)?Zh(e):e}function Jc(i){const e=ea(i.mapValue.fields[fw].timestampValue);return new Rt(e.seconds,e.nanos)}class JM{constructor(e,n,r,l,u,d,g,y,p,_,E){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=_,this.apiKey=E}}const Ih="(default)";class Zc{constructor(e,n){this.projectId=e,this.database=n||Ih}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}function ZM(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ee(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(i.options.projectId,e)}const mw="__type__",e3="__max__",Xd={mapValue:{}},gw="__vector__",Ch="value";function na(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Jp(i)?4:n3(i)?9007199254740991:t3(i)?10:11:De(28295,{value:i})}function vs(i,e){if(i===e)return!0;const n=na(i);if(n!==na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Jc(i).isEqual(Jc(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=ea(l.timestampValue),g=ea(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,u){return ta(l.bytesValue).isEqual(ta(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,u){return Kt(l.geoPointValue.latitude)===Kt(u.geoPointValue.latitude)&&Kt(l.geoPointValue.longitude)===Kt(u.geoPointValue.longitude)})(i,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Kt(l.integerValue)===Kt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Kt(l.doubleValue),g=Kt(u.doubleValue);return d===g?Ah(d)===Ah(g):isNaN(d)&&isNaN(g)}return!1})(i,e);case 9:return ll(i.arrayValue.values||[],e.arrayValue.values||[],vs);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(l_(d)!==l_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!vs(d[y],g[y])))return!1;return!0})(i,e);default:return De(52216,{left:i})}}function eu(i,e){return(i.values||[]).find((n=>vs(n,e)))!==void 0}function cl(i,e){if(i===e)return 0;const n=na(i),r=na(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(i.booleanValue,e.booleanValue);case 2:return(function(u,d){const g=Kt(u.integerValue||u.doubleValue),y=Kt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(i,e);case 3:return u_(i.timestampValue,e.timestampValue);case 4:return u_(Jc(i),Jc(e));case 5:return Jg(i.stringValue,e.stringValue);case 6:return(function(u,d){const g=ta(u),y=ta(d);return g.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const _=Xe(g[p],y[p]);if(_!==0)return _}return Xe(g.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,d){const g=Xe(Kt(u.latitude),Kt(d.latitude));return g!==0?g:Xe(Kt(u.longitude),Kt(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return d_(i.arrayValue,e.arrayValue);case 10:return(function(u,d){const g=u.fields||{},y=d.fields||{},p=g[Ch]?.arrayValue,_=y[Ch]?.arrayValue,E=Xe(p?.values?.length||0,_?.values?.length||0);return E!==0?E:d_(p,_)})(i.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Xd.mapValue&&d===Xd.mapValue)return 0;if(u===Xd.mapValue)return 1;if(d===Xd.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),p=d.fields||{},_=Object.keys(p);y.sort(),_.sort();for(let E=0;E<y.length&&E<_.length;++E){const N=Jg(y[E],_[E]);if(N!==0)return N;const V=cl(g[y[E]],p[_[E]]);if(V!==0)return V}return Xe(y.length,_.length)})(i.mapValue,e.mapValue);default:throw De(23264,{he:n})}}function u_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Xe(i,e);const n=ea(i),r=ea(e),l=Xe(n.seconds,r.seconds);return l!==0?l:Xe(n.nanos,r.nanos)}function d_(i,e){const n=i.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const u=cl(n[l],r[l]);if(u)return u}return Xe(n.length,r.length)}function ul(i){return Zg(i)}function Zg(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=ea(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ta(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Ie.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",l=!0;for(const u of n.values||[])l?l=!1:r+=",",r+=Zg(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${Zg(n.fields[d])}`;return l+"}"})(i.mapValue):De(61005,{value:i})}function dh(i){switch(na(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(i);return e?16+dh(e):16;case 5:return 2*i.stringValue.length;case 6:return ta(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+dh(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let l=0;return da(r.fields,((u,d)=>{l+=u.length+dh(d)})),l})(i.mapValue);default:throw De(13486,{value:i})}}function h_(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ep(i){return!!i&&"integerValue"in i}function Zp(i){return!!i&&"arrayValue"in i}function f_(i){return!!i&&"nullValue"in i}function m_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function hh(i){return!!i&&"mapValue"in i}function t3(i){return(i?.mapValue?.fields||{})[mw]?.stringValue===gw}function Uc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return da(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Uc(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uc(i.arrayValue.values[n]);return e}return{...i}}function n3(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===e3}class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uc(n)}setAll(e){let n=Nn.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,r,l),r={},l=[],n=g.popLast()}d?r[g.lastSegment()]=Uc(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,l)}delete(e){const n=this.field(e.popLast());hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];hh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){da(n,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new Bn(Uc(this.value))}}function pw(i){const e=[];return da(i.fields,((n,r)=>{const l=new Nn([n]);if(hh(r)){const u=pw(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new ni(e)}class Cn{constructor(e,n,r,l,u,d,g){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Cn(e,0,Pe.min(),Pe.min(),Pe.min(),Bn.empty(),0)}static newFoundDocument(e,n,r,l){return new Cn(e,1,n,Pe.min(),r,l,0)}static newNoDocument(e,n){return new Cn(e,2,n,Pe.min(),Pe.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new Cn(e,3,n,Pe.min(),Pe.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Rh{constructor(e,n){this.position=e,this.inclusive=n}}function g_(i,e,n){let r=0;for(let l=0;l<i.position.length;l++){const u=e[l],d=i.position[l];if(u.field.isKeyField()?r=Ie.comparator(Ie.fromName(d.referenceValue),n.key):r=cl(d,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function p_(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!vs(i.position[n],e.position[n]))return!1;return!0}class tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function i3(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class yw{}class sn extends yw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new r3(e,n,r):n==="array-contains"?new l3(e,r):n==="in"?new c3(e,r):n==="not-in"?new u3(e,r):n==="array-contains-any"?new d3(e,r):new sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new a3(e,r):new o3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(cl(n,this.value)):n!==null&&na(this.value)===na(n)&&this.matchesComparison(cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends yw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qi(e,n)}matches(e){return xw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xw(i){return i.op==="and"}function bw(i){return s3(i)&&xw(i)}function s3(i){for(const e of i.filters)if(e instanceof qi)return!1;return!0}function tp(i){if(i instanceof sn)return i.field.canonicalString()+i.op.toString()+ul(i.value);if(bw(i))return i.filters.map((e=>tp(e))).join(",");{const e=i.filters.map((n=>tp(n))).join(",");return`${i.op}(${e})`}}function vw(i,e){return i instanceof sn?(function(r,l){return l instanceof sn&&r.op===l.op&&r.field.isEqual(l.field)&&vs(r.value,l.value)})(i,e):i instanceof qi?(function(r,l){return l instanceof qi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,g)=>u&&vw(d,l.filters[g])),!0):!1})(i,e):void De(19439)}function _w(i){return i instanceof sn?(function(n){return`${n.field.canonicalString()} ${n.op} ${ul(n.value)}`})(i):i instanceof qi?(function(n){return n.op.toString()+" {"+n.getFilters().map(_w).join(" ,")+"}"})(i):"Filter"}class r3 extends sn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class a3 extends sn{constructor(e,n){super(e,"in",n),this.keys=Ew("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class o3 extends sn{constructor(e,n){super(e,"not-in",n),this.keys=Ew("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ew(i,e){return(e.arrayValue?.values||[]).map((n=>Ie.fromName(n.referenceValue)))}class l3 extends sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zp(n)&&eu(n.arrayValue,this.value)}}class c3 extends sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&eu(this.value.arrayValue,n)}}class u3 extends sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!eu(this.value.arrayValue,n)}}class d3 extends sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>eu(this.value.arrayValue,r)))}}class h3{constructor(e,n=null,r=[],l=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function y_(i,e=null,n=[],r=[],l=null,u=null,d=null){return new h3(i,e,n,r,l,u,d)}function ey(i){const e=Ve(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>tp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ul(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ul(r))).join(",")),e.Te=n}return e.Te}function ty(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!i3(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!vw(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!p_(i.startAt,e.startAt)&&p_(i.endAt,e.endAt)}function np(i){return Ie.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class El{constructor(e,n=null,r=[],l=[],u=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function f3(i,e,n,r,l,u,d,g){return new El(i,e,n,r,l,u,d,g)}function ny(i){return new El(i)}function x_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function m3(i){return Ie.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function Tw(i){return i.collectionGroup!==null}function zc(i){const e=Ve(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new un(Nn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new tu(u,r))})),n.has(Nn.keyField().canonicalString())||e.Ie.push(new tu(Nn.keyField(),r))}return e.Ie}function ms(i){const e=Ve(i);return e.Ee||(e.Ee=g3(e,zc(i))),e.Ee}function g3(i,e){if(i.limitType==="F")return y_(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new tu(l.field,u)}));const n=i.endAt?new Rh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Rh(i.startAt.position,i.startAt.inclusive):null;return y_(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function ip(i,e){const n=i.filters.concat([e]);return new El(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function p3(i,e){const n=i.explicitOrderBy.concat([e]);return new El(i.path,i.collectionGroup,n,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}function sp(i,e,n){return new El(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ef(i,e){return ty(ms(i),ms(e))&&i.limitType===e.limitType}function ww(i){return`${ey(ms(i))}|lt:${i.limitType}`}function Qo(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>_w(l))).join(", ")}]`),Jh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>ul(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>ul(l))).join(",")),`Target(${r})`})(ms(i))}; limitType=${i.limitType})`}function tf(i,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):Ie.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,e)&&(function(r,l){for(const u of zc(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(i,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const p=g_(d,g,y);return d.inclusive?p<=0:p<0})(r.startAt,zc(r),l)||r.endAt&&!(function(d,g,y){const p=g_(d,g,y);return d.inclusive?p>=0:p>0})(r.endAt,zc(r),l))})(i,e)}function y3(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Nw(i){return(e,n)=>{let r=!1;for(const l of zc(i)){const u=x3(l,e,n);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function x3(i,e,n){const r=i.field.isKeyField()?Ie.comparator(e.key,n.key):(function(u,d,g){const y=d.data.field(u),p=g.data.field(u);return y!==null&&p!==null?cl(y,p):De(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:i.dir})}}class so{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,((n,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return lw(this.inner)}size(){return this.innerSize}}const b3=new Vt(Ie.comparator);function Zs(){return b3}const jw=new Vt(Ie.comparator);function Mc(...i){let e=jw;for(const n of i)e=e.insert(n.key,n);return e}function Sw(i){let e=jw;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ha(){return qc()}function Aw(){return qc()}function qc(){return new so((i=>i.toString()),((i,e)=>i.isEqual(e)))}const v3=new Vt(Ie.comparator),_3=new un(Ie.comparator);function Je(...i){let e=_3;for(const n of i)e=e.add(n);return e}const E3=new un(Xe);function T3(){return E3}function iy(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function Iw(i){return{integerValue:""+i}}function w3(i,e){return YM(e)?Iw(e):iy(i,e)}class nf{constructor(){this._=void 0}}function N3(i,e,n){return i instanceof nu?(function(l,u){const d={fields:{[dw]:{stringValue:uw},[fw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Jp(u)&&(u=Zh(u)),u&&(d.fields[hw]=u),{mapValue:d}})(n,e):i instanceof iu?Rw(i,e):i instanceof su?Mw(i,e):(function(l,u){const d=Cw(l,u),g=b_(d)+b_(l.Ae);return ep(d)&&ep(l.Ae)?Iw(g):iy(l.serializer,g)})(i,e)}function j3(i,e,n){return i instanceof iu?Rw(i,e):i instanceof su?Mw(i,e):n}function Cw(i,e){return i instanceof Mh?(function(r){return ep(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class nu extends nf{}class iu extends nf{constructor(e){super(),this.elements=e}}function Rw(i,e){const n=Dw(e);for(const r of i.elements)n.some((l=>vs(l,r)))||n.push(r);return{arrayValue:{values:n}}}class su extends nf{constructor(e){super(),this.elements=e}}function Mw(i,e){let n=Dw(e);for(const r of i.elements)n=n.filter((l=>!vs(l,r)));return{arrayValue:{values:n}}}class Mh extends nf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function b_(i){return Kt(i.integerValue||i.doubleValue)}function Dw(i){return Zp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class S3{constructor(e,n){this.field=e,this.transform=n}}function A3(i,e){return i.field.isEqual(e.field)&&(function(r,l){return r instanceof iu&&l instanceof iu||r instanceof su&&l instanceof su?ll(r.elements,l.elements,vs):r instanceof Mh&&l instanceof Mh?vs(r.Ae,l.Ae):r instanceof nu&&l instanceof nu})(i.transform,e.transform)}class I3{constructor(e,n){this.version=e,this.transformResults=n}}class gs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gs}static exists(e){return new gs(void 0,e)}static updateTime(e){return new gs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class sf{}function Ow(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new kw(i.key,gs.none()):new xu(i.key,i.data,gs.none());{const n=i.data,r=Bn.empty();let l=new un(Nn.comparator);for(let u of e.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new ha(i.key,r,new ni(l.toArray()),gs.none())}}function C3(i,e,n){i instanceof xu?(function(l,u,d){const g=l.value.clone(),y=__(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(i,e,n):i instanceof ha?(function(l,u,d){if(!fh(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=__(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(Pw(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(i,e,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function Fc(i,e,n,r){return i instanceof xu?(function(u,d,g,y){if(!fh(u.precondition,d))return g;const p=u.value.clone(),_=E_(u.fieldTransforms,y,d);return p.setAll(_),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(i,e,n,r):i instanceof ha?(function(u,d,g,y){if(!fh(u.precondition,d))return g;const p=E_(u.fieldTransforms,y,d),_=d.data;return _.setAll(Pw(u)),_.setAll(p),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(i,e,n,r):(function(u,d,g){return fh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(i,e,n)}function R3(i,e){let n=null;for(const r of i.fieldTransforms){const l=e.data.field(r.field),u=Cw(r.transform,l||null);u!=null&&(n===null&&(n=Bn.empty()),n.set(r.field,u))}return n||null}function v_(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&ll(r,l,((u,d)=>A3(u,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class xu extends sf{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ha extends sf{constructor(e,n,r,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Pw(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function __(i,e,n){const r=new Map;ut(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let l=0;l<n.length;l++){const u=i[l],d=u.transform,g=e.data.field(u.field);r.set(u.field,j3(d,g,n[l]))}return r}function E_(i,e,n){const r=new Map;for(const l of i){const u=l.transform,d=n.data.field(l.field);r.set(l.field,N3(u,d,e))}return r}class kw extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M3 extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class D3{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&C3(u,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Aw();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(l.key)?null:g;const y=Ow(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Pe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Je())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,((n,r)=>v_(n,r)))&&ll(this.baseMutations,e.baseMutations,((n,r)=>v_(n,r)))}}class sy{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){ut(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return v3})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new sy(e,n,r,l)}}class O3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class P3{constructor(e,n){this.count=e,this.unchangedNames=n}}var nn,it;function k3(i){switch(i){case oe.OK:return De(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return De(15467,{code:i})}}function Lw(i){if(i===void 0)return Js("GRPC error has no .code"),oe.UNKNOWN;switch(i){case nn.OK:return oe.OK;case nn.CANCELLED:return oe.CANCELLED;case nn.UNKNOWN:return oe.UNKNOWN;case nn.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case nn.INTERNAL:return oe.INTERNAL;case nn.UNAVAILABLE:return oe.UNAVAILABLE;case nn.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case nn.NOT_FOUND:return oe.NOT_FOUND;case nn.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case nn.ABORTED:return oe.ABORTED;case nn.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case nn.DATA_LOSS:return oe.DATA_LOSS;default:return De(39323,{code:i})}}(it=nn||(nn={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";function L3(){return new TextEncoder}const V3=new Wr([4294967295,4294967295],0);function T_(i){const e=L3().encode(i),n=new XT;return n.update(e),new Uint8Array(n.digest())}function w_(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Wr([n,r],0),new Wr([l,u],0)]}class ry{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dc(`Invalid padding: ${n}`);if(r<0)throw new Dc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Dc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Wr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(Wr.fromNumber(r)));return l.compare(V3)===1&&(l=new Wr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=T_(e),[r,l]=w_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new ry(u,l,n);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const n=T_(e),[r,l]=w_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.be(d)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rf{constructor(e,n,r,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rf(Pe.min(),l,new Vt(Xe),Zs(),Je())}}class bu{constructor(e,n,r,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bu(r,n,Je(),Je(),Je())}}class mh{constructor(e,n,r,l){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=l}}class Vw{constructor(e,n){this.targetId=e,this.Ce=n}}class Uw{constructor(e,n,r=jn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class N_{constructor(){this.ve=0,this.Fe=j_(),this.Me=jn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),n=Je(),r=Je();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:De(38017,{changeType:u})}})),new bu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=j_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class U3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zs(),this.He=Jd(),this.Je=Jd(),this.Ze=new Vt(Xe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(np(u))if(r===0){const d=new Ie(u.path);this.et(n,d,Cn.newNoDocument(d,Pe.min()))}else ut(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=n;let d,g;try{d=ta(r).toUint8Array()}catch(y){if(y instanceof cw)return ol("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new ry(d,l,u)}catch(y){return ol(y instanceof Dc?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&np(g.target)){const y=new Ie(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Cn.newNoDocument(y,e))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let r=Je();this.Je.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new rf(e,n,this.Ze,this.je,r);return this.je=Zs(),this.He=Jd(),this.Je=Jd(),this.Ze=new Vt(Xe),l}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new N_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new un(Xe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new un(Xe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new N_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Jd(){return new Vt(Ie.comparator)}function j_(){return new Vt(Ie.comparator)}const z3={asc:"ASCENDING",desc:"DESCENDING"},q3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F3={and:"AND",or:"OR"};class B3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rp(i,e){return i.useProto3Json||Jh(e)?e:{value:e}}function Dh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function H3(i,e){return Dh(i,e.toTimestamp())}function ps(i){return ut(!!i,49232),Pe.fromTimestamp((function(n){const r=ea(n);return new Rt(r.seconds,r.nanos)})(i))}function ay(i,e){return ap(i,e).canonicalString()}function ap(i,e){const n=(function(l){return new jt(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?n:n.child(e)}function qw(i){const e=jt.fromString(i);return ut(Gw(e),10190,{key:e.toString()}),e}function op(i,e){return ay(i.databaseId,e.path)}function Cg(i,e){const n=qw(e);if(n.get(1)!==i.databaseId.projectId)throw new Ee(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Ee(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ie(Bw(n))}function Fw(i,e){return ay(i.databaseId,e)}function $3(i){const e=qw(i);return e.length===4?jt.emptyPath():Bw(e)}function lp(i){return new jt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Bw(i){return ut(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function S_(i,e,n){return{name:op(i,e),fields:n.value.mapValue.fields}}function G3(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:De(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(p,_){return p.useProto3Json?(ut(_===void 0||typeof _=="string",58123),jn.fromBase64String(_||"")):(ut(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),jn.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const _=p.code===void 0?oe.UNKNOWN:Lw(p.code);return new Ee(_,p.message||"")})(d);n=new Uw(r,l,u,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Cg(i,r.document.name),u=ps(r.document.updateTime),d=r.document.createTime?ps(r.document.createTime):Pe.min(),g=new Bn({mapValue:{fields:r.document.fields}}),y=Cn.newFoundDocument(l,u,d,g),p=r.targetIds||[],_=r.removedTargetIds||[];n=new mh(p,_,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Cg(i,r.document),u=r.readTime?ps(r.readTime):Pe.min(),d=Cn.newNoDocument(l,u),g=r.removedTargetIds||[];n=new mh([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Cg(i,r.document),u=r.removedTargetIds||[];n=new mh([],u,l,null)}else{if(!("filter"in e))return De(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new P3(l,u),g=r.targetId;n=new Vw(g,d)}}return n}function K3(i,e){let n;if(e instanceof xu)n={update:S_(i,e.key,e.value)};else if(e instanceof kw)n={delete:op(i,e.key)};else if(e instanceof ha)n={update:S_(i,e.key,e.data),updateMask:nD(e.fieldMask)};else{if(!(e instanceof M3))return De(16599,{dt:e.type});n={verify:op(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const g=d.transform;if(g instanceof nu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof iu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof su)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Mh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw De(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:H3(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:De(27497)})(i,e.precondition)),n}function Y3(i,e){return i&&i.length>0?(ut(e!==void 0,14353),i.map((n=>(function(l,u){let d=l.updateTime?ps(l.updateTime):ps(u);return d.isEqual(Pe.min())&&(d=ps(u)),new I3(d,l.transformResults||[])})(n,e)))):[]}function W3(i,e){return{documents:[Fw(i,e.path)]}}function Q3(i,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Fw(i,l);const u=(function(p){if(p.length!==0)return $w(qi.create(p,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(p){if(p.length!==0)return p.map((_=>(function(N){return{field:Xo(N.field),direction:Z3(N.dir)}})(_)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=rp(i,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:l}}function X3(i){let e=$3(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){ut(r===1,65062);const _=n.from[0];_.allDescendants?l=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(E){const N=Hw(E);return N instanceof qi&&bw(N)?N.getFilters():[N]})(n.where));let d=[];n.orderBy&&(d=(function(E){return E.map((N=>(function(H){return new tu(Jo(H.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(N)))})(n.orderBy));let g=null;n.limit&&(g=(function(E){let N;return N=typeof E=="object"?E.value:E,Jh(N)?null:N})(n.limit));let y=null;n.startAt&&(y=(function(E){const N=!!E.before,V=E.values||[];return new Rh(V,N)})(n.startAt));let p=null;return n.endAt&&(p=(function(E){const N=!E.before,V=E.values||[];return new Rh(V,N)})(n.endAt)),f3(e,l,d,u,g,"F",y,p)}function J3(i,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Hw(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jo(n.unaryFilter.field);return sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Jo(n.unaryFilter.field);return sn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Jo(n.unaryFilter.field);return sn.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Jo(n.unaryFilter.field);return sn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(i):i.fieldFilter!==void 0?(function(n){return sn.create(Jo(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return qi.create(n.compositeFilter.filters.map((r=>Hw(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(n.compositeFilter.op))})(i):De(30097,{filter:i})}function Z3(i){return z3[i]}function eD(i){return q3[i]}function tD(i){return F3[i]}function Xo(i){return{fieldPath:i.canonicalString()}}function Jo(i){return Nn.fromServerFormat(i.fieldPath)}function $w(i){return i instanceof sn?(function(n){if(n.op==="=="){if(m_(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NAN"}};if(f_(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(m_(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NAN"}};if(f_(n.value))return{unaryFilter:{field:Xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(n.field),op:eD(n.op),value:n.value}}})(i):i instanceof qi?(function(n){const r=n.getFilters().map((l=>$w(l)));return r.length===1?r[0]:{compositeFilter:{op:tD(n.op),filters:r}}})(i):De(54877,{filter:i})}function nD(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Gw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function Kw(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class $r{constructor(e,n,r,l,u=Pe.min(),d=Pe.min(),g=jn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iD{constructor(e){this.yt=e}}function sD(i){const e=X3({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?sp(e,e.limit,"L"):e}class rD{constructor(){this.Sn=new aD}addToCollectionParentIndex(e,n){return this.Sn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Zr.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class aD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new un(jt.comparator),u=!l.has(r);return this.index[n]=l.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new un(jt.comparator)).toArray()}}const A_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yw=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(Yw,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);class dl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new dl(0)}static ar(){return new dl(-1)}}const I_="LruGarbageCollector",oD=1048576;function C_([i,e],[n,r]){const l=Xe(i,n);return l===0?Xe(e,r):l}class lD{constructor(e){this.Pr=e,this.buffer=new un(C_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();C_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Te(I_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_l(n)?Te(I_,"Ignoring IndexedDB error during garbage collection: ",n):await vl(n)}await this.Ar(3e5)}))}}class uD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Xh.ce);const r=new lD(n);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(A_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,l,u,d,g,y,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),l=this.params.maximumSequenceNumbersToCollect):l=E,d=Date.now(),this.nthSequenceNumber(e,l)))).next((E=>(r=E,g=Date.now(),this.removeTargets(e,r,n)))).next((E=>(u=E,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((E=>(p=Date.now(),Wo()<=Qe.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-_}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${E} documents in `+(p-y)+`ms
Total Duration: ${p-_}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:E}))))}}function dD(i,e){return new uD(i,e)}class hD{constructor(){this.changes=new so((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class mD{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&Fc(r.mutation,l,ni.empty(),Rt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Je()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Je()){const l=Ha();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((u=>{let d=Mc();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=Ha();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Je())))}populateOverlays(e,n,r){const l=[];return r.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(e,n,r,l){let u=Zs();const d=qc(),g=(function(){return qc()})();return n.forEach(((y,p)=>{const _=r.get(p.key);l.has(p.key)&&(_===void 0||_.mutation instanceof ha)?u=u.insert(p.key,p):_!==void 0?(d.set(p.key,_.mutation.getFieldMask()),Fc(_.mutation,p,_.mutation.getFieldMask(),Rt.now())):d.set(p.key,ni.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((p,_)=>d.set(p,_))),n.forEach(((p,_)=>g.set(p,new fD(_,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,n){const r=qc();let l=new Vt(((d,g)=>d-g)),u=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let _=r.get(y)||ni.empty();_=g.applyToLocalView(p,_),r.set(y,_);const E=(l.get(g.batchId)||Je()).add(y);l=l.insert(g.batchId,E)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,_=y.value,E=Aw();_.forEach((N=>{if(!u.has(N)){const V=Ow(n.get(N),r.get(N));V!==null&&E.set(N,V),u=u.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,E))}return le.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return m3(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Tw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-u.size):le.resolve(Ha());let g=Xc,y=u;return d.next((p=>le.forEach(p,((_,E)=>(g<E.largestBatchId&&(g=E.largestBatchId),u.get(_)?le.resolve():this.remoteDocumentCache.getEntry(e,_).next((N=>{y=y.insert(_,N)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,y,p,Je()))).next((_=>({batchId:g,changes:Sw(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((r=>{let l=Mc();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const u=n.collectionGroup;let d=Mc();return this.indexManager.getCollectionParents(e,u).next((g=>le.forEach(g,(y=>{const p=(function(E,N){return new El(N,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,r,l).next((_=>{_.forEach(((E,N)=>{d=d.insert(E,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,l)))).next((d=>{u.forEach(((y,p)=>{const _=p.getKey();d.get(_)===null&&(d=d.insert(_,Cn.newInvalidDocument(_)))}));let g=Mc();return d.forEach(((y,p)=>{const _=u.get(y);_!==void 0&&Fc(_.mutation,p,ni.empty(),Rt.now()),tf(n,p)&&(g=g.insert(y,p))})),g}))}}class gD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return le.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:ps(l.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:sD(l.bundledQuery),readTime:ps(l.readTime)}})(n)),le.resolve()}}class pD{constructor(){this.overlays=new Vt(Ie.comparator),this.Lr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ha();return le.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,u)=>{this.bt(e,n,u)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const l=Ha(),u=n.length+1,d=new Ie(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>r&&l.set(y.getKey(),y)}return le.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let u=new Vt(((p,_)=>p-_));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let _=u.get(p.largestBatchId);_===null&&(_=Ha(),u=u.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const g=Ha(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,_)=>g.set(p,_))),!(g.size()>=l)););return le.resolve(g)}bt(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new O3(n,r));let u=this.Lr.get(n);u===void 0&&(u=Je(),this.Lr.set(n,u)),this.Lr.set(n,u.add(r.key))}}class yD{constructor(){this.sessionToken=jn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class oy{constructor(){this.kr=new un(pn.Kr),this.qr=new un(pn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new pn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new pn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Ie(new jt([])),r=new pn(n,e),l=new pn(n,e+1),u=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ie(new jt([])),r=new pn(n,e),l=new pn(n,e+1);let u=Je();return this.qr.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new pn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ie.comparator(e.key,n.key)||Xe(e.Hr,n.Hr)}static Ur(e,n){return Xe(e.Hr,n.Hr)||Ie.comparator(e.key,n.key)}}class xD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new un(pn.Kr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new D3(u,n,r,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new pn(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return le.resolve(d)}lookupMutationBatch(e,n){return le.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.Xr(r),u=l<0?0:l;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Xp:this.Yn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pn(n,0),l=new pn(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([r,l],(d=>{const g=this.Zr(d.Hr);u.push(g)})),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(Xe);return n.forEach((l=>{const u=new pn(l,0),d=new pn(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(g=>{r=r.add(g.Hr)}))})),le.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let u=r;Ie.isDocumentKey(u)||(u=u.child(""));const d=new pn(new Ie(u),0);let g=new un(Xe);return this.Jr.forEachWhile((y=>{const p=y.key.path;return!!r.isPrefixOf(p)&&(p.length===l&&(g=g.add(y.Hr)),!0)}),d),le.resolve(this.Yr(g))}Yr(e){const n=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){ut(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return le.forEach(n.mutations,(l=>{const u=new pn(l.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new pn(n,0),l=this.Jr.firstAfterOrEqual(r);return le.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class bD{constructor(e){this.ti=e,this.docs=(function(){return new Vt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),u=l?l.size:0,d=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=Zs();return n.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():Cn.newInvalidDocument(l))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let u=Zs();const d=n.path,g=new Ie(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:_}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||HM(BM(_),r)<=0||(l.has(_.key)||tf(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,n,r,l){De(9500)}ni(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new vD(this)}getSize(e){return le.resolve(this.size)}}class vD extends hD{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class _D{constructor(e){this.persistence=e,this.ri=new so((n=>ey(n)),ty),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.ii=0,this.si=new oy,this.targetCount=0,this.oi=dl._r()}forEachTarget(e,n){return this.ri.forEach(((r,l)=>n(l))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),le.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.lr(n),le.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let l=0;const u=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),le.waitFor(u).next((()=>l))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),le.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.si.containsKey(n))}}class Ww{constructor(e,n){this._i={},this.overlays={},this.ai=new Xh(0),this.ui=!1,this.ui=!0,this.ci=new yD,this.referenceDelegate=e(this),this.li=new _D(this),this.indexManager=new rD,this.remoteDocumentCache=(function(l){return new bD(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new iD(n),this.Pi=new gD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new xD(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const l=new ED(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(e,n){return le.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class ED extends GM{constructor(e){super(),this.currentSequenceNumber=e}}class ly{constructor(e){this.persistence=e,this.Ri=new oy,this.Ai=null}static Vi(e){return new ly(e)}get di(){if(this.Ai)return this.Ai;throw De(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,(r=>{const l=Ie.fromPath(r);return this.mi(e,l).next((u=>{u||n.removeEntry(l,Pe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Oh{constructor(e,n){this.persistence=e,this.fi=new so((r=>WM(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=dD(this,n)}static Vi(e,n){return new Oh(e,n)}Ti(){}Ii(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return le.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((u=>u?le.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,n).next((g=>{g||(r++,u.removeEntry(d,Pe.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dh(e.data.value)),n}wr(e,n,r){return le.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.fi.get(n);return le.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cy{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=l}static Es(e,n){let r=Je(),l=Je();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new cy(e,n.fromCache,r,l)}}class TD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class wD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return jA()?8:KM(Rn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const u={result:null};return this.gs(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(e,n,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new TD;return this.ys(e,n,d).next((g=>{if(u.result=g,this.As)return this.ws(e,n,d,g.size)}))})).next((()=>u.result))}ws(e,n,r,l){return r.documentReadCount<this.Vs?(Wo()<=Qe.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(Wo()<=Qe.DEBUG&&Te("QueryEngine","Query:",Qo(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Wo()<=Qe.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ms(n))):le.resolve())}gs(e,n){if(x_(n))return le.resolve(null);let r=ms(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=sp(n,null,"F"),r=ms(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=Je(...u);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((y=>{const p=this.bs(n,g);return this.Ss(n,p,d,y.readTime)?this.gs(e,sp(n,null,"F")):this.Ds(e,p,n,y)}))))})))))}ps(e,n,r,l){return x_(n)||l.isEqual(Pe.min())?le.resolve(null):this.fs.getDocuments(e,r).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,r,l)?le.resolve(null):(Wo()<=Qe.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Qo(n)),this.Ds(e,d,n,FM(l,Xc)).next((g=>g)))}))}bs(e,n){let r=new un(Nw(e));return n.forEach(((l,u)=>{tf(e,u)&&(r=r.add(u))})),r}Ss(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(e,n,r){return Wo()<=Qe.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Qo(n)),this.fs.getDocumentsMatchingQuery(e,n,Zr.min(),r)}Ds(e,n,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const uy="LocalStore",ND=3e8;class jD{constructor(e,n,r,l){this.persistence=e,this.Cs=n,this.serializer=l,this.vs=new Vt(Xe),this.Fs=new so((u=>ey(u)),ty),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function SD(i,e,n,r){return new jD(i,e,n,r)}async function Qw(i,e){const n=Ve(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],g=[];let y=Je();for(const p of l){d.push(p.batchId);for(const _ of p.mutations)y=y.add(_.key)}for(const p of u){g.push(p.batchId);for(const _ of p.mutations)y=y.add(_.key)}return n.localDocuments.getDocuments(r,y).next((p=>({Ns:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function AD(i,e){const n=Ve(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,_){const E=p.batch,N=E.keys();let V=le.resolve();return N.forEach((H=>{V=V.next((()=>_.getEntry(y,H))).next((z=>{const q=p.docVersions.get(H);ut(q!==null,48541),z.version.compareTo(q)<0&&(E.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),_.addEntry(z)))}))})),V.next((()=>g.mutationQueue.removeMutationBatch(y,E)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=Je();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function Xw(i){const e=Ve(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function ID(i,e){const n=Ve(i),r=e.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const g=[];e.targetChanges.forEach(((_,E)=>{const N=l.get(E);if(!N)return;g.push(n.li.removeMatchingKeys(u,_.removedDocuments,E).next((()=>n.li.addMatchingKeys(u,_.addedDocuments,E))));let V=N.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?V=V.withResumeToken(jn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):_.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(_.resumeToken,r)),l=l.insert(E,V),(function(z,q,ne){return z.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=ND?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(N,V,_)&&g.push(n.li.updateTargetData(u,V))}));let y=Zs(),p=Je();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),g.push(CD(u,d,e.documentUpdates).next((_=>{y=_.Bs,p=_.Ls}))),!r.isEqual(Pe.min())){const _=n.li.getLastRemoteSnapshotVersion(u).next((E=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(_)}return le.waitFor(g).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(n.vs=l,u)))}function CD(i,e,n){let r=Je(),l=Je();return n.forEach((u=>r=r.add(u))),e.getEntries(i,r).next((u=>{let d=Zs();return n.forEach(((g,y)=>{const p=u.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Pe.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):Te(uy,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{Bs:d,Ls:l}}))}function RD(i,e){const n=Ve(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Xp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function MD(i,e){const n=Ve(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.li.getTargetData(r,e).next((u=>u?(l=u,le.resolve(l)):n.li.allocateTargetId(r).next((d=>(l=new $r(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function cp(i,e,n){const r=Ve(i),l=r.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!_l(d))throw d;Te(uy,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function R_(i,e,n){const r=Ve(i);let l=Pe.min(),u=Je();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,_){const E=Ve(y),N=E.Fs.get(_);return N!==void 0?le.resolve(E.vs.get(N)):E.li.getTargetData(p,_)})(r,d,ms(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,n?l:Pe.min(),n?u:Je()))).next((g=>(DD(r,y3(e),g),{documents:g,ks:u})))))}function DD(i,e,n){let r=i.Ms.get(e)||Pe.min();n.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Ms.set(e,r)}class M_{constructor(){this.activeTargetIds=T3()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OD{constructor(){this.vo=new M_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new M_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class PD{Mo(e){}shutdown(){}}const D_="ConnectivityMonitor";class O_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Te(D_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Te(D_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zd=null;function up(){return Zd===null?Zd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zd++,"0x"+Zd.toString(16)}const Rg="RestConnection",kD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class LD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===Ih?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,n,r,l,u){const d=up(),g=this.Qo(e,n.toUriEncodedString());Te(Rg,`Sending RPC '${e}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,l,u);const{host:p}=new URL(g),_=pl(p);return this.zo(e,g,y,r,_).then((E=>(Te(Rg,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw ol(Rg,`RPC '${e}' ${d} failed with error: `,E,"url: ",g,"request:",r),E}))}jo(e,n,r,l,u,d){return this.Wo(e,n,r,l,u)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}Qo(e,n){const r=kD[e];let l=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class VD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const An="WebChannelConnection",Sc=(i,e,n)=>{i.listen(e,(r=>{try{n(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class il extends LD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!il.c_){const e=tw();Sc(e,ew.STAT_EVENT,(n=>{n.stat===Xg.PROXY?Te(An,"STAT_EVENT: detected buffering proxy"):n.stat===Xg.NOPROXY&&Te(An,"STAT_EVENT: detected no buffering proxy")})),il.c_=!0}}zo(e,n,r,l,u){const d=up();return new Promise(((g,y)=>{const p=new JT;p.setWithCredentials(!0),p.listenOnce(ZT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case uh.NO_ERROR:const E=p.getResponseJson();Te(An,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),g(E);break;case uh.TIMEOUT:Te(An,`RPC '${e}' ${d} timed out`),y(new Ee(oe.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const N=p.getStatus();if(Te(An,`RPC '${e}' ${d} failed with status:`,N,"response text:",p.getResponseText()),N>0){let V=p.getResponseJson();Array.isArray(V)&&(V=V[0]);const H=V?.error;if(H&&H.status&&H.message){const z=(function(ne){const Z=ne.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(Z)>=0?Z:oe.UNKNOWN})(H.status);y(new Ee(z,H.message))}else y(new Ee(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new Ee(oe.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Te(An,`RPC '${e}' ${d} completed.`)}}));const _=JSON.stringify(l);Te(An,`RPC '${e}' ${d} sending request:`,l),p.send(n,"POST",_,r,15)}))}T_(e,n,r){const l=up(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const p=u.join("");Te(An,`Creating RPC '${e}' stream ${l}: ${p}`,g);const _=d.createWebChannel(p,g);this.I_(_);let E=!1,N=!1;const V=new VD({Ho:H=>{N?Te(An,`Not sending because RPC '${e}' stream ${l} is closed:`,H):(E||(Te(An,`Opening RPC '${e}' stream ${l} transport.`),_.open(),E=!0),Te(An,`RPC '${e}' stream ${l} sending:`,H),_.send(H))},Jo:()=>_.close()});return Sc(_,Rc.EventType.OPEN,(()=>{N||(Te(An,`RPC '${e}' stream ${l} transport opened.`),V.i_())})),Sc(_,Rc.EventType.CLOSE,(()=>{N||(N=!0,Te(An,`RPC '${e}' stream ${l} transport closed`),V.o_(),this.E_(_))})),Sc(_,Rc.EventType.ERROR,(H=>{N||(N=!0,ol(An,`RPC '${e}' stream ${l} transport errored. Name:`,H.name,"Message:",H.message),V.o_(new Ee(oe.UNAVAILABLE,"The operation could not be completed")))})),Sc(_,Rc.EventType.MESSAGE,(H=>{if(!N){const z=H.data[0];ut(!!z,16349);const q=z,ne=q?.error||q[0]?.error;if(ne){Te(An,`RPC '${e}' stream ${l} received error:`,ne);const Z=ne.status;let J=(function(ge){const A=nn[ge];if(A!==void 0)return Lw(A)})(Z),B=ne.message;J===void 0&&(J=oe.INTERNAL,B="Unknown error status: "+Z+" with message "+ne.message),N=!0,V.o_(new Ee(J,B)),_.close()}else Te(An,`RPC '${e}' stream ${l} received:`,z),V.__(z)}})),il.u_(),setTimeout((()=>{V.s_()}),0),V}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return nw()}}function UD(i){return new il(i)}function Mg(){return typeof document<"u"?document:null}function af(i){return new B3(i,!0)}il.c_=!1;class Jw{constructor(e,n,r=1e3,l=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&Te("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const P_="PersistentStream";class Zw{constructor(e,n,r,l,u,d,g,y){this.Ci=e,this.b_=r,this.S_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Jw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Js(n.toString()),Js("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new Ee(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(P_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Te(P_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zD extends Zw{constructor(e,n,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=G3(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Pe.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Pe.min():d.readTime?ps(d.readTime):Pe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=lp(this.serializer),n.addTarget=(function(u,d){let g;const y=d.target;if(g=np(y)?{documents:W3(u,y)}:{query:Q3(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=zw(u,d.resumeToken);const p=rp(u,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(Pe.min())>0){g.readTime=Dh(u,d.snapshotVersion.toTimestamp());const p=rp(u,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const r=J3(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=lp(this.serializer),n.removeTarget=e,this.K_(n)}}class qD extends Zw{constructor(e,n,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Y3(e.writeResults,e.commitTime),r=ps(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=lp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>K3(this.serializer,r)))};this.K_(n)}}class FD{}class BD extends FD{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Ee(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(e,ap(n,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(oe.UNKNOWN,u.toString())}))}jo(e,n,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,ap(n,r),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ee(oe.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function HD(i,e,n,r){return new BD(i,e,n,r)}class $D{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Js(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const to="RemoteStore";class GD{constructor(e,n,r,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{ro(this)&&(Te(to,"Restarting streams for network reachability change."),await(async function(y){const p=Ve(y);p.Ea.add(4),await vu(p),p.Va.set("Unknown"),p.Ea.delete(4),await of(p)})(this))}))})),this.Va=new $D(r,l)}}async function of(i){if(ro(i))for(const e of i.Ra)await e(!0)}async function vu(i){for(const e of i.Ra)await e(!1)}function eN(i,e){const n=Ve(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),my(n)?fy(n):Tl(n).O_()&&hy(n,e))}function dy(i,e){const n=Ve(i),r=Tl(n);n.Ia.delete(e),r.O_()&&tN(n,e),n.Ia.size===0&&(r.O_()?r.L_():ro(n)&&n.Va.set("Unknown"))}function hy(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tl(i).Z_(e)}function tN(i,e){i.da.$e(e),Tl(i).X_(e)}function fy(i){i.da=new U3({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Tl(i).start(),i.Va.ua()}function my(i){return ro(i)&&!Tl(i).x_()&&i.Ia.size>0}function ro(i){return Ve(i).Ea.size===0}function nN(i){i.da=void 0}async function KD(i){i.Va.set("Online")}async function YD(i){i.Ia.forEach(((e,n)=>{hy(i,e)}))}async function WD(i,e){nN(i),my(i)?(i.Va.ha(e),fy(i)):i.Va.set("Unknown")}async function QD(i,e,n){if(i.Va.set("Online"),e instanceof Uw&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(i,e)}catch(r){Te(to,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ph(i,r)}else if(e instanceof mh?i.da.Xe(e):e instanceof Vw?i.da.st(e):i.da.tt(e),!n.isEqual(Pe.min()))try{const r=await Xw(i.localStore);n.compareTo(r)>=0&&await(function(u,d){const g=u.da.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const _=u.Ia.get(p);_&&u.Ia.set(p,_.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const _=u.Ia.get(y);if(!_)return;u.Ia.set(y,_.withResumeToken(jn.EMPTY_BYTE_STRING,_.snapshotVersion)),tN(u,y);const E=new $r(_.target,y,p,_.sequenceNumber);hy(u,E)})),u.remoteSyncer.applyRemoteEvent(g)})(i,n)}catch(r){Te(to,"Failed to raise snapshot:",r),await Ph(i,r)}}async function Ph(i,e,n){if(!_l(e))throw e;i.Ea.add(1),await vu(i),i.Va.set("Offline"),n||(n=()=>Xw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{Te(to,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await of(i)}))}function iN(i,e){return e().catch((n=>Ph(i,n,e)))}async function lf(i){const e=Ve(i),n=ia(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xp;for(;XD(e);)try{const l=await RD(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,JD(e,l)}catch(l){await Ph(e,l)}sN(e)&&rN(e)}function XD(i){return ro(i)&&i.Ta.length<10}function JD(i,e){i.Ta.push(e);const n=ia(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function sN(i){return ro(i)&&!ia(i).x_()&&i.Ta.length>0}function rN(i){ia(i).start()}async function ZD(i){ia(i).ra()}async function eO(i){const e=ia(i);for(const n of i.Ta)e.ea(n.mutations)}async function tO(i,e,n){const r=i.Ta.shift(),l=sy.from(r,e,n);await iN(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await lf(i)}async function nO(i,e){e&&ia(i).Y_&&await(async function(r,l){if((function(d){return k3(d)&&d!==oe.ABORTED})(l.code)){const u=r.Ta.shift();ia(r).B_(),await iN(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await lf(r)}})(i,e),sN(i)&&rN(i)}async function k_(i,e){const n=Ve(i);n.asyncQueue.verifyOperationInProgress(),Te(to,"RemoteStore received new credentials");const r=ro(n);n.Ea.add(3),await vu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await of(n)}async function iO(i,e){const n=Ve(i);e?(n.Ea.delete(2),await of(n)):e||(n.Ea.add(2),await vu(n),n.Va.set("Unknown"))}function Tl(i){return i.ma||(i.ma=(function(n,r,l){const u=Ve(n);return u.sa(),new zD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Zo:KD.bind(null,i),Yo:YD.bind(null,i),t_:WD.bind(null,i),J_:QD.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),my(i)?fy(i):i.Va.set("Unknown")):(await i.ma.stop(),nN(i))}))),i.ma}function ia(i){return i.fa||(i.fa=(function(n,r,l){const u=Ve(n);return u.sa(),new qD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ZD.bind(null,i),t_:nO.bind(null,i),ta:eO.bind(null,i),na:tO.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await lf(i)):(await i.fa.stop(),i.Ta.length>0&&(Te(to,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class gy{constructor(e,n,r,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new Ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,u){const d=Date.now()+r,g=new gy(e,n,d,l,u);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function py(i,e){if(Js("AsyncQueue",`${e}: ${i}`),_l(i))return new Ee(oe.UNAVAILABLE,`${e}: ${i}`);throw i}class sl{static emptySet(e){return new sl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Mc(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof sl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new sl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class L_{constructor(){this.ga=new Vt(Ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):De(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class hl{constructor(e,n,r,l,u,d,g,y,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,l,u){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new hl(e,n,sl.emptySet(n),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class sO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class rO{constructor(){this.queries=V_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Ve(n),u=l.queries;l.queries=V_(),u.forEach(((d,g)=>{for(const y of g.ba)y.onError(r)}))})(this,new Ee(oe.ABORTED,"Firestore shutting down"))}}function V_(){return new so((i=>ww(i)),ef)}async function aO(i,e){const n=Ve(i);let r=3;const l=e.query;let u=n.queries.get(l);u?!u.Sa()&&e.Da()&&(r=2):(u=new sO,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=py(d,`Initialization of query '${Qo(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&yy(n)}async function oO(i,e){const n=Ve(i),r=e.query;let l=3;const u=n.queries.get(r);if(u){const d=u.ba.indexOf(e);d>=0&&(u.ba.splice(d,1),u.ba.length===0?l=e.Da()?0:1:!u.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lO(i,e){const n=Ve(i);let r=!1;for(const l of e){const u=l.query,d=n.queries.get(u);if(d){for(const g of d.ba)g.Fa(l)&&(r=!0);d.wa=l}}r&&yy(n)}function cO(i,e,n){const r=Ve(i),l=r.queries.get(e);if(l)for(const u of l.ba)u.onError(n);r.queries.delete(e)}function yy(i){i.Ca.forEach((e=>{e.next()}))}var dp,U_;(U_=dp||(dp={})).Ma="default",U_.Cache="cache";class uO{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dp.Cache}}class aN{constructor(e){this.key=e}}class oN{constructor(e){this.key=e}}class dO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Je(),this.mutatedKeys=Je(),this.eu=Nw(e),this.tu=new sl(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new L_,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((_,E)=>{const N=l.get(_),V=tf(this.query,E)?E:null,H=!!N&&this.mutatedKeys.has(N.key),z=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let q=!1;N&&V?N.data.isEqual(V.data)?H!==z&&(r.track({type:3,doc:V}),q=!0):this.su(N,V)||(r.track({type:2,doc:V}),q=!0,(y&&this.eu(V,y)>0||p&&this.eu(V,p)<0)&&(g=!0)):!N&&V?(r.track({type:0,doc:V}),q=!0):N&&!V&&(r.track({type:1,doc:N}),q=!0,(y||p)&&(g=!0)),q&&(V?(d=d.add(V),u=z?u.add(_):u.delete(_)):(d=d.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const _=this.query.limitType==="F"?d.last():d.first();d=d.delete(_.key),u=u.delete(_.key),r.track({type:1,doc:_})}return{tu:d,iu:r,Ss:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((_,E)=>(function(V,H){const z=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Vt:q})}};return z(V)-z(H)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(r),l=l??!1;const g=n&&!l?this._u():[],y=this.Ya.size===0&&this.current&&!l?1:0,p=y!==this.Xa;return this.Xa=y,d.length!==0||p?{snapshot:new hl(this.query,e.tu,u,d,e.mutatedKeys,y===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new oN(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new aN(r))})),n}cu(e){this.Za=e.ks,this.Ya=Je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const xy="SyncEngine";class hO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fO{constructor(e){this.key=e,this.hu=!1}}class mO{constructor(e,n,r,l,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new so((g=>ww(g)),ef),this.Iu=new Map,this.Eu=new Set,this.Ru=new Vt(Ie.comparator),this.Au=new Map,this.Vu=new oy,this.du={},this.mu=new Map,this.fu=dl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gO(i,e,n=!0){const r=fN(i);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await lN(r,e,n,!0),l}async function pO(i,e){const n=fN(i);await lN(n,e,!0,!1)}async function lN(i,e,n,r){const l=await MD(i.localStore,ms(e)),u=l.targetId,d=i.sharedClientState.addLocalQueryTarget(u,n);let g;return r&&(g=await yO(i,e,u,d==="current",l.resumeToken)),i.isPrimaryClient&&n&&eN(i.remoteStore,l),g}async function yO(i,e,n,r,l){i.pu=(E,N,V)=>(async function(z,q,ne,Z){let J=q.view.ru(ne);J.Ss&&(J=await R_(z.localStore,q.query,!1).then((({documents:A})=>q.view.ru(A,J))));const B=Z&&Z.targetChanges.get(q.targetId),de=Z&&Z.targetMismatches.get(q.targetId)!=null,ge=q.view.applyChanges(J,z.isPrimaryClient,B,de);return q_(z,q.targetId,ge.au),ge.snapshot})(i,E,N,V);const u=await R_(i.localStore,e,!0),d=new dO(e,u.ks),g=d.ru(u.documents),y=bu.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",l),p=d.applyChanges(g,i.isPrimaryClient,y);q_(i,n,p.au);const _=new hO(e,n,d);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function xO(i,e,n){const r=Ve(i),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!ef(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await cp(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&dy(r.remoteStore,l.targetId),hp(r,l.targetId)})).catch(vl)):(hp(r,l.targetId),await cp(r.localStore,l.targetId,!0))}async function bO(i,e){const n=Ve(i),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dy(n.remoteStore,r.targetId))}async function vO(i,e,n){const r=SO(i);try{const l=await(function(d,g){const y=Ve(d),p=Rt.now(),_=g.reduce(((V,H)=>V.add(H.key)),Je());let E,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let H=Zs(),z=Je();return y.xs.getEntries(V,_).next((q=>{H=q,H.forEach(((ne,Z)=>{Z.isValidDocument()||(z=z.add(ne))}))})).next((()=>y.localDocuments.getOverlayedDocuments(V,H))).next((q=>{E=q;const ne=[];for(const Z of g){const J=R3(Z,E.get(Z.key).overlayedDocument);J!=null&&ne.push(new ha(Z.key,J,pw(J.value.mapValue),gs.exists(!0)))}return y.mutationQueue.addMutationBatch(V,p,ne,g)})).next((q=>{N=q;const ne=q.applyToLocalDocumentSet(E,z);return y.documentOverlayCache.saveOverlays(V,q.batchId,ne)}))})).then((()=>({batchId:N.batchId,changes:Sw(E)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let p=d.du[d.currentUser.toKey()];p||(p=new Vt(Xe)),p=p.insert(g,y),d.du[d.currentUser.toKey()]=p})(r,l.batchId,n),await _u(r,l.changes),await lf(r.remoteStore)}catch(l){const u=py(l,"Failed to persist write");n.reject(u)}}async function cN(i,e){const n=Ve(i);try{const r=await ID(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(ut(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?ut(d.hu,14607):l.removedDocuments.size>0&&(ut(d.hu,42227),d.hu=!1))})),await _u(n,r,e)}catch(r){await vl(r)}}function z_(i,e,n){const r=Ve(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((u,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Ve(d);y.onlineState=g;let p=!1;y.queries.forEach(((_,E)=>{for(const N of E.ba)N.va(g)&&(p=!0)})),p&&yy(y)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _O(i,e,n){const r=Ve(i);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new Vt(Ie.comparator);d=d.insert(u,Cn.newNoDocument(u,Pe.min()));const g=Je().add(u),y=new rf(Pe.min(),new Map,new Vt(Xe),d,g);await cN(r,y),r.Ru=r.Ru.remove(u),r.Au.delete(e),by(r)}else await cp(r.localStore,e,!1).then((()=>hp(r,e,n))).catch(vl)}async function EO(i,e){const n=Ve(i),r=e.batch.batchId;try{const l=await AD(n.localStore,e);dN(n,r,null),uN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _u(n,l)}catch(l){await vl(l)}}async function TO(i,e,n){const r=Ve(i);try{const l=await(function(d,g){const y=Ve(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return y.mutationQueue.lookupMutationBatch(p,g).next((E=>(ut(E!==null,37113),_=E.keys(),y.mutationQueue.removeMutationBatch(p,E)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,_,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>y.localDocuments.getDocuments(p,_)))}))})(r.localStore,e);dN(r,e,n),uN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _u(r,l)}catch(l){await vl(l)}}function uN(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function dN(i,e,n){const r=Ve(i);let l=r.du[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function hp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((r=>{i.Vu.containsKey(r)||hN(i,r)}))}function hN(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(dy(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),by(i))}function q_(i,e,n){for(const r of n)r instanceof aN?(i.Vu.addReference(r.key,e),wO(i,r)):r instanceof oN?(Te(xy,"Document no longer in limbo: "+r.key),i.Vu.removeReference(r.key,e),i.Vu.containsKey(r.key)||hN(i,r.key)):De(19791,{wu:r})}function wO(i,e){const n=e.key,r=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(r)||(Te(xy,"New document in limbo: "+n),i.Eu.add(r),by(i))}function by(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Ie(jt.fromString(e)),r=i.fu.next();i.Au.set(r,new fO(n)),i.Ru=i.Ru.insert(n,r),eN(i.remoteStore,new $r(ms(ny(n.path)),r,"TargetPurposeLimboResolution",Xh.ce))}}async function _u(i,e,n){const r=Ve(i),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,_?"current":"not-current")}if(p){l.push(p);const _=cy.Es(y.targetId,p);u.push(_)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(y,p){const _=Ve(y);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>le.forEach(p,(N=>le.forEach(N.Ts,(V=>_.persistence.referenceDelegate.addReference(E,N.targetId,V))).next((()=>le.forEach(N.Is,(V=>_.persistence.referenceDelegate.removeReference(E,N.targetId,V)))))))))}catch(E){if(!_l(E))throw E;Te(uy,"Failed to update sequence numbers: "+E)}for(const E of p){const N=E.targetId;if(!E.fromCache){const V=_.vs.get(N),H=V.snapshotVersion,z=V.withLastLimboFreeSnapshotVersion(H);_.vs=_.vs.insert(N,z)}}})(r.localStore,u))}async function NO(i,e){const n=Ve(i);if(!n.currentUser.isEqual(e)){Te(xy,"User change. New user:",e.toKey());const r=await Qw(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new Ee(oe.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _u(n,r.Ns)}}function jO(i,e){const n=Ve(i),r=n.Au.get(e);if(r&&r.hu)return Je().add(r.key);{let l=Je();const u=n.Iu.get(e);if(!u)return l;for(const d of u){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function fN(i){const e=Ve(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=cN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_O.bind(null,e),e.Pu.J_=lO.bind(null,e.eventManager),e.Pu.yu=cO.bind(null,e.eventManager),e}function SO(i){const e=Ve(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TO.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SD(this.persistence,new wD,e.initialUser,this.serializer)}Cu(e){return new Ww(ly.Vi,this.serializer)}Du(e){return new OD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class AO extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof Oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new Ww((r=>Oh.Vi(r,n)),this.serializer)}}class fp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NO.bind(null,this.syncEngine),await iO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rO})()}createDatastore(e){const n=af(e.databaseInfo.databaseId),r=UD(e.databaseInfo);return HD(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,u,d,g){return new GD(r,l,u,d,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>z_(this.syncEngine,n,0)),(function(){return O_.v()?new O_:new PD})())}createSyncEngine(e,n){return(function(l,u,d,g,y,p,_){const E=new mO(l,u,d,g,y,p);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ve(n);Te(to,"RemoteStore shutting down."),r.Ea.add(5),await vu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fp.provider={build:()=>new fp};class IO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Js("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const sa="FirestoreClient";class CO{constructor(e,n,r,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=l,this.user=In.UNAUTHENTICATED,this.clientId=Qp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{Te(sa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(Te(sa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=py(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Dg(i,e){i.asyncQueue.verifyOperationInProgress(),Te(sa,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async l=>{r.isEqual(l)||(await Qw(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function F_(i,e){i.asyncQueue.verifyOperationInProgress();const n=await RO(i);Te(sa,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>k_(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,l)=>k_(e.remoteStore,l))),i._onlineComponents=e}async function RO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Te(sa,"Using user provided OfflineComponentProvider");try{await Dg(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===oe.FAILED_PRECONDITION||l.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;ol("Error using user provided cache. Falling back to memory cache: "+n),await Dg(i,new kh)}}else Te(sa,"Using default OfflineComponentProvider"),await Dg(i,new AO(void 0));return i._offlineComponents}async function mN(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Te(sa,"Using user provided OnlineComponentProvider"),await F_(i,i._uninitializedComponentsProvider._online)):(Te(sa,"Using default OnlineComponentProvider"),await F_(i,new fp))),i._onlineComponents}function MO(i){return mN(i).then((e=>e.syncEngine))}async function B_(i){const e=await mN(i),n=e.eventManager;return n.onListen=gO.bind(null,e.syncEngine),n.onUnlisten=xO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bO.bind(null,e.syncEngine),n}function DO(i,e,n,r){const l=new IO(r),u=new uO(e,l,n);return i.asyncQueue.enqueueAndForget((async()=>aO(await B_(i),u))),()=>{l.Nu(),i.asyncQueue.enqueueAndForget((async()=>oO(await B_(i),u)))}}function OO(i,e){const n=new Ga;return i.asyncQueue.enqueueAndForget((async()=>vO(await MO(i),e,n))),n.promise}function gN(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const PO="ComponentProvider",H_=new Map;function kO(i,e,n,r,l){return new JM(i,e,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,gN(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}const pN="firestore.googleapis.com",$_=!0;class G_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pN,this.ssl=$_}else this.host=e.host,this.ssl=e.ssl??$_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oD)throw new Ee(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gN(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ee(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cf{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new RM;switch(r.type){case"firstParty":return new PM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=H_.get(n);r&&(Te(PO,"Removing Datastore"),H_.delete(n),r.terminate())})(this),Promise.resolve()}}function LO(i,e,n,r={}){i=Ka(i,cf);const l=pl(e),u=i._getSettings(),d={...u,emulatorOptions:i._getEmulatorOptions()},g=`${e}:${n}`;l&&(FE(`https://${g}`),BE("Firestore",!0)),u.host!==pN&&u.host!==g&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:r};if(!Jr(y,d)&&(i._setSettings(y),r.mockUserToken)){let p,_;if(typeof r.mockUserToken=="string")p=r.mockUserToken,_=In.MOCK_USER;else{p=xA(r.mockUserToken,i._app?.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Ee(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new In(E)}i._authCredentials=new MM(new sw(p,_))}}class ao{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class an{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}toJSON(){return{type:an._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yu(n,an._jsonSchema))return new an(e,r||null,new Ie(jt.fromString(n.referencePath)))}}an._jsonSchemaVersion="firestore/documentReference/1.0",an._jsonSchema={type:rn("string",an._jsonSchemaVersion),referencePath:rn("string")};class Qr extends ao{constructor(e,n,r){super(e,n,ny(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new Ie(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function K_(i,e,...n){if(i=Bt(i),rw("collection","path",e),i instanceof cf){const r=jt.fromString(e,...n);return s_(r),new Qr(i,null,r)}{if(!(i instanceof an||i instanceof Qr))throw new Ee(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(jt.fromString(e,...n));return s_(r),new Qr(i.firestore,null,r)}}function yN(i,e,...n){if(i=Bt(i),arguments.length===1&&(e=Qp.newId()),rw("doc","path",e),i instanceof cf){const r=jt.fromString(e,...n);return i_(r),new an(i,null,new Ie(r))}{if(!(i instanceof an||i instanceof Qr))throw new Ee(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(jt.fromString(e,...n));return i_(r),new an(i.firestore,i instanceof Qr?i.converter:null,new Ie(r))}}const Y_="AsyncQueue";class W_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Jw(this,"async_queue_retry"),this._c=()=>{const r=Mg();r&&Te(Y_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Mg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ga;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!_l(e))throw e;Te(Y_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Js("INTERNAL UNHANDLED ERROR: ",Q_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=gy.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&De(47125,{Pc:Q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Q_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ru extends cf{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new W_,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new W_(e),this._firestoreClient=void 0,await e}}}function VO(i,e){const n=typeof i=="object"?i:Rp(),r=typeof i=="string"?i:Ih,l=io(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=pA("firestore");u&&LO(l,...u)}return l}function xN(i){if(i._terminated)throw new Ee(oe.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||UO(i),i._firestoreClient}function UO(i){const e=i._freezeSettings(),n=kO(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new CO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(i._componentsProvider))}class vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vi(jn.fromBase64String(e))}catch(n){throw new Ee(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vi(jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,vi._jsonSchema))return vi.fromBase64String(e.bytes)}}vi._jsonSchemaVersion="firestore/bytes/1.0",vi._jsonSchema={type:rn("string",vi._jsonSchemaVersion),bytes:rn("string")};class vy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uf{constructor(e){this._methodName=e}}class ys{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ys._jsonSchemaVersion}}static fromJSON(e){if(yu(e,ys._jsonSchema))return new ys(e.latitude,e.longitude)}}ys._jsonSchemaVersion="firestore/geoPoint/1.0",ys._jsonSchema={type:rn("string",ys._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};class Vi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,Vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Vi(e.vectorValues);throw new Ee(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:rn("string",Vi._jsonSchemaVersion),vectorValues:rn("object")};const zO=/^__.*__$/;class qO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}class bN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ha(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vN(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{dataSource:i})}}class _y{constructor(e,n,r,l,u,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new _y({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Lh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(vN(this.dataSource)&&zO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class FO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||af(e)}createContext(e,n,r,l=!1){return new _y({dataSource:e,methodName:n,targetDoc:r,path:Nn.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ey(i){const e=i._freezeSettings(),n=af(i._databaseId);return new FO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function BO(i,e,n,r,l,u={}){const d=i.createContext(u.merge||u.mergeFields?2:0,e,n,l);wy("Data must be an object, but it was:",d,r);const g=_N(r,d);let y,p;if(u.merge)y=new ni(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const _=[];for(const E of u.mergeFields){const N=fl(e,E,n);if(!d.contains(N))throw new Ee(oe.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);wN(_,N)||_.push(N)}y=new ni(_),p=d.fieldTransforms.filter((E=>y.covers(E.field)))}else y=null,p=d.fieldTransforms;return new qO(new Bn(g),y,p)}class df extends uf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof df}}class Ty extends uf{_toFieldTransform(e){return new S3(e.path,new nu)}isEqual(e){return e instanceof Ty}}function HO(i,e,n,r){const l=i.createContext(1,e,n);wy("Data must be an object, but it was:",l,r);const u=[],d=Bn.empty();da(r,((y,p)=>{const _=TN(e,y,n);p=Bt(p);const E=l.childContextForFieldPath(_);if(p instanceof df)u.push(_);else{const N=Eu(p,E);N!=null&&(u.push(_),d.set(_,N))}}));const g=new ni(u);return new bN(d,g,l.fieldTransforms)}function $O(i,e,n,r,l,u){const d=i.createContext(1,e,n),g=[fl(e,r,n)],y=[l];if(u.length%2!=0)throw new Ee(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<u.length;N+=2)g.push(fl(e,u[N])),y.push(u[N+1]);const p=[],_=Bn.empty();for(let N=g.length-1;N>=0;--N)if(!wN(p,g[N])){const V=g[N];let H=y[N];H=Bt(H);const z=d.childContextForFieldPath(V);if(H instanceof df)p.push(V);else{const q=Eu(H,z);q!=null&&(p.push(V),_.set(V,q))}}const E=new ni(p);return new bN(_,E,d.fieldTransforms)}function GO(i,e,n,r=!1){return Eu(n,i.createContext(r?4:3,e))}function Eu(i,e){if(EN(i=Bt(i)))return wy("Unsupported field value:",e,i),_N(i,e);if(i instanceof uf)return(function(r,l){if(!vN(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const g of r){let y=Eu(g,l.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(i,e)}return(function(r,l){if((r=Bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return w3(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=Rt.fromDate(r);return{timestampValue:Dh(l.serializer,u)}}if(r instanceof Rt){const u=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dh(l.serializer,u)}}if(r instanceof ys)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vi)return{bytesValue:zw(l.serializer,r._byteString)};if(r instanceof an){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ay(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Vi)return(function(d,g){const y=d instanceof Vi?d.toArray():d;return{mapValue:{fields:{[mw]:{stringValue:gw},[Ch]:{arrayValue:{values:y.map((_=>{if(typeof _!="number")throw g.createError("VectorValues must only contain numeric values.");return iy(g.serializer,_)}))}}}}}})(r,l);if(Kw(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Qh(r)}`)})(i,e)}function _N(i,e){const n={};return lw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(i,((r,l)=>{const u=Eu(l,e.childContextForField(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function EN(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Rt||i instanceof ys||i instanceof vi||i instanceof an||i instanceof uf||i instanceof Vi||Kw(i))}function wy(i,e,n){if(!EN(n)||!aw(n)){const r=Qh(n);throw r==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+r)}}function fl(i,e,n){if((e=Bt(e))instanceof vy)return e._internalPath;if(typeof e=="string")return TN(i,e);throw Lh("Field path arguments must be of type string or ",i,!1,void 0,n)}const KO=new RegExp("[~\\*/\\[\\]]");function TN(i,e,n){if(e.search(KO)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new vy(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Lh(i,e,n,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new Ee(oe.INVALID_ARGUMENT,g+i+y)}function wN(i,e){return i.some((n=>n.isEqual(e)))}class YO{convertValue(e,n="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return da(e,((l,u)=>{r[l]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[Ch].arrayValue?.values?.map((r=>Kt(r.doubleValue)));return new Vi(n)}convertGeoPoint(e){return new ys(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const n=ea(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=jt.fromString(e);ut(Gw(r),9688,{name:e});const l=new Zc(r.get(1),r.get(3)),u=new Ie(r.popFirst(5));return l.isEqual(n)||Js(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class NN extends YO{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function Og(){return new Ty("serverTimestamp")}const X_="@firebase/firestore",J_="4.10.0";function Z_(i){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of r)if(u in l&&typeof l[u]=="function")return!0;return!1})(i,["next","error","complete"])}class jN{constructor(e,n,r,l,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(fl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WO extends jN{data(){return super.data()}}function QO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ee(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ny{}class SN extends Ny{}function XO(i,e,...n){let r=[];e instanceof Ny&&r.push(e),r=r.concat(n),(function(u){const d=u.filter((y=>y instanceof Sy)).length,g=u.filter((y=>y instanceof jy)).length;if(d>1||d>0&&g>0)throw new Ee(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)i=l._apply(i);return i}class jy extends SN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jy(e,n,r)}_apply(e){const n=this._parse(e);return AN(e._query,n),new ao(e.firestore,e.converter,ip(e._query,n))}_parse(e){const n=Ey(e.firestore);return(function(u,d,g,y,p,_,E){let N;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new Ee(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){tE(E,_);const H=[];for(const z of E)H.push(eE(y,u,z));N={arrayValue:{values:H}}}else N=eE(y,u,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||tE(E,_),N=GO(g,d,E,_==="in"||_==="not-in");return sn.create(p,_,N)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Sy extends Ny{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sy(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:qi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const y of g)AN(d,y),d=ip(d,y)})(e._query,n),new ao(e.firestore,e.converter,ip(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ay extends SN{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ay(e,n)}_apply(e){const n=(function(l,u,d){if(l.startAt!==null)throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(u,d)})(e._query,this._field,this._direction);return new ao(e.firestore,e.converter,p3(e._query,n))}}function JO(i,e="asc"){const n=e,r=fl("orderBy",i);return Ay._create(r,n)}function eE(i,e,n){if(typeof(n=Bt(n))=="string"){if(n==="")throw new Ee(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tw(e)&&n.indexOf("/")!==-1)throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(jt.fromString(n));if(!Ie.isDocumentKey(r))throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return h_(i,new Ie(r))}if(n instanceof an)return h_(i,n._key);throw new Ee(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(n)}.`)}function tE(i,e){if(!Array.isArray(i)||i.length===0)throw new Ee(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AN(i,e){const n=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ee(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ZO(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class Oc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ya extends jN{constructor(e,n,r,l,u,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ya._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ya._jsonSchema={type:rn("string",Ya._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class gh extends Ya{data(e={}){return super.data(e)}}class rl{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Oc(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new gh(this._firestore,this._userDataWriter,r.key,r,new Oc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new gh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Oc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new gh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Oc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,_=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),_=d.indexOf(g.doc.key)),{type:eP(g.type),doc:y,oldIndex:p,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ee(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function eP(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:i})}}rl._jsonSchemaVersion="firestore/querySnapshot/1.0",rl._jsonSchema={type:rn("string",rl._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};function nE(i,e,n,...r){i=Ka(i,an);const l=Ka(i.firestore,ru),u=Ey(l);let d;return d=typeof(e=Bt(e))=="string"||e instanceof vy?$O(u,"updateDoc",i._key,e,n,r):HO(u,"updateDoc",i._key,e),IN(l,[d.toMutation(i._key,gs.exists(!0))])}function tP(i,e){const n=Ka(i.firestore,ru),r=yN(i),l=ZO(i.converter,e),u=Ey(i.firestore);return IN(n,[BO(u,"addDoc",r._key,l,i.converter!==null,{}).toMutation(r._key,gs.exists(!1))]).then((()=>r))}function nP(i,...e){i=Bt(i);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Z_(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Z_(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let u,d,g;if(i instanceof an)d=Ka(i.firestore,ru),g=ny(i._key.path),u={next:p=>{e[r]&&e[r](iP(d,i,p))},error:e[r+1],complete:e[r+2]};else{const p=Ka(i,ao);d=Ka(p.firestore,ru),g=p._query;const _=new NN(d);u={next:E=>{e[r]&&e[r](new rl(d,_,p,E))},error:e[r+1],complete:e[r+2]},QO(i._query)}const y=xN(d);return DO(y,g,l,u)}function IN(i,e){const n=xN(i);return OO(n,e)}function iP(i,e,n){const r=n.docs.get(e._key),l=new NN(i);return new Ya(i,l,e._key,r,new Oc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){CM(yl),bs(new zi("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),g=new ru(new DM(r.getProvider("auth-internal")),new kM(d,r.getProvider("app-check-internal")),ZM(d,l),d);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),_i(X_,J_,e),_i(X_,J_,"esm2020")})();const CN={apiKey:"AIzaSyBrTZY2DOv714a8O1uuaMxAczguSX292SE",authDomain:"professionalengineer-a104d.firebaseapp.com",projectId:"professionalengineer-a104d",storageBucket:"professionalengineer-a104d.firebasestorage.app",messagingSenderId:"539571105207",appId:"1:539571105207:web:bfdaeb4d398de90eb70c32",measurementId:"G-RBCKLQFNLW"},RN=Object.values(CN).every(i=>i&&!i.startsWith("REPLACE_WITH_")),Iy=Tv().length?Tv()[0]:YE(CN),qa=sR(Iy),Pg=VO(Iy);RN&&jM().then(i=>{i&&wM(Iy)}).catch(()=>{});function Pt(){const[i,e]=P.useState(null),n=oa();return P.useEffect(()=>zp(qa,l=>{e(l)}),[]),o.jsxs("div",{className:"sticky top-0 z-30",children:[o.jsx(xe,{to:"/contact",className:"block bg-gray-900 text-white text-sm","aria-label":`Reach out for quotes on plans,\r
          review/analysis, calculation, freelance, or expert witness work. Sealing and stamping when appropriate.`,children:o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-2 text-center",children:[o.jsx("span",{className:"underline",children:"Reach out"})," for quotes on plans, review/analysis, calculation, freelance, or expert witness work. Sealing and stamping when appropriate."]})}),o.jsx("div",{className:"bg-white border-b border-gray-200",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-3 flex items-center justify-between",children:[o.jsx(xe,{to:"/",className:"text-sm text-gray-700 hover:text-gray-900 transition-colors",children:"Professional Engineer, Missouri"}),o.jsxs("nav",{"aria-label":"Primary navigation",className:"flex items-center gap-6 text-sm",children:[i?o.jsx(xe,{to:"/dashboard",className:n.pathname.startsWith("/dashboard")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Dashboard"}):o.jsx(xe,{to:"/contact",className:n.pathname.startsWith("/contact")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Contact"}),o.jsx(xe,{to:"/toolbox",className:n.pathname.startsWith("/toolbox")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Toolbox"}),o.jsx(xe,{to:"/blog",className:n.pathname.startsWith("/blog")?"text-gray-900 border-b-2 border-gray-900":"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Blog"}),o.jsx(xe,{to:"/portal",className:n.pathname.startsWith("/portal")?"text-gray-900 border-b-2 border-gray-900":"text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:i?"Signed In":"Register / Login"})]})]})})]})}function sP(){return o.jsxs("div",{className:"min-h-screen flex flex-col",children:[o.jsx(Pt,{}),o.jsx("header",{className:"bg-white",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Professional Engineering Services â€” Missouri"}),o.jsx("p",{className:"text-lg text-gray-700",children:"Independent professional practice licensed in Missouri. Engineering services, analysis, and review."})]})}),o.jsxs("main",{className:"flex-1",children:[o.jsx("section",{className:"bg-white py-12 md:py-16",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"Scope of Practice"}),o.jsx("p",{className:"text-lg text-gray-700",children:"This practice provides engineering services involving professional analysis, review, and judgment. Work is performed in accordance with applicable Missouri statutes and professional engineering rules. Professional liability insurance is maintained."})]})}),o.jsx("section",{className:"bg-gray-50 py-12 md:py-16",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"Services Overview"}),o.jsxs("ul",{className:"space-y-3 text-gray-700",children:[o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),o.jsx("span",{children:"Engineering drawings and calculations"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),o.jsx("span",{children:"Engineering review and opinion"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),o.jsx("span",{children:"Professional Engineer sealing when appropriate"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),o.jsx("span",{children:"Forensic engineering analysis"})]}),o.jsxs("li",{className:"flex items-start",children:[o.jsx("span",{className:"mr-3 text-gray-900",children:"â€¢"}),o.jsx("span",{children:"Expert engineering opinion and testimony"})]})]})]})}),o.jsx("section",{className:"bg-white py-12 md:py-16",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"Client Portal"}),o.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"Clients may access a secure portal for document exchange, communication, and project tracking. Portal access is not a substitute for professional engagement."}),o.jsx(xe,{to:"/portal",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Portal Login"})]})}),o.jsx("section",{className:"bg-gray-50 py-12 md:py-16",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[o.jsx("h2",{className:"text-2xl md:text-3xl font-serif text-gray-900 mb-6",children:"About the Engineer"}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-[180px,1fr] items-center",children:[o.jsx("div",{className:"w-full max-w-[180px]",children:o.jsxs("picture",{children:[o.jsx("source",{srcSet:aA,type:"image/webp"}),o.jsx("img",{src:oA,width:"180",height:"220",alt:"Portrait of the engineer",className:"block w-full h-auto border border-gray-200",loading:"lazy",decoding:"async"})]})}),o.jsxs("div",{className:"space-y-4 text-lg text-gray-700",children:[o.jsx("p",{children:"I am a licensed Professional Engineer in Missouri. My educational background includes aerospace engineering, agriculture engineering, and computer engineering."}),o.jsx("p",{children:"I have experience designing and reviewing complex systems involving software, distributed systems, control systems, and embedded and hardware-adjacent systems. I have led engineering teams and reviewed work produced by others. My work has involved regulated environments and formal verification and testing."}),o.jsx("p",{children:"I am engaged in ongoing advanced study in control systems."}),o.jsx("p",{children:"I live and work in Missouri with my wife and son."})]})]})]})})]}),o.jsx(Ot,{})]})}function rP(){return o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-12 md:py-16",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Contact"}),o.jsxs("p",{className:"text-lg text-gray-700 mb-8",children:["Initial contact precedes any engagement. The form below is used for intake and scheduling. Submissions are sent to"," ",o.jsx("a",{href:"mailto:seth.kitchen@seth.kitchen",className:"text-gray-900 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"seth.kitchen@seth.kitchen"}),"."]}),o.jsxs("form",{action:"https://formspree.io/f/maqqndgz",method:"POST",className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"name",children:"Name"}),o.jsx("input",{id:"name",name:"name",type:"text",required:!0,autoComplete:"name",className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"email",children:"Email"}),o.jsx("input",{id:"email",name:"email",type:"email",required:!0,autoComplete:"email",className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"organization",children:"Organization (optional)"}),o.jsx("input",{id:"organization",name:"organization",type:"text",autoComplete:"organization",className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"message",children:"Description"}),o.jsx("textarea",{id:"message",name:"message",rows:6,required:!0,className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),o.jsx("div",{className:"flex items-center gap-4",children:o.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded bg-gray-900 px-4 py-2 text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2",children:"Submit"})})]})]})}),o.jsx(Ot,{})]})}function aP(){const[i,e]=P.useState(null),[n,r]=P.useState("signin"),[l,u]=P.useState(""),[d,g]=P.useState(""),[y,p]=P.useState(null),[_,E]=P.useState(!1),N=P.useMemo(()=>RN,[]);P.useEffect(()=>zp(qa,ne=>{e(ne)}),[]);const V=async()=>{p(null),E(!0);try{const q=new Bs;await fC(qa,q)}catch{p("Unable to complete Google sign-in. Please try again.")}finally{E(!1)}},H=async q=>{q.preventDefault(),p(null),E(!0);try{n==="register"?await BI(qa,l,d):await HI(qa,l,d)}catch{p("Unable to complete the request. Verify credentials and try again.")}finally{E(!1)}},z=async()=>{await KI(qa)};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-12 md:py-16",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Client Portal"}),o.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Portal access supports document exchange and project tracking. Access is provided after intake and confirmation of engagement."}),!N&&o.jsx("div",{className:"mb-8 rounded border border-gray-300 bg-gray-50 p-4 text-sm text-gray-700",children:"Portal authentication is not configured. Set the Firebase environment variables before enabling login."}),i?o.jsxs("div",{className:"rounded border border-gray-200 p-6",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Signed in as"}),o.jsx("div",{className:"text-gray-900 font-medium",children:i.email??"Authenticated user"}),o.jsx("button",{type:"button",onClick:z,className:"mt-6 inline-flex items-center justify-center rounded border border-gray-300 px-4 py-2 text-gray-900 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2",children:"Sign out"})]}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex gap-4 text-sm",children:[o.jsx("button",{type:"button",onClick:()=>r("signin"),className:`border-b-2 ${n==="signin"?"border-gray-900 text-gray-900":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Sign in"}),o.jsx("button",{type:"button",onClick:()=>r("register"),className:`border-b-2 ${n==="register"?"border-gray-900 text-gray-900":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Register"})]}),o.jsx("button",{type:"button",onClick:V,disabled:!N||_,className:"inline-flex items-center justify-center rounded border border-gray-300 px-4 py-2 text-gray-900 hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 disabled:opacity-50",children:"Continue with Google"}),o.jsxs("form",{onSubmit:H,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"portal-email",children:"Email"}),o.jsx("input",{id:"portal-email",name:"email",type:"email",required:!0,autoComplete:"email",value:l,onChange:q=>u(q.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"portal-password",children:"Password"}),o.jsx("input",{id:"portal-password",name:"password",type:"password",required:!0,autoComplete:n==="register"?"new-password":"current-password",value:d,onChange:q=>g(q.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),y&&o.jsx("div",{className:"text-sm text-red-700",children:y}),o.jsx("button",{type:"submit",disabled:!N||_,className:"inline-flex items-center justify-center rounded bg-gray-900 px-4 py-2 text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 disabled:opacity-50",children:n==="register"?"Create account":"Sign in"})]})]})]})}),o.jsx(Ot,{})]})}function oP(){const[i,e]=P.useState(null),[n,r]=P.useState([]),[l,u]=P.useState(null),[d,g]=P.useState(""),[y,p]=P.useState(""),[_,E]=P.useState(""),[N,V]=P.useState(""),[H,z]=P.useState(null),[q,ne]=P.useState(null),[Z,J]=P.useState(null),[B,de]=P.useState(!1),[ge,A]=P.useState(!1),S=700*1024,C=P.useRef(null);P.useEffect(()=>zp(qa,be=>{e(be)}),[]),P.useEffect(()=>{if(!i){r([]);return}const Ne=XO(K_(Pg,"users",i.uid,"projects"),JO("createdAt","desc"));return nP(Ne,Q=>{const he=Q.docs.map(pe=>{const Oe=pe.data();return{id:pe.id,title:Oe.title??"",description:Oe.description??"",fileUrl:Oe.fileUrl??void 0,fileName:Oe.fileName??void 0,fileType:Oe.fileType??void 0,fileData:Oe.fileData??void 0,createdAt:Oe.createdAt?.toDate?.()}});r(he),he.length>0&&!l&&u(he[0].id),J(null)},()=>{r([]),J("Permission denied reading projects. Update Firestore rules to allow signed-in access.")})},[i]);const R=P.useMemo(()=>!!i&&d.trim().length>0&&y.trim().length>0,[i,d,y]),O=P.useMemo(()=>n.find(Ne=>Ne.id===l)??null,[n,l]);P.useEffect(()=>{if(!O){E(""),V("");return}E(O.title),V(O.description)},[O]);const F=async Ne=>{if(Ne.preventDefault(),!i){J("Please sign in to create a project.");return}J(null),de(!0);try{let be,Q,he,pe;if(q){if(q.size>S){J("File is too large for inline storage. Use a smaller file or enable Storage."),de(!1);return}pe=await new Promise((Oe,Be)=>{const k=new FileReader;k.onload=()=>Oe(k.result),k.onerror=()=>Be(new Error("File read failed")),k.readAsDataURL(q)}),Q=q.name,he=q.type||"application/octet-stream",be=pe}await tP(K_(Pg,"users",i.uid,"projects"),{title:d.trim(),description:y.trim(),fileUrl:be??null,fileName:Q??null,fileType:he??null,fileData:pe??null,createdAt:Og()}),g(""),p(""),ne(null),C.current&&(C.current.value="")}catch{J("Unable to create the project. Check Firestore rules and try again.")}finally{de(!1)}},M=async Ne=>{if(!(!i||!O)){J(null),A(!0);try{const be=yN(Pg,"users",i.uid,"projects",O.id);Ne==="title"&&await nE(be,{title:_.trim(),updatedAt:Og()}),Ne==="description"&&await nE(be,{description:N.trim(),updatedAt:Og()}),z(null)}catch{J("Unable to save changes. Please try again.")}finally{A(!1)}}};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Dashboard"}),o.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Project records and documents are available only after authentication."}),!i&&o.jsxs("div",{className:"rounded border border-gray-200 bg-gray-50 p-6 text-gray-700",children:[o.jsx("p",{className:"mb-4",children:"You must be signed in to view or create projects."}),o.jsx(xe,{to:"/portal",className:"inline-flex items-center justify-center rounded border border-gray-300 px-4 py-2 text-gray-900 hover:border-gray-400",children:"Go to portal"})]}),i&&o.jsxs("div",{className:"grid gap-10",children:[o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-4",children:"Existing Projects"}),n.length===0?o.jsx("p",{className:"text-gray-700",children:"No projects on file."}):o.jsxs("div",{className:"grid gap-6 grid-cols-2",children:[o.jsx("div",{className:"space-y-3",children:n.map(Ne=>o.jsxs("button",{type:"button",onClick:()=>u(Ne.id),className:`w-full rounded border px-4 py-3 text-left transition-colors ${Ne.id===l?"border-gray-900 bg-gray-50 text-gray-900":"border-gray-200 text-gray-700 hover:border-gray-400"}`,children:[o.jsx("div",{className:"text-sm font-medium",children:Ne.title}),o.jsx("div",{className:"text-xs text-gray-600 line-clamp-2",children:Ne.description})]},Ne.id))}),o.jsx("div",{className:"rounded border border-gray-200 p-4",children:O?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-600",children:"Selected project"}),o.jsx("div",{className:"flex items-center gap-2",children:H==="title"?o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx("label",{className:"sr-only",htmlFor:"edit-title",children:"Title"}),o.jsx("input",{id:"edit-title",name:"edit-title",type:"text",required:!0,value:_,onChange:Ne=>E(Ne.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"}),o.jsxs("div",{className:"flex gap-3 text-sm",children:[o.jsx("button",{type:"button",onClick:()=>M("title"),disabled:ge,className:"text-gray-900 border-b border-gray-400 hover:border-gray-600 disabled:opacity-50",children:"Save"}),o.jsx("button",{type:"button",onClick:()=>{E(O.title),z(null)},className:"text-gray-700 border-b border-gray-300 hover:border-gray-500",children:"Cancel"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-lg text-gray-900",children:O.title}),o.jsx("button",{type:"button",onClick:()=>z("title"),className:"text-gray-600 hover:text-gray-900","aria-label":"Edit title",children:o.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 20 20",className:"h-4 w-4",fill:"currentColor",children:o.jsx("path",{d:"M14.69 2.86a2.25 2.25 0 0 1 3.18 3.18l-9.5 9.5-4.24.94.94-4.24 9.5-9.5z"})})})]})})]}),o.jsx("div",{className:"space-y-2",children:o.jsx("div",{className:"flex items-start gap-2",children:H==="description"?o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx("label",{className:"sr-only",htmlFor:"edit-description",children:"Description"}),o.jsx("textarea",{id:"edit-description",name:"edit-description",rows:4,required:!0,value:N,onChange:Ne=>V(Ne.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"}),o.jsxs("div",{className:"flex gap-3 text-sm",children:[o.jsx("button",{type:"button",onClick:()=>M("description"),disabled:ge,className:"text-gray-900 border-b border-gray-400 hover:border-gray-600 disabled:opacity-50",children:"Save"}),o.jsx("button",{type:"button",onClick:()=>{V(O.description),z(null)},className:"text-gray-700 border-b border-gray-300 hover:border-gray-500",children:"Cancel"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-gray-700",children:O.description}),o.jsx("button",{type:"button",onClick:()=>z("description"),className:"text-gray-600 hover:text-gray-900","aria-label":"Edit description",children:o.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 20 20",className:"h-4 w-4",fill:"currentColor",children:o.jsx("path",{d:"M14.69 2.86a2.25 2.25 0 0 1 3.18 3.18l-9.5 9.5-4.24.94.94-4.24 9.5-9.5z"})})})]})})}),O.fileUrl&&o.jsx("a",{href:O.fileUrl,className:"text-sm text-gray-900 border-b border-gray-400 hover:border-gray-600",target:"_blank",rel:"noreferrer",children:O.fileName??"Download file"})]}):o.jsx("p",{className:"text-gray-700",children:"Select a project to view details."})})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-4",children:"Create Project"}),o.jsxs("form",{onSubmit:F,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"project-title",children:"Title"}),o.jsx("input",{id:"project-title",name:"title",type:"text",required:!0,value:d,onChange:Ne=>g(Ne.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"project-description",children:"Description"}),o.jsx("textarea",{id:"project-description",name:"description",rows:4,required:!0,value:y,onChange:Ne=>p(Ne.target.value),className:"block w-full rounded border border-gray-300 px-3 py-2 text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",htmlFor:"project-file",children:"File (optional)"}),o.jsx("input",{id:"project-file",name:"file",type:"file",ref:C,onChange:Ne=>ne(Ne.target.files?.[0]??null),className:"block w-full text-sm text-gray-700 file:mr-4 file:rounded file:border-0 file:bg-gray-100 file:px-3 file:py-2 file:text-gray-900"})]}),Z&&o.jsx("div",{className:"text-sm text-red-700",children:Z}),o.jsx("button",{type:"submit",disabled:!R||B,className:"inline-flex items-center justify-center rounded bg-gray-900 px-4 py-2 text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 disabled:opacity-50",children:"Create Project"})]})]})]})]})}),o.jsx(Ot,{})]})}function lP(){return o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsx("div",{children:o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-4",children:"Legal Disclaimer"})}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"General Information"}),o.jsx("p",{className:"text-gray-700",children:"This website provides general information about professional engineering services in Missouri. It is not a substitute for professional consultation or a formal engagement."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"No Professional Engagement"}),o.jsx("p",{className:"text-gray-700",children:"Contact through this site does not establish a professional engineer-client relationship. Any engagement requires a written agreement and confirmation of scope, schedule, and terms."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Reliance and Use"}),o.jsx("p",{className:"text-gray-700",children:"Information provided here is intended for general informational purposes only. Decisions based on this information should be made only after direct consultation and review of project-specific facts."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Jurisdiction and Licensure"}),o.jsx("p",{className:"text-gray-700",children:"Professional engineering services are offered only in jurisdictions where the engineer is properly licensed. This website does not constitute an offer to provide engineering services in any jurisdiction where such services would be unlawful."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Use of Sealed Documents"}),o.jsx("p",{className:"text-gray-700",children:"Engineering documents that are signed and sealed are valid only in their final form and for the specific project and conditions for which they were prepared. Any reuse, modification, or reliance beyond the original purpose is at the userâ€™s sole risk unless expressly authorized in writing."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Confidentiality"}),o.jsx("p",{className:"text-gray-700",children:"Do not transmit sensitive or privileged information before an engagement is established. Submitted materials may not be treated as confidential unless an agreement is in place."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Accuracy and Changes"}),o.jsx("p",{className:"text-gray-700",children:"Information on this website may be updated or modified at any time without notice and is not guaranteed to reflect the most current statutes, regulations, or professional standards."})]})]})}),o.jsx(Ot,{})]})}function cP(){return o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900 mb-6",children:"Engineering Notes"}),o.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Articles addressing professional engineering practice, review, and analysis."}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:o.jsx(xe,{to:"/blog/property-condition-assessment-pca",className:"border-b border-transparent hover:border-gray-400",children:"What Is a Property Condition Assessment (PCA)?"})}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 2, 2026"}),o.jsx("p",{className:"text-gray-700",children:"What a PCA typically includes, how itâ€™s used in due diligence, and when engineering judgment may apply."})]}),o.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:o.jsx(xe,{to:"/blog/structural-analysis-building-approval-missouri",className:"border-b border-transparent hover:border-gray-400",children:"Structural Analysis and Building Approval in Missouri: What to Know"})}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"February 1, 2026"}),o.jsx("p",{className:"text-gray-700",children:"How structural analysis relates to building approval in Missouri, including when engineering is required and the role of a licensed Professional Engineer."})]}),o.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:o.jsx(xe,{to:"/blog/common-mistakes-engineering-expert-reports",className:"border-b border-transparent hover:border-gray-400",children:"Common Mistakes in Engineering Expert Reports"})}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 31, 2026"}),o.jsx("p",{className:"text-gray-700",children:"Why report quality matters in expert engineering reports, including scope, assumptions, evidence, and communication."})]}),o.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:o.jsx(xe,{to:"/blog/root-cause-vs-legal-cause-engineering",className:"border-b border-transparent hover:border-gray-400",children:"Root Cause vs. Legal Cause: An Engineering Perspective"})}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 30, 2026"}),o.jsx("p",{className:"text-gray-700",children:"Why the distinction between engineering root cause and legal cause matters in technical disputes and expert testimony."})]}),o.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:o.jsx(xe,{to:"/blog/courts-evaluate-engineering-causation-testimony",className:"border-b border-transparent hover:border-gray-400",children:"How Courts Evaluate Engineering Causation Testimony"})}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 29, 2026"}),o.jsx("p",{className:"text-gray-700",children:"How courts evaluate engineering causation testimony, including admissibility, methodology, and evidentiary connection."})]}),o.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:o.jsx(xe,{to:"/blog/engineering-causation-failure-analysis",className:"border-b border-transparent hover:border-gray-400",children:"How Engineers Evaluate Causation in Failure Analysis"})}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 28, 2026"}),o.jsx("p",{className:"text-gray-700",children:"Understanding causation analysis in failure investigations, including evidence, failure modes, and professional judgment."})]}),o.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:o.jsx(xe,{to:"/blog/what-does-professional-engineer-seal-mean",className:"border-b border-transparent hover:border-gray-400",children:"What Does It Mean When a Professional Engineer Seals a Document?"})}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 27, 2026"}),o.jsx("p",{className:"text-gray-700",children:"Understanding the purpose of an engineering seal in Missouri: professional responsibility, legal obligations, and when sealing is required."})]}),o.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:o.jsx(xe,{to:"/blog/what-does-engineering-expert-witness-do",className:"border-b border-transparent hover:border-gray-400",children:"What Does an Engineering Expert Witness Do?"})}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 25, 2026"}),o.jsx("p",{className:"text-gray-700",children:"Understanding the role of engineering expert witnesses in legal matters: independent analysis, forensic evaluation, and professional testimony."})]}),o.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:o.jsx(xe,{to:"/blog/when-professional-engineer-required-missouri",className:"border-b border-transparent hover:border-gray-400",children:"When Is a Professional Engineer Required in Missouri?"})}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 24, 2026"}),o.jsx("p",{className:"text-gray-700",children:"Understanding when engineering licensure is necessary, including sealing, professional judgment, and common compliance scenarios."})]}),o.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:o.jsx(xe,{to:"/blog/engineering-standards-assumptions-failure-analysis",className:"border-b border-transparent hover:border-gray-400",children:"Engineering Standards, Assumptions, and Failure Analysis"})}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 21, 2026"}),o.jsx("p",{className:"text-gray-700",children:"Why assumptions matter in engineering practice, including standards, documentation, and failure analysis."})]}),o.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:o.jsx(xe,{to:"/blog/professional-engineer-expert-witness-missouri",className:"border-b border-transparent hover:border-gray-400",children:"The Role of a Professional Engineer as an Expert Witness in Missouri"})}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 20, 2026"}),o.jsx("p",{className:"text-gray-700",children:"Technical expertise in legal and dispute contexts, including professional responsibilities and independence of engineering expert witnesses."})]}),o.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:o.jsx(xe,{to:"/blog/forensic-engineering-missouri-technical-analysis",className:"border-b border-transparent hover:border-gray-400",children:"Forensic Engineering in Missouri: Technical Analysis After a Failure"})}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 19, 2026"}),o.jsx("p",{className:"text-gray-700",children:"Understanding forensic engineering practice in Missouri: technical investigation of failures, incidents, and disputes by a licensed Professional Engineer."})]}),o.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:o.jsx(xe,{to:"/blog/engineering-review-professional-judgment-st-louis-missouri",className:"border-b border-transparent hover:border-gray-400",children:"Engineering Review and Professional Judgment in the St. Louis Region"})}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 18, 2026"}),o.jsx("p",{className:"text-gray-700",children:"A discussion of professional engineering review and judgment in the St. Louis region, including typical review activities and forensic engineering contexts."})]}),o.jsxs("article",{className:"border-b border-gray-200 pb-6",children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-2",children:o.jsx(xe,{to:"/blog/professional-engineering-st-louis-missouri",className:"border-b border-transparent hover:border-gray-400",children:"Professional Engineering Practice in St. Louis, Missouri"})}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"January 16, 2026"}),o.jsx("p",{className:"text-gray-700",children:"An overview of professional engineering practice in St. Louis, Missouri, including licensure requirements, common project types, and the role of licensed Professional Engineers."})]})]})]})}),o.jsx(Ot,{})]})}function uP(){const i="2026-01-16",e="January 16, 2026";return P.useEffect(()=>{const n=(l,u)=>{const d=document.head.querySelector(`meta[name="${l}"]`),g=d??document.createElement("meta");g.name=l,g.content=u,d||document.head.appendChild(g)},r=(l,u)=>{const d=document.head.querySelector(`meta[property="${l}"]`),g=d??document.createElement("meta");g.setAttribute("property",l),g.content=u,d||document.head.appendChild(g)};n("date",i),r("article:published_time",i)},[]),o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx(xe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Professional Engineering Practice in St. Louis, Missouri"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Professional Engineering Practice in St. Louis, Missouri"}),o.jsx("p",{className:"text-lg text-gray-700",children:"An overview of professional engineering practice in St. Louis, Missouri, including licensure requirements, common project types, and the role of licensed Professional Engineers."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Introduction"}),o.jsx("p",{className:"text-gray-700",children:"St. Louis has a long history of engineering activity, spanning transportation, manufacturing, aerospace, energy, and modern software-enabled systems. Professional engineering practice in the region operates within a regulatory framework established by the State of Missouri to protect public health, safety, and welfare."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"This article provides an overview of how professional engineering work is practiced in St. Louis, the role of a licensed Professional Engineer (PE), and common contexts in which engineering review and judgment are required."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Professional Engineering Licensure in Missouri"}),o.jsx("p",{className:"text-gray-700",children:"Engineering services offered to the public in Missouri are regulated under Chapter 327 of the Revised Statutes of Missouri. Individuals offering professional engineering services must be licensed by the Missouri Board for Architects, Professional Engineers, Professional Land Surveyors, and Professional Landscape Architects."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Licensure requires formal education, documented experience, successful completion of national examinations, and adherence to ongoing professional and ethical obligations. A licensed Professional Engineer is personally responsible for engineering work performed under their seal."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"In St. Louis, as elsewhere in Missouri, engineering documents such as drawings, specifications, calculations, reports, and certifications may require review and sealing by a licensed PE, depending on the nature and use of the work."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Work Commonly Performed in the St. Louis Region"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"The St. Louis metropolitan area supports a wide range of engineering activities. Common categories include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Infrastructure and transportation systems, including civil and structural components"}),o.jsx("li",{children:"Manufacturing and industrial systems, often involving mechanical, electrical, and controls engineering"}),o.jsx("li",{children:"Aerospace and defense-related engineering, reflecting the regionâ€™s historical strengths"}),o.jsx("li",{children:"Energy, utilities, and power systems"}),o.jsx("li",{children:"Software-integrated and automated systems, where engineering judgment intersects with computing and control systems"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Many projects involve multidisciplinary considerations and require formal engineering analysis, documentation, and professional review."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Review, Analysis, and Professional Judgment"}),o.jsx("p",{className:"text-gray-700",children:"Not all engineering work is the same. Some projects involve original design, while others require independent review, verification, or expert opinion. In regulated or high-consequence environments, professional engineering judgment is often necessary to assess compliance, safety, reliability, and fitness for purpose."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering review may include evaluation of calculations, assumptions, testing results, system behavior, or failure modes. When appropriate, a Professional Engineer may seal documents to indicate responsibility for the technical content under Missouri law."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Forensic Engineering and Expert Analysis"}),o.jsx("p",{className:"text-gray-700",children:"In addition to design and review, professional engineers in St. Louis may perform forensic engineering work. This can include analysis of system failures, construction issues, accidents, or disputes involving technical matters."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic engineering often supports legal proceedings, insurance claims, or internal investigations. In such contexts, engineering opinions must be based on sound methodology, documented evidence, and professional standards."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Selecting a Professional Engineer in St. Louis"}),o.jsx("p",{className:"text-gray-700",children:"When engaging a Professional Engineer, it is important to confirm licensure status, relevant experience, and scope alignment with the work being requested. Professional engagements are typically established through a written agreement defining responsibilities, limitations, and deliverables."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering services should be performed in accordance with Missouri statutes, applicable codes and standards, and accepted engineering practices."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Conclusion"}),o.jsx("p",{className:"text-gray-700",children:"Professional engineering practice in St. Louis reflects both the regionâ€™s technical history and its ongoing development. Licensed Professional Engineers play a critical role in ensuring that engineering work affecting the public is performed with appropriate competence, judgment, and accountability."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"For projects requiring engineering analysis, review, or professional oversight, consultation with a Missouri-licensed Professional Engineer is an essential step."})]}),o.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[o.jsxs("p",{children:["Published"," ",o.jsx("time",{dateTime:i,children:e})]}),o.jsxs("p",{children:["Related:"," ",o.jsx(xe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",o.jsx(xe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]}),o.jsxs("p",{children:["Learn more about the"," ",o.jsx(xe,{to:"/",className:"border-b border-gray-300 hover:border-gray-500",children:"licensed Professional Engineer"})," ","providing services in Missouri."]})]})]})}),o.jsx(Ot,{})]})}function dP(){const i="2026-01-18",e="January 18, 2026",n="Engineering Review and Professional Judgment in the St. Louis Region",r="An overview of professional engineering review in the St. Louis region, including typical review activities, software-driven systems, and forensic engineering contexts.";return P.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",i),u("article:published_time",i)},[r,i,n]),o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx(xe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Engineering Review and Professional Judgment in the St. Louis Region"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Engineering Review and Professional Judgment in the St. Louis Region"}),o.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Role of a Licensed Professional Engineer"})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("p",{className:"text-gray-700",children:"Engineering work in the St. Louis region spans a wide range of industries, including manufacturing, transportation, technology, utilities, and regulated systems. Many projects involve complex interactions between software, hardware, and physical systems, where failure modes are not always obvious."}),o.jsx("p",{className:"text-gray-700",children:"In Missouri, a licensed Professional Engineer (PE) is responsible for applying engineering judgment to evaluate designs, analyses, and technical decisions that may affect public safety, reliability, or compliance with applicable standards."}),o.jsx("p",{className:"text-gray-700",children:"This post explains how professional engineering review fits into real-world projects in the St. Louis area, and when engaging a Missouri-licensed PE is appropriate."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Professional Engineering Review Involves"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Professional engineering review is not limited to producing new designs. In many cases, it involves evaluating existing work, assumptions, or system behavior."}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Typical review activities may include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Reviewing engineering drawings, calculations, or specifications"}),o.jsx("li",{children:"Evaluating system architecture or control logic"}),o.jsx("li",{children:"Assessing whether assumptions align with operating conditions"}),o.jsx("li",{children:"Identifying failure modes, edge cases, or unintended interactions"}),o.jsx("li",{children:"Providing a documented engineering opinion based on analysis"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"The goal of review is not to â€œapproveâ€ work informally, but to apply professional judgment grounded in education, experience, and applicable engineering principles."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Judgment in Complex and Software-Driven Systems"}),o.jsx("p",{className:"text-gray-700",children:"Modern engineering projects increasingly involve software-defined behavior, distributed systems, and embedded control. In these environments, failures often arise from system interactions rather than single-component defects."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering judgment in these cases may involve:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Understanding how software logic interacts with physical processes"}),o.jsx("li",{children:"Reviewing control strategies and fault handling"}),o.jsx("li",{children:"Evaluating verification and validation methods"}),o.jsx("li",{children:"Assessing risk where deterministic proof is impractical"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"These types of reviews are common in regulated or high-reliability environments and often benefit from independent professional evaluation."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Forensic Engineering and Expert Analysis"}),o.jsx("p",{className:"text-gray-700",children:"In some situations, engineering review occurs after an incident, failure, or dispute. Forensic engineering focuses on understanding what happened and why, based on technical evidence rather than speculation."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic engineering services may include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Analysis of system behavior leading up to a failure"}),o.jsx("li",{children:"Review of documentation, logs, or test results"}),o.jsx("li",{children:"Evaluation of compliance with accepted engineering practices"}),o.jsx("li",{children:"Preparation of engineering opinions suitable for legal or insurance contexts"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"In Missouri, forensic opinions offered by a Professional Engineer must remain within the engineerâ€™s area of competence and be based on sufficient technical analysis."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Engage a Missouri-Licensed Professional Engineer"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Engaging a Professional Engineer may be appropriate when:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Engineering work affects public safety or critical operations"}),o.jsx("li",{children:"Independent technical review is required"}),o.jsx("li",{children:"Engineering documents require sealing under Missouri law"}),o.jsx("li",{children:"An objective engineering opinion is needed"}),o.jsx("li",{children:"A failure or dispute involves technical systems"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Early engagement often allows issues to be identified before they become costly or contentious."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Professional Practice in the St. Louis Area"}),o.jsx("p",{className:"text-gray-700",children:"Engineering practice in the St. Louis region reflects the areaâ€™s diverse industrial and technical base. Projects frequently involve interdisciplinary systems where careful analysis and clear documentation are essential."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Professional engineering services are governed by Missouri statutes and board rules, which establish requirements for licensure, responsibility, and ethical conduct. Any engineering engagement should clearly define scope, responsibilities, and limitations in writing."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),o.jsx("p",{className:"text-gray-700",children:"This article is intended to provide general information about professional engineering practice in Missouri. It does not constitute engineering advice or establish a professional engagement."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"If you are considering engineering review, analysis, or forensic evaluation, consultation with a Missouri-licensed Professional Engineer can help clarify next steps and determine whether professional services are appropriate for your situation."})]}),o.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[o.jsxs("p",{children:["Published"," ",o.jsx("time",{dateTime:i,children:e})]}),o.jsxs("p",{children:["Related:"," ",o.jsx(xe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",o.jsx(xe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),o.jsx(Ot,{})]})}function hP(){const i="2026-01-19",e="January 19, 2026",n="Forensic Engineering in Missouri: Technical Analysis After a Failure",r="Understanding forensic engineering practice in Missouri: technical investigation of failures, incidents, and disputes by a licensed Professional Engineer.";return P.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",i),u("article:published_time",i)},[r,i,n]),o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx(xe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Forensic Engineering in Missouri: Technical Analysis After a Failure"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Forensic Engineering in Missouri: Technical Analysis After a Failure"}),o.jsx("p",{className:"text-lg text-gray-700",children:"Understanding forensic engineering practice in Missouri: technical investigation of failures, incidents, and disputes by a licensed Professional Engineer."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Forensic Engineering Is â€” and Is Not"}),o.jsx("p",{className:"text-gray-700",children:"Forensic engineering focuses on the investigation of engineering-related failures, incidents, or disputes. The purpose is not advocacy, but technical understanding: determining what occurred, how systems behaved, and whether engineering practices were consistent with accepted standards."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"In Missouri, forensic engineering opinions offered by a licensed Professional Engineer must be based on sufficient facts, appropriate analysis, and the engineer's area of competence."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"This article outlines how forensic engineering is typically applied and when it may be appropriate to engage a Missouri-licensed Professional Engineer."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Common Situations Involving Forensic Engineering"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Forensic engineering may be involved in a wide range of situations, including:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"System or equipment failures"}),o.jsx("li",{children:"Software-controlled system malfunctions"}),o.jsx("li",{children:"Industrial or infrastructure incidents"}),o.jsx("li",{children:"Construction or design disputes"}),o.jsx("li",{children:"Product performance issues"}),o.jsx("li",{children:"Insurance or liability investigations"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"In many cases, forensic analysis occurs months or years after the original work was performed, requiring careful reconstruction of events from available evidence."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"The Forensic Engineering Process"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"While each investigation is unique, forensic engineering often follows a structured process:"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Evidence Collection"}),o.jsx("p",{className:"text-gray-700",children:"Review of drawings, specifications, logs, test results, photographs, and physical evidence."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"System Understanding"}),o.jsx("p",{className:"text-gray-700",children:"Analysis of how the system was intended to function, including control logic, operating conditions, and interfaces."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Failure Analysis"}),o.jsx("p",{className:"text-gray-700",children:"Identification of failure modes, contributing factors, and sequence of events."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Engineering Evaluation"}),o.jsx("p",{className:"text-gray-700",children:"Assessment of whether engineering decisions aligned with accepted practices at the time the work was performed."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-serif text-gray-900 mb-2",children:"Documentation"}),o.jsx("p",{className:"text-gray-700",children:"Preparation of clear, technically grounded findings and opinions."})]})]}),o.jsx("p",{className:"text-gray-700 mt-4",children:"The emphasis is on reproducible analysis and defensible reasoning rather than conclusions drawn from limited data."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Software and Complex Systems in Forensic Analysis"}),o.jsx("p",{className:"text-gray-700",children:"Modern forensic engineering increasingly involves software-driven and distributed systems. In these cases, failures may arise from timing, state transitions, data dependencies, or unexpected interactions between components."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic analysis of such systems may include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[o.jsx("li",{children:"Review of source code or configuration artifacts"}),o.jsx("li",{children:"Analysis of logs, telemetry, or audit trails"}),o.jsx("li",{children:"Evaluation of control strategies and fault handling"}),o.jsx("li",{children:"Reconstruction of system state over time"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Understanding both software behavior and physical system constraints is often necessary to form a reliable engineering opinion."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Expert Engineering Opinions and Legal Contexts"}),o.jsx("p",{className:"text-gray-700",children:"Forensic engineering findings are frequently used in legal, insurance, or regulatory contexts. When acting as an expert, a Professional Engineer's role is to provide objective technical opinions â€” not legal conclusions."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Key principles include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[o.jsx("li",{children:"Remaining within the engineer's area of expertise"}),o.jsx("li",{children:"Avoiding speculation beyond available evidence"}),o.jsx("li",{children:"Clearly stating assumptions and limitations"}),o.jsx("li",{children:"Distinguishing facts from professional judgment"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Professional engineers are ethically obligated to present opinions honestly and without bias."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Engage a Forensic Engineer"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Engaging a forensic engineer may be appropriate when:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"The cause of a failure is unclear or disputed"}),o.jsx("li",{children:"Technical evidence requires expert interpretation"}),o.jsx("li",{children:"An independent engineering opinion is needed"}),o.jsx("li",{children:"Engineering documentation or practices are questioned"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Early involvement can help preserve evidence and reduce uncertainty as investigations progress."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),o.jsx("p",{className:"text-gray-700",children:"This article provides general information about forensic engineering practice in Missouri. It does not constitute engineering advice or establish a professional engagement."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Forensic engineering requires careful analysis, technical rigor, and professional judgment grounded in engineering principles and experience."})]}),o.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[o.jsx("p",{children:o.jsxs("time",{dateTime:i,children:["Published ",e]})}),o.jsxs("p",{children:["Related:"," ",o.jsx(xe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",o.jsx(xe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]}),o.jsxs("p",{children:["Learn more about the"," ",o.jsx(xe,{to:"/",className:"border-b border-gray-300 hover:border-gray-500",children:"licensed Professional Engineer"})," ","providing forensic engineering services in Missouri."]})]})]})}),o.jsx(Ot,{})]})}function fP(){const i="2026-01-20",e="January 20, 2026",n="The Role of a Professional Engineer as an Expert Witness in Missouri",r="An overview of the role of licensed Professional Engineers as expert witnesses in Missouri, including independence, professional judgment, and legal context.";return P.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",i),u("article:published_time",i)},[r,i,n]),o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx(xe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ The Role of a Professional Engineer as an Expert Witness in Missouri"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"The Role of a Professional Engineer as an Expert Witness in Missouri"}),o.jsx("p",{className:"text-lg text-gray-700",children:"Technical Expertise in Legal and Dispute Contexts"})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("p",{className:"text-gray-700",children:"Engineering issues frequently arise in legal disputes, insurance claims, and regulatory proceedings. When technical questions are central to a matter, courts and attorneys may rely on expert testimony to understand engineering principles, system behavior, and technical causation."}),o.jsx("p",{className:"text-gray-700",children:"In Missouri, a licensed Professional Engineer may serve as an expert witness when the subject matter falls within the engineerâ€™s area of competence and the opinions offered are based on sufficient technical analysis."}),o.jsx("p",{className:"text-gray-700",children:"This article describes the role of an engineering expert witness and the professional responsibilities that accompany that role."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What an Engineering Expert Witness Does"}),o.jsx("p",{className:"text-gray-700",children:"An engineering expert witness provides independent technical opinions to assist the court or other decision-makers. This role is distinct from advocacy and is grounded in objective engineering analysis."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Typical expert witness activities may include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[o.jsx("li",{children:"Reviewing technical documents, drawings, and records"}),o.jsx("li",{children:"Evaluating system design, operation, and failure modes"}),o.jsx("li",{children:"Analyzing data, logs, and test results"}),o.jsx("li",{children:"Preparing written expert reports"}),o.jsx("li",{children:"Providing deposition or trial testimony"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"The expertâ€™s duty is to the facts and engineering principles, not to a particular outcome."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Independence and Professional Judgment"}),o.jsx("p",{className:"text-gray-700",children:"Professional engineers serving as expert witnesses are ethically obligated to remain independent and unbiased. Opinions must be formed through analysis rather than instruction from counsel or clients."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Key elements of professional judgment in expert work include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[o.jsx("li",{children:"Clear distinction between facts, assumptions, and opinions"}),o.jsx("li",{children:"Use of accepted engineering methods"}),o.jsx("li",{children:"Disclosure of limitations or uncertainties"}),o.jsx("li",{children:"Avoidance of conclusions beyond available evidence"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Maintaining independence is essential for credibility and admissibility."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Expertise and Modern Systems"}),o.jsx("p",{className:"text-gray-700",children:"Many disputes today involve complex systems that include software, control logic, or distributed components. Expert evaluation of such systems often requires understanding both theoretical design and real-world operation."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Expert witness work in these cases may involve:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[o.jsx("li",{children:"Reconstruction of system behavior over time"}),o.jsx("li",{children:"Evaluation of control or decision logic"}),o.jsx("li",{children:"Analysis of interactions between software and physical components"}),o.jsx("li",{children:"Review of verification and validation practices"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering expertise must be applied in a manner that is clear and accessible to non-technical audiences without oversimplifying the underlying analysis."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Legal Standards and Professional Responsibility"}),o.jsx("p",{className:"text-gray-700",children:"While legal standards for expert testimony vary by jurisdiction, professional engineers are governed by ethical and licensure obligations regardless of venue."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"In Missouri, engineers must:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[o.jsx("li",{children:"Practice within their area of competence"}),o.jsx("li",{children:"Avoid misleading statements or omissions"}),o.jsx("li",{children:"Maintain honesty and objectivity"}),o.jsx("li",{children:"Accept responsibility for opinions offered"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Failure to adhere to these principles can affect both professional credibility and licensure."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When an Engineering Expert May Be Needed"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"An engineering expert witness may be appropriate when:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Technical causation is disputed"}),o.jsx("li",{children:"Engineering standards or practices are questioned"}),o.jsx("li",{children:"System behavior is not readily understood by non-engineers"}),o.jsx("li",{children:"Independent analysis is required to inform decision-making"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Early technical evaluation can often clarify issues and narrow the scope of disputes."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),o.jsx("p",{className:"text-gray-700",children:"This article is intended to provide general information about the role of Professional Engineers as expert witnesses in Missouri. It does not constitute engineering advice or establish a professional engagement."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering expert testimony relies on careful analysis, clear reasoning, and professional integrity."})]}),o.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[o.jsxs("p",{children:["Published"," ",o.jsx("time",{dateTime:i,children:e})]}),o.jsxs("p",{children:["Related:"," ",o.jsx(xe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",o.jsx(xe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),o.jsx(Ot,{})]})}function mP(){const i="2026-01-21",e="January 21, 2026",n="Engineering Standards, Assumptions, and Failure Analysis",r="Why assumptions matter in engineering practice, and how standards and documentation influence failure analysis and professional judgment.";return P.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",i),u("article:published_time",i)},[r,i,n]),o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx(xe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Engineering Standards, Assumptions, and Failure Analysis"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Engineering Standards, Assumptions, and Failure Analysis"}),o.jsx("p",{className:"text-lg text-gray-700",children:"Why Assumptions Matter in Engineering Practice"})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("p",{className:"text-gray-700",children:"Engineering analysis is built on assumptions. These may involve operating conditions, loads, environmental factors, user behavior, data quality, or system boundaries. While assumptions are unavoidable, they must be reasonable, documented, and appropriate to the problem being addressed."}),o.jsx("p",{className:"text-gray-700",children:"In professional engineering practice, unexamined or invalid assumptions are a common source of system failures and disputes. Understanding how assumptions influence analysis is central to both design review and forensic engineering."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Standards and Accepted Practice"}),o.jsx("p",{className:"text-gray-700",children:"Engineering standards provide a framework for consistent and reliable analysis. Standards may be developed by professional organizations, regulatory bodies, or industry groups, and they often reflect consensus on acceptable methods and safety considerations."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"In practice, standards:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[o.jsx("li",{children:"Inform design criteria and analysis methods"}),o.jsx("li",{children:"Establish minimum performance or safety thresholds"}),o.jsx("li",{children:"Provide reference points for professional judgment"}),o.jsx("li",{children:"Evolve over time as technology and knowledge advance"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Compliance with a standard does not eliminate the need for judgment, but deviations from standards should be intentional, justified, and documented."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"The Role of Assumptions in Failure Analysis"}),o.jsx("p",{className:"text-gray-700",children:"When a system fails, forensic engineering analysis often begins by examining the assumptions underlying its design, implementation, and operation."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Common assumption-related issues include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[o.jsx("li",{children:"Operating conditions outside the original design envelope"}),o.jsx("li",{children:"Environmental factors not fully considered"}),o.jsx("li",{children:"Simplifications that obscured critical interactions"}),o.jsx("li",{children:"Incomplete or outdated data inputs"}),o.jsx("li",{children:"Misalignment between documented assumptions and actual use"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Failure analysis seeks to identify not only what failed, but why the assumptions supporting earlier decisions may no longer have been valid."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Distinguishing Errors from Engineering Judgment"}),o.jsx("p",{className:"text-gray-700",children:"Not every unfavorable outcome reflects an error. Engineering decisions are often made under uncertainty, with incomplete information and competing constraints."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"A key task in professional and forensic analysis is distinguishing between:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[o.jsx("li",{children:"Reasonable engineering judgment based on available information"}),o.jsx("li",{children:"Decisions that deviated from accepted practice without justification"}),o.jsx("li",{children:"Changes in conditions that were not foreseeable at the time"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"This distinction is particularly important in legal or insurance contexts, where outcomes alone do not define professional responsibility."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Documentation and Traceability"}),o.jsx("p",{className:"text-gray-700",children:"Clear documentation of assumptions, standards, and decision rationale plays a critical role in both project execution and post-event analysis."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Effective documentation supports:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[o.jsx("li",{children:"Technical review and peer evaluation"}),o.jsx("li",{children:"Future modifications or maintenance"}),o.jsx("li",{children:"Regulatory or contractual compliance"}),o.jsx("li",{children:"Forensic reconstruction if issues arise"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Inadequate documentation can significantly increase uncertainty during failure analysis and complicate resolution of disputes."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Judgment in Complex Systems"}),o.jsx("p",{className:"text-gray-700",children:"Modern systems often involve interactions between physical components, software, and human operators. In these cases, assumptions may be embedded in algorithms, control logic, or operational procedures rather than explicitly stated."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Failure analysis of complex systems may require:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[o.jsx("li",{children:"Examination of implicit assumptions in system behavior"}),o.jsx("li",{children:"Evaluation of edge cases and state transitions"}),o.jsx("li",{children:"Review of validation and testing coverage"}),o.jsx("li",{children:"Consideration of how systems respond to unexpected inputs"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Professional judgment is required to assess whether these assumptions were reasonable in context."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),o.jsx("p",{className:"text-gray-700",children:"This article provides general information about engineering standards, assumptions, and failure analysis. It does not constitute engineering advice or establish a professional engagement."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Careful consideration of assumptions and standards is fundamental to sound engineering practice, effective review, and reliable forensic analysis."})]}),o.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[o.jsxs("p",{children:["Published"," ",o.jsx("time",{dateTime:i,children:e})]}),o.jsxs("p",{children:["Related:"," ",o.jsx(xe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",o.jsx(xe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),o.jsx(Ot,{})]})}function gP(){const i="2026-01-24",e="January 24, 2026",n="When Is a Professional Engineer Required in Missouri?",r="Understanding when engineering licensure is necessary in Missouri and how professional judgment, sealing, and compliance requirements apply.";return P.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",i),u("article:published_time",i)},[r,i,n]),o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx(xe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ When Is a Professional Engineer Required in Missouri?"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"When Is a Professional Engineer Required in Missouri?"}),o.jsx("p",{className:"text-lg text-gray-700",children:"Understanding When Engineering Licensure Is Necessary"})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("p",{className:"text-gray-700",children:"In Missouri, the practice of professional engineering is regulated to protect public health, safety, and welfare. Not every technical task requires a licensed Professional Engineer (PE), but certain activities legally do."}),o.jsx("p",{className:"text-gray-700",children:"Understanding when a PE is required can help project owners, developers, contractors, and attorneys avoid delays, compliance issues, or rejected submissions."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Constitutes the Practice of Engineering in Missouri"}),o.jsx("p",{className:"text-gray-700",children:"Missouri law defines the practice of engineering broadly. In general, it includes the application of engineering principles and judgment to services such as:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[o.jsx("li",{children:"Engineering analysis and evaluation"}),o.jsx("li",{children:"Preparation of engineering drawings and specifications"}),o.jsx("li",{children:"Design or review of systems affecting safety or performance"}),o.jsx("li",{children:"Engineering reports, opinions, or certifications"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"If a task involves professional judgment that could impact public safety, it may fall under regulated engineering practice."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Common Situations Where a PE Is Required"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"While requirements vary by jurisdiction and project type, a Missouri-licensed PE is commonly required for:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Engineering drawings submitted to public agencies"}),o.jsx("li",{children:"Structural, mechanical, electrical, or system designs affecting safety"}),o.jsx("li",{children:"Sealed engineering calculations or reports"}),o.jsx("li",{children:"Expert engineering opinions in legal or insurance matters"}),o.jsx("li",{children:"Engineering evaluations relied upon by third parties"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Local authorities may impose additional requirements depending on the scope and nature of the work."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Activities That May Not Require a PE"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Not all technical work requires licensure. Examples of activities that may not require a PE include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Drafting or modeling performed under supervision"}),o.jsx("li",{children:"Work based strictly on prescriptive codes without judgment"}),o.jsx("li",{children:"Internal technical analysis not released externally"}),o.jsx("li",{children:"Manufacturing or installation following stamped plans"}),o.jsx("li",{children:"Software development that does not constitute regulated engineering practice"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"The distinction often depends on whether professional judgment is exercised and whether the work is offered to the public."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Engineering Review vs. Engineering Design"}),o.jsx("p",{className:"text-gray-700",children:"Engineering review and engineering design are related but distinct activities."}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[o.jsx("li",{children:"Design involves creating engineering solutions and selecting parameters"}),o.jsx("li",{children:"Review involves evaluating work prepared by others for compliance, reasonableness, and suitability"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Both activities may require licensure when professional judgment is applied and the work is relied upon by others."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Sealing and Responsibility"}),o.jsx("p",{className:"text-gray-700",children:"When a Missouri PE seals a document, they are affirming that:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[o.jsx("li",{children:"The work was prepared by them or under their responsible charge"}),o.jsx("li",{children:"The work meets applicable standards and requirements"}),o.jsx("li",{children:"They accept professional responsibility for the content"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Sealing is not a formality. It carries legal and ethical obligations and should only be done when appropriate."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Consequences of Improper Practice"}),o.jsx("p",{className:"text-gray-700",children:"Performing regulated engineering services without proper licensure can result in:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[o.jsx("li",{children:"Rejected submissions or project delays"}),o.jsx("li",{children:"Regulatory action or penalties"}),o.jsx("li",{children:"Increased liability exposure"}),o.jsx("li",{children:"Challenges to the validity of work products"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Clarifying licensure requirements early can prevent issues later."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Seek Professional Guidance"}),o.jsx("p",{className:"text-gray-700",children:"If there is uncertainty about whether a PE is required, consulting with a licensed Professional Engineer early in the process can help clarify obligations and define appropriate scope."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),o.jsx("p",{className:"text-gray-700",children:"This article provides general information regarding professional engineering licensure in Missouri. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),o.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[o.jsxs("p",{children:["Published"," ",o.jsx("time",{dateTime:i,children:e})]}),o.jsxs("p",{children:["Related:"," ",o.jsx(xe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",o.jsx(xe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),o.jsx(Ot,{})]})}function pP(){const i="2026-01-25",e="January 25, 2026",n="What Does an Engineering Expert Witness Do?",r="Understanding the role of engineering expert witnesses in legal matters: independent analysis, forensic evaluation, and professional testimony in Missouri.";return P.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",i),u("article:published_time",i)},[r,i,n]),o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx(xe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ What Does an Engineering Expert Witness Do?"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"What Does an Engineering Expert Witness Do?"}),o.jsx("p",{className:"text-lg text-gray-700",children:"The Role of Engineering Expertise in Legal Matters"})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("p",{className:"text-gray-700",children:"Engineering expert witnesses play a critical role in legal disputes involving technical, scientific, or engineering issues. Their function is not to advocate for a party, but to provide independent, objective engineering analysis and opinion to assist the court in understanding complex matters."}),o.jsx("p",{className:"text-gray-700",children:"In Missouri, expert witnesses offering engineering opinions are often licensed Professional Engineers (PEs)."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Independence and Objectivity"}),o.jsx("p",{className:"text-gray-700",children:"An engineering expert witness is expected to remain independent. Unlike consultants retained to solve problems or design solutions, an expert witness evaluates facts, applies engineering principles, and offers opinions based on evidence."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Credibility depends on:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6 mt-3",children:[o.jsx("li",{children:"Objectivity"}),o.jsx("li",{children:"Technical rigor"}),o.jsx("li",{children:"Transparency of assumptions"}),o.jsx("li",{children:"Consistency with accepted engineering practice"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Typical Engineering Expert Witness Services"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering expert witnesses may be asked to perform tasks such as:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Reviewing engineering drawings, reports, and calculations"}),o.jsx("li",{children:"Evaluating compliance with applicable standards and codes"}),o.jsx("li",{children:"Analyzing failure modes and causation"}),o.jsx("li",{children:"Assessing reasonableness of engineering decisions"}),o.jsx("li",{children:"Preparing written expert reports"}),o.jsx("li",{children:"Providing sworn testimony or deposition"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"The scope of work is typically defined in writing and tailored to the needs of the matter."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Forensic Engineering vs. Design Engineering"}),o.jsx("p",{className:"text-gray-700",children:"Forensic engineering focuses on understanding what occurred, why it occurred, and whether professional standards were met."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"This differs from design engineering, which involves creating systems or solutions. Forensic work is retrospective and analytical, rather than prescriptive."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Licensing and Qualifications"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"In Missouri, offering engineering opinions that rely on professional judgment may require licensure as a Professional Engineer. Courts and attorneys frequently seek experts who:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Hold active PE licensure"}),o.jsx("li",{children:"Have relevant technical education and experience"}),o.jsx("li",{children:"Can clearly explain technical concepts"}),o.jsx("li",{children:"Are familiar with professional standards and ethics"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Licensure alone does not make someone an expert witness, but it is often a baseline requirement."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Reports and Testimony"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Expert reports must be well-organized, technically sound, and defensible. Assumptions, methodologies, and limitations should be clearly stated."}),o.jsx("p",{className:"text-gray-700 mb-3",children:"During testimony, an engineering expert witness may be asked to:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Explain technical findings in plain language"}),o.jsx("li",{children:"Defend methods and conclusions under questioning"}),o.jsx("li",{children:"Clarify what opinions are and are not being offered"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Professional demeanor and clarity are as important as technical correctness."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Ethical Considerations"}),o.jsx("p",{className:"text-gray-700",children:"Engineering expert witnesses are bound by professional ethics. Opinions must be honest, unbiased, and based on sufficient facts and analysis. Compensation should not depend on the outcome of a case."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Maintaining ethical standards protects both the integrity of the process and the credibility of the expert."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When an Engineering Expert Witness Is Needed"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Common situations include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Construction or design disputes"}),o.jsx("li",{children:"Structural or system failures"}),o.jsx("li",{children:"Professional negligence claims"}),o.jsx("li",{children:"Insurance or property damage matters"}),o.jsx("li",{children:"Regulatory or compliance disputes"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Early involvement can help clarify technical issues and narrow disputes."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),o.jsx("p",{className:"text-gray-700",children:"This article provides general information regarding engineering expert witness services. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),o.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[o.jsxs("p",{children:["Published ",o.jsx("time",{dateTime:i,children:e})]}),o.jsxs("p",{children:["Related:"," ",o.jsx(xe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",o.jsx(xe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),o.jsx(Ot,{})]})}function yP(){const i="2026-01-27",e="January 27, 2026",n="What Does It Mean When a Professional Engineer Seals a Document?",r="Understanding the purpose of an engineering seal in Missouri: professional responsibility, legal obligations, and when sealing is required by licensed PEs.";return P.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",i),u("article:published_time",i)},[r,i,n]),o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx(xe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ What Does It Mean When a Professional Engineer Seals a Document?"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"What Does It Mean When a Professional Engineer Seals a Document?"}),o.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Purpose of an Engineering Seal"})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("p",{className:"text-gray-700",children:"When a Professional Engineer (PE) places their seal on an engineering document, it signifies more than approval or review. In Missouri, sealing is a formal declaration of professional responsibility for the work."}),o.jsx("p",{className:"text-gray-700",children:"Sealed documents are often relied upon by public agencies, courts, lenders, insurers, and other third parties. For this reason, the use of an engineering seal carries legal, ethical, and professional obligations."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What the Engineering Seal Represents"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"By sealing a document, a Missouri-licensed Professional Engineer affirms that:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"The work was prepared by them or under their responsible charge"}),o.jsx("li",{children:"Professional engineering judgment was applied"}),o.jsx("li",{children:"The document complies with applicable standards and regulations"}),o.jsx("li",{children:"The engineer accepts responsibility for the technical content"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"The seal is not a certification of perfection, but it is a statement of accountability."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Documents Commonly Sealed by Professional Engineers"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Depending on project type and jurisdiction, sealed documents may include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Engineering drawings and specifications"}),o.jsx("li",{children:"Engineering reports and evaluations"}),o.jsx("li",{children:"Calculations and technical memoranda"}),o.jsx("li",{children:"Property condition or capital needs assessments"}),o.jsx("li",{children:"Forensic engineering opinions"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Not all engineering documents require a seal, but those that do must be sealed appropriately."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Responsible Charge and Professional Judgment"}),o.jsx("p",{className:"text-gray-700 mb-3",children:'A key requirement for sealing is that the engineer exercised "responsible charge" over the work. This means the engineer:'}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Directly prepared the work, or"}),o.jsx("li",{children:"Personally supervised its preparation, and"}),o.jsx("li",{children:"Had sufficient knowledge to control and evaluate the work"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Sealing work prepared entirely by others without meaningful involvement is not permitted."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Signing and Dating Requirements"}),o.jsx("p",{className:"text-gray-700",children:"In Missouri, sealed documents must also be signed and dated. This establishes when professional responsibility was assumed and helps identify the applicable standards and conditions at the time of issuance."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Electronic seals and signatures are commonly used for digital submissions, provided they meet regulatory requirements."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Improper Use of an Engineering Seal"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Improper sealing can create significant risk for both the engineer and the public. Examples include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Sealing work outside the engineer's area of competence"}),o.jsx("li",{children:"Sealing documents without adequate review or supervision"}),o.jsx("li",{children:"Sealing documents for convenience rather than responsibility"}),o.jsx("li",{children:"Allowing others to use the engineer's seal"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Such actions may result in disciplinary action or legal exposure."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When a Seal Is Not Appropriate"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Some technical work does not require or justify sealing, including:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Preliminary or conceptual studies"}),o.jsx("li",{children:"Internal analyses not released externally"}),o.jsx("li",{children:"Draft documents clearly marked as such"}),o.jsx("li",{children:"Work that does not involve professional judgment"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"In these cases, sealing may be inappropriate or misleading."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Why Sealing Matters to Clients and Third Parties"}),o.jsx("p",{className:"text-gray-700",children:"For clients, a sealed document provides assurance that a licensed professional has taken responsibility for the work. For third parties, it establishes a clear point of accountability."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Understanding when and why a document is sealed helps all parties rely on engineering work appropriately."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),o.jsx("p",{className:"text-gray-700",children:"This article provides general information about the use of an engineering seal in Missouri. It does not constitute engineering advice or establish a professional engagement."})]}),o.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[o.jsxs("p",{children:["Published ",o.jsx("time",{dateTime:i,children:e})]}),o.jsxs("p",{children:["Related:"," ",o.jsx(xe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",o.jsx(xe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),o.jsx(Ot,{})]})}function xP(){const i="2026-01-28",e="January 28, 2026",n="How Engineers Evaluate Causation in Failure Analysis",r="Understanding how engineers evaluate causation in failure analysis, including evidence collection, failure modes, and professional judgment in Missouri.";return P.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",i),u("article:published_time",i)},[r,i,n]),o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx(xe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ How Engineers Evaluate Causation in Failure Analysis"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"How Engineers Evaluate Causation in Failure Analysis"}),o.jsx("p",{className:"text-lg text-gray-700",children:"Understanding Why a System Failed"})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("p",{className:"text-gray-700",children:"Failure analysis is not limited to identifying what went wrong. A central objective is determining causationâ€”why the failure occurred and what factors materially contributed to the outcome."}),o.jsx("p",{className:"text-gray-700",children:"In professional engineering practice, causation is evaluated through structured analysis grounded in evidence, engineering principles, and accepted methodology. This process is especially important in forensic and expert witness contexts, where conclusions may be relied upon by courts, insurers, or other decision-makers."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Defining Failure and Scope"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Before causation can be evaluated, the engineer must define:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"What constitutes â€œfailureâ€ in the specific context"}),o.jsx("li",{children:"The performance criteria or expectations involved"}),o.jsx("li",{children:"The system boundaries and time frame under consideration"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Failure may involve physical damage, loss of function, deviation from specifications, or inability to meet operational requirements. Clear definition prevents conclusions from drifting beyond the facts."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Evidence Collection and Preservation"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Causation analysis depends on reliable evidence. Engineers typically begin by gathering and reviewing available materials, which may include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Drawings, specifications, and design documents"}),o.jsx("li",{children:"Maintenance and inspection records"}),o.jsx("li",{children:"Operational data and logs"}),o.jsx("li",{children:"Photographs, videos, or physical artifacts"}),o.jsx("li",{children:"Witness statements or timelines"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Where possible, evidence is preserved to avoid altering or obscuring relevant conditions."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Identifying Potential Failure Modes"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Engineers then identify plausible failure modesâ€”mechanisms by which the system could have failed. This may involve:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Reviewing design assumptions"}),o.jsx("li",{children:"Evaluating loading and operating conditions"}),o.jsx("li",{children:"Considering environmental factors"}),o.jsx("li",{children:"Examining human or procedural interactions"}),o.jsx("li",{children:"Assessing degradation over time"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"At this stage, multiple hypotheses are often considered."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Evaluating Contributing Factors"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Causation in engineering is rarely singular. Engineers distinguish between:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Primary causes that directly led to failure"}),o.jsx("li",{children:"Contributing factors that increased likelihood or severity"}),o.jsx("li",{children:"Non-causal conditions present but not materially relevant"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"This distinction is critical in forensic contexts, where responsibility and liability may hinge on material contribution rather than mere association."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Use of Engineering Principles and Standards"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering causation analysis relies on established principles, such as:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Mechanics and material behavior"}),o.jsx("li",{children:"Control system response"}),o.jsx("li",{children:"Load paths and redundancy"}),o.jsx("li",{children:"Failure progression and sequence"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Applicable standards and codes are often used as reference points, not as automatic determinants of causation. Deviation from a standard does not necessarily cause failure, and compliance does not guarantee immunity from it."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Testing, Modeling, and Reconstruction"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Where appropriate, engineers may use:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Analytical calculations"}),o.jsx("li",{children:"Computer modeling or simulation"}),o.jsx("li",{children:"Laboratory testing"}),o.jsx("li",{children:"Scenario reconstruction"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"These tools help evaluate whether proposed causes are consistent with observed outcomes. Assumptions and limitations must be clearly stated."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Eliminating Alternative Explanations"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"A key element of causation analysis is the systematic elimination of alternative explanations. Engineers assess whether:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Evidence supports or contradicts each hypothesis"}),o.jsx("li",{children:"Proposed causes are physically or technically plausible"}),o.jsx("li",{children:"Timing and sequence align with observed damage"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Conclusions are strengthened when reasonable alternatives are addressed and ruled out based on evidence."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Communicating Causation Clearly"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering conclusions must be communicated in a way that is accurate, transparent, and understandable to non-engineers."}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Effective communication includes:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Clear separation of facts, assumptions, and opinions"}),o.jsx("li",{children:"Explanation of reasoning and methodology"}),o.jsx("li",{children:"Identification of uncertainties or data gaps"}),o.jsx("li",{children:"Avoidance of speculation beyond available evidence"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"In expert witness settings, clarity is as important as technical rigor."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limits of Engineering Causation Analysis"}),o.jsx("p",{className:"text-gray-700",children:"Engineering analysis does not determine legal responsibility or fault. Engineers evaluate technical causation, not legal conclusions. Where evidence is incomplete or ambiguous, responsible engineers acknowledge limitations rather than overstate certainty."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),o.jsx("p",{className:"text-gray-700",children:"This article provides general information about how engineers evaluate causation in failure analysis. It does not constitute engineering advice or establish a professional engagement."})]}),o.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[o.jsxs("p",{children:["Published ",o.jsx("time",{dateTime:i,children:e})]}),o.jsxs("p",{children:["Related:"," ",o.jsx(xe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",o.jsx(xe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),o.jsx(Ot,{})]})}function bP(){const i="2026-01-29",e="January 29, 2026",n="How Courts Evaluate Engineering Causation Testimony",r="How courts evaluate engineering causation testimony, including admissibility, methodology, evidence connection, and professional conduct in Missouri.";return P.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",i),u("article:published_time",i)},[r,i,n]),o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx(xe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ How Courts Evaluate Engineering Causation Testimony"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"How Courts Evaluate Engineering Causation Testimony"}),o.jsx("p",{className:"text-lg text-gray-700",children:"The Role of Engineering Testimony in Legal Proceedings"})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("p",{className:"text-gray-700",children:"In cases involving technical or engineering issues, courts often rely on expert testimony to understand causation. Engineering causation testimony helps explain whether and how a system failed, what factors contributed to that failure, and whether proposed explanations are technically sound."}),o.jsx("p",{className:"text-gray-700",children:"Courts do not evaluate engineering testimony based on conclusions alone. They examine the methods, reasoning, and reliability underlying the opinions offered."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Admissibility vs. Persuasiveness"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Courts typically distinguish between two related but separate questions:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Admissibility: Whether the testimony meets legal standards to be considered"}),o.jsx("li",{children:"Persuasiveness: How much weight the court gives the testimony"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"An opinion may be admissible but still unpersuasive if it lacks clarity, support, or credibility."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Methodology and Reliability"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Courts evaluate whether an engineerâ€™s analysis is grounded in reliable methodology. Factors commonly considered include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Use of accepted engineering principles"}),o.jsx("li",{children:"Consistency with professional standards or practices"}),o.jsx("li",{children:"Application of methods appropriate to the problem"}),o.jsx("li",{children:"Logical connection between evidence and conclusions"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Courts are generally skeptical of opinions that rely on unexplained assumptions or unsupported leaps in reasoning."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Connection to the Evidence"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering causation testimony must be tied to the facts of the case. Courts examine whether:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"The engineer reviewed relevant documents and data"}),o.jsx("li",{children:"Physical evidence supports the proposed causation"}),o.jsx("li",{children:"Alternative explanations were considered and addressed"}),o.jsx("li",{children:"The timing and sequence of events are consistent"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Opinions that are abstract or disconnected from case-specific evidence are often given less weight."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Transparency of Assumptions"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"All engineering analysis involves assumptions. Courts do not expect assumptions to be eliminated, but they do expect them to be:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Identified explicitly"}),o.jsx("li",{children:"Reasonable in context"}),o.jsx("li",{children:"Consistently applied"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Unstated or shifting assumptions can undermine credibility, even if the technical analysis is otherwise sound."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Qualifications and Scope"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Courts consider whether the expertâ€™s qualifications align with the opinions offered. Relevant factors may include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Licensure and professional standing"}),o.jsx("li",{children:"Education and technical experience"}),o.jsx("li",{children:"Familiarity with the subject matter"}),o.jsx("li",{children:"Experience with similar systems or failures"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Courts may discount testimony that extends beyond the expertâ€™s demonstrated area of competence."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Treatment of Alternative Causes"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Credible engineering testimony addresses alternative causation theories. Courts look for evidence that the expert:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Considered other plausible explanations"}),o.jsx("li",{children:"Evaluated them using engineering principles"}),o.jsx("li",{children:"Explained why they were accepted or rejected"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Failure to engage with alternative causes can suggest incomplete or biased analysis."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Communication and Clarity"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Even technically correct opinions may be ineffective if they are poorly communicated. Courts value testimony that:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Clearly separates facts, analysis, and conclusions"}),o.jsx("li",{children:"Uses plain language where possible"}),o.jsx("li",{children:"Avoids unnecessary jargon"}),o.jsx("li",{children:"Acknowledges uncertainty when appropriate"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Clear explanations help courts understand both the reasoning and its limitations."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Independence and Professional Conduct"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Courts are attentive to signs of bias or advocacy. Factors that may affect credibility include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Consistency of opinions across cases"}),o.jsx("li",{children:"Compensation arrangements"}),o.jsx("li",{children:"Willingness to acknowledge unfavorable facts"}),o.jsx("li",{children:"Adherence to professional ethics"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering experts are expected to assist the court, not argue a case."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limits of Engineering Testimony"}),o.jsx("p",{className:"text-gray-700",children:"Engineering experts provide technical opinions, not legal conclusions. Courts evaluate causation testimony within the broader legal framework, which may involve additional considerations beyond engineering analysis."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Responsible experts respect these boundaries."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),o.jsx("p",{className:"text-gray-700",children:"This article provides general information about how courts evaluate engineering causation testimony. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),o.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[o.jsxs("p",{children:["Published ",o.jsx("time",{dateTime:i,children:e})]}),o.jsxs("p",{children:["Related:"," ",o.jsx(xe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",o.jsx(xe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),o.jsx(Ot,{})]})}function vP(){const i="2026-01-30",e="January 30, 2026",n="Root Cause vs. Legal Cause: An Engineering Perspective",r="Why the distinction between engineering root cause and legal cause matters in Missouri disputes involving technical failures.";return P.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",i),u("article:published_time",i)},[r,i,n]),o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx(xe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Root Cause vs. Legal Cause: An Engineering Perspective"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Root Cause vs. Legal Cause: An Engineering Perspective"}),o.jsx("p",{className:"text-lg text-gray-700",children:"Why the Distinction Matters"})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("p",{className:"text-gray-700",children:"In disputes involving technical failures, the terms root cause and legal cause are sometimes used interchangeably. In practice, they represent different concepts. Understanding the distinction is important for attorneys, courts, and engineers alike."}),o.jsx("p",{className:"text-gray-700",children:"Professional engineers evaluate technical causation. Courts evaluate legal responsibility. While related, these analyses serve different purposes."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What Engineers Mean by Root Cause"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"In engineering practice, a root cause is the underlying technical reason a failure occurred. Identifying it typically involves:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Defining failure criteria"}),o.jsx("li",{children:"Examining system behavior and conditions"}),o.jsx("li",{children:"Reviewing assumptions and design decisions"}),o.jsx("li",{children:"Evaluating failure modes and sequences"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"A root cause analysis seeks to explain why a system did not perform as intended from an engineering standpoint."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"There may be more than one contributing technical factor, but the root cause is generally the factor without which the failure would not have occurred."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Legal Cause Is a Separate Question"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Legal causeâ€”often discussed as proximate causeâ€”is a legal concept. Courts evaluate whether a particular act or omission is sufficiently connected to an outcome to warrant responsibility under the law."}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Legal causation may consider factors such as:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Foreseeability"}),o.jsx("li",{children:"Intervening events"}),o.jsx("li",{children:"Allocation of responsibility"}),o.jsx("li",{children:"Policy considerations"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"These considerations extend beyond technical analysis."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"How Engineering Analysis Informs Legal Decisions"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering causation analysis provides courts with a factual and technical foundation. Courts may rely on engineering testimony to understand:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"How a system was designed to function"}),o.jsx("li",{children:"What conditions existed at the time of failure"}),o.jsx("li",{children:"Whether technical standards were met"}),o.jsx("li",{children:"Which factors materially contributed to the outcome"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"However, engineering opinions do not determine legal outcomes on their own."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Multiple Causes and Contributing Factors"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering failures often involve multiple contributing factors. Engineers distinguish between:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Primary technical causes"}),o.jsx("li",{children:"Secondary or contributing conditions"}),o.jsx("li",{children:"Factors that were present but not causally significant"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Legal frameworks may treat these factors differently when assigning responsibility."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Importance of Clear Scope in Expert Testimony"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering experts must clearly define the scope of their opinions. Testimony should focus on technical causation and avoid legal conclusions."}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Clear scope helps:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Preserve credibility"}),o.jsx("li",{children:"Avoid confusion for the court"}),o.jsx("li",{children:"Ensure testimony remains within professional competence"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Courts are generally skeptical of experts who blur the line between engineering analysis and legal judgment."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Communicating Technical Causation Effectively"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"For engineering analysis to be useful in legal settings, it must be communicated clearly. Effective testimony:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Separates facts from opinions"}),o.jsx("li",{children:"Explains assumptions and limitations"}),o.jsx("li",{children:"Uses engineering principles consistently"}),o.jsx("li",{children:"Avoids speculation beyond available evidence"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Clear communication allows legal decision-makers to properly weigh technical findings."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Professional Responsibility and Ethics"}),o.jsx("p",{className:"text-gray-700",children:"Professional engineers are bound by ethical obligations to provide honest, objective opinions. Root cause analysis must be grounded in evidence and professional judgment, regardless of how the conclusions may affect the parties involved."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),o.jsx("p",{className:"text-gray-700",children:"This article provides general information about the distinction between engineering root cause and legal cause. It does not constitute legal or engineering advice and does not establish a professional engagement."})]}),o.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[o.jsxs("p",{children:["Published ",o.jsx("time",{dateTime:i,children:e})]}),o.jsxs("p",{children:["Related:"," ",o.jsx(xe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",o.jsx(xe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),o.jsx(Ot,{})]})}function _P(){const i="2026-01-31",e="January 31, 2026",n="Common Mistakes in Engineering Expert Reports",r="Why report quality matters in engineering expert reports, including scope, assumptions, evidence, and communication in Missouri legal contexts.";return P.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",i),u("article:published_time",i)},[r,i,n]),o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx(xe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Common Mistakes in Engineering Expert Reports"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Common Mistakes in Engineering Expert Reports"}),o.jsx("p",{className:"text-lg text-gray-700",children:"Why Report Quality Matters"})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("p",{className:"text-gray-700",children:"In legal and dispute contexts, engineering expert reports often carry significant weight. Courts, attorneys, insurers, and opposing experts may rely on these reports to understand technical issues and evaluate causation. The quality of an expert report can influence not only how persuasive the analysis is, but whether it is taken seriously at all."}),o.jsx("p",{className:"text-gray-700",children:"Even technically correct opinions can lose credibility if they are poorly presented or inadequately supported."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Lack of Clear Scope and Questions"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"A common issue in expert reports is the absence of a clearly defined scope. Effective reports state:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"The specific questions the expert was asked to address"}),o.jsx("li",{children:"The boundaries of the analysis"}),o.jsx("li",{children:"What issues are outside the scope of the report"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Without this clarity, readers may misinterpret conclusions or assume opinions extend beyond what was actually analyzed."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Unstated or Unsupported Assumptions"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"All engineering analysis involves assumptions. Problems arise when assumptions are:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Not disclosed"}),o.jsx("li",{children:"Not justified"}),o.jsx("li",{children:"Inconsistent with available evidence"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Courts and opposing experts often focus on assumptions. Failure to state and support them can undermine otherwise sound analysis."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Insufficient Connection to Evidence"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Expert opinions must be grounded in the facts of the case. Reports that present general engineering theory without tying it to specific evidence are often less persuasive."}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Effective reports:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Cite relevant documents, data, and observations"}),o.jsx("li",{children:"Explain how evidence supports conclusions"}),o.jsx("li",{children:"Distinguish between observed facts and inferred conditions"})]})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Failure to Address Alternative Explanations"}),o.jsx("p",{className:"text-gray-700",children:"Credible engineering analysis considers plausible alternative causes. Reports that present a single explanation without addressing reasonable alternatives may appear incomplete or biased."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Addressing alternative explanations does not weaken a report; it often strengthens it by demonstrating that competing hypotheses were considered and evaluated."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Overstating Certainty"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering analysis often involves uncertainty. Overstating confidence or presenting conclusions as absolute can be misleading."}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Responsible reports:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Acknowledge data limitations"}),o.jsx("li",{children:"Identify uncertainties or assumptions"}),o.jsx("li",{children:"Avoid definitive language when evidence does not support it"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Transparency about uncertainty enhances credibility."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Blurring Technical and Legal Conclusions"}),o.jsx("p",{className:"text-gray-700",children:"Engineering experts provide technical opinions, not legal judgments. Reports that drift into legal conclusionsâ€”such as fault, negligence, or liabilityâ€”risk being discounted or challenged."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Maintaining a clear distinction between technical causation and legal responsibility helps preserve the integrity of the report."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Poor Organization and Communication"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Even strong technical analysis can be undermined by poor structure or unclear writing. Common communication issues include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Dense, jargon-heavy language"}),o.jsx("li",{children:"Unclear presentation of methods"}),o.jsx("li",{children:"Disorganized findings"}),o.jsx("li",{children:"Lack of summaries or conclusions"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Clear organization and plain language help non-technical readers understand the analysis and reasoning."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Inadequate Documentation of Methods"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Courts and opposing experts often scrutinize methodology. Reports should describe:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"The methods used"}),o.jsx("li",{children:"Why those methods are appropriate"}),o.jsx("li",{children:"Any limitations of the methods"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Without this documentation, opinions may appear unsupported."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),o.jsx("p",{className:"text-gray-700",children:"This article provides general information about common issues in engineering expert reports. It does not constitute engineering or legal advice and does not establish a professional engagement."})]}),o.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[o.jsxs("p",{children:["Published ",o.jsx("time",{dateTime:i,children:e})]}),o.jsxs("p",{children:["Related:"," ",o.jsx(xe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",o.jsx(xe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),o.jsx(Ot,{})]})}function EP(){const i="2026-02-01",e="February 1, 2026",n="Structural Analysis and Building Approval in Missouri: What to Know",r="How structural analysis relates to building approval in Missouri, including when engineering is required and the role of a licensed Professional Engineer.";return P.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",i),u("article:published_time",i)},[r,i,n]),o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx(xe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Structural Analysis and Building Approval in Missouri"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Structural Analysis and Building Approval in Missouri: What to Know"}),o.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Role of Engineering in the Approval Process"})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("p",{className:"text-gray-700",children:"Building projects in Missouri often require review and approval by local authorities before construction can proceed. When a project involves structural considerations that affect safety or performance, engineering analysis may be required as part of the approval process."}),o.jsx("p",{className:"text-gray-700",children:"This article provides general information about how structural analysis relates to building approval in Missouri and how professional engineering judgment is used in that context."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When Structural Analysis Is Required"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Local building departments may require engineering analysis when proposed work:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Modifies load-bearing elements"}),o.jsx("li",{children:"Alters structural systems or support conditions"}),o.jsx("li",{children:"Involves unusual loading or non-standard configurations"}),o.jsx("li",{children:"Affects safety-related components of a structure"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"The specific requirements vary by jurisdiction and project type. Some projects may proceed under prescriptive code provisions, while others require engineering evaluation."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Role of a Missouri-Licensed Professional Engineer"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"When structural analysis is required for approval, a Missouri-licensed Professional Engineer may be engaged to evaluate the proposed work and prepare supporting documentation."}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering involvement may include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Review of proposed modifications"}),o.jsx("li",{children:"Evaluation of load paths and structural behavior"}),o.jsx("li",{children:"Assessment of compatibility with existing structures"}),o.jsx("li",{children:"Preparation of sealed engineering reports or drawings when required"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"The engineerâ€™s role is to apply professional judgment to the specific conditions of the project."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Sealed Documents and Submissions"}),o.jsx("p",{className:"text-gray-700",children:"In many cases, building departments require sealed documents for work involving structural modifications. Sealed submissions indicate that a licensed engineer has taken professional responsibility for the technical content of the analysis or drawings."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Requirements for sealing, signing, and dating are governed by Missouri statutes and professional rules. Not all submissions require a seal, but when they do, sealing should be performed in accordance with applicable regulations."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Interaction with Building Codes and Prescriptive Provisions"}),o.jsx("p",{className:"text-gray-700",children:"Building codes often include prescriptive provisions for common construction scenarios. When work falls outside prescriptive limits, engineering analysis may be required to demonstrate compliance with performance-based criteria."}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Engineers may evaluate:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Whether proposed work meets code intent"}),o.jsx("li",{children:"Whether alternative approaches provide equivalent performance"}),o.jsx("li",{children:"Whether existing conditions warrant additional analysis"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Engineering judgment supplements code requirements rather than replacing them."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Coordination with Design and Construction Teams"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering analysis for building approval typically occurs alongside architectural and construction planning. Clear communication among project participants helps ensure that:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Engineering assumptions are understood"}),o.jsx("li",{children:"Structural implications are considered early"}),o.jsx("li",{children:"Submissions to authorities are complete and consistent"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Early coordination can reduce delays and rework during the approval process."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations and Scope"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"Engineering analysis for building approval is limited to the scope of the engagement. It does not replace:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Contractor means and methods"}),o.jsx("li",{children:"Construction supervision"}),o.jsx("li",{children:"Ongoing inspection unless specifically agreed"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Understanding the boundaries of professional responsibility is important for all parties involved."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Seek Engineering Input"}),o.jsx("p",{className:"text-gray-700",children:"If there is uncertainty about whether structural analysis is required, consulting with a licensed Professional Engineer early in the planning process can help clarify requirements and define appropriate scope."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Closing"}),o.jsx("p",{className:"text-gray-700",children:"This article provides general information about structural analysis and building approval in Missouri. It does not constitute engineering advice and does not establish a professional engagement."})]}),o.jsxs("footer",{className:"border-t border-gray-200 pt-6 text-sm text-gray-700 space-y-2",children:[o.jsxs("p",{children:["Published ",o.jsx("time",{dateTime:i,children:e})]}),o.jsxs("p",{children:["Related:"," ",o.jsx(xe,{to:"/contact",className:"border-b border-gray-300 hover:border-gray-500",children:"Contact"}),","," ",o.jsx(xe,{to:"/legal",className:"border-b border-gray-300 hover:border-gray-500",children:"Legal Disclaimer"})]})]})]})}),o.jsx(Ot,{})]})}function TP(){const i="2026-02-02",e="February 2, 2026",n="What Is a Property Condition Assessment (PCA)?",r="A Property Condition Assessment (PCA) is a high-level evaluation of a buildingâ€™s condition used in due diligence, financing, and asset planning to identify significant deficiencies and risks.";return P.useEffect(()=>{document.title=`${n} â€” Missouri`;const l=(d,g)=>{const y=document.head.querySelector(`meta[name="${d}"]`),p=y??document.createElement("meta");p.name=d,p.content=g,y||document.head.appendChild(p)},u=(d,g)=>{const y=document.head.querySelector(`meta[property="${d}"]`),p=y??document.createElement("meta");p.setAttribute("property",d),p.content=g,y||document.head.appendChild(p)};l("description",r),l("date",i),u("article:published_time",i)},[r,i,n]),o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("article",{className:"max-w-3xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsxs("header",{className:"space-y-4",children:[o.jsxs("p",{className:"text-sm text-gray-600",children:[o.jsx(xe,{to:"/blog",className:"border-b border-gray-300 hover:border-gray-500",children:"Blog"})," ","/ Property Condition Assessment (PCA)"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"What Is a Property Condition Assessment (PCA)?"}),o.jsx("p",{className:"text-sm text-gray-600",children:e}),o.jsx("p",{className:"text-lg text-gray-700",children:"Understanding the Purpose of a PCA"})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("p",{className:"text-gray-700",children:"A Property Condition Assessment (PCA) is an evaluation of the physical condition of a building or group of buildings. PCAs are commonly used in real estate transactions, financing, asset management, and due diligence to understand the current condition of a property and to identify significant deficiencies that may require repair or further investigation."}),o.jsx("p",{className:"text-gray-700",children:"This article provides general information about what a PCA is, what it typically includes, and how engineering judgment may be applied in the process."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"What a PCA Typically Covers"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"While the scope of a PCA can vary depending on the property type and purpose of the assessment, PCAs often include a review of major building systems, such as:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Structural components"}),o.jsx("li",{children:"Building envelope (roof, exterior walls, openings)"}),o.jsx("li",{children:"Mechanical, electrical, and plumbing systems"}),o.jsx("li",{children:"Life safety systems"}),o.jsx("li",{children:"Site-related features affecting the building"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"The goal is to identify observed conditions and potential concerns, not to provide detailed design or repair plans."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"The Role of Engineering Judgment"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"In some cases, a PCA involves professional engineering judgment, particularly when observed conditions may affect safety, performance, or service life. Engineering involvement may include:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Evaluation of observed structural or system deficiencies"}),o.jsx("li",{children:"Assessment of potential implications of deterioration"}),o.jsx("li",{children:"Identification of conditions that warrant further investigation"}),o.jsx("li",{children:"Technical input on remaining useful life of components"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Not all PCAs require a Professional Engineer, but when engineering judgment is applied, licensure may be required depending on jurisdiction and scope."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"PCA vs. Detailed Engineering Investigation"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"A PCA is generally a high-level assessment. It is not a substitute for:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Detailed structural analysis"}),o.jsx("li",{children:"Invasive testing"}),o.jsx("li",{children:"Design of repairs or modifications"}),o.jsx("li",{children:"Construction documents"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"When a PCA identifies issues that cannot be evaluated visually or at a high level, further engineering investigation may be recommended."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"How PCAs Are Used"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"PCAs are commonly used to:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Inform purchase or financing decisions"}),o.jsx("li",{children:"Identify near-term capital needs"}),o.jsx("li",{children:"Support asset management planning"}),o.jsx("li",{children:"Provide baseline documentation of building condition"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Lenders and investors often rely on PCAs to understand potential risks associated with a property."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Documentation and Reporting"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"PCA reports typically document:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Observed conditions"}),o.jsx("li",{children:"Noted deficiencies"}),o.jsx("li",{children:"Areas of uncertainty or limited access"}),o.jsx("li",{children:"Recommendations for further evaluation where appropriate"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Clear documentation helps readers understand both what was observed and what was not evaluated."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"Limitations of a PCA"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"PCAs are limited by:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Accessibility of building components"}),o.jsx("li",{children:"Non-invasive nature of most assessments"}),o.jsx("li",{children:"Time and scope constraints"}),o.jsx("li",{children:"Reliance on visual observation"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Responsible PCA reports acknowledge these limitations rather than implying certainty where none exists."})]}),o.jsxs("section",{children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900 mb-3",children:"When to Consider a PCA"}),o.jsx("p",{className:"text-gray-700 mb-3",children:"A PCA may be appropriate when:"}),o.jsxs("ul",{className:"space-y-2 text-gray-700 list-disc pl-6",children:[o.jsx("li",{children:"Acquiring or refinancing a property"}),o.jsx("li",{children:"Evaluating capital planning needs"}),o.jsx("li",{children:"Establishing a baseline condition record"}),o.jsx("li",{children:"Assessing potential risks prior to significant investment"})]}),o.jsx("p",{className:"text-gray-700 mt-3",children:"Early assessment can help identify issues before they become more costly."})]}),o.jsxs("section",{className:"border-t border-gray-200 pt-6",children:[o.jsx("h2",{className:"text-xl font-serif text-gray-900 mb-2",children:"Closing"}),o.jsx("p",{className:"text-gray-700",children:"This article provides general information about Property Condition Assessments. It does not constitute engineering advice and does not establish a professional engagement."})]})]})}),o.jsx(Ot,{})]})}function wP(){return o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsxs("header",{className:"space-y-3",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Toolbox"}),o.jsx("p",{className:"text-lg text-gray-700",children:"Reference tools for engineering calculations and unit handling."})]}),o.jsxs("section",{className:"space-y-4",children:[o.jsx("h2",{className:"text-2xl font-serif text-gray-900",children:"Utilities"}),o.jsxs("div",{className:"border border-gray-200 p-5 bg-white",children:[o.jsx("h3",{className:"text-lg font-serif text-gray-900 mb-2",children:"Unit Conversion"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"Convert numerator and denominator measurements to SI units, or convert to a target set of units."}),o.jsx(xe,{to:"/toolbox/unit-conversion",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Open unit conversion tool"})]}),o.jsxs("div",{className:"border border-gray-200 p-5 bg-white",children:[o.jsx("h3",{className:"text-lg font-serif text-gray-900 mb-2",children:"Force vectors"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"Draw force vectors on an XY plane and compute the resultant."}),o.jsx(xe,{to:"/toolbox/force-vectors",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Open force vectors tool"})]}),o.jsxs("div",{className:"border border-gray-200 p-5 bg-white",children:[o.jsx("h3",{className:"text-lg font-serif text-gray-900 mb-2",children:"Static system"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"Build a simple 2D static system (springs, cables/pulleys, smooth contacts) and solve Î£Fx = 0, Î£Fy = 0."}),o.jsx(xe,{to:"/toolbox/static-system",className:"inline-block text-gray-700 border-b border-gray-400 hover:border-gray-600 transition-colors",children:"Open static system tool"})]})]})]})}),o.jsx(Ot,{})]})}const MN=9.80665;class on{constructor(e){this.abbreviation=e.abbreviation,this.fullName=e.fullName,this.type=e.type,this.prefix=e.prefix??null,this.prefixMultiplier=e.prefixMultiplier??null,this.baseMultiplier=e.baseMultiplier??null}}class Ge{constructor(e,n){this.value=e,this.unit=n}}const Le=new on({abbreviation:"N",fullName:"Newtons",type:"Force"}),mp=i=>{if(i.baseMultiplier!=null)return i.baseMultiplier;const e=i.prefixMultiplier??1;return i.type==="Mass"?e/1e3:e},iE=(i,e,n={})=>{if(i.type==="Mass"){const l=i.baseMultiplier!=null?i.baseMultiplier*1e3:i.prefixMultiplier??1,u=i.baseMultiplier!=null?i.baseMultiplier:(i.prefixMultiplier??1)/1e3;return e==="numerator"&&!n.preferKilogram?{multiplier:l,label:"g",baseLabel:"g"}:{multiplier:u,label:"kg",baseLabel:"kg"}}const r=i.baseMultiplier??i.prefixMultiplier??1;return i.type==="Force"?{multiplier:r,label:"N",baseLabel:"N"}:i.type==="Time"?{multiplier:r,label:"s",baseLabel:"s"}:i.type==="Length"?{multiplier:r,label:"m",baseLabel:"m"}:{multiplier:r,label:i.abbreviation,baseLabel:i.abbreviation}},kg=[{name:"tera",symbol:"T",multiplier:1e12},{name:"giga",symbol:"G",multiplier:1e9},{name:"mega",symbol:"M",multiplier:1e6},{name:"kilo",symbol:"k",multiplier:1e3},{name:"",symbol:"",multiplier:1},{name:"milli",symbol:"m",multiplier:.001},{name:"micro",symbol:"Î¼",multiplier:1e-6}],sE=(i,e,n=.1)=>{const r=Math.abs(i);if(r===0)return{value:i,label:e};for(const u of kg){const d=r/u.multiplier;if(d>=n&&d<1e3)return{value:i/u.multiplier,label:`${u.symbol}${e}`}}const l=kg[kg.length-1];return{value:i/l.multiplier,label:`${l.symbol}${e}`}},rE=i=>{const e=["N","kg","m","g","s"],n=e.indexOf(i);return n===-1?e.length:n},aE=i=>[...i].sort((e,n)=>rE(e.baseLabel)-rE(n.baseLabel)).map(e=>e.label).join("*"),NP=(i,e)=>{if(!Number.isFinite(i)||i===0)return i;const n=Math.floor(Math.log10(Math.abs(i))),r=10**(e-1-n);return Math.round(i*r)/r},Vh=i=>i.map(e=>"unit"in e?{unit:e.unit,power:e.power??1}:{unit:e,power:1}),Tt=(i,e,n=[])=>{const r=Vh(e),l=Vh(n),u=r.reduce((g,{unit:y,power:p})=>g*mp(y)**(p??1),1),d=l.reduce((g,{unit:y,power:p})=>g*mp(y)**(p??1),1);return i*(u/d)},_t=(i,e,n,r,l=[])=>{const u=Tt(i,e,n),d=Tt(1,r,l);return u/d},jP=i=>{if(i.unit.type!=="Mass")throw new Error(`Expected Mass unit, received ${i.unit.type}.`);return i.value*mp(i.unit)},SP=(i,e=MN)=>{const n=jP(i);return new Ge(n*e,Le)},AP=(i,e,n=[],r={})=>{const l=Vh(e),u=Vh(n),d=l.length>1,g=l.map(({unit:q,power:ne})=>{const Z=ne??1,J=iE(q,"numerator",{preferKilogram:d});return{multiplier:J.multiplier**Z,label:Z===1?J.label:`${J.label}^${Z}`,power:Z,baseLabel:J.baseLabel}}),y=u.map(({unit:q,power:ne})=>{const Z=ne??1,J=iE(q,"denominator");return{multiplier:J.multiplier**Z,label:Z===1?J.label:`${J.label}^${Z}`,power:Z,baseLabel:J.baseLabel}}),p=g.reduce((q,ne)=>q*ne.multiplier,1),_=y.reduce((q,ne)=>q*ne.multiplier,1);let E=i*(p/_),N=aE(g);const V=y.map(q=>q.label).join("*");if(g.length===1&&g[0].power===1){const q=g[0].baseLabel;if(q==="N"||q==="g"||q==="m"){const ne=sE(E,q,.1);E=ne.value,N=ne.label}}if(g.length>1){const ne=["m","N","g"].map(Z=>g.findIndex(J=>J.baseLabel===Z&&J.power===1)).find(Z=>Z!==void 0&&Z>=0);if(ne!==void 0&&ne>=0){const Z=Math.abs(E);if(Z<.1||Z>=1e3){const J=g[ne],B=sE(E,J.baseLabel,.1);B.label!==J.label&&(E=B.value,g[ne]={...J,label:B.label},N=aE(g))}}}if(r.sigFigs!==void 0){const q=Math.max(1,Math.floor(r.sigFigs));E=NP(E,q)}const H=V&&V.includes("*")?`(${V})`:V,z=H?`${N}/${H}`:N;return{value:E,unit:z}},Cy=new on({abbreviation:"kg",fullName:"Kilograms",type:"Mass",prefix:"kilo",prefixMultiplier:1e3}),DN=new on({abbreviation:"g",fullName:"Grams",type:"Mass",prefixMultiplier:1}),ON=new on({abbreviation:"Mg",fullName:"Megagrams",type:"Mass",prefix:"mega",prefixMultiplier:1e6}),PN=new on({abbreviation:"mg",fullName:"Milligrams",type:"Mass",prefix:"milli",prefixMultiplier:.001}),IP=new on({abbreviation:"s",fullName:"Seconds",type:"Time"}),CP=new on({abbreviation:"ms",fullName:"Milliseconds",type:"Time",prefix:"milli",prefixMultiplier:.001}),RP=new on({abbreviation:"Î¼s",fullName:"Microseconds",type:"Time",prefix:"micro",prefixMultiplier:1e-6}),MP=new on({abbreviation:"mN",fullName:"Millinewtons",type:"Force",prefix:"milli",prefixMultiplier:.001}),DP=new on({abbreviation:"kN",fullName:"Kilonewtons",type:"Force",prefix:"kilo",prefixMultiplier:1e3}),OP=new on({abbreviation:"MN",fullName:"Meganewtons",type:"Force",prefix:"mega",prefixMultiplier:1e6}),xs=new on({abbreviation:"m",fullName:"Meters",type:"Length"}),PP=new on({abbreviation:"mm",fullName:"Millimeters",type:"Length",prefix:"milli",prefixMultiplier:.001}),kP=new on({abbreviation:"Î¼m",fullName:"Micrometers",type:"Length",prefix:"micro",prefixMultiplier:1e-6}),LP=new on({abbreviation:"km",fullName:"Kilometers",type:"Length",prefix:"kilo",prefixMultiplier:1e3}),VP=new on({abbreviation:"Mm",fullName:"Megameters",type:"Length",prefix:"mega",prefixMultiplier:1e6}),hf=new on({abbreviation:"ft",fullName:"Feet",type:"Length",baseMultiplier:.3048}),UP=new on({abbreviation:"hr",fullName:"Hours",type:"Time",baseMultiplier:3600}),ff=new on({abbreviation:"lb",fullName:"Pound-force",type:"Force",baseMultiplier:4.4482216152605}),kN=new on({abbreviation:"slug",fullName:"Slugs",type:"Mass",baseMultiplier:14.59390294}),Pc=[{label:"N",unit:Le},{label:"kN",unit:DP},{label:"MN",unit:OP},{label:"mN",unit:MP},{label:"lb",unit:ff},{label:"kg",unit:Cy},{label:"g",unit:DN},{label:"mg",unit:PN},{label:"Mg",unit:ON},{label:"slug",unit:kN},{label:"m",unit:xs},{label:"mm",unit:PP},{label:"Î¼m",unit:kP},{label:"km",unit:LP},{label:"Mm",unit:VP},{label:"ft",unit:hf},{label:"s",unit:IP},{label:"ms",unit:CP},{label:"Î¼s",unit:RP},{label:"hr",unit:UP}],eh=i=>Pc.find(n=>n.label===i)?.unit??Le,oE=i=>Number.isFinite(i)?i===0?"0":Number(i.toPrecision(6)).toString():"â€”";function zP(){const[i,e]=P.useState("1"),[n,r]=P.useState("1"),[l,u]=P.useState("N"),[d,g]=P.useState("s"),[y,p]=P.useState("N"),[_,E]=P.useState("s"),[N,V]=P.useState(1),[H,z]=P.useState(1),[q,ne]=P.useState(1),[Z,J]=P.useState(1),B=P.useMemo(()=>eh(l),[l]),de=P.useMemo(()=>eh(d),[d]),ge=P.useMemo(()=>eh(y),[y]),A=P.useMemo(()=>eh(_),[_]),S=Number(i),C=Number(n),R=Number.isFinite(S),O=Number.isFinite(C)&&C!==0,F=R&&O?S/C:NaN,M=P.useMemo(()=>Number.isFinite(F)?AP(F,[{unit:B,power:N}],[{unit:de,power:H}],{sigFigs:6}):null,[F,B,de,N,H]),Ne=P.useMemo(()=>{if(!Number.isFinite(F))return null;const be=_t(F,[{unit:B,power:N}],[{unit:de,power:H}],[{unit:ge,power:q}],[{unit:A,power:Z}]),Q=q===1?ge.abbreviation:`${ge.abbreviation}^${q}`,he=Z===1?A.abbreviation:`${A.abbreviation}^${Z}`,pe=`${Q}/${he}`;return{value:be,unit:pe}},[F,B,de,N,H,ge,A,q,Z]);return o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsxs("header",{className:"space-y-3",children:[o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Unit Conversion"}),o.jsx("p",{className:"text-lg text-gray-700",children:"Convert a numerator and denominator measurement to SI, or convert to a target unit pair."})]}),o.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-serif text-gray-900",children:"Input"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"block text-sm text-gray-700",children:["Numerator value",o.jsx("input",{className:"mt-1 w-full border border-gray-300 px-3 py-2 text-sm",value:i,onChange:be=>e(be.target.value),inputMode:"decimal"})]}),o.jsxs("label",{className:"block text-sm text-gray-700",children:["Numerator unit",o.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[o.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:l,onChange:be=>u(be.target.value),children:Pc.map(be=>o.jsx("option",{value:be.label,children:be.label},be.label))}),o.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:N,onChange:be=>V(Number(be.target.value)),children:[o.jsx("option",{value:1,children:"^1"}),o.jsx("option",{value:2,children:"^2"}),o.jsx("option",{value:3,children:"^3"})]})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"block text-sm text-gray-700",children:["Denominator value",o.jsx("input",{className:"mt-1 w-full border border-gray-300 px-3 py-2 text-sm",value:n,onChange:be=>r(be.target.value),inputMode:"decimal"})]}),o.jsxs("label",{className:"block text-sm text-gray-700",children:["Denominator unit",o.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[o.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:d,onChange:be=>g(be.target.value),children:Pc.map(be=>o.jsx("option",{value:be.label,children:be.label},be.label))}),o.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:H,onChange:be=>z(Number(be.target.value)),children:[o.jsx("option",{value:1,children:"^1"}),o.jsx("option",{value:2,children:"^2"}),o.jsx("option",{value:3,children:"^3"})]})]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-serif text-gray-900",children:"Results"}),o.jsxs("div",{className:"border border-gray-200 p-4 space-y-3",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"A) Convert to SI"}),o.jsx("p",{className:"text-lg text-gray-900",children:M?`${oE(M.value)} ${M.unit}`:"â€”"})]}),o.jsxs("div",{className:"border border-gray-200 p-4 space-y-3",children:[o.jsx("p",{className:"text-sm text-gray-600",children:"B) Convert to target numerator / denominator"}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("label",{className:"block text-sm text-gray-700",children:["Target numerator unit",o.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[o.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:y,onChange:be=>p(be.target.value),children:Pc.map(be=>o.jsx("option",{value:be.label,children:be.label},be.label))}),o.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:q,onChange:be=>ne(Number(be.target.value)),children:[o.jsx("option",{value:1,children:"^1"}),o.jsx("option",{value:2,children:"^2"}),o.jsx("option",{value:3,children:"^3"})]})]})]}),o.jsxs("label",{className:"block text-sm text-gray-700",children:["Target denominator unit",o.jsxs("div",{className:"mt-1 grid grid-cols-[1fr,96px] gap-2",children:[o.jsx("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:_,onChange:be=>E(be.target.value),children:Pc.map(be=>o.jsx("option",{value:be.label,children:be.label},be.label))}),o.jsxs("select",{className:"w-full border border-gray-300 px-3 py-2 text-sm",value:Z,onChange:be=>J(Number(be.target.value)),children:[o.jsx("option",{value:1,children:"^1"}),o.jsx("option",{value:2,children:"^2"}),o.jsx("option",{value:3,children:"^3"})]})]})]})]}),o.jsx("p",{className:"text-lg text-gray-900",children:Ne?`${oE(Ne.value)} ${Ne.unit}`:"â€”"})]}),!R&&o.jsx("p",{className:"text-sm text-red-600",children:"Enter a valid numerator value."}),!O&&o.jsx("p",{className:"text-sm text-red-600",children:"Enter a valid, non-zero denominator value."})]})]})]})}),o.jsx(Ot,{})]})}const th=2*Math.PI,qr=(i,e)=>{if(!Number.isFinite(i))throw new Error(`${e} must be a finite number.`)},ra=i=>{const e=(i%th+th)%th;return e===th?0:e},LN=i=>Math.hypot(i.x,i.y,i.z);class gn{constructor(e){this._radians=e}static fromDegrees(e){return qr(e,"degrees"),gn.fromRadians(e*Math.PI/180)}static fromRadians(e){return qr(e,"radians"),new gn(ra(e))}get radians(){return this._radians}get degrees(){return this._radians*180/Math.PI}}const Ry=i=>{if(i.unit.type!=="Force")throw new Error(`Expected Force unit, received ${i.unit.type}.`);return Tt(i.value,[i.unit],[])};class ki{constructor(e){this._unit=e}static fromUnitVector(e){const n=LN(e);if(!Number.isFinite(n)||n===0)throw new Error("Unit vector must be a non-zero finite vector.");return new ki({x:e.x/n,y:e.y/n,z:e.z/n})}static fromThetaPhiRadians(e,n){qr(e,"theta"),qr(n,"phi");const r=ra(e),l=Math.max(-Math.PI/2,Math.min(Math.PI/2,n)),u=Math.cos(l),d={x:u*Math.cos(r),y:u*Math.sin(r),z:Math.sin(l)};return new ki(d)}static fromThetaPhiDegrees(e,n){return ki.fromThetaPhiRadians(e*Math.PI/180,n*Math.PI/180)}static fromDirectionAnglesDegrees(e,n,r){qr(e,"alpha"),qr(n,"beta"),qr(r,"gamma");const l=Math.cos(e*Math.PI/180),u=Math.cos(n*Math.PI/180),d=Math.cos(r*Math.PI/180),g=Math.hypot(l,u,d);if(!Number.isFinite(g)||g===0)throw new Error("Invalid direction angles.");return new ki({x:l/g,y:u/g,z:d/g})}static completeDirectionAnglesDegrees(e){const n=e.alphaDeg??null,r=e.betaDeg??null,l=e.gammaDeg??null;if([n!=null?1:0,r!=null?1:0,l!=null?1:0].reduce((V,H)=>V+H,0)!==2)throw new Error("Provide exactly two of alpha/beta/gamma to compute the third.");const d=V=>{qr(V,"angle");const H=Math.cos(V*Math.PI/180);return H*H},g=n!=null?d(n):0,y=r!=null?d(r):0,p=l!=null?d(l):0,_=1-(g+y+p);if(!Number.isFinite(_)||_<-1e-12)throw new Error("Invalid direction angles: cos^2 sum exceeds 1.");const E=Math.sqrt(Math.max(0,_)),N=Math.acos(Math.max(-1,Math.min(1,E)))*180/Math.PI;return{alphaDeg:n??N,betaDeg:r??N,gammaDeg:l??N}}get unit(){return this._unit}get thetaRadians(){return ra(Math.atan2(this._unit.y,this._unit.x))}get phiRadians(){const e=Math.hypot(this._unit.x,this._unit.y);return Math.atan2(this._unit.z,e)}get thetaDegrees(){return this.thetaRadians*180/Math.PI}get phiDegrees(){return this.phiRadians*180/Math.PI}get alphaDegrees(){return Math.acos(Math.max(-1,Math.min(1,this._unit.x)))*180/Math.PI}get betaDegrees(){return Math.acos(Math.max(-1,Math.min(1,this._unit.y)))*180/Math.PI}get gammaDegrees(){return Math.acos(Math.max(-1,Math.min(1,this._unit.z)))*180/Math.PI}}class Tn{constructor(e,n){if(e.unit.type!=="Force")throw new Error(`Expected Force unit, received ${e.unit.type}.`);this.measurement=e,this.direction=n}static fromComponents(e,n){if(e.unit.type!=="Force"||n.unit.type!=="Force")throw new Error("Components must use Force units.");if(e.unit!==n.unit)throw new Error("Component units must match.");const r=Tt(e.value,[e.unit],[]),l=Tt(n.value,[n.unit],[]),u=Math.hypot(r,l),d=u===0?0:ra(Math.atan2(l,r));return new Tn(new Ge(u,Le),gn.fromRadians(d))}toComponentsNewtons(){const e=Ry(this.measurement),n=this.direction.radians;return{x:e*Math.cos(n),y:e*Math.sin(n)}}components(e=Le){if(e.type!=="Force")throw new Error(`Expected Force unit, received ${e.type}.`);const n=this.toComponentsNewtons(),r=_t(n.x,[Le],[],[e],[]),l=_t(n.y,[Le],[],[e],[]);return{i:new Ge(r,e),j:new Ge(l,e)}}toIHatJHatString(e={}){const n=e.unit??Le,r=e.sigFigs??6,{i:l,j:u}=this.components(n),d=E=>Number.isFinite(E)?E===0?"0":Number(E.toPrecision(Math.max(1,Math.floor(r)))).toString():"â€”",g=`${d(l.value)} ${n.abbreviation} iÌ‚`,y=Math.abs(u.value),p=u.value>=0?"+":"-",_=`${d(y)} ${n.abbreviation} jÌ‚`;return`${g} ${p} ${_}`}add(e){return Bc(this,e)}}class $a{constructor(e,n){if(e.unit.type!=="Force")throw new Error(`Expected Force unit, received ${e.unit.type}.`);this.measurement=e,this.direction=n}static fromComponents(e,n,r){if(e.unit.type!=="Force"||n.unit.type!=="Force"||r.unit.type!=="Force")throw new Error("Components must use Force units.");if(e.unit!==n.unit||e.unit!==r.unit)throw new Error("Component units must match.");const l=Tt(e.value,[e.unit],[]),u=Tt(n.value,[n.unit],[]),d=Tt(r.value,[r.unit],[]),g=Math.hypot(l,u,d),y=g===0?{x:1,y:0,z:0}:{x:l/g,y:u/g,z:d/g};return new $a(new Ge(g,Le),ki.fromUnitVector(y))}toComponentsNewtons(){const e=Ry(this.measurement),n=this.direction.unit;return{x:e*n.x,y:e*n.y,z:e*n.z}}components(e=Le){if(e.type!=="Force")throw new Error(`Expected Force unit, received ${e.type}.`);const n=this.toComponentsNewtons(),r=_t(n.x,[Le],[],[e],[]),l=_t(n.y,[Le],[],[e],[]),u=_t(n.z,[Le],[],[e],[]);return{i:new Ge(r,e),j:new Ge(l,e),k:new Ge(u,e)}}toIJKString(e={}){const n=e.unit??Le,r=e.sigFigs??6,{i:l,j:u,k:d}=this.components(n),g=N=>Number.isFinite(N)?N===0?"0":Number(N.toPrecision(Math.max(1,Math.floor(r)))).toString():"â€”",y=(N,V)=>`${g(Math.abs(N))} ${n.abbreviation} ${V}`,p=`${g(l.value)} ${n.abbreviation} iÌ‚`,_=`${u.value>=0?"+":"-"} ${y(u.value,"jÌ‚")}`,E=`${d.value>=0?"+":"-"} ${y(d.value,"kÌ‚")}`;return`${p} ${_} ${E}`}}const qP=(...i)=>{if(i.length===0)throw new Error("addForces3D requires at least one force.");const e=i.reduce((l,u)=>{const d=u.toComponentsNewtons();return{x:l.x+d.x,y:l.y+d.y,z:l.z+d.z}},{x:0,y:0,z:0}),n=LN(e),r=n===0?{x:1,y:0,z:0}:{x:e.x/n,y:e.y/n,z:e.z/n};return new $a(new Ge(n,Le),ki.fromUnitVector(r))},FP=(i,e)=>{const n=i.toComponentsNewtons(),r=e.toComponentsNewtons(),l={x:n.x-r.x,y:n.y-r.y},u=Math.hypot(l.x,l.y),d=u===0?0:ra(Math.atan2(l.y,l.x));return new Tn(new Ge(u,Le),gn.fromRadians(d))},BP=i=>{const e=i.resultant.toComponentsNewtons(),n=i.direction1.radians,r=i.direction2.radians,l=Math.cos(n),u=Math.cos(r),d=Math.sin(n),g=Math.sin(r),y=l*g-u*d;if(!Number.isFinite(y)||Math.abs(y)<1e-12)throw new Error("Directions are colinear; cannot solve unique magnitudes.");const p=(e.x*g-u*e.y)/y,_=(l*e.y-e.x*d)/y;return{force1:new Tn(new Ge(p,Le),i.direction1),force2:new Tn(new Ge(_,Le),i.direction2)}},HP=i=>{const e=i.knownForces.length?Bc(...i.knownForces):null,n=e?e.toComponentsNewtons():{x:0,y:0},r=i.resultantDirection.radians,l={x:Math.cos(r),y:Math.sin(r)},u={x:-Math.sin(r),y:Math.cos(r)},d=Ry(i.unknownForceMagnitude);if(!Number.isFinite(d)||d<=0)throw new Error("Unknown force magnitude must be a positive finite number.");const y=-(u.x*n.x+u.y*n.y)/d;if(!Number.isFinite(y)||Math.abs(y)>1)throw new Error("Not solvable: no direction satisfies the resultant direction constraint.");const p=Math.asin(y),_=[ra(r+p),ra(r+(Math.PI-p))];let E=null;for(const N of _){const V={x:n.x+d*Math.cos(N),y:n.y+d*Math.sin(N)},H=u.x*V.x+u.y*V.y,z=l.x*V.x+l.y*V.y,q=1e-9*Math.max(1,Math.abs(z),Math.hypot(V.x,V.y));z<-q||Math.abs(H)>1e3*q||(!E||z>E.resultantMagnitude)&&(E={theta:N,resultantMagnitude:z,perp:H,sum:V})}if(!E)throw new Error("Not solvable: solutions point opposite the given resultant direction.");return{unknownForce:new Tn(new Ge(d,Le),gn.fromRadians(E.theta)),resultant:new Tn(new Ge(E.resultantMagnitude,Le),gn.fromRadians(r))}},Bc=(...i)=>{if(i.length===0)throw new Error("addForces requires at least one force.");const e=i.reduce((l,u)=>{const d=u.toComponentsNewtons();return{x:l.x+d.x,y:l.y+d.y}},{x:0,y:0}),n=Math.hypot(e.x,e.y),r=ra(Math.atan2(e.y,e.x));return new Tn(new Ge(n,Le),gn.fromRadians(r))},gp=[{label:"N",unit:Le},{label:"lb",unit:ff}],Uh=i=>gp.find(e=>e.label===i)?.unit??Le,pp=[{label:"m",unit:xs},{label:"ft",unit:hf}],zr=i=>pp.find(e=>e.label===i)?.unit??xs,Et=i=>Number.isFinite(i)?i===0?"0":Number(i.toPrecision(6)).toString():"â€”",cn=i=>{const e=i.trim();if(e==="")return null;const n=Number(e);return Number.isFinite(n)?n:null},$P=i=>{if(i.entryMode!=="alphaBetaGamma")return i;const e=cn(i.alphaText),n=cn(i.betaText),r=cn(i.gammaText);if([e!=null?1:0,n!=null?1:0,r!=null?1:0].reduce((u,d)=>u+d,0)!==2)return i;try{const u=ki.completeDirectionAnglesDegrees({alphaDeg:e,betaDeg:n,gammaDeg:r});return{...i,alphaText:i.alphaText.trim()?i.alphaText:Et(u.alphaDeg),betaText:i.betaText.trim()?i.betaText:Et(u.betaDeg),gammaText:i.gammaText.trim()?i.gammaText:Et(u.gammaDeg)}}catch{return i}},lE=(i,e,n,r)=>{const l=`${Et(i)} ${r} iÌ‚`,u=e>=0?"+":"-",d=n>=0?"+":"-",g=`${Et(Math.abs(e))} ${r} jÌ‚`,y=`${Et(Math.abs(n))} ${r} kÌ‚`;return`${l} ${u} ${g} ${d} ${y}`},al=(i,e)=>{const n=cn(i);if(n===null)return 0;if(e.type!=="Length")throw new Error(`Expected Length unit, received ${e.type}.`);return Tt(n,[e],[])},GP=(i,e)=>{const n=cn(i.endXText),r=cn(i.endYText),l=cn(i.endZText);if(n===null||r===null||l===null)return null;if(e.type!=="Length")throw new Error(`Expected Length unit, received ${e.type}.`);return{x:Tt(n,[e],[]),y:Tt(r,[e],[]),z:Tt(l,[e],[])}},VN=(i,e)=>{const n=GP(i,e);if(!n)return null;const r={x:al(i.startXText,e),y:al(i.startYText,e),z:al(i.startZText,e)},l={x:n.x-r.x,y:n.y-r.y,z:n.z-r.z};try{return ki.fromUnitVector(l)}catch{return null}},Hc=640,nh=40,cE={x:Hc/2,y:Hc/2},KP=Math.cos(Math.PI/6),YP=Math.sin(Math.PI/6),WP=1,Ur=i=>{const e=(i.x-i.y)*KP,n=(i.x+i.y)*YP+i.z*WP;return{x:cE.x+e,y:cE.y-n}},ih=i=>Tt(i.measurement.value,[i.measurement.unit],[]),kc=i=>{const e=Uh(i.unitLabel);if(i.entryMode==="points"){const d=cn(i.magnitudeText);if(d===null)return null;const g=VN(i,zr(i.positionUnitLabel));return g?new $a(new Ge(d,e),g):null}if(i.entryMode==="components"){const d=cn(i.iText),g=cn(i.jText),y=cn(i.kText);return d===null||g===null||y===null?null:$a.fromComponents(new Ge(d,e),new Ge(g,e),new Ge(y,e))}if(i.entryMode==="thetaPhi"){const d=cn(i.magnitudeText),g=cn(i.thetaText),y=cn(i.phiText);return d===null||g===null||y===null?null:new $a(new Ge(d,e),ki.fromThetaPhiDegrees(g,y))}const n=cn(i.magnitudeText),r=cn(i.alphaText),l=cn(i.betaText),u=cn(i.gammaText);return n===null||r===null||l===null||u===null?null:new $a(new Ge(n,e),ki.fromDirectionAnglesDegrees(r,l,u))},uE=i=>{const e=Uh(i.unitLabel),n=$P(i),r=kc(n);if(!r)return i;const l=r.components(e),u=_t(r.measurement.value,[Le],[],[e],[]);return{...n,iText:Et(l.i.value),jText:Et(l.j.value),kText:Et(l.k.value),magnitudeText:Et(u),thetaText:Et(r.direction.thetaDegrees),phiText:Et(r.direction.phiDegrees),alphaText:Et(r.direction.alphaDegrees),betaText:Et(r.direction.betaDegrees),gammaText:Et(r.direction.gammaDegrees)}};function QP(){const[i,e]=P.useState("N"),[n,r]=P.useState("m"),l=P.useMemo(()=>zr(n),[n]),[u,d]=P.useState([]),[g,y]=P.useState(null),[p,_]=P.useState(null),E=P.useMemo(()=>{const B=[...u.map(de=>kc(de)).filter(de=>de!=null).map(de=>ih(de)),...p?[ih(p)]:[]].filter(de=>Number.isFinite(de)&&de>0);return B.length?Math.max(...B):1},[u,p]),N=P.useMemo(()=>{const B=Hc/2-80;return Math.min(1,B/E)},[E]),V=()=>{y(null);const B=crypto.randomUUID();d(de=>[{id:B,entryMode:"components",unitLabel:i,positionUnitLabel:n,startXText:"0",startYText:"0",startZText:"0",endXText:"",endYText:"",endZText:"",iText:"",jText:"",kText:"",magnitudeText:"",thetaText:"",phiText:"",alphaText:"",betaText:"",gammaText:""},...de])},H=B=>{d(de=>de.filter(ge=>ge.id!==B)),_(null)},z=(B,de)=>{d(ge=>ge.map(A=>{if(A.id!==B)return A;const S={...A,...de};return uE(S)})),_(null)},q=(B,de,ge)=>{if(B.trim()==="")return"";const A=cn(B);return A===null?"":de.type!=="Length"||ge.type!=="Length"?B:Et(_t(A,[de],[],[ge],[]))},ne=(B,de)=>{d(ge=>ge.map(A=>{if(A.id!==B)return A;const S=zr(A.positionUnitLabel),C=zr(de),R={...A,positionUnitLabel:de,startXText:q(A.startXText,S,C),startYText:q(A.startYText,S,C),startZText:q(A.startZText,S,C),endXText:q(A.endXText,S,C),endYText:q(A.endYText,S,C),endZText:q(A.endZText,S,C)};return uE(R)})),_(null)},Z=()=>{if(y(null),u.length===0)return;const B=u.map(de=>kc(de)).filter(de=>de!=null);if(B.length!==u.length){y("Cannot draw resultant: one or more vectors are incomplete.");return}_(qP(...B))},J=P.useMemo(()=>{if(!p)return null;const B=Uh(i),de=_t(p.measurement.value,[Le],[],[B],[]),ge=p.components(B);return{magnitude:de,theta:p.direction.thetaDegrees,phi:p.direction.phiDegrees,alpha:p.direction.alphaDegrees,beta:p.direction.betaDegrees,gamma:p.direction.gammaDegrees,i:ge.i.value,j:ge.j.value,k:ge.k.value}},[p,i]);return o.jsxs("div",{className:"border border-gray-200 bg-white",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[o.jsx("div",{className:"text-sm text-gray-700",children:"3D mode uses component/angle entry and renders an isometric preview."}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("span",{children:"Force"}),o.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:i,onChange:B=>e(B.target.value),children:gp.map(B=>o.jsx("option",{value:B.label,children:B.label},B.label))})]}),o.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("span",{children:"Position"}),o.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:n,onChange:B=>r(B.target.value),children:pp.map(B=>o.jsx("option",{value:B.label,children:B.label},B.label))})]})]})]}),o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{className:"border border-gray-200 bg-gray-50",children:[o.jsx("div",{className:"px-3 py-2 text-sm text-gray-700 border-b border-gray-200",children:"Preview (isometric): +X is down-right, +Y is down-left, +Z is up."}),o.jsx("div",{className:"p-3",children:o.jsxs("svg",{viewBox:`0 0 ${Hc} ${Hc}`,className:"w-full h-[420px] select-none bg-white border border-gray-200",children:[o.jsx("defs",{children:o.jsx("marker",{id:"arrowhead-3d",markerWidth:"10",markerHeight:"10",refX:"8",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:o.jsx("path",{d:"M0,0 L8,3 L0,6 Z",fill:"currentColor"})})}),(()=>{const B=Tt(6,[l],[])*nh,de=Ur({x:0,y:0,z:0}),ge=Ur({x:B,y:0,z:0}),A=Ur({x:0,y:B,z:0}),S=Ur({x:0,y:0,z:B});return o.jsxs("g",{className:"text-gray-400",children:[o.jsx("line",{x1:de.x,y1:de.y,x2:ge.x,y2:ge.y,stroke:"currentColor",strokeWidth:2}),o.jsx("line",{x1:de.x,y1:de.y,x2:A.x,y2:A.y,stroke:"currentColor",strokeWidth:2}),o.jsx("line",{x1:de.x,y1:de.y,x2:S.x,y2:S.y,stroke:"currentColor",strokeWidth:2}),o.jsx("text",{x:ge.x+6,y:ge.y,fill:"currentColor",fontSize:12,dominantBaseline:"middle",children:"+X"}),o.jsx("text",{x:A.x-6,y:A.y,fill:"currentColor",fontSize:12,dominantBaseline:"middle",textAnchor:"end",children:"+Y"}),o.jsx("text",{x:S.x,y:S.y-8,fill:"currentColor",fontSize:12,dominantBaseline:"middle",textAnchor:"middle",children:"+Z"}),o.jsx("circle",{cx:de.x,cy:de.y,r:3,fill:"currentColor"})]})})(),u.map((B,de)=>{const ge=kc(B);if(!ge)return null;const A=ih(ge);if(!Number.isFinite(A)||A<=0)return null;const S=B.entryMode==="points"?{x:al(B.startXText,zr(B.positionUnitLabel))*nh,y:al(B.startYText,zr(B.positionUnitLabel))*nh,z:al(B.startZText,zr(B.positionUnitLabel))*nh}:{x:0,y:0,z:0},C=ge.direction.unit,R={x:C.x*A*N,y:C.y*A*N,z:C.z*A*N},O={x:S.x+R.x,y:S.y+R.y,z:S.z+R.z},F=Ur(S),M=Ur(O),Ne=`F${u.length-de}`;return o.jsxs("g",{className:"text-gray-700",children:[o.jsx("line",{x1:F.x,y1:F.y,x2:M.x,y2:M.y,stroke:"currentColor",strokeWidth:4,markerEnd:"url(#arrowhead-3d)"}),o.jsx("text",{x:(F.x+M.x)/2,y:(F.y+M.y)/2,fill:"currentColor",fontSize:12,dominantBaseline:"middle",children:Ne})]},B.id)}),p?(()=>{const B=ih(p);if(!Number.isFinite(B)||B<=0)return null;const de=p.direction.unit,ge={x:0,y:0,z:0},A={x:de.x*B*N,y:de.y*B*N,z:de.z*B*N},S=Ur(ge),C=Ur(A);return o.jsxs("g",{className:"text-red-600",children:[o.jsx("line",{x1:S.x,y1:S.y,x2:C.x,y2:C.y,stroke:"currentColor",strokeWidth:6,markerEnd:"url(#arrowhead-3d)"}),o.jsx("text",{x:(S.x+C.x)/2,y:(S.y+C.y)/2,fill:"currentColor",fontSize:12,dominantBaseline:"middle",children:"Î£"})]})})():null]})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:V,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add vector"}),o.jsx("button",{type:"button",onClick:Z,className:"px-3 py-1.5 text-sm bg-gray-900 text-white hover:bg-gray-800 transition-colors disabled:opacity-50",disabled:u.length===0,children:"Draw resultant"})]}),g&&o.jsx("div",{className:"border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-800",children:g}),u.length===0?o.jsx("div",{className:"text-sm text-gray-600",children:"Add a vector to get started."}):o.jsx("div",{className:"space-y-3",children:u.map((B,de)=>{const ge=Uh(B.unitLabel),A=kc(B),S=A?A.components(ge):null,C=A&&Number.isFinite(A.measurement.value)?_t(A.measurement.value,[Le],[],[ge],[]):null;return o.jsxs("div",{className:"border border-gray-200 p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["F",u.length-de]}),o.jsx("button",{type:"button",onClick:()=>H(B.id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>z(B.id,{entryMode:"components"}),className:`text-sm border px-2 py-1 ${B.entryMode==="components"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"iÌ‚/jÌ‚/kÌ‚"}),o.jsx("button",{type:"button",onClick:()=>z(B.id,{entryMode:"thetaPhi"}),className:`text-sm border px-2 py-1 ${B.entryMode==="thetaPhi"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Î¸/Ï†"}),o.jsx("button",{type:"button",onClick:()=>z(B.id,{entryMode:"alphaBetaGamma"}),className:`text-sm border px-2 py-1 ${B.entryMode==="alphaBetaGamma"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Î±/Î²/Î³"}),o.jsx("button",{type:"button",onClick:()=>z(B.id,{entryMode:"points"}),className:`text-sm border px-2 py-1 ${B.entryMode==="points"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Start/End"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("span",{children:"Force"}),o.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:B.unitLabel,onChange:R=>z(B.id,{unitLabel:R.target.value}),children:gp.map(R=>o.jsx("option",{value:R.label,children:R.label},R.label))})]}),o.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("span",{children:"Pos"}),o.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:B.positionUnitLabel,onChange:R=>ne(B.id,R.target.value),children:pp.map(R=>o.jsx("option",{value:R.label,children:R.label},R.label))})]})]})]}),B.entryMode==="points"?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Magnitude"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.magnitudeText,onChange:R=>z(B.id,{magnitudeText:R.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Start x"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.startXText,onChange:R=>z(B.id,{startXText:R.target.value}),inputMode:"decimal",placeholder:"0"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Start y"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.startYText,onChange:R=>z(B.id,{startYText:R.target.value}),inputMode:"decimal",placeholder:"0"})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Start z"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.startZText,onChange:R=>z(B.id,{startZText:R.target.value}),inputMode:"decimal",placeholder:"0"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"End x"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.endXText,onChange:R=>z(B.id,{endXText:R.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"End y"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.endYText,onChange:R=>z(B.id,{endYText:R.target.value}),inputMode:"decimal",placeholder:"(required)"})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"End z"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.endZText,onChange:R=>z(B.id,{endZText:R.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),o.jsx("div",{className:"col-span-2 text-xs text-gray-600 flex items-end",children:"Direction is taken from Aâ†’B (startâ†’end)."})]})]}):B.entryMode==="components"?o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"i (x)"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.iText,onChange:R=>z(B.id,{iText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"j (y)"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.jText,onChange:R=>z(B.id,{jText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"k (z)"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.kText,onChange:R=>z(B.id,{kText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}):B.entryMode==="thetaPhi"?o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Magnitude"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.magnitudeText,onChange:R=>z(B.id,{magnitudeText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Î¸ (azimuth deg)"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.thetaText,onChange:R=>z(B.id,{thetaText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Ï† (elevation deg)"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.phiText,onChange:R=>z(B.id,{phiText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}):o.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Magnitude"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.magnitudeText,onChange:R=>z(B.id,{magnitudeText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Î± (deg)"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.alphaText,onChange:R=>z(B.id,{alphaText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Î² (deg)"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.betaText,onChange:R=>z(B.id,{betaText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Î³ (deg)"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:B.gammaText,onChange:R=>z(B.id,{gammaText:R.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}),B.entryMode==="alphaBetaGamma"?o.jsx("div",{className:"mt-2 text-xs text-gray-600",children:"If one of Î±/Î²/Î³ is blank and the other two are provided, the missing angle is computed from \\(cos^2Î± + cos^2Î² + cos^2Î³ = 1\\) using the acute solution."}):null,B.entryMode==="points"&&!VN(B,zr(B.positionUnitLabel))?o.jsx("div",{className:"mt-2 text-xs text-red-700",children:"Provide a valid end point different from the start point."}):null,o.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:[S?lE(S.i.value,S.j.value,S.k.value,B.unitLabel):`â€” ${B.unitLabel} iÌ‚ + â€” ${B.unitLabel} jÌ‚ + â€” ${B.unitLabel} kÌ‚`,C!==null?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-400",children:" Â· "}),Et(C)," ",B.unitLabel," @ Î¸=",Et(A.direction.thetaDegrees),"Â°, Ï†=",Et(A.direction.phiDegrees),"Â°",o.jsx("span",{className:"text-gray-400",children:" Â· "}),"Î±=",Et(A.direction.alphaDegrees),"Â°, Î²=",Et(A.direction.betaDegrees),"Â°, Î³=",Et(A.direction.gammaDegrees),"Â°"]}):null]})]},B.id)})}),o.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Resultant (3D)"}),J?o.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[o.jsxs("div",{children:[Et(J.magnitude)," ",i," @ Î¸=",Et(J.theta),"Â°, Ï†=",Et(J.phi),"Â°"]}),o.jsx("div",{className:"text-xs text-gray-600",children:lE(J.i,J.j,J.k,i)}),o.jsxs("div",{className:"text-xs text-gray-600",children:["Î±=",Et(J.alpha),"Â°, Î²=",Et(J.beta),"Â°, Î³=",Et(J.gamma),"Â°"]})]}):o.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œDraw resultantâ€ to compute the sum."})]})]})]})}const ph=[{label:"N",unit:Le},{label:"lb",unit:ff}],Ft=i=>ph.find(e=>e.label===i)?.unit??Le,yp=[{label:"m",unit:xs},{label:"ft",unit:hf}],Ac=i=>yp.find(e=>e.label===i)?.unit??xs,Zn=640,XP=40,Ct={x:Zn/2,y:Zn/2},xp=40,JP=120,Tu=i=>{const e=(i%360+360)%360;return e===360?0:e},st=i=>Number.isFinite(i)?i===0?"0":Number(i.toPrecision(6)).toString():"â€”",vt=i=>{const e=i.trim();if(e==="")return null;const n=Number(e);return Number.isFinite(n)?n:null},us=i=>{const e=vt(i);return e===null?null:Tu(e)},dE=(i,e,n)=>{const r=`${st(i)} ${n} iÌ‚`,l=e>=0?"+":"-",u=`${st(Math.abs(e))} ${n} jÌ‚`;return`${r} ${l} ${u}`},hE=(i,e)=>{const n=e.getBoundingClientRect(),r=(i.clientX-n.left)/n.width*Zn,l=(i.clientY-n.top)/n.height*Zn;return{x:r,y:l}},fE=i=>{const e=i.x-Ct.x,n=Ct.y-i.y,r=Math.hypot(e,n),l=Tu(Math.atan2(n,e)*180/Math.PI);return{magnitude:r,angleDeg:l}},ZP=i=>({x:Ct.x+i.x*xp,y:Ct.y-i.y*xp}),Lg=(i,e,n,r)=>{const l=Tu(n)*Math.PI/180,u=e*r*Math.cos(l),d=e*r*Math.sin(l);return{x:i.x+u,y:i.y-d}},e6=(i,e,n)=>{const r=Tu(e)*Math.PI/180,l=n*Math.cos(r),u=n*Math.sin(r);return{x:i.x+l,y:i.y-u}};function t6(){const[i,e]=P.useState("2d"),n=P.useRef(null),[r,l]=P.useState([]),[u,d]=P.useState(null),[g,y]=P.useState(null),[p,_]=P.useState(null),[E,N]=P.useState(null),[V,H]=P.useState("N"),[z,q]=P.useState("m"),ne=P.useMemo(()=>Ac(z),[z]),[Z,J]=P.useState(null),B=L=>{if(L.entryMode==="components"){const _e=vt(L.iText),ve=vt(L.jText);if(_e===null||ve===null)return null;const Ce=Ft(L.unitLabel),ye=Tt(_e,[Ce],[]),qe=Tt(ve,[Ce],[]);return Math.hypot(ye,qe)}const re=vt(L.magnitudeText);if(re===null)return null;const me=Ft(L.unitLabel);return Tt(re,[me],[])},de=L=>us(L.angleText),ge=(L,re)=>{const me=vt(L);return me===null?0:Tt(me,[re],[])},A=L=>{const re=Ac(L.positionUnitLabel);return{x:ge(L.startXText,re),y:ge(L.startYText,re)}},S=L=>{const re=vt(L.endXText),me=vt(L.endYText);if(re===null||me===null)return null;const _e=Ac(L.positionUnitLabel);return{x:Tt(re,[_e],[]),y:Tt(me,[_e],[])}},C=L=>{const re=S(L);if(!re)return null;const me=A(L),_e=re.x-me.x,ve=re.y-me.y,Ce=Math.hypot(_e,ve);return!Number.isFinite(Ce)||Ce===0?null:Tu(Math.atan2(ve,_e)*180/Math.PI)},R=L=>{const re=Ft(L.unitLabel);if(L.entryMode==="points"){const ve=vt(L.magnitudeText);if(ve===null)return null;const Ce=C(L);return Ce===null?null:new Tn(new Ge(ve,re),gn.fromDegrees(Ce))}if(L.entryMode==="components"){const ve=vt(L.iText),Ce=vt(L.jText);return ve===null||Ce===null?null:Tn.fromComponents(new Ge(ve,re),new Ge(Ce,re))}const me=vt(L.magnitudeText),_e=us(L.angleText);return me===null||_e===null?null:new Tn(new Ge(me,re),gn.fromDegrees(_e))},O=L=>{const re=Ft(L.unitLabel);if(L.entryMode!=="polar"){const ve=R(L);return ve?{magnitude:_t(ve.measurement.value,[Le],[],[re],[]),angleDeg:ve.direction.degrees,unit:re}:null}const me=vt(L.magnitudeText),_e=us(L.angleText);return me===null||_e===null?null:{magnitude:me,angleDeg:_e,unit:re}},F=L=>{const re=Ft(L.unitLabel);if(L.entryMode==="components"){const ve=vt(L.iText),Ce=vt(L.jText);return ve===null||Ce===null?null:{i:ve,j:Ce,unit:re}}const me=R(L);if(!me)return null;const _e=me.components(re);return{i:_e.i.value,j:_e.j.value,unit:re}},M=(L,re)=>{l(me=>me.map(_e=>{if(_e.id!==L)return _e;const ve=Ft(_e.unitLabel),Ce=_t(re.measurement.value,[Le],[],[ve],[]),ye=re.components(ve);return{..._e,magnitudeText:st(Ce),angleText:st(re.direction.degrees),iText:st(ye.i.value),jText:st(ye.j.value)}}))},Ne=P.useMemo(()=>{const L=[...r.map(re=>B(re)).filter(re=>re!=null),...p?[B(p)].filter(re=>re!=null):[],...E?[B(E)].filter(re=>re!=null):[]].filter(re=>Number.isFinite(re)&&re>0);return L.length?Math.max(...L):1},[r,p,E]),be=P.useMemo(()=>{const L=Zn/2-XP;return Math.min(1,L/Ne)},[Ne]);P.useMemo(()=>r.find(L=>L.id===u)??null,[r,u]);const Q=P.useMemo(()=>{if(!g)return null;const{magnitude:L,angleDeg:re}=fE(g);return!Number.isFinite(L)||L<5?null:{magnitudeNewtons:L,angleDeg:re}},[g]),he=L=>{const re=Ft(L.unitLabel);if(L.entryMode==="points"){const ye=vt(L.magnitudeText),qe=C(L);if(ye===null||qe===null)return L;const Nt=new Tn(new Ge(ye,re),gn.fromDegrees(qe)),si=Nt.components(re);return{...L,angleText:st(Nt.direction.degrees),iText:st(si.i.value),jText:st(si.j.value)}}if(L.entryMode==="components"){const ye=vt(L.iText),qe=vt(L.jText);if(ye===null||qe===null)return L;const Nt=Tn.fromComponents(new Ge(ye,re),new Ge(qe,re)),si=_t(Nt.measurement.value,[Le],[],[re],[]);return{...L,magnitudeText:st(si),angleText:st(Nt.direction.degrees)}}const me=vt(L.magnitudeText),_e=us(L.angleText);if(me===null||_e===null)return L;const Ce=new Tn(new Ge(me,re),gn.fromDegrees(_e)).components(re);return{...L,iText:st(Ce.i.value),jText:st(Ce.j.value)}},pe=(L,re)=>{l(me=>me.map(_e=>{if(_e.id!==L)return _e;let ve={..._e,...re};if(re.entryMode&&re.entryMode!==_e.entryMode){const Ce=R(_e);if(Ce){const ye=Ft(ve.unitLabel),qe=_t(Ce.measurement.value,[Le],[],[ye],[]),Nt=Ce.components(ye);ve={...ve,magnitudeText:st(qe),angleText:st(Ce.direction.degrees),iText:st(Nt.i.value),jText:st(Nt.j.value)}}}return he(ve)}))},Oe=(L,re)=>{l(me=>me.map(_e=>{if(_e.id!==L)return _e;const ve=R(_e);if(!ve)return{..._e,unitLabel:re};const Ce=Ft(re),ye=_t(ve.measurement.value,[Le],[],[Ce],[]),qe=ve.components(Ce);return he({..._e,unitLabel:re,magnitudeText:st(ye),angleText:st(ve.direction.degrees),iText:st(qe.i.value),jText:st(qe.j.value)})}))},Be=(L,re,me)=>{if(L.trim()==="")return"";const _e=vt(L);return _e===null?"":re.type!=="Length"||me.type!=="Length"?L:st(_t(_e,[re],[],[me],[]))},k=(L,re)=>{l(me=>me.map(_e=>{if(_e.id!==L)return _e;const ve=Ac(_e.positionUnitLabel),Ce=Ac(re),ye={..._e,positionUnitLabel:re,startXText:Be(_e.startXText,ve,Ce),startYText:Be(_e.startYText,ve,Ce),endXText:Be(_e.endXText,ve,Ce),endYText:Be(_e.endYText,ve,Ce)};return he(ye)}))},j=L=>he(L),I=L=>{N(re=>{if(!re)return re;const me={...re,...L};return j(me)})},K=L=>{l(re=>re.filter(me=>me.id!==L)),d(re=>re===L?null:re)},ce=()=>{J(null);const L=crypto.randomUUID(),re={id:L,entryMode:"components",magnitudeText:"",unitLabel:V,positionUnitLabel:z,angleText:"",iText:"",jText:"",startXText:"",startYText:"",endXText:"",endYText:""};l(me=>[he(re),...me]),d(L),_(null)},ue=()=>{if(J(null),r.length===0)return;const L=r.map(ve=>R(ve)).filter(ve=>ve!=null);if(L.length!==r.length){J("Cannot draw resultant: one or more vectors have unknown magnitude or angle.");return}const re=Bc(...L),me=Ft(V),_e=_t(re.measurement.value,[Le],[],[me],[]);_({id:"resultant",entryMode:"polar",magnitudeText:st(_e),unitLabel:V,positionUnitLabel:z,angleText:st(re.direction.degrees),iText:st(re.components(me).i.value),jText:st(re.components(me).j.value),startXText:"",startYText:"",endXText:"",endYText:""})},Se=()=>{J(null),!E&&N({id:"given-resultant",entryMode:"polar",magnitudeText:"",unitLabel:V,positionUnitLabel:z,angleText:"",iText:"",jText:"",startXText:"",startYText:"",endXText:"",endYText:""})},ct=()=>{if(J(null),!E){J("Add a resultant vector first.");return}const L=vt(E.magnitudeText),re=us(E.angleText);if(re===null){J("Resultant angle is required.");return}const me=gn.fromDegrees(re),ve=r.map((Ze,gt)=>{if(Ze.entryMode==="components"){const Ke=vt(Ze.iText),dt=vt(Ze.jText),et=Ke!==null&&dt!==null;return{idx:gt,magnitudeKnown:et,angleKnown:et}}if(Ze.entryMode==="points"){const Ke=vt(Ze.magnitudeText),dt=C(Ze);return{idx:gt,magnitudeKnown:Ke!==null,angleKnown:dt!==null}}const dn=vt(Ze.magnitudeText),kt=us(Ze.angleText);return{idx:gt,magnitudeKnown:dn!==null,angleKnown:kt!==null}}).filter(Ze=>!Ze.magnitudeKnown||!Ze.angleKnown).map(Ze=>Ze.idx);if(ve.length===0){if(L===null){const Ze=r.map(dt=>R(dt)).filter(dt=>dt!=null);if(Ze.length!==r.length){J("Not solvable: one or more vectors are incomplete.");return}const gt=Bc(...Ze);if(Math.abs(gt.direction.degrees-me.degrees)>1e-6){J("Not solvable: computed resultant direction does not match the provided direction.");return}const kt=Ft(E.unitLabel),Ke=_t(gt.measurement.value,[Le],[],[kt],[]);I({magnitudeText:st(Ke)});return}J("Nothing to solve: all vectors have known magnitude and angle.");return}if(ve.length>2){J("Too many unknown values. This tool currently solves up to 2 incomplete vectors.");return}const Ce=r.map(Ze=>R(Ze)).filter(Ze=>Ze!=null),ye=Ce.length?Bc(...Ce):null;if(L===null){if(ve.length!==1){J("Not solvable: with unknown resultant magnitude, exactly one vector must be incomplete.");return}const Ze=ve[0],gt=r[Ze],dn=vt(gt.magnitudeText),kt=us(gt.angleText);if(dn===null){J("Not solvable: with unknown resultant magnitude, the incomplete vector must have a known magnitude.");return}if(kt!==null){J("Nothing to solve: the incomplete vector has a known angle (try leaving the angle blank).");return}try{const Ke=HP({knownForces:Ce,unknownForceMagnitude:new Ge(dn,Ft(gt.unitLabel)),resultantDirection:me});M(gt.id,Ke.unknownForce);const dt=Ft(E.unitLabel),et=_t(Ke.resultant.measurement.value,[Le],[],[dt],[]);I({magnitudeText:st(et)})}catch(Ke){J(Ke instanceof Error?Ke.message:"Failed to solve unknowns.")}return}const qe=new Tn(new Ge(L,Ft(E.unitLabel)),me),Nt=ye?FP(qe,ye):qe;if(ve.length===1){const Ze=ve[0],gt=r[Ze],dn=vt(gt.magnitudeText),kt=us(gt.angleText);if(kt===null){if(dn!==null){const Hi=Tt(dn,[Ft(gt.unitLabel)],[]),ar=1e-6*Math.max(1,Nt.measurement.value);if(Math.abs(Hi-Nt.measurement.value)>ar){J("Not solvable: provided magnitude does not match the required remainder.");return}}const Ke=Ft(gt.unitLabel),dt=_t(Nt.measurement.value,[Le],[],[Ke],[]),et=Ft(gt.unitLabel),rr=new Tn(new Ge(dn===null?dt:dn,et),gn.fromDegrees(Nt.direction.degrees));M(gt.id,rr);return}if(dn===null){const Ke=gn.fromDegrees(kt).radians,dt={x:Math.cos(Ke),y:Math.sin(Ke)},et=Nt.toComponentsNewtons(),rr=et.x*dt.x+et.y*dt.y,Hi=et.x*-dt.y+et.y*dt.x,ar=1e-6*Math.max(1,Math.hypot(et.x,et.y));if(Math.abs(Hi)>ar){J("Not solvable: resultant/known vectors are not consistent with the unknown direction.");return}const ai=Ft(gt.unitLabel),Es=_t(rr,[Le],[],[ai],[]),Ut=Ft(gt.unitLabel),oi=new Tn(new Ge(Es,Ut),gn.fromDegrees(kt));M(gt.id,oi);return}J("Nothing to solve for the incomplete vector.");return}const[si,oo]=ve,Yt=r[si],ri=r[oo],ir=us(Yt.angleText),sr=us(ri.angleText),Bi=vt(Yt.magnitudeText),wl=vt(ri.magnitudeText);if(ir===null||sr===null||Bi!==null||wl!==null){J("Not solvable: to solve two vectors, both directions must be known and both magnitudes must be unknown.");return}try{const Ze=BP({resultant:Nt,direction1:gn.fromDegrees(ir),direction2:gn.fromDegrees(sr)}),gt=Ft(Yt.unitLabel),dn=Ft(ri.unitLabel),kt=_t(Ze.force1.measurement.value,[Le],[],[gt],[]),Ke=_t(Ze.force2.measurement.value,[Le],[],[dn],[]);pe(Yt.id,{magnitudeText:st(kt)}),pe(ri.id,{magnitudeText:st(Ke)})}catch(Ze){J(Ze instanceof Error?Ze.message:"Failed to solve unknowns.")}},nt=L=>{n.current&&(n.current.setPointerCapture(L.pointerId),y(hE(L,n.current)))},_s=L=>{n.current&&g&&y(hE(L,n.current))},tr=L=>{if(n.current){if(n.current.releasePointerCapture(L.pointerId),g){const{magnitude:re,angleDeg:me}=fE(g);if(Number.isFinite(re)&&re>=5){const _e=crypto.randomUUID(),ve=Ft(V),Ce=_t(re,[Le],[],[ve],[]),ye={id:_e,entryMode:"polar",magnitudeText:st(Ce),unitLabel:V,positionUnitLabel:z,angleText:st(me),iText:"",jText:"",startXText:"",startYText:"",endXText:"",endYText:""};l(qe=>[he(ye),...qe]),d(_e),_(null),J(null)}}y(null)}},nr=P.useMemo(()=>{const L=[],re=Tt(1,[ne],[])*xp;for(let me=0;me<=Zn;me+=re)L.push({x1:me,y1:0,x2:me,y2:Zn});for(let me=0;me<=Zn;me+=re)L.push({x1:0,y1:me,x2:Zn,y2:me});return L},[ne]);return o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsxs("header",{className:"space-y-3",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx(xe,{to:"/toolbox",className:"border-b border-gray-300 hover:border-gray-500 transition-colors",children:"Toolbox"})," ",o.jsx("span",{className:"text-gray-400",children:"/"})," Force vectors"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Force vectors"}),o.jsx("p",{className:"text-lg text-gray-700",children:"Draw vectors on the plane, then edit magnitude and angle. Angle is measured counterclockwise from +X."}),o.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[o.jsx("button",{type:"button",onClick:()=>e("2d"),className:`text-sm border px-2 py-1 ${i==="2d"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"2D"}),o.jsx("button",{type:"button",onClick:()=>e("3d"),className:`text-sm border px-2 py-1 ${i==="3d"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"3D"})]})]}),i==="3d"?o.jsx(QP,{}):o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-6",children:[o.jsxs("section",{className:"border border-gray-200 bg-white",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[o.jsx("div",{className:"text-sm text-gray-700",children:"Drag anywhere to create an arrow from the origin."}),o.jsx("div",{className:"text-sm text-gray-600",children:"Auto-fit scale (based on max magnitude)"})]}),o.jsx("div",{className:"p-4",children:o.jsxs("svg",{ref:n,viewBox:`0 0 ${Zn} ${Zn}`,className:"w-full h-[520px] touch-none select-none bg-gray-50 border border-gray-200",onPointerDown:nt,onPointerMove:_s,onPointerUp:tr,children:[o.jsx("defs",{children:o.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"8",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:o.jsx("path",{d:"M0,0 L8,3 L0,6 Z",fill:"currentColor"})})}),o.jsx("g",{className:"text-gray-200",children:nr.map((L,re)=>o.jsx("line",{x1:L.x1,y1:L.y1,x2:L.x2,y2:L.y2,stroke:"currentColor",strokeWidth:1},re))}),o.jsxs("g",{className:"text-gray-400",children:[o.jsx("line",{x1:0,y1:Ct.y,x2:Zn,y2:Ct.y,stroke:"currentColor",strokeWidth:2}),o.jsx("line",{x1:Ct.x,y1:0,x2:Ct.x,y2:Zn,stroke:"currentColor",strokeWidth:2})]}),o.jsx("circle",{cx:Ct.x,cy:Ct.y,r:4,fill:"#111827"}),Q&&o.jsx("g",{className:"text-gray-500",children:o.jsx("line",{x1:Ct.x,y1:Ct.y,x2:g?.x??Ct.x,y2:g?.y??Ct.y,stroke:"currentColor",strokeWidth:3,strokeDasharray:"6 6",markerEnd:"url(#arrowhead)"})}),r.map((L,re)=>{const me=B(L),_e=de(L),ve=L.entryMode==="points"?ZP(A(L)):Ct,Ce=_e===null?ve:me===null?e6(ve,_e,JP):Lg(ve,me,_e,be),ye=L.id===u,qe=ye?"#111827":"#374151",Nt=`F${r.length-re}`;return o.jsxs("g",{onClick:si=>{si.stopPropagation(),d(L.id)},style:{cursor:"pointer"},children:[_e!==null?o.jsx("line",{x1:ve.x,y1:ve.y,x2:Ce.x,y2:Ce.y,stroke:qe,strokeWidth:ye?5:4,strokeDasharray:me===null?"6 6":void 0,markerEnd:"url(#arrowhead)"}):o.jsx("circle",{cx:ve.x,cy:ve.y,r:10,fill:"none",stroke:qe,strokeWidth:2,strokeDasharray:"6 6"}),o.jsx("text",{x:_e===null?ve.x+14:(ve.x+Ce.x)/2,y:_e===null?ve.y-14:(ve.y+Ce.y)/2,fill:qe,fontSize:14,dominantBaseline:"middle",children:Nt})]},L.id)}),E&&o.jsx("g",{className:"text-blue-600",children:(()=>{const L=B(E),re=de(E);if(L===null||re===null)return null;const me=Lg(Ct,L,re,be);return o.jsxs(o.Fragment,{children:[o.jsx("line",{x1:Ct.x,y1:Ct.y,x2:me.x,y2:me.y,stroke:"currentColor",strokeWidth:6,markerEnd:"url(#arrowhead)"}),o.jsx("text",{x:(Ct.x+me.x)/2,y:(Ct.y+me.y)/2,fill:"currentColor",fontSize:14,dominantBaseline:"middle",children:"R"})]})})()}),p&&o.jsx("g",{className:"text-red-600",children:(()=>{const L=B(p),re=de(p);if(L===null||re===null)return null;const me=Lg(Ct,L,re,be);return o.jsxs(o.Fragment,{children:[o.jsx("line",{x1:Ct.x,y1:Ct.y,x2:me.x,y2:me.y,stroke:"currentColor",strokeWidth:6,markerEnd:"url(#arrowhead)"}),o.jsx("text",{x:(Ct.x+me.x)/2,y:(Ct.y+me.y)/2,fill:"currentColor",fontSize:14,dominantBaseline:"middle",children:"Î£"})]})})()})]})})]}),o.jsxs("aside",{className:"border border-gray-200 bg-white",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between",children:[o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-3",children:[o.jsx("div",{className:"text-lg font-serif text-gray-900",children:"Vectors"}),o.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("span",{children:"Force"}),o.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:V,onChange:L=>{const re=L.target.value;H(re)},children:ph.map(L=>o.jsx("option",{value:L.label,children:L.label},L.label))})]}),o.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("span",{children:"Position"}),o.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:z,onChange:L=>q(L.target.value),children:yp.map(L=>o.jsx("option",{value:L.label,children:L.label},L.label))})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("button",{type:"button",onClick:ce,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add vector"}),o.jsx("button",{type:"button",onClick:Se,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors disabled:opacity-50",disabled:E!=null,children:"Add resultant"}),o.jsx("button",{type:"button",onClick:ct,className:"px-3 py-1.5 text-sm bg-gray-900 text-white hover:bg-gray-800 transition-colors",children:"Calculate unknown values"}),o.jsx("button",{type:"button",onClick:ue,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors disabled:opacity-50",disabled:r.length===0,children:"Draw resultant"})]})]}),o.jsxs("div",{className:"p-4 space-y-6",children:[Z&&o.jsx("div",{className:"border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-800",children:Z}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Resultant (given)",o.jsxs("span",{className:"text-gray-500 font-normal",children:[" ","â€” angle required, magnitude optional"]})]}),E?o.jsxs("div",{className:"border border-gray-200 p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:"R"}),o.jsx("button",{type:"button",onClick:()=>N(null),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>I({entryMode:"polar"}),className:`text-sm border px-2 py-1 ${E.entryMode==="polar"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Magnitude/Angle"}),o.jsx("button",{type:"button",onClick:()=>I({entryMode:"components"}),className:`text-sm border px-2 py-1 ${E.entryMode==="components"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"iÌ‚/jÌ‚"})]}),o.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("span",{children:"Unit"}),o.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:E.unitLabel,onChange:L=>I({unitLabel:L.target.value}),children:ph.map(L=>o.jsx("option",{value:L.label,children:L.label},L.label))})]})]}),E.entryMode==="polar"?o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Magnitude"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.magnitudeText,onChange:L=>I({magnitudeText:L.target.value}),inputMode:"decimal",placeholder:"(optional)"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Angle (deg)"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.angleText,onChange:L=>I({angleText:L.target.value}),inputMode:"decimal",placeholder:"(required)"})]})]}):o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"i (x)"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.iText,onChange:L=>I({iText:L.target.value}),inputMode:"decimal",placeholder:"(optional)"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"j (y)"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:E.jText,onChange:L=>I({jText:L.target.value}),inputMode:"decimal",placeholder:"(optional)"})]})]}),(()=>{const L=F(E);return L?o.jsx("div",{className:"mt-3 text-xs text-gray-600",children:dE(L.i,L.j,E.unitLabel)}):null})()]}):o.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œAdd resultantâ€ to define the target vector."})]}),r.length===0?o.jsx("div",{className:"text-gray-700 text-sm",children:"No vectors yet. Drag on the plane to add one."}):o.jsx("div",{className:"space-y-3",children:r.map((L,re)=>{const me=`F${r.length-re}`,_e=L.id===u,ve=O(L),Ce=F(L);return o.jsxs("div",{className:`border p-3 ${_e?"border-gray-900":"border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("button",{type:"button",onClick:()=>d(L.id),className:"text-sm font-medium text-gray-900 border-b border-gray-300 hover:border-gray-700 transition-colors",children:me}),o.jsx("button",{type:"button",onClick:()=>K(L.id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between mb-3",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>pe(L.id,{entryMode:"polar"}),className:`text-sm border px-2 py-1 ${L.entryMode==="polar"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Magnitude/Angle"}),o.jsx("button",{type:"button",onClick:()=>pe(L.id,{entryMode:"components"}),className:`text-sm border px-2 py-1 ${L.entryMode==="components"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"iÌ‚/jÌ‚"}),o.jsx("button",{type:"button",onClick:()=>pe(L.id,{entryMode:"points"}),className:`text-sm border px-2 py-1 ${L.entryMode==="points"?"border-gray-900 text-gray-900":"border-gray-300 text-gray-700 hover:border-gray-500"}`,children:"Start/End"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:justify-end",children:[o.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("span",{children:"Force"}),o.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:L.unitLabel,onChange:ye=>Oe(L.id,ye.target.value),children:ph.map(ye=>o.jsx("option",{value:ye.label,children:ye.label},ye.label))})]}),o.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("span",{children:"Pos"}),o.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:L.positionUnitLabel,onChange:ye=>k(L.id,ye.target.value),children:yp.map(ye=>o.jsx("option",{value:ye.label,children:ye.label},ye.label))})]})]})]}),L.entryMode==="points"?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Magnitude"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:L.magnitudeText,onChange:ye=>pe(L.id,{magnitudeText:ye.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),o.jsx("div",{className:"text-xs text-gray-600 flex items-end",children:"Direction is taken from startâ†’end."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Start x"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:L.startXText,onChange:ye=>pe(L.id,{startXText:ye.target.value}),inputMode:"decimal",placeholder:"0"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Start y"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:L.startYText,onChange:ye=>pe(L.id,{startYText:ye.target.value}),inputMode:"decimal",placeholder:"0"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"End x"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:L.endXText,onChange:ye=>pe(L.id,{endXText:ye.target.value}),inputMode:"decimal",placeholder:"(required)"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"End y"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:L.endYText,onChange:ye=>pe(L.id,{endYText:ye.target.value}),inputMode:"decimal",placeholder:"(required)"})]})]})]}):L.entryMode==="polar"?o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Magnitude"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:L.magnitudeText,onChange:ye=>pe(L.id,{magnitudeText:ye.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Angle (deg)"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:L.angleText,onChange:ye=>pe(L.id,{angleText:ye.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}):o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"i (x)"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:L.iText,onChange:ye=>pe(L.id,{iText:ye.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"j (y)"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:L.jText,onChange:ye=>pe(L.id,{jText:ye.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]})]}),o.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:[ve?`${st(ve.magnitude)} ${L.unitLabel} @ ${st(ve.angleDeg)}Â°`:`â€” ${L.unitLabel} @ â€”Â°`,Ce?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-400",children:" Â· "}),dE(Ce.i,Ce.j,L.unitLabel)]}):null]})]},L.id)})}),o.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Resultant (sum of vectors)"}),p?o.jsxs("div",{className:"text-sm text-gray-700",children:[p.magnitudeText.trim()?p.magnitudeText.trim():"â€”"," ",p.unitLabel," @"," ",p.angleText.trim()?p.angleText.trim():"â€”","Â°"]}):o.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œDraw resultantâ€ to compute the vector sum."})]})]})]})]})]})}),o.jsx(Ot,{})]})}const zh=(i,e)=>{if(!Number.isFinite(i))throw new Error(`${e} must be a finite number.`)},mE=(i,e)=>{zh(i.x,`${e}.x`),zh(i.y,`${e}.y`)},n6=(i,e)=>{zh(i.x,`${e}.x`),zh(i.y,`${e}.y`)},au=(i,e)=>(mE(i,"a"),mE(e,"b"),{x:e.x-i.x,y:e.y-i.y}),UN=i=>(n6(i,"v"),Math.hypot(i.x,i.y)),ou=i=>{const e=UN(i);if(!Number.isFinite(e)||e===0)throw new Error("Unit vector must be a non-zero finite vector.");return{x:i.x/e,y:i.y/e}},zN=(i,e)=>{if(!Number.isFinite(i))throw new Error(`${e} must be a finite number.`)},aa=i=>({constant:i,terms:{}}),Xr=(i,e=1)=>({constant:0,terms:{[i.id]:e}}),Wa=(i,e)=>{const n={...i.terms};for(const[r,l]of Object.entries(e.terms)){const u=(n[r]??0)+l;Math.abs(u)<1e-14?delete n[r]:n[r]=u}return{constant:i.constant+e.constant,terms:n}},yn=(i,e)=>{if(!Number.isFinite(e))throw new Error("exprScale scalar must be finite.");const n={};for(const[r,l]of Object.entries(i.terms)){const u=l*e;Math.abs(u)>=1e-14&&(n[r]=u)}return{constant:i.constant*e,terms:n}},i6=(i,e)=>{let n=i.constant;for(const[r,l]of Object.entries(i.terms)){const u=e[r];if(u===void 0)throw new Error(`Missing value for variable "${r}".`);n+=l*u}return n},Gs=(i,e)=>{const n=i.nodes.find(r=>r.id===e);if(!n)throw new Error(`Unknown node "${e}".`);return n},s6=i=>{if(i.forceUnit.type!=="Force")throw new Error(`Expected Force unit for stiffness forceUnit, received ${i.forceUnit.type}.`);if(i.lengthUnit.type!=="Length")throw new Error(`Expected Length unit for stiffness lengthUnit, received ${i.lengthUnit.type}.`);return zN(i.value,"k.value"),Tt(i.value,[i.forceUnit],[i.lengthUnit])};class r6{constructor(e){if(this.id=e.id,this.startNodeId=e.startNodeId,this.endNodeId=e.endNodeId,this.stiffness=e.stiffness,this.forceVariable={id:e.forceVariableId??`${e.id}.F`,label:`${e.id} force`},e.naturalLength){if(e.naturalLength.unit.type!=="Length")throw new Error(`Expected Length unit for naturalLength, received ${e.naturalLength.unit.type}.`);this.naturalLength={kind:"known",valueMeters:Tt(e.naturalLength.value,[e.naturalLength.unit],[])}}else this.naturalLength={kind:"unknown",variable:{id:e.naturalLengthVariableId??`${e.id}.l0`,label:`${e.id} natural length`}}}variables(){return[this.forceVariable,...this.naturalLength.kind==="unknown"?[this.naturalLength.variable]:[]]}equations(e){const n=Gs(e,this.startNodeId).positionMeters,r=Gs(e,this.endNodeId).positionMeters,l=au(n,r),u=UN(l);if(!Number.isFinite(u)||u===0)throw new Error("Spring endpoints must not coincide.");const d=s6(this.stiffness);let g=Wa(Xr(this.forceVariable,1),aa(-d*u));return this.naturalLength.kind==="known"?g=Wa(g,aa(d*this.naturalLength.valueMeters)):g=Wa(g,Xr(this.naturalLength.variable,d)),[{expr:g,label:`${this.id}: Hooke's law`}]}forces(e){const n=Gs(e,this.startNodeId).positionMeters,r=Gs(e,this.endNodeId).positionMeters,l=ou(au(n,r)),u=Xr(this.forceVariable,1);return[{nodeId:this.startNodeId,fx:yn(u,l.x),fy:yn(u,l.y),label:`${this.id} @ ${this.startNodeId}`},{nodeId:this.endNodeId,fx:yn(u,-l.x),fy:yn(u,-l.y),label:`${this.id} @ ${this.endNodeId}`}]}}class a6{constructor(e){this.id=e.id,this.startNodeId=e.startNodeId,this.pulleyNodeId=e.pulleyNodeId,this.endNodeId=e.endNodeId,this.tensionVariable={id:e.tensionVariableId??`${e.id}.T`,label:`${e.id} tension`}}variables(){return[this.tensionVariable]}equations(e){return[]}forces(e){const n=Gs(e,this.startNodeId).positionMeters,r=Gs(e,this.pulleyNodeId).positionMeters,l=Gs(e,this.endNodeId).positionMeters,u=ou(au(n,r)),d=ou(au(l,r)),g=Xr(this.tensionVariable,1);return[{nodeId:this.startNodeId,fx:yn(g,u.x),fy:yn(g,u.y),label:`${this.id} @ ${this.startNodeId}`},{nodeId:this.endNodeId,fx:yn(g,d.x),fy:yn(g,d.y),label:`${this.id} @ ${this.endNodeId}`},{nodeId:this.pulleyNodeId,fx:Wa(yn(g,-u.x),yn(g,-d.x)),fy:Wa(yn(g,-u.y),yn(g,-d.y)),label:`${this.id} @ ${this.pulleyNodeId}`}]}}class o6{constructor(e){this.id=e.id,this.startNodeId=e.startNodeId,this.endNodeId=e.endNodeId,this.tensionVariable={id:e.tensionVariableId??`${e.id}.T`,label:`${e.id} tension`}}variables(){return[this.tensionVariable]}equations(e){return[]}forces(e){const n=Gs(e,this.startNodeId).positionMeters,r=Gs(e,this.endNodeId).positionMeters,l=ou(au(n,r)),u=Xr(this.tensionVariable,1);return[{nodeId:this.startNodeId,fx:yn(u,l.x),fy:yn(u,l.y),label:`${this.id} @ ${this.startNodeId}`},{nodeId:this.endNodeId,fx:yn(u,-l.x),fy:yn(u,-l.y),label:`${this.id} @ ${this.endNodeId}`}]}}class l6{constructor(e){this.id=e.id,this.nodeId=e.nodeId,this.rxVariable={id:e.rxVariableId??`${e.nodeId}.Rx`,label:`${e.nodeId} reaction x`},this.ryVariable={id:e.ryVariableId??`${e.nodeId}.Ry`,label:`${e.nodeId} reaction y`}}variables(){return[this.rxVariable,this.ryVariable]}equations(e){return[]}forces(e){return[{nodeId:this.nodeId,fx:Xr(this.rxVariable,1),fy:Xr(this.ryVariable,1),label:`${this.id} @ ${this.nodeId}`}]}}class c6{constructor(e){this.id=e.id,this.nodeId=e.nodeId,this.normal=ou(e.normal),this.normalForceVariable={id:e.normalForceVariableId??`${e.id}.N`,label:`${e.id} normal`}}variables(){return[this.normalForceVariable]}equations(e){return[]}forces(e){const n=Xr(this.normalForceVariable,1);return[{nodeId:this.nodeId,fx:yn(n,this.normal.x),fy:yn(n,this.normal.y),label:`${this.id} @ ${this.nodeId}`}]}}class u6{constructor(e){if(this.id=e.id,this.nodeId=e.nodeId,e.force.x.unit.type!=="Force"||e.force.y.unit.type!=="Force")throw new Error("AppliedForce2D components must use Force units for x and y.");const n=Tt(e.force.x.value,[e.force.x.unit],[]),r=Tt(e.force.y.value,[e.force.y.unit],[]);this.forceNewtons={x:n,y:r}}variables(){return[]}equations(e){return[]}forces(e){return[{nodeId:this.nodeId,fx:aa(this.forceNewtons.x),fy:aa(this.forceNewtons.y),label:`${this.id} @ ${this.nodeId}`}]}}class d6{constructor(e){if(this.id=e.id,this.nodeId=e.nodeId,e.mass.unit.type!=="Mass")throw new Error(`Expected Mass unit for weight mass, received ${e.mass.unit.type}.`);this.mass=e.mass,this.gravity=e.gravity??MN,zN(this.gravity,"gravity")}variables(){return[]}equations(e){return[]}forces(e){const n=SP(this.mass,this.gravity);return[{nodeId:this.nodeId,fx:aa(0),fy:aa(-n.value),label:`${this.id} @ ${this.nodeId}`}]}}const h6=(i,e)=>{const n=i.components.flatMap(l=>l.forces(i)),r=[];for(const l of e){const u=n.filter(y=>y.nodeId===l),d=u.reduce((y,p)=>Wa(y,p.fx),aa(0)),g=u.reduce((y,p)=>Wa(y,p.fy),aa(0));r.push({expr:d,label:`${l}: Î£Fx = 0`}),r.push({expr:g,label:`${l}: Î£Fy = 0`})}return r},qN=(i,e)=>{const n=i.components.flatMap(r=>r.equations(i));return[...h6(i,e),...n]},f6=i=>{const e=i.components.flatMap(l=>l.variables()),n=new Set,r=[];for(const l of e)n.has(l.id)||(n.add(l.id),r.push(l));return r},m6=i=>{const e=qN(i.system,i.equilibriumNodeIds),n=f6(i.system),r=i.variableIds??n.map(H=>H.id),l=r.length;if(l===0)return{variables:{},equations:e};const u=e.length;if(u<l)throw new Error(`Underdetermined system: ${u} equations for ${l} variables.`);const d=Array.from({length:u},()=>Array.from({length:l},()=>0)),g=Array.from({length:u},()=>0);for(let H=0;H<u;H++){const z=e[H].expr;g[H]=-z.constant;for(let q=0;q<l;q++){const ne=r[q];d[H][q]=z.terms[ne]??0}}const y=1e-12;let p=0;const _=[];for(let H=0;H<l&&p<u;H++){let z=p,q=Math.abs(d[p][H]);for(let Z=p+1;Z<u;Z++){const J=Math.abs(d[Z][H]);J>q&&(q=J,z=Z)}if(q<y)continue;z!==p&&([d[z],d[p]]=[d[p],d[z]],[g[z],g[p]]=[g[p],g[z]]);const ne=d[p][H];for(let Z=H;Z<l;Z++)d[p][Z]/=ne;g[p]/=ne;for(let Z=p+1;Z<u;Z++){const J=d[Z][H];if(!(Math.abs(J)<y)){for(let B=H;B<l;B++)d[Z][B]-=J*d[p][B];g[Z]-=J*g[p]}}_[p]=H,p++}const E=p;if(E<l)throw new Error("System does not have a unique solution (rank deficient).");const N=Array.from({length:l},()=>0);for(let H=E-1;H>=0;H--){const z=_[H];let q=g[H];for(let ne=z+1;ne<l;ne++)q-=d[H][ne]*N[ne];N[z]=q}const V={};for(let H=0;H<l;H++)V[r[H]]=N[H];for(const H of e){const z=i6(H.expr,V),q=1+Math.abs(H.expr.constant)+Object.values(H.expr.terms).reduce((ne,Z)=>ne+Math.abs(Z),0);if(Math.abs(z)>1e-7*q)throw new Error(`Inconsistent solution; residual too large for equation "${H.label??"unnamed"}".`)}return{variables:V,equations:e}},bp=[{label:"N",unit:Le},{label:"lb",unit:ff}],vp=i=>bp.find(e=>e.label===i)?.unit??Le,yh=[{label:"m",unit:xs},{label:"ft",unit:hf}],$c=i=>yh.find(e=>e.label===i)?.unit??xs,FN=[{label:"kg",unit:Cy},{label:"g",unit:DN},{label:"Mg",unit:ON},{label:"mg",unit:PN},{label:"slug",unit:kN}],g6=i=>FN.find(e=>e.label===i)?.unit??Cy,ei=640,p6=40,Gr={x:ei/2,y:ei/2},lu=80,Vg=i=>Number.isFinite(i)?i===0?"0":Number(i.toPrecision(6)).toString():"â€”",Fs=i=>{const e=i.trim();if(e==="")return null;const n=Number(e);return Number.isFinite(n)?n:null},y6=i=>{const e=(i%360+360)%360;return e===360?0:e},ds=i=>({x:Gr.x+i.x*lu,y:Gr.y-i.y*lu}),x6=i=>({x:(i.x-Gr.x)/lu,y:(Gr.y-i.y)/lu}),gE=(i,e)=>{const n=e.getBoundingClientRect(),r=(i.clientX-n.left)/n.width*ei,l=(i.clientY-n.top)/n.height*ei;return{x:r,y:l}},b6=(i,e)=>{const n=i.map(l=>{const u=$c(l.unitLabel),d=Fs(l.xText)??0,g=Fs(l.yText)??0;return{id:l.id,positionMeters:{x:Tt(d,[u],[]),y:Tt(g,[u],[])}}}),r=[...i.filter(l=>l.support==="pinned").map(l=>new l6({id:`pin.${l.id}`,nodeId:l.id})),...e.map(l=>{if(l.type==="spring"){const p={value:Fs(l.kText)??0,forceUnit:vp(l.kForceUnitLabel),lengthUnit:$c(l.kLengthUnitLabel)},_=Fs(l.l0Text),E=$c(l.l0UnitLabel);return new r6({id:l.id,startNodeId:l.startNodeId,endNodeId:l.endNodeId,stiffness:p,naturalLength:_==null?void 0:new Ge(_,E)})}if(l.type==="cablePulley")return new a6({id:l.id,startNodeId:l.startNodeId,pulleyNodeId:l.pulleyNodeId,endNodeId:l.endNodeId});if(l.type==="cable")return new o6({id:l.id,startNodeId:l.startNodeId,endNodeId:l.endNodeId});if(l.type==="smoothContact"){const y=Fs(l.normalAngleDegText)??0,p=y6(y)*Math.PI/180;return new c6({id:l.id,nodeId:l.nodeId,normal:{x:Math.cos(p),y:Math.sin(p)}})}if(l.type==="weight"){const y=Fs(l.massText)??0,p=Fs(l.gravityText);return new d6({id:l.id,nodeId:l.nodeId,mass:new Ge(y,g6(l.massUnitLabel)),gravity:p??void 0})}const u=vp(l.unitLabel),d=Fs(l.fxText)??0,g=Fs(l.fyText)??0;return new u6({id:l.id,nodeId:l.nodeId,force:{x:new Ge(d,u),y:new Ge(g,u)}})})];return{nodes:n,components:r}};function v6(){const i=P.useRef(null),[e,n]=P.useState([{id:"A",idText:"A",xText:"-4",yText:"3",unitLabel:"m",includeInEquilibrium:!1,support:"pinned"},{id:"B",idText:"B",xText:"0",yText:"0",unitLabel:"m",includeInEquilibrium:!0,support:"none"},{id:"N3",idText:"N3",xText:"1",yText:"1",unitLabel:"m",includeInEquilibrium:!1,support:"pinned"},{id:"N4",idText:"N4",xText:"0",yText:"-1",unitLabel:"m",includeInEquilibrium:!0,support:"none"}]),[r,l]=P.useState([{id:"W",type:"weight",nodeId:"N4",massText:"60",massUnitLabel:"kg",gravityText:"9.81"},{id:"BA",type:"cable",startNodeId:"A",endNodeId:"B"},{id:"BN3",type:"cable",startNodeId:"N3",endNodeId:"B"},{id:"BN4",type:"cable",startNodeId:"B",endNodeId:"N4"}]),[u,d]=P.useState(null),[g,y]=P.useState(null),[p,_]=P.useState(null),[E,N]=P.useState(null),[V,H]=P.useState([]),z=P.useMemo(()=>b6(e,r),[e,r]),q=P.useMemo(()=>{const j=e.filter(K=>K.includeInEquilibrium).map(K=>K.id),I=e.filter(K=>K.support==="pinned").map(K=>K.id);return Array.from(new Set([...j,...I]))},[e]),ne=P.useMemo(()=>E?z.components.flatMap(I=>I.forces(z)).map(I=>{const K=Object.entries(I.fx.terms).reduce((ue,[Se,ct])=>ue+ct*(E[Se]??0),I.fx.constant),ce=Object.entries(I.fy.terms).reduce((ue,[Se,ct])=>ue+ct*(E[Se]??0),I.fy.constant);return{...I,fxN:K,fyN:ce}}):[],[E,z]),Z=P.useMemo(()=>{const j=ne.map(I=>Math.hypot(I.fxN,I.fyN)).filter(I=>Number.isFinite(I)&&I>0);return j.length?Math.max(...j):1},[ne]),J=P.useMemo(()=>{const j=ei/2-p6;return Math.min(1,j/Z)},[Z]),B=()=>{_(null),N(null);try{if(q.length===0){_("Select at least one node to include in equilibrium.");return}const j=qN(z,q);H(j.map(K=>K.label??""));const I=m6({system:z,equilibriumNodeIds:q});N(I.variables)}catch(j){const I=j instanceof Error?j.message:"Failed to solve system.";_(`${I}

Hint: If you include a node in equilibrium, it must have either (a) enough connected members + loads, or (b) a support reaction. Mark support nodes as â€œPinnedâ€ to add Rx/Ry reactions, or uncheck â€œInclude in equilibriumâ€ for nodes you donâ€™t want to solve.`)}},de=()=>{const j=`N${e.length+1}`;n(I=>[...I,{id:j,idText:j,xText:"1",yText:"0",unitLabel:"m",includeInEquilibrium:!0,support:"none"}])},ge=()=>{const j=`s${r.filter(ce=>ce.type==="spring").length+1}`,I=e[0]?.id??"A",K=e[1]?.id??"B";l(ce=>[...ce,{id:j,type:"spring",startNodeId:I,endNodeId:K,kText:"100",kForceUnitLabel:"N",kLengthUnitLabel:"m",l0Text:"",l0UnitLabel:"m"}])},A=()=>{const j=`c${r.filter(ue=>ue.type==="cablePulley").length+1}`,I=e[0]?.id??"A",K=e[1]?.id??"B",ce=e[2]?.id??e[0]?.id??"A";l(ue=>[...ue,{id:j,type:"cablePulley",startNodeId:I,pulleyNodeId:K,endNodeId:ce}])},S=()=>{const j=`cb${r.filter(ce=>ce.type==="cable").length+1}`,I=e[0]?.id??"A",K=e[1]?.id??"B";l(ce=>[...ce,{id:j,type:"cable",startNodeId:I,endNodeId:K}])},C=()=>{const j=`n${r.filter(K=>K.type==="smoothContact").length+1}`,I=e[0]?.id??"A";l(K=>[...K,{id:j,type:"smoothContact",nodeId:I,normalAngleDegText:"90"}])},R=()=>{const j=`W${r.filter(K=>K.type==="weight").length+1}`,I=e[0]?.id??"A";l(K=>[...K,{id:j,type:"weight",nodeId:I,massText:"10",massUnitLabel:"kg",gravityText:""}])},O=()=>{const j=`F${r.filter(K=>K.type==="appliedForce").length+1}`,I=e[0]?.id??"A";l(K=>[...K,{id:j,type:"appliedForce",nodeId:I,fxText:"0",fyText:"0",unitLabel:"N"}])},F=j=>{l(I=>I.filter(K=>K.id!==j))},M=(j,I)=>{n(K=>K.map(ce=>ce.id===j?{...ce,...I}:ce))},Ne=j=>/^[A-Za-z][A-Za-z0-9_]*$/.test(j),be=j=>{const I=e.find(ce=>ce.id===j);if(!I)return;const K=I.idText.trim();if(K!==j){if(!Ne(K)){_("Invalid node id. Use letters/numbers/underscore and start with a letter (e.g. A, N3, node_1).");return}if(e.some(ce=>ce.id!==j&&ce.id===K)){_(`Duplicate node id "${K}". Node ids must be unique.`);return}n(ce=>ce.map(ue=>ue.id===j?{...ue,id:K,idText:K}:ue)),l(ce=>ce.map(ue=>ue.type==="spring"?{...ue,startNodeId:ue.startNodeId===j?K:ue.startNodeId,endNodeId:ue.endNodeId===j?K:ue.endNodeId}:ue.type==="cablePulley"?{...ue,startNodeId:ue.startNodeId===j?K:ue.startNodeId,pulleyNodeId:ue.pulleyNodeId===j?K:ue.pulleyNodeId,endNodeId:ue.endNodeId===j?K:ue.endNodeId}:ue.type==="cable"?{...ue,startNodeId:ue.startNodeId===j?K:ue.startNodeId,endNodeId:ue.endNodeId===j?K:ue.endNodeId}:ue.type==="smoothContact"?{...ue,nodeId:ue.nodeId===j?K:ue.nodeId}:ue.type==="weight"?{...ue,nodeId:ue.nodeId===j?K:ue.nodeId}:{...ue,nodeId:ue.nodeId===j?K:ue.nodeId})),u===j&&d(K),g===j&&y(K),N(null),H([]),_(null)}},Q=(j,I)=>{l(K=>K.map(ce=>ce.id===j?{...ce,...I}:ce))},he=j=>{if(!i.current)return;const I=gE(j,i.current),K=z.nodes.map(ce=>({id:ce.id,p:ds(ce.positionMeters)})).find(ce=>Math.hypot(ce.p.x-I.x,ce.p.y-I.y)<=12);K&&(i.current.setPointerCapture(j.pointerId),y(K.id),d(K.id))},pe=j=>{if(!i.current||!g)return;const I=gE(j,i.current),K=x6(I),ce=e.find(nt=>nt.id===g);if(!ce)return;const ue=$c(ce.unitLabel),Se=_t(K.x,[xs],[],[ue],[]),ct=_t(K.y,[xs],[],[ue],[]);M(g,{xText:Vg(Se),yText:Vg(ct)})},Oe=j=>{i.current&&g&&(i.current.releasePointerCapture(j.pointerId),y(null))},Be=P.useMemo(()=>{const j=[],I=lu;for(let K=0;K<=ei;K+=I)j.push({x1:K,y1:0,x2:K,y2:ei});for(let K=0;K<=ei;K+=I)j.push({x1:0,y1:K,x2:ei,y2:K});return j},[]),k=P.useMemo(()=>E?Object.entries(E).map(([j,I])=>{const K=j.endsWith(".l0"),ce=K?$c("m"):vp("N"),ue=K?_t(I,[xs],[],[ce],[]):_t(I,[Le],[],[ce],[]);return{id:j,value:ue,unitLabel:ce.abbreviation}}):[],[E]);return o.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[o.jsx(Pt,{}),o.jsx("main",{className:"flex-1",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 md:py-16 space-y-8",children:[o.jsxs("header",{className:"space-y-3",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx(xe,{to:"/toolbox",className:"border-b border-gray-300 hover:border-gray-500 transition-colors",children:"Toolbox"})," ",o.jsx("span",{className:"text-gray-400",children:"/"})," Static system"]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:"Static system"}),o.jsx("p",{className:"text-lg text-gray-700",children:"Assemble springs, cables/pulleys, and smooth contacts, then solve for static equilibrium (Î£Fx = 0, Î£Fy = 0)."})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-6",children:[o.jsxs("section",{className:"border border-gray-200 bg-white",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100",children:[o.jsx("div",{className:"text-sm text-gray-700",children:"Drag nodes to reposition."}),o.jsx("button",{type:"button",onClick:B,className:"px-3 py-1.5 text-sm bg-gray-900 text-white hover:bg-gray-800 transition-colors",children:"Solve equilibrium"})]}),o.jsx("div",{className:"p-4",children:o.jsxs("svg",{ref:i,viewBox:`0 0 ${ei} ${ei}`,className:"w-full h-[520px] touch-none select-none bg-gray-50 border border-gray-200",onPointerDown:he,onPointerMove:pe,onPointerUp:Oe,children:[o.jsx("defs",{children:o.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"8",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:o.jsx("path",{d:"M0,0 L8,3 L0,6 Z",fill:"currentColor"})})}),o.jsx("g",{className:"text-gray-200",children:Be.map((j,I)=>o.jsx("line",{x1:j.x1,y1:j.y1,x2:j.x2,y2:j.y2,stroke:"currentColor",strokeWidth:1},I))}),o.jsxs("g",{className:"text-gray-400",children:[o.jsx("line",{x1:0,y1:Gr.y,x2:ei,y2:Gr.y,stroke:"currentColor",strokeWidth:2}),o.jsx("line",{x1:Gr.x,y1:0,x2:Gr.x,y2:ei,stroke:"currentColor",strokeWidth:2})]}),o.jsx("g",{className:"text-gray-500",children:r.map(j=>{if(j.type==="spring"){const I=z.nodes.find(Se=>Se.id===j.startNodeId),K=z.nodes.find(Se=>Se.id===j.endNodeId);if(!I||!K)return null;const ce=ds(I.positionMeters),ue=ds(K.positionMeters);return o.jsx("line",{x1:ce.x,y1:ce.y,x2:ue.x,y2:ue.y,stroke:"currentColor",strokeWidth:3,strokeDasharray:"6 4"},j.id)}if(j.type==="cablePulley"){const I=z.nodes.find(nt=>nt.id===j.startNodeId),K=z.nodes.find(nt=>nt.id===j.pulleyNodeId),ce=z.nodes.find(nt=>nt.id===j.endNodeId);if(!I||!K||!ce)return null;const ue=ds(I.positionMeters),Se=ds(K.positionMeters),ct=ds(ce.positionMeters);return o.jsxs("g",{children:[o.jsx("line",{x1:ue.x,y1:ue.y,x2:Se.x,y2:Se.y,stroke:"currentColor",strokeWidth:3}),o.jsx("line",{x1:ct.x,y1:ct.y,x2:Se.x,y2:Se.y,stroke:"currentColor",strokeWidth:3}),o.jsx("circle",{cx:Se.x,cy:Se.y,r:7,fill:"none",stroke:"currentColor",strokeWidth:2})]},j.id)}if(j.type==="cable"){const I=z.nodes.find(Se=>Se.id===j.startNodeId),K=z.nodes.find(Se=>Se.id===j.endNodeId);if(!I||!K)return null;const ce=ds(I.positionMeters),ue=ds(K.positionMeters);return o.jsx("line",{x1:ce.x,y1:ce.y,x2:ue.x,y2:ue.y,stroke:"currentColor",strokeWidth:3},j.id)}return null})}),E&&o.jsx("g",{className:"text-blue-700",children:ne.map((j,I)=>{const K=z.nodes.find(Se=>Se.id===j.nodeId);if(!K)return null;const ce=ds(K.positionMeters),ue={x:ce.x+j.fxN*J,y:ce.y-j.fyN*J};return o.jsx("g",{children:o.jsx("line",{x1:ce.x,y1:ce.y,x2:ue.x,y2:ue.y,stroke:"currentColor",strokeWidth:3,markerEnd:"url(#arrowhead)"})},`${j.nodeId}-${I}`)})}),o.jsx("g",{children:z.nodes.map(j=>{const I=ds(j.positionMeters),K=j.id===u;return o.jsxs("g",{onClick:ce=>{ce.stopPropagation(),d(j.id)},style:{cursor:"pointer"},children:[o.jsx("circle",{cx:I.x,cy:I.y,r:10,fill:K?"#111827":"#374151"}),o.jsx("text",{x:I.x+12,y:I.y-12,fill:"#111827",fontSize:14,children:j.id})]},j.id)})})]})})]}),o.jsxs("aside",{className:"border border-gray-200 bg-white",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex flex-wrap gap-2 items-center justify-between",children:[o.jsx("div",{className:"text-lg font-serif text-gray-900",children:"Model"}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.jsx("button",{type:"button",onClick:de,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add node"}),o.jsx("button",{type:"button",onClick:ge,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add spring"}),o.jsx("button",{type:"button",onClick:A,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add cable/pulley"}),o.jsx("button",{type:"button",onClick:S,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add cable"}),o.jsx("button",{type:"button",onClick:C,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add contact"}),o.jsx("button",{type:"button",onClick:R,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add weight"}),o.jsx("button",{type:"button",onClick:O,className:"px-3 py-1.5 text-sm border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",children:"Add force"})]})]}),o.jsxs("div",{className:"p-4 space-y-6",children:[p&&o.jsx("div",{className:"border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-800",children:p}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Nodes"}),o.jsx("div",{className:"space-y-2",children:e.map(j=>o.jsxs("div",{className:"border border-gray-200 p-3",children:[o.jsxs("div",{className:"flex flex-col gap-2 mb-2 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.id}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("input",{className:"w-28 border border-gray-300 px-2 py-1 text-xs",value:j.idText,onChange:I=>M(j.id,{idText:I.target.value}),placeholder:"Node id"}),o.jsx("button",{type:"button",onClick:()=>be(j.id),className:"px-2 py-1 text-xs border border-gray-300 text-gray-900 hover:border-gray-500 transition-colors",title:"Rename node (updates connected components)",children:"Rename"})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("label",{className:"text-xs text-gray-700 flex items-center gap-2",children:[o.jsx("span",{children:"Support"}),o.jsxs("select",{className:"border border-gray-300 bg-white px-2 py-1 text-xs",value:j.support,onChange:I=>{const K=I.target.value;M(j.id,{support:K,includeInEquilibrium:K==="pinned"?!0:j.includeInEquilibrium})},children:[o.jsx("option",{value:"none",children:"None"}),o.jsx("option",{value:"pinned",children:"Pinned (Rx,Ry)"})]})]}),o.jsxs("label",{className:"text-xs text-gray-700 flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:j.includeInEquilibrium||j.support==="pinned",disabled:j.support==="pinned",onChange:I=>M(j.id,{includeInEquilibrium:I.target.checked})}),"Include in equilibrium"]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"x"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:j.xText,onChange:I=>M(j.id,{xText:I.target.value}),inputMode:"decimal"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"y"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:j.yText,onChange:I=>M(j.id,{yText:I.target.value}),inputMode:"decimal"})]})]}),o.jsx("div",{className:"mt-2",children:o.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("span",{children:"Unit"}),o.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:j.unitLabel,onChange:I=>M(j.id,{unitLabel:I.target.value}),children:yh.map(I=>o.jsx("option",{value:I.label,children:I.label},I.label))})]})})]},j.id))})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Components"}),o.jsx("div",{className:"space-y-2",children:r.map(j=>o.jsxs("div",{className:"border border-gray-200 p-3 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[j.id," ",o.jsx("span",{className:"text-gray-500 font-normal",children:j.type==="spring"?"(spring)":j.type==="cablePulley"?"(cable/pulley)":j.type==="cable"?"(cable)":j.type==="smoothContact"?"(smooth contact)":j.type==="weight"?"(weight)":"(applied force)"})]}),o.jsx("button",{type:"button",onClick:()=>F(j.id),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Remove"})]}),j.type==="spring"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Start"}),o.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.startNodeId,onChange:I=>Q(j.id,{startNodeId:I.target.value}),children:e.map(I=>o.jsx("option",{value:I.id,children:I.id},I.id))})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"End"}),o.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.endNodeId,onChange:I=>Q(j.id,{endNodeId:I.target.value}),children:e.map(I=>o.jsx("option",{value:I.id,children:I.id},I.id))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"k value"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:j.kText,onChange:I=>Q(j.id,{kText:I.target.value}),inputMode:"decimal"})]}),o.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[o.jsx("div",{className:"text-xs text-gray-600",children:"k units"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:j.kForceUnitLabel,onChange:I=>Q(j.id,{kForceUnitLabel:I.target.value}),children:bp.map(I=>o.jsx("option",{value:I.label,children:I.label},I.label))}),o.jsx("span",{className:"text-gray-500",children:"/"}),o.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:j.kLengthUnitLabel,onChange:I=>Q(j.id,{kLengthUnitLabel:I.target.value}),children:yh.map(I=>o.jsx("option",{value:I.label,children:I.label},I.label))})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"l0 (optional)"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:j.l0Text,onChange:I=>Q(j.id,{l0Text:I.target.value}),inputMode:"decimal",placeholder:"(unknown)"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"l0 unit"}),o.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.l0UnitLabel,onChange:I=>Q(j.id,{l0UnitLabel:I.target.value}),children:yh.map(I=>o.jsx("option",{value:I.label,children:I.label},I.label))})]})]})]}):j.type==="cablePulley"?o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Start"}),o.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.startNodeId,onChange:I=>Q(j.id,{startNodeId:I.target.value}),children:e.map(I=>o.jsx("option",{value:I.id,children:I.id},I.id))})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Pulley"}),o.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.pulleyNodeId,onChange:I=>Q(j.id,{pulleyNodeId:I.target.value}),children:e.map(I=>o.jsx("option",{value:I.id,children:I.id},I.id))})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"End"}),o.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.endNodeId,onChange:I=>Q(j.id,{endNodeId:I.target.value}),children:e.map(I=>o.jsx("option",{value:I.id,children:I.id},I.id))})]})]}):j.type==="cable"?o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Start"}),o.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.startNodeId,onChange:I=>Q(j.id,{startNodeId:I.target.value}),children:e.map(I=>o.jsx("option",{value:I.id,children:I.id},I.id))})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"End"}),o.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.endNodeId,onChange:I=>Q(j.id,{endNodeId:I.target.value}),children:e.map(I=>o.jsx("option",{value:I.id,children:I.id},I.id))})]})]}):j.type==="smoothContact"?o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Node"}),o.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.nodeId,onChange:I=>Q(j.id,{nodeId:I.target.value}),children:e.map(I=>o.jsx("option",{value:I.id,children:I.id},I.id))})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Normal angle (deg)"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:j.normalAngleDegText,onChange:I=>Q(j.id,{normalAngleDegText:I.target.value}),inputMode:"decimal"})]})]}):j.type==="weight"?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Node"}),o.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.nodeId,onChange:I=>Q(j.id,{nodeId:I.target.value}),children:e.map(I=>o.jsx("option",{value:I.id,children:I.id},I.id))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Mass"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:j.massText,onChange:I=>Q(j.id,{massText:I.target.value}),inputMode:"decimal"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Unit"}),o.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.massUnitLabel,onChange:I=>Q(j.id,{massUnitLabel:I.target.value}),children:FN.map(I=>o.jsx("option",{value:I.label,children:I.label},I.label))})]})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Gravity (m/sÂ², optional)"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:j.gravityText,onChange:I=>Q(j.id,{gravityText:I.target.value}),inputMode:"decimal",placeholder:"9.80665"})]})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Node"}),o.jsx("select",{className:"w-full border border-gray-300 bg-white px-2 py-1 text-sm",value:j.nodeId,onChange:I=>Q(j.id,{nodeId:I.target.value}),children:e.map(I=>o.jsx("option",{value:I.id,children:I.id},I.id))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Fx"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:j.fxText,onChange:I=>Q(j.id,{fxText:I.target.value}),inputMode:"decimal"})]}),o.jsxs("label",{className:"text-sm text-gray-700",children:[o.jsx("div",{className:"mb-1",children:"Fy"}),o.jsx("input",{className:"w-full border border-gray-300 px-2 py-1 text-sm",value:j.fyText,onChange:I=>Q(j.id,{fyText:I.target.value}),inputMode:"decimal"})]})]}),o.jsxs("label",{className:"text-sm text-gray-700 flex items-center gap-2",children:[o.jsx("span",{children:"Unit"}),o.jsx("select",{className:"border border-gray-300 bg-white px-2 py-1 text-sm",value:j.unitLabel,onChange:I=>Q(j.id,{unitLabel:I.target.value}),children:bp.map(I=>o.jsx("option",{value:I.label,children:I.label},I.label))})]})]})]},j.id))})]}),o.jsxs("section",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Solution"}),E?o.jsxs("div",{className:"border border-gray-200 p-3 space-y-2",children:[o.jsx("div",{className:"text-xs text-gray-600",children:"Variables are solved in SI internally (N, m)."}),o.jsx("div",{className:"space-y-1",children:k.map(j=>o.jsxs("div",{className:"text-sm text-gray-800",children:[o.jsx("span",{className:"font-mono",children:j.id})," = ",Vg(j.value)," ",j.unitLabel]},j.id))})]}):o.jsx("div",{className:"text-sm text-gray-600",children:"Click â€œSolve equilibriumâ€."})]}),o.jsxs("section",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Equations"}),o.jsx("div",{className:"text-xs text-gray-600",children:V.length?o.jsx("ul",{className:"list-disc pl-5 space-y-1",children:V.map((j,I)=>o.jsx("li",{children:j||"(unnamed)"},I))}):"Equations will appear after a solve attempt."})]})]})]})]})]})}),o.jsx(Ot,{})]})}function _6(){return o.jsxs(bS,{children:[o.jsx(It,{path:"/",element:o.jsx(sP,{})}),o.jsx(It,{path:"/contact",element:o.jsx(rP,{})}),o.jsx(It,{path:"/portal",element:o.jsx(aP,{})}),o.jsx(It,{path:"/dashboard",element:o.jsx(oP,{})}),o.jsx(It,{path:"/legal",element:o.jsx(lP,{})}),o.jsx(It,{path:"/toolbox",element:o.jsx(wP,{})}),o.jsx(It,{path:"/toolbox/unit-conversion",element:o.jsx(zP,{})}),o.jsx(It,{path:"/toolbox/force-vectors",element:o.jsx(t6,{})}),o.jsx(It,{path:"/toolbox/static-system",element:o.jsx(v6,{})}),o.jsx(It,{path:"/blog",element:o.jsx(cP,{})}),o.jsx(It,{path:"/blog/professional-engineering-st-louis-missouri",element:o.jsx(uP,{})}),o.jsx(It,{path:"/blog/engineering-review-professional-judgment-st-louis-missouri",element:o.jsx(dP,{})}),o.jsx(It,{path:"/blog/forensic-engineering-missouri-technical-analysis",element:o.jsx(hP,{})}),o.jsx(It,{path:"/blog/professional-engineer-expert-witness-missouri",element:o.jsx(fP,{})}),o.jsx(It,{path:"/blog/engineering-standards-assumptions-failure-analysis",element:o.jsx(mP,{})}),o.jsx(It,{path:"/blog/when-professional-engineer-required-missouri",element:o.jsx(gP,{})}),o.jsx(It,{path:"/blog/what-does-engineering-expert-witness-do",element:o.jsx(pP,{})}),o.jsx(It,{path:"/blog/what-does-professional-engineer-seal-mean",element:o.jsx(yP,{})}),o.jsx(It,{path:"/blog/engineering-causation-failure-analysis",element:o.jsx(xP,{})}),o.jsx(It,{path:"/blog/courts-evaluate-engineering-causation-testimony",element:o.jsx(bP,{})}),o.jsx(It,{path:"/blog/root-cause-vs-legal-cause-engineering",element:o.jsx(vP,{})}),o.jsx(It,{path:"/blog/common-mistakes-engineering-expert-reports",element:o.jsx(_P,{})}),o.jsx(It,{path:"/blog/structural-analysis-building-approval-missouri",element:o.jsx(EP,{})}),o.jsx(It,{path:"/blog/property-condition-assessment-pca",element:o.jsx(TP,{})})]})}const E6=rA.createRoot(document.getElementById("root"));E6.render(o.jsx(P.StrictMode,{children:o.jsx(BS,{children:o.jsx(_6,{})})}));
